!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){
if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){
this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.debug=f();
}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.localforage=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){(function(global){"use strict";var Mutation=global.MutationObserver||global.WebKitMutationObserver;var scheduleDrain;{if(Mutation){var called=0;var observer=new Mutation(nextTick);var element=global.document.createTextNode("");observer.observe(element,{characterData:true});scheduleDrain=function(){element.data=called=++called%2}}else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined"){var channel=new global.MessageChannel;channel.port1.onmessage=nextTick;scheduleDrain=function(){channel.port2.postMessage(0)}}else if("document"in global&&"onreadystatechange"in global.document.createElement("script")){scheduleDrain=function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick();scriptEl.onreadystatechange=null;scriptEl.parentNode.removeChild(scriptEl);scriptEl=null};global.document.documentElement.appendChild(scriptEl)}}else{scheduleDrain=function(){setTimeout(nextTick,0)}}}var draining;var queue=[];function nextTick(){draining=true;var i,oldQueue;var len=queue.length;while(len){oldQueue=queue;queue=[];i=-1;while(++i<len){oldQueue[i]()}len=queue.length}draining=false}module.exports=immediate;function immediate(task){if(queue.push(task)===1&&!draining){scheduleDrain()}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(_dereq_,module,exports){"use strict";var immediate=_dereq_(1);function INTERNAL(){}var handlers={};var REJECTED=["REJECTED"];var FULFILLED=["FULFILLED"];var PENDING=["PENDING"];module.exports=exports=Promise;function Promise(resolver){if(typeof resolver!=="function"){throw new TypeError("resolver must be a function")}this.state=PENDING;this.queue=[];this.outcome=void 0;if(resolver!==INTERNAL){safelyResolveThenable(this,resolver)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){if(typeof onFulfilled!=="function"&&this.state===FULFILLED||typeof onRejected!=="function"&&this.state===REJECTED){return this}var promise=new this.constructor(INTERNAL);if(this.state!==PENDING){var resolver=this.state===FULFILLED?onFulfilled:onRejected;unwrap(promise,resolver,this.outcome)}else{this.queue.push(new QueueItem(promise,onFulfilled,onRejected))}return promise};function QueueItem(promise,onFulfilled,onRejected){this.promise=promise;if(typeof onFulfilled==="function"){this.onFulfilled=onFulfilled;this.callFulfilled=this.otherCallFulfilled}if(typeof onRejected==="function"){this.onRejected=onRejected;this.callRejected=this.otherCallRejected}}QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)};QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)};QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)};QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)};function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}if(returnValue===promise){handlers.reject(promise,new TypeError("Cannot resolve promise with itself"))}else{handlers.resolve(promise,returnValue)}})}handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if(result.status==="error"){return handlers.reject(self,result.value)}var thenable=result.value;if(thenable){safelyResolveThenable(self,thenable)}else{self.state=FULFILLED;self.outcome=value;var i=-1;var len=self.queue.length;while(++i<len){self.queue[i].callFulfilled(value)}}return self};handlers.reject=function(self,error){self.state=REJECTED;self.outcome=error;var i=-1;var len=self.queue.length;while(++i<len){self.queue[i].callRejected(error)}return self};function getThen(obj){var then=obj&&obj.then;if(obj&&typeof obj==="object"&&typeof then==="function"){return function appyThen(){then.apply(obj,arguments)}}}function safelyResolveThenable(self,thenable){var called=false;function onError(value){if(called){return}called=true;handlers.reject(self,value)}function onSuccess(value){if(called){return}called=true;handlers.resolve(self,value)}function tryToUnwrap(){thenable(onSuccess,onError)}var result=tryCatch(tryToUnwrap);if(result.status==="error"){onError(result.value)}}function tryCatch(func,value){var out={};try{out.value=func(value);out.status="success"}catch(e){out.status="error";out.value=e}return out}exports.resolve=resolve;function resolve(value){if(value instanceof this){return value}return handlers.resolve(new this(INTERNAL),value)}exports.reject=reject;function reject(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)}exports.all=all;function all(iterable){var self=this;if(Object.prototype.toString.call(iterable)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var len=iterable.length;var called=false;if(!len){return this.resolve([])}var values=new Array(len);var resolved=0;var i=-1;var promise=new this(INTERNAL);while(++i<len){allResolver(iterable[i],i)}return promise;function allResolver(value,i){self.resolve(value).then(resolveFromAll,function(error){if(!called){called=true;handlers.reject(promise,error)}});function resolveFromAll(outValue){values[i]=outValue;if(++resolved===len&&!called){called=true;handlers.resolve(promise,values)}}}}exports.race=race;function race(iterable){var self=this;if(Object.prototype.toString.call(iterable)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var len=iterable.length;var called=false;if(!len){return this.resolve([])}var i=-1;var promise=new this(INTERNAL);while(++i<len){resolver(iterable[i])}return promise;function resolver(value){self.resolve(value).then(function(response){if(!called){called=true;handlers.resolve(promise,response)}},function(error){if(!called){called=true;handlers.reject(promise,error)}})}}},{1:1}],3:[function(_dereq_,module,exports){(function(global){"use strict";if(typeof global.Promise!=="function"){global.Promise=_dereq_(2)}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],4:[function(_dereq_,module,exports){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function getIDB(){try{if(typeof indexedDB!=="undefined"){return indexedDB}if(typeof webkitIndexedDB!=="undefined"){return webkitIndexedDB}if(typeof mozIndexedDB!=="undefined"){return mozIndexedDB}if(typeof OIndexedDB!=="undefined"){return OIndexedDB}if(typeof msIndexedDB!=="undefined"){return msIndexedDB}}catch(e){return}}var idb=getIDB();function isIndexedDBValid(){try{if(!idb){return false}var isSafari=typeof openDatabase!=="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var hasFetch=typeof fetch==="function"&&fetch.toString().indexOf("[native code")!==-1;return(!isSafari||hasFetch)&&typeof indexedDB!=="undefined"&&typeof IDBKeyRange!=="undefined"}catch(e){return false}}function createBlob(parts,properties){parts=parts||[];properties=properties||{};try{return new Blob(parts,properties)}catch(e){if(e.name!=="TypeError"){throw e}var Builder=typeof BlobBuilder!=="undefined"?BlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:WebKitBlobBuilder;var builder=new Builder;for(var i=0;i<parts.length;i+=1){builder.append(parts[i])}return builder.getBlob(properties.type)}}if(typeof Promise==="undefined"){_dereq_(3)}var Promise$1=Promise;function executeCallback(promise,callback){if(callback){promise.then(function(result){callback(null,result)},function(error){callback(error)})}}function executeTwoCallbacks(promise,callback,errorCallback){if(typeof callback==="function"){promise.then(callback)}if(typeof errorCallback==="function"){promise["catch"](errorCallback)}}function normalizeKey(key){if(typeof key!=="string"){console.warn(key+" used as a key, but it is not a string.");key=String(key)}return key}function getCallback(){if(arguments.length&&typeof arguments[arguments.length-1]==="function"){return arguments[arguments.length-1]}}var DETECT_BLOB_SUPPORT_STORE="local-forage-detect-blob-support";var supportsBlobs;var dbContexts;var toString=Object.prototype.toString;var READ_ONLY="readonly";var READ_WRITE="readwrite";function _binStringToArrayBuffer(bin){var length=bin.length;var buf=new ArrayBuffer(length);var arr=new Uint8Array(buf);for(var i=0;i<length;i++){arr[i]=bin.charCodeAt(i)}return buf}function _checkBlobSupportWithoutCaching(idb){return new Promise$1(function(resolve){var txn=idb.transaction(DETECT_BLOB_SUPPORT_STORE,READ_WRITE);var blob=createBlob([""]);txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob,"key");txn.onabort=function(e){e.preventDefault();e.stopPropagation();resolve(false)};txn.oncomplete=function(){var matchedChrome=navigator.userAgent.match(/Chrome\/(\d+)/);var matchedEdge=navigator.userAgent.match(/Edge\//);resolve(matchedEdge||!matchedChrome||parseInt(matchedChrome[1],10)>=43)}})["catch"](function(){return false})}function _checkBlobSupport(idb){if(typeof supportsBlobs==="boolean"){return Promise$1.resolve(supportsBlobs)}return _checkBlobSupportWithoutCaching(idb).then(function(value){supportsBlobs=value;return supportsBlobs})}function _deferReadiness(dbInfo){var dbContext=dbContexts[dbInfo.name];var deferredOperation={};deferredOperation.promise=new Promise$1(function(resolve,reject){deferredOperation.resolve=resolve;deferredOperation.reject=reject});dbContext.deferredOperations.push(deferredOperation);if(!dbContext.dbReady){dbContext.dbReady=deferredOperation.promise}else{dbContext.dbReady=dbContext.dbReady.then(function(){return deferredOperation.promise})}}function _advanceReadiness(dbInfo){var dbContext=dbContexts[dbInfo.name];var deferredOperation=dbContext.deferredOperations.pop();if(deferredOperation){deferredOperation.resolve();return deferredOperation.promise}}function _rejectReadiness(dbInfo,err){var dbContext=dbContexts[dbInfo.name];var deferredOperation=dbContext.deferredOperations.pop();if(deferredOperation){deferredOperation.reject(err);return deferredOperation.promise}}function _getConnection(dbInfo,upgradeNeeded){return new Promise$1(function(resolve,reject){if(dbInfo.db){if(upgradeNeeded){_deferReadiness(dbInfo);dbInfo.db.close()}else{return resolve(dbInfo.db)}}var dbArgs=[dbInfo.name];if(upgradeNeeded){dbArgs.push(dbInfo.version)}var openreq=idb.open.apply(idb,dbArgs);if(upgradeNeeded){openreq.onupgradeneeded=function(e){var db=openreq.result;try{db.createObjectStore(dbInfo.storeName);if(e.oldVersion<=1){db.createObjectStore(DETECT_BLOB_SUPPORT_STORE)}}catch(ex){if(ex.name==="ConstraintError"){console.warn('The database "'+dbInfo.name+'"'+" has been upgraded from version "+e.oldVersion+" to version "+e.newVersion+', but the storage "'+dbInfo.storeName+'" already exists.')}else{throw ex}}}}openreq.onerror=function(e){e.preventDefault();reject(openreq.error)};openreq.onsuccess=function(){resolve(openreq.result);_advanceReadiness(dbInfo)}})}function _getOriginalConnection(dbInfo){return _getConnection(dbInfo,false)}function _getUpgradedConnection(dbInfo){return _getConnection(dbInfo,true)}function _isUpgradeNeeded(dbInfo,defaultVersion){if(!dbInfo.db){return true}var isNewStore=!dbInfo.db.objectStoreNames.contains(dbInfo.storeName);var isDowngrade=dbInfo.version<dbInfo.db.version;var isUpgrade=dbInfo.version>dbInfo.db.version;if(isDowngrade){if(dbInfo.version!==defaultVersion){console.warn('The database "'+dbInfo.name+'"'+" can't be downgraded from version "+dbInfo.db.version+" to version "+dbInfo.version+".")}dbInfo.version=dbInfo.db.version}if(isUpgrade||isNewStore){if(isNewStore){var incVersion=dbInfo.db.version+1;if(incVersion>dbInfo.version){dbInfo.version=incVersion}}return true}return false}function _encodeBlob(blob){return new Promise$1(function(resolve,reject){var reader=new FileReader;reader.onerror=reject;reader.onloadend=function(e){var base64=btoa(e.target.result||"");resolve({__local_forage_encoded_blob:true,data:base64,type:blob.type})};reader.readAsBinaryString(blob)})}function _decodeBlob(encodedBlob){var arrayBuff=_binStringToArrayBuffer(atob(encodedBlob.data));return createBlob([arrayBuff],{type:encodedBlob.type})}function _isEncodedBlob(value){return value&&value.__local_forage_encoded_blob}function _fullyReady(callback){var self=this;var promise=self._initReady().then(function(){var dbContext=dbContexts[self._dbInfo.name];if(dbContext&&dbContext.dbReady){return dbContext.dbReady}});executeTwoCallbacks(promise,callback,callback);return promise}function _tryReconnect(dbInfo){_deferReadiness(dbInfo);var dbContext=dbContexts[dbInfo.name];var forages=dbContext.forages;for(var i=0;i<forages.length;i++){var forage=forages[i];if(forage._dbInfo.db){forage._dbInfo.db.close();forage._dbInfo.db=null}}return _getOriginalConnection(dbInfo).then(function(db){for(var j=0;j<forages.length;j++){forages[j]._dbInfo.db=db}dbInfo.db=db}).then(function(){if(_isUpgradeNeeded(dbInfo)){return _getUpgradedConnection(dbInfo)}})["catch"](function(err){_rejectReadiness(dbInfo,err);throw err})}function createTransaction(dbInfo,mode,callback,retries){if(retries===undefined){retries=1}try{var tx=dbInfo.db.transaction(dbInfo.storeName,mode);callback(null,tx)}catch(err){if(retries>0&&(!dbInfo.db||err.name==="InvalidStateError"||err.name==="NotFoundError")){return Promise$1.resolve().then(function(){if(!dbInfo.db||err.name==="NotFoundError"&&!dbInfo.db.objectStoreNames.contains(dbInfo.storeName)&&dbInfo.version<=dbInfo.db.version){if(dbInfo.db){dbInfo.version=dbInfo.db.version+1}return _getUpgradedConnection(dbInfo)}}).then(function(){return _tryReconnect(dbInfo).then(function(){createTransaction(dbInfo,mode,callback,retries-1)})})["catch"](callback)}callback(err)}}function _initStorage(options){var self=this;var dbInfo={db:null};if(options){for(var i in options){dbInfo[i]=options[i]}}if(!dbContexts){dbContexts={}}var dbContext=dbContexts[dbInfo.name];if(!dbContext){dbContext={forages:[],db:null,dbReady:null,deferredOperations:[]};dbContexts[dbInfo.name]=dbContext}dbContext.forages.push(self);if(!self._initReady){self._initReady=self.ready;self.ready=_fullyReady}var initPromises=[];function ignoreErrors(){return Promise$1.resolve()}for(var j=0;j<dbContext.forages.length;j++){var forage=dbContext.forages[j];if(forage!==self){initPromises.push(forage._initReady()["catch"](ignoreErrors))}}var forages=dbContext.forages.slice(0);return Promise$1.all(initPromises).then(function(){dbInfo.db=dbContext.db;return _getOriginalConnection(dbInfo)}).then(function(db){dbInfo.db=db;if(_isUpgradeNeeded(dbInfo,self._defaultConfig.version)){return _getUpgradedConnection(dbInfo)}return db}).then(function(db){dbInfo.db=dbContext.db=db;self._dbInfo=dbInfo;for(var k=0;k<forages.length;k++){var forage=forages[k];if(forage!==self){forage._dbInfo.db=dbInfo.db;forage._dbInfo.version=dbInfo.version}}})}function getItem(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.get(key);req.onsuccess=function(){var value=null;if(req.readyState==="done"&&req.result!==undefined){value=req.result}if(_isEncodedBlob(value)){value=_decodeBlob(value)}resolve(value)};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function getAllItems(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req;if("getAll"in store){req=store.getAll();req.onsuccess=function(){var value=null;if(req.readyState==="done"&&req.result!==undefined){value=req.result}if(_isEncodedBlob(value)){value=_decodeBlob(value)}resolve(value)}}else{var values=[];req=store.openCursor();req.onsuccess=function(event){var cursor=event.target.result;if(cursor){if(_isEncodedBlob(cursor.value)){cursor.value=_decodeBlob(cursor.value)}values.push(cursor.value);cursor["continue"]()}else{resolve(values)}}}req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function iterate(iterator,callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.openCursor();var iterationNumber=1;req.onsuccess=function(){var cursor=req.result;if(cursor){var value=cursor.value;if(_isEncodedBlob(value)){value=_decodeBlob(value)}var result=iterator(value,cursor.key,iterationNumber++);if(result!==void 0){resolve(result)}else{cursor["continue"]()}}else{resolve()}};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function setItem(key,value,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){var dbInfo;self.ready().then(function(){dbInfo=self._dbInfo;if(toString.call(value)==="[object Blob]"){return _checkBlobSupport(dbInfo.db).then(function(blobSupport){if(blobSupport){return value}return _encodeBlob(value)})}return value}).then(function(value){createTransaction(self._dbInfo,READ_WRITE,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);if(value===null){value=undefined}var req=store.put(value,key);transaction.oncomplete=function(){if(value===undefined){value=null}resolve(value)};transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function setItems(keys,values,callback){var self=this;for(var i=0;i<keys.length;i++){keys[i]=normalizeKey(keys[i])}var promise=new Promise$1(function(resolve,reject){var dbInfo;self.ready().then(function(){dbInfo=self._dbInfo;if(toString.call(values)==="[object Blob]"){return _checkBlobSupport(dbInfo.db).then(function(blobSupport){if(blobSupport){return values}return _encodeBlob(values)})}return values}).then(function(values){createTransaction(self._dbInfo,READ_WRITE,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req;for(var i=0;i<values.length;i++){if(values[i]===null){values[i]=undefined}req=store.put(values[i],keys[i])}transaction.oncomplete=function(){resolve(values)};transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function removeItem(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_WRITE,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store["delete"](key);transaction.oncomplete=function(){resolve()};transaction.onerror=function(){reject(req.error)};transaction.onabort=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function clear(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_WRITE,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.clear();transaction.oncomplete=function(){resolve()};transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function length(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.count();req.onsuccess=function(){resolve(req.result)};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function key(n,callback){var self=this;var promise=new Promise$1(function(resolve,reject){if(n<0){resolve(null);return}self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var advanced=false;var req=store.openCursor();req.onsuccess=function(){var cursor=req.result;if(!cursor){resolve(null);return}if(n===0){resolve(cursor.key)}else{if(!advanced){advanced=true;cursor.advance(n)}else{resolve(cursor.key)}}};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function keys(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err){return reject(err)}try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.openCursor();var keys=[];req.onsuccess=function(){var cursor=req.result;if(!cursor){resolve(keys);return}keys.push(cursor.key);cursor["continue"]()};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function dropInstance(options,callback){callback=getCallback.apply(this,arguments);var currentConfig=this.config();options=typeof options!=="function"&&options||{};if(!options.name){options.name=options.name||currentConfig.name;options.storeName=options.storeName||currentConfig.storeName}var self=this;var promise;if(!options.name){promise=Promise$1.reject("Invalid arguments")}else{var dbPromise=options.name===currentConfig.name&&self._dbInfo.db?Promise$1.resolve(self._dbInfo.db):_getOriginalConnection(options);if(!options.storeName){promise=dbPromise.then(function(){_deferReadiness(options);var dbContext=dbContexts[options.name];var forages=dbContext.forages;for(var i=0;i<forages.length;i++){var forage=forages[i];if(forage._dbInfo.db){forage._dbInfo.db.close();forage._dbInfo.db=null}}var dropDBPromise=new Promise$1(function(resolve,reject){var req=idb.deleteDatabase(options.name);req.onerror=req.onblocked=reject;req.onsuccess=resolve});return dropDBPromise.then(function(){for(var j=0;j<forages.length;j++){_advanceReadiness(forage._dbInfo)}})["catch"](function(err){(_rejectReadiness(options,err)||Promise$1.resolve())["catch"](function(){});throw err})})}else{promise=dbPromise.then(function(db){if(!db.objectStoreNames.contains(options.storeName)){return}var newVersion=db.version+1;_deferReadiness(options);var dbContext=dbContexts[options.name];var forages=dbContext.forages;for(var i=0;i<forages.length;i++){var forage=forages[i];if(forage._dbInfo.db){forage._dbInfo.db.close();forage._dbInfo.db=null;forage._dbInfo.version=newVersion}}var dropObjectPromise=new Promise$1(function(resolve,reject){var req=idb.open(options.name,newVersion);req.onerror=reject;req.onupgradeneeded=function(){var db=req.result;db.deleteObjectStore(options.storeName)};req.onsuccess=function(){var db=req.result;resolve(db)}});return dropObjectPromise.then(function(db){for(var j=0;j<forages.length;j++){var forage=forages[j];forage._dbInfo.db=db;_advanceReadiness(forage._dbInfo)}})["catch"](function(err){(_rejectReadiness(options,err)||Promise$1.resolve())["catch"](function(){});throw err})})}}executeCallback(promise,callback);return promise}var asyncStorage={_driver:"asyncStorage",_initStorage:_initStorage,_support:isIndexedDBValid(),iterate:iterate,getItem:getItem,getAllItems:getAllItems,setItem:setItem,setItems:setItems,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys,dropInstance:dropInstance};var BASE_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var BLOB_TYPE_PREFIX="~~local_forage_type~";var BLOB_TYPE_PREFIX_REGEX=/^~~local_forage_type~([^~]+)~/;var SERIALIZED_MARKER="__lfsc__:";var SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER.length;var TYPE_ARRAYBUFFER="arbf";var TYPE_BLOB="blob";var TYPE_INT8ARRAY="si08";var TYPE_UINT8ARRAY="ui08";var TYPE_UINT8CLAMPEDARRAY="uic8";var TYPE_INT16ARRAY="si16";var TYPE_INT32ARRAY="si32";var TYPE_UINT16ARRAY="ur16";var TYPE_UINT32ARRAY="ui32";var TYPE_FLOAT32ARRAY="fl32";var TYPE_FLOAT64ARRAY="fl64";var TYPE_SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER_LENGTH+TYPE_ARRAYBUFFER.length;var toString$1=Object.prototype.toString;function stringToBuffer(serializedString){var bufferLength=serializedString.length*.75;var len=serializedString.length;var i;var p=0;var encoded1,encoded2,encoded3,encoded4;if(serializedString[serializedString.length-1]==="="){bufferLength--;if(serializedString[serializedString.length-2]==="="){bufferLength--}}var buffer=new ArrayBuffer(bufferLength);var bytes=new Uint8Array(buffer);for(i=0;i<len;i+=4){encoded1=BASE_CHARS.indexOf(serializedString[i]);encoded2=BASE_CHARS.indexOf(serializedString[i+1]);encoded3=BASE_CHARS.indexOf(serializedString[i+2]);encoded4=BASE_CHARS.indexOf(serializedString[i+3]);bytes[p++]=encoded1<<2|encoded2>>4;bytes[p++]=(encoded2&15)<<4|encoded3>>2;bytes[p++]=(encoded3&3)<<6|encoded4&63}return buffer}function bufferToString(buffer){var bytes=new Uint8Array(buffer);var base64String="";var i;for(i=0;i<bytes.length;i+=3){base64String+=BASE_CHARS[bytes[i]>>2];base64String+=BASE_CHARS[(bytes[i]&3)<<4|bytes[i+1]>>4];base64String+=BASE_CHARS[(bytes[i+1]&15)<<2|bytes[i+2]>>6];base64String+=BASE_CHARS[bytes[i+2]&63]}if(bytes.length%3===2){base64String=base64String.substring(0,base64String.length-1)+"="}else if(bytes.length%3===1){base64String=base64String.substring(0,base64String.length-2)+"=="}return base64String}function serialize(value,callback){var valueType="";if(value){valueType=toString$1.call(value)}if(value&&(valueType==="[object ArrayBuffer]"||value.buffer&&toString$1.call(value.buffer)==="[object ArrayBuffer]")){var buffer;var marker=SERIALIZED_MARKER;if(value instanceof ArrayBuffer){buffer=value;marker+=TYPE_ARRAYBUFFER}else{buffer=value.buffer;if(valueType==="[object Int8Array]"){marker+=TYPE_INT8ARRAY}else if(valueType==="[object Uint8Array]"){marker+=TYPE_UINT8ARRAY}else if(valueType==="[object Uint8ClampedArray]"){marker+=TYPE_UINT8CLAMPEDARRAY}else if(valueType==="[object Int16Array]"){marker+=TYPE_INT16ARRAY}else if(valueType==="[object Uint16Array]"){marker+=TYPE_UINT16ARRAY}else if(valueType==="[object Int32Array]"){marker+=TYPE_INT32ARRAY}else if(valueType==="[object Uint32Array]"){marker+=TYPE_UINT32ARRAY}else if(valueType==="[object Float32Array]"){marker+=TYPE_FLOAT32ARRAY}else if(valueType==="[object Float64Array]"){marker+=TYPE_FLOAT64ARRAY}else{callback(new Error("Failed to get type for BinaryArray"))}}callback(marker+bufferToString(buffer))}else if(valueType==="[object Blob]"){var fileReader=new FileReader;fileReader.onload=function(){var str=BLOB_TYPE_PREFIX+value.type+"~"+bufferToString(this.result);callback(SERIALIZED_MARKER+TYPE_BLOB+str)};fileReader.readAsArrayBuffer(value)}else{try{callback(JSON.stringify(value))}catch(e){console.error("Couldn't convert value into a JSON string: ",value);callback(null,e)}}}function deserialize(value){if(value.substring(0,SERIALIZED_MARKER_LENGTH)!==SERIALIZED_MARKER){return JSON.parse(value)}var serializedString=value.substring(TYPE_SERIALIZED_MARKER_LENGTH);var type=value.substring(SERIALIZED_MARKER_LENGTH,TYPE_SERIALIZED_MARKER_LENGTH);var blobType;if(type===TYPE_BLOB&&BLOB_TYPE_PREFIX_REGEX.test(serializedString)){var matcher=serializedString.match(BLOB_TYPE_PREFIX_REGEX);blobType=matcher[1];serializedString=serializedString.substring(matcher[0].length)}var buffer=stringToBuffer(serializedString);switch(type){case TYPE_ARRAYBUFFER:return buffer;case TYPE_BLOB:return createBlob([buffer],{type:blobType});case TYPE_INT8ARRAY:return new Int8Array(buffer);case TYPE_UINT8ARRAY:return new Uint8Array(buffer);case TYPE_UINT8CLAMPEDARRAY:return new Uint8ClampedArray(buffer);case TYPE_INT16ARRAY:return new Int16Array(buffer);case TYPE_UINT16ARRAY:return new Uint16Array(buffer);case TYPE_INT32ARRAY:return new Int32Array(buffer);case TYPE_UINT32ARRAY:return new Uint32Array(buffer);case TYPE_FLOAT32ARRAY:return new Float32Array(buffer);case TYPE_FLOAT64ARRAY:return new Float64Array(buffer);default:throw new Error("Unkown type: "+type)}}var localforageSerializer={serialize:serialize,deserialize:deserialize,stringToBuffer:stringToBuffer,bufferToString:bufferToString};var isArray=Array.isArray||function(arg){return Object.prototype.toString.call(arg)==="[object Array]"};var DefinedDrivers={};var DriverSupport={};var DefaultDrivers={INDEXEDDB:asyncStorage};var DefaultDriverOrder=[DefaultDrivers.INDEXEDDB._driver];var OptionalDriverMethods=["dropInstance"];var LibraryMethods=["clear","getItem","getAllItems","iterate","key","keys","length","removeItem","setItem","setItems"].concat(OptionalDriverMethods);var DefaultConfig={description:"",driver:DefaultDriverOrder.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(localForageInstance,libraryMethod){localForageInstance[libraryMethod]=function(){var _args=arguments;return localForageInstance.ready().then(function(){return localForageInstance[libraryMethod].apply(localForageInstance,_args)})}}function extend(){for(var i=1;i<arguments.length;i++){var arg=arguments[i];if(arg){for(var _key in arg){if(arg.hasOwnProperty(_key)){if(isArray(arg[_key])){arguments[0][_key]=arg[_key].slice()}else{arguments[0][_key]=arg[_key]}}}}}return arguments[0]}var LocalForage=function(){function LocalForage(options){
_classCallCheck(this,LocalForage);for(var driverTypeKey in DefaultDrivers){if(DefaultDrivers.hasOwnProperty(driverTypeKey)){var driver=DefaultDrivers[driverTypeKey];var driverName=driver._driver;this[driverTypeKey]=driverName;if(!DefinedDrivers[driverName]){this.defineDriver(driver)}}}this._defaultConfig=extend({},DefaultConfig);this._config=extend({},this._defaultConfig,options);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"](function(){})}LocalForage.prototype.config=function config(options){if((typeof options==="undefined"?"undefined":_typeof(options))==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var i in options){if(i==="storeName"){options[i]=options[i].replace(/\W/g,"_")}if(i==="version"&&typeof options[i]!=="number"){return new Error("Database version must be a number.")}this._config[i]=options[i]}if("driver"in options&&options.driver){return this.setDriver(this._config.driver)}return true}else if(typeof options==="string"){return this._config[options]}else{return this._config}};LocalForage.prototype.defineDriver=function defineDriver(driverObject,callback,errorCallback){var promise=new Promise$1(function(resolve,reject){try{var driverName=driverObject._driver;var complianceError=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!driverObject._driver){reject(complianceError);return}var driverMethods=LibraryMethods.concat("_initStorage");for(var i=0,len=driverMethods.length;i<len;i++){var driverMethodName=driverMethods[i];var isRequired=OptionalDriverMethods.indexOf(driverMethodName)<0;if((isRequired||driverObject[driverMethodName])&&typeof driverObject[driverMethodName]!=="function"){reject(complianceError);return}}var configureMissingMethods=function configureMissingMethods(){var methodNotImplementedFactory=function methodNotImplementedFactory(methodName){return function(){var error=new Error("Method "+methodName+" is not implemented by the current driver");var promise=Promise$1.reject(error);executeCallback(promise,arguments[arguments.length-1]);return promise}};for(var _i=0,_len=OptionalDriverMethods.length;_i<_len;_i++){var optionalDriverMethod=OptionalDriverMethods[_i];if(!driverObject[optionalDriverMethod]){driverObject[optionalDriverMethod]=methodNotImplementedFactory(optionalDriverMethod)}}};configureMissingMethods();var setDriverSupport=function setDriverSupport(support){if(DefinedDrivers[driverName]){console.info("Redefining LocalForage driver: "+driverName)}DefinedDrivers[driverName]=driverObject;DriverSupport[driverName]=support;resolve()};if("_support"in driverObject){if(driverObject._support&&typeof driverObject._support==="function"){driverObject._support().then(setDriverSupport,reject)}else{setDriverSupport(!!driverObject._support)}}else{setDriverSupport(true)}}catch(e){reject(e)}});executeTwoCallbacks(promise,callback,errorCallback);return promise};LocalForage.prototype.driver=function driver(){return this._driver||null};LocalForage.prototype.getDriver=function getDriver(driverName,callback,errorCallback){var getDriverPromise=DefinedDrivers[driverName]?Promise$1.resolve(DefinedDrivers[driverName]):Promise$1.reject(new Error("Driver not found."));executeTwoCallbacks(getDriverPromise,callback,errorCallback);return getDriverPromise};LocalForage.prototype.getSerializer=function getSerializer(callback){var serializerPromise=Promise$1.resolve(localforageSerializer);executeTwoCallbacks(serializerPromise,callback);return serializerPromise};LocalForage.prototype.ready=function ready(callback){var self=this;var promise=self._driverSet.then(function(){if(self._ready===null){self._ready=self._initDriver()}return self._ready});executeTwoCallbacks(promise,callback,callback);return promise};LocalForage.prototype.setDriver=function setDriver(drivers,callback,errorCallback){var self=this;if(!isArray(drivers)){drivers=[drivers]}var supportedDrivers=this._getSupportedDrivers(drivers);function setDriverToConfig(){self._config.driver=self.driver()}function extendSelfWithDriver(driver){try{self._extend(driver);setDriverToConfig();self._ready=self._initStorage(self._config);return self._ready}catch(e){console.info(e)}}function initDriver(supportedDrivers){return function(){var currentDriverIndex=0;function driverPromiseLoop(){while(currentDriverIndex<supportedDrivers.length){var driverName=supportedDrivers[currentDriverIndex];currentDriverIndex++;self._dbInfo=null;self._ready=null;return self.getDriver(driverName).then(extendSelfWithDriver)["catch"](function(e){console.log("OoOoOoOoOoOoOoOOOOOoO %o"+e);driverPromiseLoop()})}setDriverToConfig();var error=new Error("No available storage method found.");self._driverSet=Promise$1.reject(error);return self._driverSet}return driverPromiseLoop()}}var oldDriverSetDone=this._driverSet!==null?this._driverSet["catch"](function(){return Promise$1.resolve()}):Promise$1.resolve();this._driverSet=oldDriverSetDone.then(function(){var driverName=supportedDrivers[0];self._dbInfo=null;self._ready=null;return self.getDriver(driverName).then(function(driver){self._driver=driver._driver;setDriverToConfig();self._wrapLibraryMethodsWithReady();self._initDriver=initDriver(supportedDrivers)})})["catch"](function(){setDriverToConfig();var error=new Error("No available storage method found.");self._driverSet=Promise$1.reject(error);return self._driverSet});executeTwoCallbacks(this._driverSet,callback,errorCallback);return this._driverSet};LocalForage.prototype.supports=function supports(driverName){return!!DriverSupport[driverName]};LocalForage.prototype._extend=function _extend(libraryMethodsAndProperties){extend(this,libraryMethodsAndProperties)};LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(drivers){var supportedDrivers=[];for(var i=0,len=drivers.length;i<len;i++){var driverName=drivers[i];if(this.supports(driverName)){supportedDrivers.push(driverName)}}return supportedDrivers};LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var i=0,len=LibraryMethods.length;i<len;i++){callWhenReady(this,LibraryMethods[i])}};LocalForage.prototype.createInstance=function createInstance(options){return new LocalForage(options)};return LocalForage}();var localforage_js=new LocalForage;module.exports=localforage_js},{3:3}]},{},[4])(4)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(require,module,exports){!function(){"use strict";var re={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function sprintf(key){return sprintf_format(sprintf_parse(key),arguments)}function vsprintf(fmt,argv){return sprintf.apply(null,[fmt].concat(argv||[]))}function sprintf_format(parse_tree,argv){var cursor=1,tree_length=parse_tree.length,arg,output="",i,k,match,pad,pad_character,pad_length,is_positive,sign;for(i=0;i<tree_length;i++){if(typeof parse_tree[i]==="string"){output+=parse_tree[i]}else if(Array.isArray(parse_tree[i])){match=parse_tree[i];if(match[2]){arg=argv[cursor];for(k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k])){throw new Error(sprintf('[sprintf] property "%s" does not exist',match[2][k]))}arg=arg[match[2][k]]}}else if(match[1]){arg=argv[match[1]]}else{arg=argv[cursor++]}if(re.not_type.test(match[8])&&re.not_primitive.test(match[8])&&arg instanceof Function){arg=arg()}if(re.numeric_arg.test(match[8])&&(typeof arg!=="number"&&isNaN(arg))){throw new TypeError(sprintf("[sprintf] expecting number but found %T",arg))}if(re.number.test(match[8])){is_positive=arg>=0}switch(match[8]){case"b":arg=parseInt(arg,10).toString(2);break;case"c":arg=String.fromCharCode(parseInt(arg,10));break;case"d":case"i":arg=parseInt(arg,10);break;case"j":arg=JSON.stringify(arg,null,match[6]?parseInt(match[6]):0);break;case"e":arg=match[7]?parseFloat(arg).toExponential(match[7]):parseFloat(arg).toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"g":arg=match[7]?String(Number(arg.toPrecision(match[7]))):parseFloat(arg);break;case"o":arg=(parseInt(arg,10)>>>0).toString(8);break;case"s":arg=String(arg);arg=match[7]?arg.substring(0,match[7]):arg;break;case"t":arg=String(!!arg);arg=match[7]?arg.substring(0,match[7]):arg;break;case"T":arg=Object.prototype.toString.call(arg).slice(8,-1).toLowerCase();arg=match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=parseInt(arg,10)>>>0;break;case"v":arg=arg.valueOf();arg=match[7]?arg.substring(0,match[7]):arg;break;case"x":arg=(parseInt(arg,10)>>>0).toString(16);break;case"X":arg=(parseInt(arg,10)>>>0).toString(16).toUpperCase();break}if(re.json.test(match[8])){output+=arg}else{if(re.number.test(match[8])&&(!is_positive||match[3])){sign=is_positive?"+":"-";arg=arg.toString().replace(re.sign,"")}else{sign=""}pad_character=match[4]?match[4]==="0"?"0":match[4].charAt(1):" ";pad_length=match[6]-(sign+arg).length;pad=match[6]?pad_length>0?pad_character.repeat(pad_length):"":"";output+=match[5]?sign+arg+pad:pad_character==="0"?sign+pad+arg:pad+sign+arg}}}return output}var sprintf_cache=Object.create(null);function sprintf_parse(fmt){if(sprintf_cache[fmt]){return sprintf_cache[fmt]}var _fmt=fmt,match,parse_tree=[],arg_names=0;while(_fmt){if((match=re.text.exec(_fmt))!==null){parse_tree.push(match[0])}else if((match=re.modulo.exec(_fmt))!==null){parse_tree.push("%")}else if((match=re.placeholder.exec(_fmt))!==null){if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if((field_match=re.key.exec(replacement_field))!==null){field_list.push(field_match[1]);while((replacement_field=replacement_field.substring(field_match[0].length))!==""){if((field_match=re.key_access.exec(replacement_field))!==null){field_list.push(field_match[1])}else if((field_match=re.index_access.exec(replacement_field))!==null){field_list.push(field_match[1])}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}}}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}match[2]=field_list}else{arg_names|=2}if(arg_names===3){throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported")}parse_tree.push(match)}else{throw new SyntaxError("[sprintf] unexpected placeholder")}_fmt=_fmt.substring(match[0].length)}return sprintf_cache[fmt]=parse_tree}if(typeof exports!=="undefined"){exports["sprintf"]=sprintf;exports["vsprintf"]=vsprintf}if(typeof window!=="undefined"){window["sprintf"]=sprintf;window["vsprintf"]=vsprintf;if(typeof define==="function"&&define["amd"]){define(function(){return{sprintf:sprintf,vsprintf:vsprintf}})}}}()},{}],3:[function(require,module,exports){var sprintf=require("sprintf-js").sprintf;var vsprintf=require("sprintf-js").vsprintf;var argsToString=function(args){var len=args.length;args[0]=args[0].replace(/%o/g,"%s");switch(args.length){case 1:return args[0];case 2:return sprintf(args[0],args[1]);case 3:return sprintf(args[0],args[1],args[2]);case 4:return sprintf(args[0],args[1],args[2],args[3]);case 5:return sprintf(args[0],args[1],args[2],args[3],args[4]);case 6:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);case 8:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);case 9:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);case 10:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);case 11:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10]);case 12:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11]);case 13:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12]);case 14:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13]);case 15:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13],args[14]);case 16:return sprintf(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13],args[14],args[15]);default:return null}};beautyDate=function(date){var yyyy=date.getFullYear();var m=date.getMonth()+1;var d=date.getDate();var h=date.getHours();var mi=date.getMinutes();var sec=date.getSeconds();var msec=date.getMilliseconds();var mm=m<10?"0"+m:m;var dd=d<10?"0"+d:d;var hh=h<10?"0"+h:h;var min=mi<10?"0"+mi:mi;var ss=sec<10?"0"+sec:sec;var mss=msec<10?"00"+msec:msec<100?"0"+msec:msec;return"".concat(yyyy).concat("-").concat(mm).concat("-").concat(dd).concat("@").concat(hh).concat(":").concat(min).concat(":").concat(ss).concat(".").concat(mss)};module.exports=function setup(env){createDebug.debug=createDebug["default"]=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.enabledLocalLog=enabledLocalLog;createDebug.enableLocalLog=enableLocalLog;createDebug.disableLocalLog=disableLocalLog;createDebug.getLocalLogs=getLocalLogs;createDebug.getLocalDBName=getLocalDBName;createDebug.exportLog=exportLog;Object.keys(env).forEach(function(key){createDebug[key]=env[key]});createDebug.localLogState=true;createDebug.createdDBList=false;createDebug.keyBuffer=new Array;createDebug.logBuffer=new Array;window.onerror=function(msg,url,lineNo,columnNo,error){var message=["Message: "+msg,"URL: "+url,"Line: "+lineNo,"Column: "+columnNo,"Error object: "+JSON.stringify(error)].join("\n");this.debug("Console:ERROR")(message);return false};var tabID=env.sessionStorage.tabID&&env.sessionStorage.closedLastTab!=="2"?env.sessionStorage.tabID:env.sessionStorage.tabID=Math.random().toString(36).substr(2);env.sessionStorage.closedLastTab="2";window.onunload=window.onbeforeunload=function(){env.sessionStorage.closedLastTab="1"};if(!env.sessionStorage.dbName||!env.sessionStorage.dbName.match(tabID)){console.log("Create dbName !!!!!!!!!!!!!!!!!!!!!!!!!!!!");env.sessionStorage.setItem("dbName","db_"+tabID);env.sessionStorage.setItem("dbIndex","0")}createDebug.logStorage.config({name:env.sessionStorage.dbName,driver:createDebug.logStorage.INDEXEDDB,storeName:"localLogs"});if(false){createDebug.dbStorage.getItem(env.sessionStorage.dbName).then(function(info){if(info!=null&&info!=="[object Object]"){var infoJson=eval("("+info+")");if(infoJson.TS){infoJson.TS.push((new Date).getTime())}}else{var infoJson={TS:[(new Date).getTime()],confID:env.sessionStorage.confID,dbName:env.sessionStorage.dbName,userName:window.localStorage.userName,email:window.localStorage.email}}createDebug.updateDBInfo(sprintf("%j",infoJson))})}if(!env.sessionStorage.dbIndex){createDebug.logIndex=0}else{createDebug.logIndex=env.sessionStorage.dbIndex}window.logIndex=createDebug.logIndex;createDebug.instances=[];createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(namespace){var hash=0,i;for(i in namespace){hash=(hash<<5)-hash+namespace.charCodeAt(i);hash|=0}return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}createDebug.selectColor=selectColor;function selectBGColor(namespace){var hash=0,i;var level=namespace.match(/:(\w+)/)[1];switch(level){case"DEBUG":i=0;break;case"LOG":i=1;break;case"INFO":i=2;break;case"WARN":i=3;break;case"ERROR":i=4;break;case"FATAL":i=5;break;default:i=2;break}return createDebug.bgColors[i]}createDebug.selectBGColor=selectBGColor;function createDebug(namespace){function debug(){var date=new Date;var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}args[0]=createDebug.coerce(args[0]);if("string"!==typeof args[0]){args.unshift("%O")}if(createDebug.localLogState===true){var logTime=beautyDate(date);createDebug.keyBuffer.push(createDebug.logIndex+"-"+namespace);createDebug.logBuffer.push(createDebug.logIndex+"["+logTime+"] "+namespace+": "+argsToString(args));if(createDebug.keyBuffer.length>=20){createDebug.logStorage.setItems(createDebug.keyBuffer.concat(),createDebug.logBuffer.concat());createDebug.keyBuffer=[];createDebug.logBuffer=[];if(!createDebug.createdDBList){createDebug.dbStorage.getItem(env.sessionStorage.dbName).then(function(info){if(info!=null&&info!=="[object Object]"){var infoJson=eval("("+info+")");if(infoJson.TS){infoJson.TS.push((new Date).getTime())}}else{var infoJson={TS:[(new Date).getTime()],confID:env.sessionStorage.confID,dbName:env.sessionStorage.dbName,userName:window.localStorage.userName,email:window.localStorage.email}}createDebug.updateDBInfo(sprintf("%j",infoJson));createDebug.createdDBList=true})}}createDebug.logIndex++;window.logIndex=createDebug.logIndex;window.sessionStorage.dbIndex=window.logIndex}if(!debug.enabled)return;var self=debug;var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if(match==="%%")return match;index++;var formatter=createDebug.formatters[format];if("function"===typeof formatter){var val=args[index];match=formatter.call(self,val);args.splice(index,1);index--}return match});createDebug.formatArgs.call(self,args);var logFn=self.log||createDebug.log;logFn.apply(self,args)}debug.namespace=namespace;debug.enabled=createDebug.enabled(namespace);debug.useColors=createDebug.useColors();debug.color=selectColor(namespace);debug.bgColor=selectBGColor(namespace);debug.destroy=destroy;if("function"===typeof createDebug.init){createDebug.init(debug)}createDebug.instances.push(debug);return debug}function destroy(){var index=createDebug.instances.indexOf(this);if(index!==-1){createDebug.instances.splice(index,1);return true}else{return false}}function enable(namespaces){createDebug.save(namespaces);createDebug.names=[];createDebug.skips=[];var i;var split=(typeof namespaces==="string"?namespaces:"").split(/[\s,]+/);var len=split.length;for(i=0;i<len;i++){if(!split[i])continue;namespaces=split[i].replace(/\*/g,".*?");if(namespaces[0]==="-"){createDebug.skips.push(new RegExp("^"+namespaces.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+namespaces+"$"))}}for(i=0;i<createDebug.instances.length;i++){var instance=createDebug.instances[i];instance.enabled=createDebug.enabled(instance.namespace)}}function disable(){createDebug.enable("")}function enabled(name){if(name[name.length-1]==="*"){return true}var i,len;for(i=0,len=createDebug.skips.length;i<len;i++){if(createDebug.skips[i].test(name)){return false}}for(i=0,len=createDebug.names.length;i<len;i++){if(createDebug.names[i].test(name)){return true}}return false}function enableLocalLog(){createDebug.saveLocalLogState(true);createDebug.localLogState=true}function disableLocalLog(){createDebug.saveLocalLogState(false);createDebug.localLogState=false}function enabledLocalLog(){return createDebug.localLogState}function getLocalLogs(dbName,filter,callback){function enabled(name,skips,names){if(name[name.length-1]==="*"){return true}var i,len;for(i=0,len=skips.length;i<len;i++){if(skips[i].test(name)){return false}}for(i=0,len=names.length;i<len;i++){if(names[i].test(name)){return true}}return false}var localLogs=new Array;skips=[];names=[];if(dbName&&dbName!=createDebug.sessionStorage.dbName){var db=createDebug.logStorage.createInstance({name:dbName,storeName:"localLogs"})}else{var db=createDebug.logStorage}if(filter!="*"){var i=0;var split=(typeof filter==="string"?filter:"").split(/[\s,]+/);var len=split.length;for(i=0;i<len;i++){if(!split[i])continue;filter=split[i].replace(/\*/g,".*?");if(filter[0]==="-"){skips.push(new RegExp("^"+filter.substr(1)+"$"))}else{names.push(new RegExp("^"+filter+"$"))}}db.keys().then(function(keys){for(var i=0;i<keys.length;i++){var index=parseInt(keys[i]);var key=keys[i].substr(index.toString().length+1);if(enabled(key,skips,names)){db.getItem(keys[i]).then(function(log){var index=parseInt(log);localLogs[index]="["+index+"]"+log.substr(index.toString().length)+"\r\n"}).catch(function(err){})}}}).catch(function(err){})}else{db.getAllItems().then(function(logs){logs.forEach(function(log){var index=parseInt(log);localLogs[index]="["+index+"]"+log.substr(index.toString().length)+"\r\n"});callback(localLogs)}).catch(function(err){})}return}function getLocalDBName(callback){var localDBs=new Array;createDebug.dbStorage.getAllItems().then(function(infos){infos.forEach(function(info){localDBs.push(JSON.parse(info))});callback(localDBs)});return}function updateConfInfo(confInfo){try{createDebug.dbStorage.getItem(createDebug.sessionStorage.dbName).then(function(info){if(info!=null&&info!=="[object Object]"){var infoJson=eval("("+info+")");if(confInfo.sipID){if(!infoJson.sipID){infoJson.sipID=[]}infoJson.sipID.push(confInfo.sipID)}if(confInfo.confSEQ){if(!infoJson.confSEQ){infoJson.confSEQ=[]}infoJson.confSEQ.push(confInfo.confSEQ)}if(confInfo.userName){infoJson.userName=confInfo.userName}if(confInfo.email){infoJson.email=confInfo.email}if(confInfo.confTitle){infoJson.confTitle=confInfo.confTitle}infoJson.confID=createDebug.sessionStorage.confID}else{var infoJson={TS:[(new Date).getTime()],confID:createDebug.sessionStorage.confID,dbName:createDebug.sessionStorage.dbName,userName:window.localStorage.userName,email:window.localStorage.email};if(confInfo.sipID){if(!infoJson.sipID){infoJson.sipID=[]}infoJson.sipID.push(confInfo.sipID)}if(confInfo.confSEQ){if(!infoJson.confSEQ){infoJson.confSEQ=[]}infoJson.confSEQ.push(confInfo.confSEQ)}if(confInfo.userName){infoJson.userName=confInfo.userName}if(confInfo.email){infoJson.email=confInfo.email}if(confInfo.confTitle){infoJson.confTitle=confInfo.confTitle}}createDebug.updateDBInfo(sprintf("%j",infoJson));createDebug.createdDBList=true})}catch(e){}}createDebug.updateConfInfo=updateConfInfo;function flushLogBuffer(){try{if(createDebug.keyBuffer.length>0){createDebug.logStorage.setItems(createDebug.keyBuffer.concat(),createDebug.logBuffer.concat()).then(function(value){}).catch(function(err){console.error(err)});createDebug.keyBuffer=[];createDebug.logBuffer=[]}}catch(e){}}createDebug.flushLogBuffer=flushLogBuffer;function coerce(val){if(val instanceof Error)return val.stack||val.message;return val}function exportLog(){var fileName="meetingLog.txt";debug.getLocalLogs(null,"*",function(logs){if(navigator.userAgent.match("(rv:11.0|Edge)")){var log_file;try{log_file=new Blob(logs,{type:"text/plain"})}catch(e){window.BlobBuilder=window.BlobBuilder||window.MSBlobBuilder;if(window.BlobBuilder){var tmp=new BlobBuilder("text/plain");tmp.append(logs);log_file=tmp.getBlob()}}if(window.navigator&&window.navigator.msSaveBlob){window.navigator.msSaveBlob(log_file,fileName)}delete log_file}else{var log_file=new Blob(logs,{type:"text/plain"});var b=document.createElement("a");var ev=document.createEvent("MouseEvents");ev.initEvent("click",false,false);b.href=URL.createObjectURL(log_file);b.download=fileName;b.dispatchEvent(ev);delete b;delete log_file}})}createDebug.enable(createDebug.load());createDebug.localLogState=createDebug.loadLocalLogState()==="false"?false:true;return createDebug}},{"sprintf-js":2}],4:[function(require,module,exports){exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.saveLocalLogState=saveLocalLogState;exports.loadLocalLogState=loadLocalLogState;exports.useColors=useColors;exports.updateDBInfo=updateDBInfo;exports.sessionStorage=window.sessionStorage;exports.logStorage=logStorage();exports.dbStorage=dbStorage();exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage();exports.colors=["#295288"];exports.bgColors=["inherit","inherit","#46A7C9","#D08005;font-size:14px","#F64863;font-size:16px","#F64863;font-size:18px"];function useColors(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/trident\/(\d+)/)){return false}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/edge\/(\d+)/)&&parseInt(navigator.userAgent.toLowerCase().match(/edge\/\d+.(\d+)/)[1])<16215){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(args){var useColors=this.useColors;args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ");if(!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: "+this.bgColor);var index=0;var lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){if("%%"===match)return;index++;if("%c"===match){lastC=index}});args.splice(lastC,0,c)}function log(){if(this.bgColor!==debug.bgColors[4]){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}else{return"object"===typeof console&&console.error&&Function.prototype.apply.call(console.error,console,arguments)}}function save(namespaces){try{if(null==namespaces){exports.storage.removeItem("debug")}else{exports.storage.debug=namespaces}}catch(e){}}function load(){var r;try{r=exports.storage.debug}catch(e){}if(!r){r="*:INFO,*:WARN,*:ERROR"}return r}function saveLocalLogState(state){try{if(null==state||state!=false){exports.storage.setItem("localLog",true)}else{exports.storage.setItem("localLog",false)}}catch(e){}}function loadLocalLogState(){var r=true;try{r=exports.storage.localLog}catch(e){}if(!r){r=true}return r}function localstorage(){try{return window.localStorage}catch(e){}}function logStorage(){try{return require("localforage")}catch(e){console.warning("Indexed DB error : %o",e);console.info("Disable local log feature");saveLocalLogState(false)}}function dbStorage(){try{return exports.logStorage.createInstance({name:"DatabaseList",driver:exports.logStorage.INDEXEDDB})}catch(e){console.warning("Indexed DB error : %o",e);console.info("Disable local log feature");saveLocalLogState(false)}}function updateDBInfo(info){try{exports.dbStorage.setItem(exports.sessionStorage.dbName,info)}catch(e){}}module.exports=require("./common")(exports);var formatters=module.exports.formatters;formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}}},{"./common":3,localforage:1}]},{},[4])(4)});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.adapter=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],2:[function(require,module,exports){"use strict";module.exports=function(localCapabilities,remoteCapabilities){var commonCapabilities={codecs:[],headerExtensions:[],fecMechanisms:[]};var findCodecByPayloadType=function(pt,codecs){pt=parseInt(pt,10);for(var i=0;i<codecs.length;i++){if(codecs[i].payloadType===pt||codecs[i].preferredPayloadType===pt){return codecs[i]}}};var rtxCapabilityMatches=function(lRtx,rRtx,lCodecs,rCodecs){var lCodec=findCodecByPayloadType(lRtx.parameters.apt,lCodecs);var rCodec=findCodecByPayloadType(rRtx.parameters.apt,rCodecs);return lCodec&&rCodec&&lCodec.name.toLowerCase()===rCodec.name.toLowerCase()};localCapabilities.codecs.forEach(function(lCodec){for(var i=0;i<remoteCapabilities.codecs.length;i++){var rCodec=remoteCapabilities.codecs[i];if(lCodec.name.toLowerCase()===rCodec.name.toLowerCase()&&lCodec.clockRate===rCodec.clockRate){if(lCodec.name.toLowerCase()==="rtx"&&lCodec.parameters&&rCodec.parameters.apt){if(!rtxCapabilityMatches(lCodec,rCodec,localCapabilities.codecs,remoteCapabilities.codecs)){continue}}rCodec=JSON.parse(JSON.stringify(rCodec));
rCodec.numChannels=Math.min(lCodec.numChannels,rCodec.numChannels);commonCapabilities.codecs.push(rCodec);rCodec.rtcpFeedback=rCodec.rtcpFeedback.filter(function(fb){for(var j=0;j<lCodec.rtcpFeedback.length;j++){if(lCodec.rtcpFeedback[j].type===fb.type&&lCodec.rtcpFeedback[j].parameter===fb.parameter){return true}}return false});break}}});localCapabilities.headerExtensions.forEach(function(lHeaderExtension){for(var i=0;i<remoteCapabilities.headerExtensions.length;i++){var rHeaderExtension=remoteCapabilities.headerExtensions[i];if(lHeaderExtension.uri===rHeaderExtension.uri){commonCapabilities.headerExtensions.push(rHeaderExtension);break}}});return commonCapabilities}},{}],3:[function(require,module,exports){"use strict";var util=require("./util");module.exports=function(window){if(!("onstatechange"in window.RTCDtlsTransport.prototype)){util.aliasEventListener(window.RTCDtlsTransport.prototype,"dtlsstatechange","statechange")}return window.RTCDtlsTransport}},{"./util":8}],4:[function(require,module,exports){"use strict";module.exports=function(window){var NativeRTCIceGatherer=window.RTCIceGatherer;Object.defineProperty(window.RTCIceGatherer.prototype,"state",{value:"new",writable:true});var RTCIceGatherer=function(options){var gatherer=new NativeRTCIceGatherer(options);gatherer.addEventListener("localcandidate",function(e){var candidate=e.candidate;var end=!candidate||Object.keys(candidate).length===0;if(end){gatherer.state="complete";gatherer.dispatchEvent(new Event("statechange"))}else if(gatherer.state==="new"){gatherer.state="gathering";gatherer.dispatchEvent(new Event("statechange"))}});return gatherer};RTCIceGatherer.prototype=NativeRTCIceGatherer.prototype;var origGetLocalCandidates=RTCIceGatherer.prototype.getLocalCandidates;RTCIceGatherer.prototype.getLocalCandidates=function(){if(this.state==="new"){return[]}return origGetLocalCandidates.apply(this)};return RTCIceGatherer}},{}],5:[function(require,module,exports){"use strict";var util=require("./util");module.exports=function(window){var prototype=window.RTCIceTransport.prototype;if(!("getLocalCandidates"in prototype)){prototype.getLocalCandidates=function(){var transport=this;if(this.iceGatherer){return this.iceGatherer.getLocalCandidates().map(function(cand){cand.component=transport.component;return cand})}return[]}}if(!("getLocalParameters"in prototype)){prototype.getLocalParameters=function(){if(this.iceGatherer){return this.iceGatherer.getLocalParameters()}throw util.makeError("InvalidStateError","Can not call getLocalParameters in this state")}}if(!("gatheringState"in prototype)){Object.defineProperty(prototype,"gatheringState",{get:function(){return this.iceGatherer?this.iceGatherer.state:"new"}});Object.defineProperty(prototype,"ongatheringstatechange",{get:function(){return this._ongatheringstatechange},set:function(cb){if(this._ongatheringstatechange){this.iceGatherer.removeEventListener("statechange",this._ongatheringstatechange);delete this._ongatheringstatechange}if(cb){this.iceGatherer.addEventListener("statechange",this._ongatheringstatechange=cb)}}});["addEventListener","removeEventListener"].forEach(function(method){var nativeMethod=prototype[method];prototype[method]=function(eventName,cb){if(eventName==="gatheringstatechange"){if(this.iceGatherer){return this.iceGatherer[method].apply(this.iceGatherer,["statechange",cb])}}return nativeMethod.apply(this,arguments)}})}if(!("onstatechange"in prototype)){util.aliasEventListener(prototype,"icestatechange","statechange")}if(!("getSelectedCandidatePair"in prototype)){prototype.getSelectedCandidatePair=prototype.getSelectedCandidatePair=function(){return this.getNominatedCandidatePair()};util.aliasEventListener(prototype,"candidatepairchange","selectedcandidatepairchange")}return window.RTCIceTransport}},{"./util":8}],6:[function(require,module,exports){"use strict";var SDPUtils=require("sdp");var shimSenderWithTrackOrKind=require("./rtcrtpsender");var shimIceGatherer=require("./rtcicegatherer");var shimIceTransport=require("./rtcicetransport");var shimDtlsTransport=require("./rtcdtlstransport");var getCommonCapabilities=require("./getcommoncapabilities");var writeMediaSection=require("./writemediasection");var util=require("./util");module.exports=function(window,edgeVersion){if(window.RTCRtpSender){window.RTCRtpSender=shimSenderWithTrackOrKind(window)}if(window.RTCIceGatherer){window.RTCIceGatherer=shimIceGatherer(window)}if(window.RTCIceTransport){window.RTCIceTransport=shimIceTransport(window)}if(window.RTCDtlsTransport){window.RTCDtlsTransport=shimDtlsTransport(window)}util.fixORTCGetStats(window);var RTCPeerConnection=function(config){var pc=this;var _eventTarget=document.createDocumentFragment();["addEventListener","removeEventListener","dispatchEvent"].forEach(function(method){pc[method]=_eventTarget[method].bind(_eventTarget)});this._canTrickleIceCandidates=null;this._localDescription=null;this._remoteDescription=null;this._signalingState="stable";this._iceConnectionState="new";this._connectionState="new";this._iceGatheringState="new";this._transceivers=[];this._sdpSessionId=SDPUtils.generateSessionId();this._sdpSessionVersion=0;this._dtlsRole=undefined;this._isClosed=false;this._needNegotiation=false;this._localStreams=[];this._remoteStreams=[];this._usingBundle=config?config.bundlePolicy==="max-bundle":false;this._iceGatherers=[];config=JSON.parse(JSON.stringify(config||{}));if(config.rtcpMuxPolicy==="negotiate"){throw util.makeError("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported")}else if(!config.rtcpMuxPolicy){config.rtcpMuxPolicy="require"}switch(config.iceTransportPolicy){case"all":case"relay":break;default:config.iceTransportPolicy="all";break}switch(config.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:config.bundlePolicy="balanced";break}config.iceServers=util.filterIceServers(config.iceServers||[],edgeVersion);if(config.iceCandidatePoolSize){for(var i=config.iceCandidatePoolSize;i>0;i--){this._iceGatherers.push(new window.RTCIceGatherer({iceServers:config.iceServers,gatherPolicy:config.iceTransportPolicy}))}}else{config.iceCandidatePoolSize=0}this._config=config};["localDescription","remoteDescription","signalingState","iceConnectionState","connectionState","iceGatheringState","canTrickleIceCandidates"].forEach(function(propertyName){Object.defineProperty(RTCPeerConnection.prototype,propertyName,{configurable:true,get:function(){return this["_"+propertyName]}})});["icecandidate","addstream","removestream","track","signalingstatechange","iceconnectionstatechange","connectionstatechange","icegatheringstatechange","negotiationneeded","datachannel"].forEach(function(eventName){RTCPeerConnection.prototype["on"+eventName]=null});RTCPeerConnection.prototype._createTransceiver=function(kind,doNotAdd){var hasBundleTransport=this._transceivers.length>0;var transceiver={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:kind,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:true};if(this._usingBundle&&hasBundleTransport){transceiver.iceTransport=this._transceivers[0].iceTransport;transceiver.dtlsTransport=this._transceivers[0].dtlsTransport}else{var transports=this._createIceAndDtlsTransports();transceiver.iceTransport=transports.iceTransport;transceiver.dtlsTransport=transports.dtlsTransport}if(!doNotAdd){this._transceivers.push(transceiver)}return transceiver};RTCPeerConnection.prototype._createIceGatherer=function(sdpMLineIndex,usingBundle){if(usingBundle&&sdpMLineIndex>0){return this._transceivers[0].iceGatherer}else if(this._iceGatherers.length){return this._iceGatherers.shift()}var iceGatherer=new window.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return iceGatherer};RTCPeerConnection.prototype._gather=function(mid,sdpMLineIndex){var pc=this;var iceGatherer=this._transceivers[sdpMLineIndex].iceGatherer;if(iceGatherer.onlocalcandidate){return}iceGatherer.onlocalcandidate=function(evt){if(pc._usingBundle&&sdpMLineIndex>0){return}var event=new Event("icecandidate");event.candidate={sdpMid:mid,sdpMLineIndex:sdpMLineIndex};var cand=evt.candidate;var end=!cand||Object.keys(cand).length===0;if(!end){cand.component=1;cand.ufrag=iceGatherer.getLocalParameters().usernameFragment;var serializedCandidate=SDPUtils.writeCandidate(cand);event.candidate=Object.assign(event.candidate,SDPUtils.parseCandidate(serializedCandidate));event.candidate.candidate=serializedCandidate;event.candidate.toJSON=function(){return{candidate:event.candidate.candidate,sdpMid:event.candidate.sdpMid,sdpMLineIndex:event.candidate.sdpMLineIndex,usernameFragment:event.candidate.usernameFragment}}}var sections=SDPUtils.getMediaSections(pc._localDescription.sdp);if(!end){sections[event.candidate.sdpMLineIndex]+="a="+event.candidate.candidate+"\r\n"}else{sections[event.candidate.sdpMLineIndex]+="a=end-of-candidates\r\n"}pc._localDescription.sdp=SDPUtils.getDescription(pc._localDescription.sdp)+sections.join("");if(!end){pc._updateIceGatheringState("gathering");pc._dispatchEvent("icecandidate",event)}var complete=pc._transceivers.every(function(transceiver){return transceiver.iceGatherer&&transceiver.iceGatherer.state==="complete"});if(complete){pc._updateIceGatheringState("complete")}};var gatheredCandidates=iceGatherer.getLocalCandidates();var isComplete=iceGatherer.state==="complete";window.setTimeout(function(){if(!iceGatherer.onlocalcandidate){return}gatheredCandidates.forEach(iceGatherer.onlocalcandidate);if(isComplete){iceGatherer.onlocalcandidate({candidate:{}})}},0)};RTCPeerConnection.prototype._createIceAndDtlsTransports=function(){var pc=this;var iceTransport=new window.RTCIceTransport(null);iceTransport.addEventListener("statechange",function(){pc._updateIceConnectionState();pc._updateConnectionState()});var dtlsTransport=new window.RTCDtlsTransport(iceTransport);dtlsTransport.addEventListener("statechange",function(){pc._updateConnectionState()});dtlsTransport.addEventListener("error",function(){Object.defineProperty(dtlsTransport,"state",{value:"failed",writable:true});pc._updateConnectionState()});return{iceTransport:iceTransport,dtlsTransport:dtlsTransport}};RTCPeerConnection.prototype._disposeIceAndDtlsTransports=function(sdpMLineIndex){var iceGatherer=this._transceivers[sdpMLineIndex].iceGatherer;if(iceGatherer){delete iceGatherer.onlocalcandidate;delete this._transceivers[sdpMLineIndex].iceGatherer}delete this._transceivers[sdpMLineIndex].iceTransport;delete this._transceivers[sdpMLineIndex].dtlsTransport};RTCPeerConnection.prototype._transceive=function(transceiver,send,recv){var params=getCommonCapabilities(transceiver.localCapabilities,transceiver.remoteCapabilities);if(send&&transceiver.rtpSender){params.encodings=transceiver.sendEncodingParameters;params.rtcp={cname:SDPUtils.localCName,compound:transceiver.rtcpParameters.compound};if(transceiver.recvEncodingParameters.length){params.rtcp.ssrc=transceiver.recvEncodingParameters[0].ssrc}transceiver.rtpSender.send(params)}if(recv&&transceiver.rtpReceiver&&params.codecs.length>0){if(transceiver.kind==="video"&&transceiver.recvEncodingParameters&&edgeVersion<15019){transceiver.recvEncodingParameters.forEach(function(p){delete p.rtx})}if(transceiver.recvEncodingParameters.length){params.encodings=transceiver.recvEncodingParameters}else{params.encodings=[{}]}params.rtcp={compound:transceiver.rtcpParameters.compound};if(transceiver.rtcpParameters.cname){params.rtcp.cname=transceiver.rtcpParameters.cname}if(transceiver.sendEncodingParameters.length){params.rtcp.ssrc=transceiver.sendEncodingParameters[0].ssrc}transceiver.rtpReceiver.receive(params)}};RTCPeerConnection.prototype._updateSignalingState=function(newState){if(newState===this._signalingState){return}this._signalingState=newState;var event=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",event)};RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var pc=this;if(this._signalingState!=="stable"||this._needNegotiation===true){return}this._needNegotiation=true;window.setTimeout(function(){if(pc._needNegotiation){pc._needNegotiation=false;var event=new Event("negotiationneeded");pc._dispatchEvent("negotiationneeded",event)}},0)};RTCPeerConnection.prototype._updateIceGatheringState=function(newState){if(newState===this._iceGatheringState){return}this._iceGatheringState=newState;var event=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",event);if(newState==="complete"){this._dispatchEvent("icecandidate",new Event("icecandidate"))}};RTCPeerConnection.prototype._updateIceConnectionState=function(){var newState;var states={"new":0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};this._transceivers.forEach(function(transceiver){states[transceiver.iceTransport.state]++});newState="new";if(states.failed>0){newState="failed"}else if(states.checking>0){newState="checking"}else if(states.disconnected>0){newState="disconnected"}else if(states.new>0){newState="new"}else if(states.connected>0){newState="connected"}else if(states.completed>0){newState="completed"}if(newState!==this._iceConnectionState){this._iceConnectionState=newState;var event=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",event)}};RTCPeerConnection.prototype._updateConnectionState=function(){var newState;var states={"new":0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};this._transceivers.forEach(function(transceiver){states[transceiver.iceTransport.state]++;states[transceiver.dtlsTransport.state]++});states.connected+=states.completed;newState="new";if(states.failed>0){newState="failed"}else if(states.connecting>0){newState="connecting"}else if(states.disconnected>0){newState="disconnected"}else if(states.new>0){newState="new"}else if(states.connected>0){newState="connected"}if(newState!==this._connectionState){this._connectionState=newState;var event=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",event)}};RTCPeerConnection.prototype._dispatchEvent=function(name,event){if(this._isClosed){return}this.dispatchEvent(event);if(typeof this["on"+name]==="function"){this["on"+name](event)}};RTCPeerConnection.prototype._emitTrack=function(track,receiver,streams){var pc=this;var trackEvent=new Event("track");trackEvent.track=track;trackEvent.receiver=receiver;trackEvent.transceiver={receiver:receiver};trackEvent.streams=streams;pc._dispatchEvent("track",trackEvent)};RTCPeerConnection.prototype.getConfiguration=function(){return this._config};RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams};RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams};RTCPeerConnection.prototype.addTrack=function(track,stream){if(this._isClosed){throw util.makeError("InvalidStateError","Attempted to call addTrack on a closed peerconnection.")}var alreadyExists=this._transceivers.find(function(s){return s.track===track});if(alreadyExists){throw util.makeError("InvalidAccessError","Track already exists.")}var transceiver;for(var i=0;i<this._transceivers.length;i++){if(!this._transceivers[i].track&&this._transceivers[i].kind===track.kind){transceiver=this._transceivers[i]}}if(!transceiver){transceiver=this._createTransceiver(track.kind)}this._maybeFireNegotiationNeeded();if(this._localStreams.indexOf(stream)===-1){this._localStreams.push(stream)}transceiver.track=track;transceiver.stream=stream;transceiver.rtpSender=new window.RTCRtpSender(track);return transceiver.rtpSender};RTCPeerConnection.prototype.addStream=function(stream){var pc=this;if(edgeVersion>=15025){stream.getTracks().forEach(function(track){pc.addTrack(track,stream)})}else{var clonedStream=stream.clone();stream.getTracks().forEach(function(track,idx){var clonedTrack=clonedStream.getTracks()[idx];track.addEventListener("enabled",function(event){clonedTrack.enabled=event.enabled})});clonedStream.getTracks().forEach(function(track){pc.addTrack(track,clonedStream)})}};RTCPeerConnection.prototype.removeTrack=function(sender){if(this._isClosed){throw util.makeError("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.")}if(!(sender instanceof window.RTCRtpSender)){throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack "+"does not implement interface RTCRtpSender.")}var transceiver=this._transceivers.find(function(t){return t.rtpSender===sender});if(!transceiver){throw util.makeError("InvalidAccessError","Sender was not created by this connection.")}var stream=transceiver.stream;transceiver.rtpSender.stop();transceiver.rtpSender=null;transceiver.track=null;transceiver.stream=null;var localStreams=this._transceivers.map(function(t){return t.stream});if(localStreams.indexOf(stream)===-1&&this._localStreams.indexOf(stream)>-1){this._localStreams.splice(this._localStreams.indexOf(stream),1)}this._maybeFireNegotiationNeeded()};RTCPeerConnection.prototype.removeStream=function(stream){var pc=this;stream.getTracks().forEach(function(track){var sender=pc.getSenders().find(function(s){return s.track===track});if(sender){pc.removeTrack(sender)}})};RTCPeerConnection.prototype.getSenders=function(){return this._transceivers.filter(function(transceiver){return!!transceiver.rtpSender}).map(function(transceiver){return transceiver.rtpSender})};RTCPeerConnection.prototype.getReceivers=function(){return this._transceivers.filter(function(transceiver){return!!transceiver.rtpReceiver}).map(function(transceiver){return transceiver.rtpReceiver})};RTCPeerConnection.prototype.setLocalDescription=function(description){var pc=this;if(["offer","answer"].indexOf(description.type)===-1){return Promise.reject(util.makeError("TypeError",'Unsupported type "'+description.type+'"'))}if(!util.isActionAllowedInSignalingState("setLocalDescription",description.type,pc._signalingState)||pc._isClosed){return Promise.reject(util.makeError("InvalidStateError","Can not set local "+description.type+" in state "+pc._signalingState))}var sections;var sessionpart;if(description.type==="offer"){sections=SDPUtils.splitSections(description.sdp);sessionpart=sections.shift();sections.forEach(function(mediaSection,sdpMLineIndex){var caps=SDPUtils.parseRtpParameters(mediaSection);pc._transceivers[sdpMLineIndex].localCapabilities=caps});pc._transceivers.forEach(function(transceiver,sdpMLineIndex){pc._gather(transceiver.mid,sdpMLineIndex)})}else if(description.type==="answer"){sections=SDPUtils.splitSections(pc._remoteDescription.sdp);sessionpart=sections.shift();var isIceLite=SDPUtils.matchPrefix(sessionpart,"a=ice-lite").length>0;sections.forEach(function(mediaSection,sdpMLineIndex){var transceiver=pc._transceivers[sdpMLineIndex];var iceGatherer=transceiver.iceGatherer;var iceTransport=transceiver.iceTransport;var dtlsTransport=transceiver.dtlsTransport;var localCapabilities=transceiver.localCapabilities;var remoteCapabilities=transceiver.remoteCapabilities;var rejected=SDPUtils.isRejected(mediaSection)&&SDPUtils.matchPrefix(mediaSection,"a=bundle-only").length===0;if(!rejected&&!transceiver.rejected){if(transceiver.rtpSender&&!transceiver.rtpSender.transport){transceiver.rtpSender.setTransport(transceiver.dtlsTransport)}var remoteIceParameters=SDPUtils.getIceParameters(mediaSection,sessionpart);var remoteDtlsParameters=SDPUtils.getDtlsParameters(mediaSection,sessionpart);if(isIceLite){remoteDtlsParameters.role="server"}if(!pc._usingBundle||sdpMLineIndex===0){pc._gather(transceiver.mid,sdpMLineIndex);if(iceTransport.state==="new"){iceTransport.start(iceGatherer,remoteIceParameters,isIceLite?"controlling":"controlled")}if(dtlsTransport.state==="new"){dtlsTransport.start(remoteDtlsParameters)}}var params=getCommonCapabilities(localCapabilities,remoteCapabilities);pc._transceive(transceiver,params.codecs.length>0,false)}})}pc._localDescription={type:description.type,sdp:description.sdp};if(description.type==="offer"){pc._updateSignalingState("have-local-offer")}else{pc._updateSignalingState("stable")}return Promise.resolve()};RTCPeerConnection.prototype.setRemoteDescription=function(description){var pc=this;if(["offer","answer"].indexOf(description.type)===-1){return Promise.reject(util.makeError("TypeError",'Unsupported type "'+description.type+'"'))}if(!util.isActionAllowedInSignalingState("setRemoteDescription",description.type,pc._signalingState)||pc._isClosed){return Promise.reject(util.makeError("InvalidStateError","Can not set remote "+description.type+" in state "+pc._signalingState))}var streams={};pc._remoteStreams.forEach(function(stream){streams[stream.id]=stream});var receiverList=[];var sections=SDPUtils.splitSections(description.sdp);var sessionpart=sections.shift();var isIceLite=SDPUtils.matchPrefix(sessionpart,"a=ice-lite").length>0;var usingBundle=SDPUtils.matchPrefix(sessionpart,"a=group:BUNDLE ").length>0;pc._usingBundle=usingBundle;var iceOptions=SDPUtils.matchPrefix(sessionpart,"a=ice-options:")[0];if(iceOptions){pc._canTrickleIceCandidates=iceOptions.substr(14).split(" ").indexOf("trickle")>=0}else{pc._canTrickleIceCandidates=false}sections.forEach(function(mediaSection,sdpMLineIndex){var lines=SDPUtils.splitLines(mediaSection);var kind=SDPUtils.getKind(mediaSection);var rejected=SDPUtils.isRejected(mediaSection)&&SDPUtils.matchPrefix(mediaSection,"a=bundle-only").length===0;var protocol=lines[0].substr(2).split(" ")[2];var direction=SDPUtils.getDirection(mediaSection,sessionpart);var remoteMsid=SDPUtils.parseMsid(mediaSection);var mid=SDPUtils.getMid(mediaSection)||SDPUtils.generateIdentifier();if(kind==="application"&&protocol==="DTLS/SCTP"||rejected){pc._transceivers[sdpMLineIndex]={mid:mid,kind:kind,rejected:true};return}if(!rejected&&pc._transceivers[sdpMLineIndex]&&pc._transceivers[sdpMLineIndex].rejected){pc._transceivers[sdpMLineIndex]=pc._createTransceiver(kind,true)}var transceiver;var iceGatherer;var iceTransport;var dtlsTransport;var rtpReceiver;var sendEncodingParameters;var recvEncodingParameters;var localCapabilities;var track;var remoteCapabilities=SDPUtils.parseRtpParameters(mediaSection);var remoteIceParameters;var remoteDtlsParameters;if(!rejected){remoteIceParameters=SDPUtils.getIceParameters(mediaSection,sessionpart);remoteDtlsParameters=SDPUtils.getDtlsParameters(mediaSection,sessionpart);if(isIceLite){remoteDtlsParameters.role="server"}}recvEncodingParameters=SDPUtils.parseRtpEncodingParameters(mediaSection);var rtcpParameters=SDPUtils.parseRtcpParameters(mediaSection);var isComplete=SDPUtils.matchPrefix(mediaSection,"a=end-of-candidates",sessionpart).length>0;var cands=SDPUtils.matchPrefix(mediaSection,"a=candidate:").map(function(cand){return SDPUtils.parseCandidate(cand)}).filter(function(cand){return cand.component===1});if((description.type==="offer"||description.type==="answer")&&!rejected&&usingBundle&&sdpMLineIndex>0&&pc._transceivers[sdpMLineIndex]){pc._disposeIceAndDtlsTransports(sdpMLineIndex);pc._transceivers[sdpMLineIndex].iceGatherer=pc._transceivers[0].iceGatherer;pc._transceivers[sdpMLineIndex].iceTransport=pc._transceivers[0].iceTransport;pc._transceivers[sdpMLineIndex].dtlsTransport=pc._transceivers[0].dtlsTransport;if(pc._transceivers[sdpMLineIndex].rtpSender){pc._transceivers[sdpMLineIndex].rtpSender.setTransport(pc._transceivers[0].dtlsTransport)}if(pc._transceivers[sdpMLineIndex].rtpReceiver){pc._transceivers[sdpMLineIndex].rtpReceiver.setTransport(pc._transceivers[0].dtlsTransport)}}if(description.type==="offer"&&!rejected){transceiver=pc._transceivers[sdpMLineIndex]||pc._createTransceiver(kind);transceiver.mid=mid;if(!transceiver.iceGatherer){transceiver.iceGatherer=pc._createIceGatherer(sdpMLineIndex,usingBundle)}if(cands.length&&transceiver.iceTransport.state==="new"){if(isComplete&&(!usingBundle||sdpMLineIndex===0)){transceiver.iceTransport.setRemoteCandidates(cands)}else{cands.forEach(function(candidate){util.maybeAddCandidate(transceiver.iceTransport,candidate)})}}localCapabilities=window.RTCRtpReceiver.getCapabilities(kind);if(edgeVersion<15019){localCapabilities.codecs=localCapabilities.codecs.filter(function(codec){return codec.name!=="rtx"})}sendEncodingParameters=transceiver.sendEncodingParameters||[{ssrc:parseInt(Math.random()*9999999999+999999999)}];var isNewTrack=false;if(direction==="sendrecv"||direction==="sendonly"){isNewTrack=!transceiver.rtpReceiver;rtpReceiver=transceiver.rtpReceiver||new window.RTCRtpReceiver(transceiver.dtlsTransport,kind);if(isNewTrack){var stream;track=rtpReceiver.track;if(remoteMsid&&remoteMsid.stream==="-"){}else if(remoteMsid){if(!streams[remoteMsid.stream]){streams[remoteMsid.stream]=new window.MediaStream;Object.defineProperty(streams[remoteMsid.stream],"id",{get:function(){return remoteMsid.stream}})}Object.defineProperty(track,"id",{get:function(){return remoteMsid.track}});stream=streams[remoteMsid.stream]}else{if(!streams.default){streams.default=new window.MediaStream}stream=streams.default}if(stream){util.addTrackToStreamAndFireEvent(track,stream);transceiver.associatedRemoteMediaStreams.push(stream)}receiverList.push([track,rtpReceiver,stream])}}else if(transceiver.rtpReceiver&&transceiver.rtpReceiver.track){transceiver.associatedRemoteMediaStreams.forEach(function(s){var nativeTrack=s.getTracks().find(function(t){return t.id===transceiver.rtpReceiver.track.id});if(nativeTrack){util.removeTrackFromStreamAndFireEvent(nativeTrack,s)}});transceiver.associatedRemoteMediaStreams=[]}transceiver.localCapabilities=localCapabilities;transceiver.remoteCapabilities=remoteCapabilities;transceiver.rtpReceiver=rtpReceiver;transceiver.rtcpParameters=rtcpParameters;transceiver.sendEncodingParameters=sendEncodingParameters;transceiver.recvEncodingParameters=recvEncodingParameters;pc._transceive(pc._transceivers[sdpMLineIndex],false,isNewTrack)}else if(description.type==="answer"&&!rejected){transceiver=pc._transceivers[sdpMLineIndex];iceGatherer=transceiver.iceGatherer;iceTransport=transceiver.iceTransport;dtlsTransport=transceiver.dtlsTransport;rtpReceiver=transceiver.rtpReceiver;sendEncodingParameters=transceiver.sendEncodingParameters;localCapabilities=transceiver.localCapabilities;pc._transceivers[sdpMLineIndex].recvEncodingParameters=recvEncodingParameters;pc._transceivers[sdpMLineIndex].remoteCapabilities=remoteCapabilities;pc._transceivers[sdpMLineIndex].rtcpParameters=rtcpParameters;if(cands.length&&iceTransport.state==="new"){if((isIceLite||isComplete)&&(!usingBundle||sdpMLineIndex===0)){iceTransport.setRemoteCandidates(cands)}else{cands.forEach(function(candidate){util.maybeAddCandidate(transceiver.iceTransport,candidate)})}}if(!usingBundle||sdpMLineIndex===0){if(iceTransport.state==="new"){iceTransport.start(iceGatherer,remoteIceParameters,"controlling")}if(dtlsTransport.state==="new"){dtlsTransport.start(remoteDtlsParameters)}}if(transceiver.rtpSender&&!transceiver.rtpSender.transport){transceiver.rtpSender.setTransport(transceiver.dtlsTransport)}pc._transceive(transceiver,direction==="sendrecv"||direction==="recvonly",direction==="sendrecv"||direction==="sendonly");if(rtpReceiver&&(direction==="sendrecv"||direction==="sendonly")){track=rtpReceiver.track;if(remoteMsid){if(!streams[remoteMsid.stream]){streams[remoteMsid.stream]=new window.MediaStream}util.addTrackToStreamAndFireEvent(track,streams[remoteMsid.stream]);receiverList.push([track,rtpReceiver,streams[remoteMsid.stream]])}else{if(!streams.default){streams.default=new window.MediaStream}util.addTrackToStreamAndFireEvent(track,streams.default);receiverList.push([track,rtpReceiver,streams.default])}}else{delete transceiver.rtpReceiver}}});if(pc._dtlsRole===undefined){pc._dtlsRole=description.type==="offer"?"active":"passive"}pc._remoteDescription={type:description.type,sdp:description.sdp};if(description.type==="offer"){pc._updateSignalingState("have-remote-offer")}else{pc._updateSignalingState("stable")}Object.keys(streams).forEach(function(sid){var stream=streams[sid];if(stream.getTracks().length){if(pc._remoteStreams.indexOf(stream)===-1){pc._remoteStreams.push(stream);var event=new Event("addstream");event.stream=stream;window.setTimeout(function(){pc._dispatchEvent("addstream",event)})}receiverList.forEach(function(item){var track=item[0];var receiver=item[1];if(stream.id!==item[2].id){return}pc._emitTrack(track,receiver,[stream])})}});receiverList.forEach(function(item){if(item[2]){return}pc._emitTrack(item[0],item[1],[])});window.setTimeout(function(){if(!(pc&&pc._transceivers)||pc._isClosed){return}pc._transceivers.forEach(function(transceiver){if(transceiver.iceTransport&&transceiver.iceTransport.state==="new"&&transceiver.iceTransport.getRemoteCandidates().length>0){console.warn("Timeout for addRemoteCandidate. Consider sending "+"an end-of-candidates notification");transceiver.iceTransport.addRemoteCandidate({})}})},4e3);return Promise.resolve()};RTCPeerConnection.prototype.close=function(){this._transceivers.forEach(function(transceiver){if(transceiver.iceTransport){transceiver.iceTransport.stop()}if(transceiver.dtlsTransport){transceiver.dtlsTransport.stop()}if(transceiver.rtpSender){transceiver.rtpSender.stop()}if(transceiver.rtpReceiver){transceiver.rtpReceiver.stop()}});this._isClosed=true;this._updateSignalingState("closed");this._iceConnectionState="closed";this._connectionState="closed"};RTCPeerConnection.prototype.createOffer=function(){var pc=this;if(pc._isClosed){return Promise.reject(util.makeError("InvalidStateError","Can not call createOffer after close"))}var numAudioTracks=pc._transceivers.filter(function(t){return t.kind==="audio"}).length;var numVideoTracks=pc._transceivers.filter(function(t){return t.kind==="video"}).length;var offerOptions=arguments[0];if(offerOptions){if(offerOptions.mandatory||offerOptions.optional){throw new TypeError("Legacy mandatory/optional constraints not supported.")}if(offerOptions.offerToReceiveAudio!==undefined){if(offerOptions.offerToReceiveAudio===true){numAudioTracks=1}else if(offerOptions.offerToReceiveAudio===false){numAudioTracks=0}else{numAudioTracks=offerOptions.offerToReceiveAudio}}if(offerOptions.offerToReceiveVideo!==undefined){if(offerOptions.offerToReceiveVideo===true){numVideoTracks=1}else if(offerOptions.offerToReceiveVideo===false){numVideoTracks=0}else{numVideoTracks=offerOptions.offerToReceiveVideo}}}pc._transceivers.forEach(function(transceiver){if(transceiver.kind==="audio"){numAudioTracks--;if(numAudioTracks<0){transceiver.wantReceive=false}}else if(transceiver.kind==="video"){numVideoTracks--;if(numVideoTracks<0){transceiver.wantReceive=false}}});while(numAudioTracks>0||numVideoTracks>0){if(numAudioTracks>0){pc._createTransceiver("audio");numAudioTracks--}if(numVideoTracks>0){pc._createTransceiver("video");numVideoTracks--}}var sdp=SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,pc._sdpSessionVersion++);pc._transceivers.forEach(function(transceiver,sdpMLineIndex){var track=transceiver.track;var kind=transceiver.kind;var mid=transceiver.mid||SDPUtils.generateIdentifier();transceiver.mid=mid;if(!transceiver.iceGatherer){transceiver.iceGatherer=pc._createIceGatherer(sdpMLineIndex,pc._usingBundle)}var localCapabilities=window.RTCRtpSender.getCapabilities(kind);if(edgeVersion<15019){localCapabilities.codecs=localCapabilities.codecs.filter(function(codec){return codec.name!=="rtx"})}localCapabilities.codecs.forEach(function(codec){if(codec.name.toLowerCase()==="h264"&&codec.parameters["level-asymmetry-allowed"]===undefined){codec.parameters["level-asymmetry-allowed"]="1"}if(transceiver.remoteCapabilities&&transceiver.remoteCapabilities.codecs){transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec){if(codec.name.toLowerCase()===remoteCodec.name.toLowerCase()&&codec.clockRate===remoteCodec.clockRate){codec.preferredPayloadType=remoteCodec.payloadType}})}});localCapabilities.headerExtensions.forEach(function(hdrExt){var remoteExtensions=transceiver.remoteCapabilities&&transceiver.remoteCapabilities.headerExtensions||[];
remoteExtensions.forEach(function(rHdrExt){if(hdrExt.uri===rHdrExt.uri){hdrExt.id=rHdrExt.id}})});var sendEncodingParameters=transceiver.sendEncodingParameters||[{ssrc:parseInt(Math.random()*9999999999+999999999)}];if(track){if(edgeVersion>=15019&&kind==="video"&&!sendEncodingParameters[0].rtx){sendEncodingParameters[0].rtx={ssrc:sendEncodingParameters[0].ssrc+1}}}if(transceiver.wantReceive){transceiver.rtpReceiver=new window.RTCRtpReceiver(transceiver.dtlsTransport,kind)}transceiver.localCapabilities=localCapabilities;transceiver.sendEncodingParameters=sendEncodingParameters});if(pc._config.bundlePolicy!=="max-compat"){sdp+="a=group:BUNDLE "+pc._transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"}sdp+="a=ice-options:trickle\r\n";pc._transceivers.forEach(function(transceiver,sdpMLineIndex){sdp+=writeMediaSection(transceiver,transceiver.localCapabilities,"offer",transceiver.stream,pc._dtlsRole);sdp+="a=rtcp-rsize\r\n";if(transceiver.iceGatherer&&pc._iceGatheringState!=="new"&&(sdpMLineIndex===0||!pc._usingBundle)){transceiver.iceGatherer.getLocalCandidates().forEach(function(cand){cand.component=1;sdp+="a="+SDPUtils.writeCandidate(cand)+"\r\n"});if(transceiver.iceGatherer.state==="complete"){sdp+="a=end-of-candidates\r\n"}}});var desc=new window.RTCSessionDescription({type:"offer",sdp:sdp});return Promise.resolve(desc)};RTCPeerConnection.prototype.createAnswer=function(){var pc=this;if(pc._isClosed){return Promise.reject(util.makeError("InvalidStateError","Can not call createAnswer after close"))}if(!(pc._signalingState==="have-remote-offer"||pc._signalingState==="have-local-pranswer")){return Promise.reject(util.makeError("InvalidStateError","Can not call createAnswer in signalingState "+pc._signalingState))}var sdp=SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,pc._sdpSessionVersion++);if(pc._usingBundle){sdp+="a=group:BUNDLE "+pc._transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"}var mediaSectionsInOffer=SDPUtils.getMediaSections(pc._remoteDescription.sdp).length;pc._transceivers.forEach(function(transceiver,sdpMLineIndex){if(sdpMLineIndex+1>mediaSectionsInOffer){return}if(transceiver.rejected){if(transceiver.kind==="application"){sdp+="m=application 0 DTLS/SCTP 5000\r\n"}else if(transceiver.kind==="audio"){sdp+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\n"+"a=rtpmap:0 PCMU/8000\r\n"}else if(transceiver.kind==="video"){sdp+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\n"+"a=rtpmap:120 VP8/90000\r\n"}sdp+="c=IN IP4 0.0.0.0\r\n"+"a=inactive\r\n"+"a=mid:"+transceiver.mid+"\r\n";return}if(transceiver.stream){var localTrack;if(transceiver.kind==="audio"){localTrack=transceiver.stream.getAudioTracks()[0]}else if(transceiver.kind==="video"){localTrack=transceiver.stream.getVideoTracks()[0]}if(localTrack){if(edgeVersion>=15019&&transceiver.kind==="video"&&!transceiver.sendEncodingParameters[0].rtx){transceiver.sendEncodingParameters[0].rtx={ssrc:transceiver.sendEncodingParameters[0].ssrc+1}}}}var commonCapabilities=getCommonCapabilities(transceiver.localCapabilities,transceiver.remoteCapabilities);var hasRtx=commonCapabilities.codecs.filter(function(c){return c.name.toLowerCase()==="rtx"}).length;if(!hasRtx&&transceiver.sendEncodingParameters[0].rtx){delete transceiver.sendEncodingParameters[0].rtx}sdp+=writeMediaSection(transceiver,commonCapabilities,"answer",transceiver.stream,pc._dtlsRole);if(transceiver.rtcpParameters&&transceiver.rtcpParameters.reducedSize){sdp+="a=rtcp-rsize\r\n"}});var desc=new window.RTCSessionDescription({type:"answer",sdp:sdp});return Promise.resolve(desc)};RTCPeerConnection.prototype.addIceCandidate=function(candidate){var pc=this;var sections;if(candidate&&!(candidate.sdpMLineIndex!==undefined||candidate.sdpMid)){return Promise.reject(new TypeError("sdpMLineIndex or sdpMid required"))}return new Promise(function(resolve,reject){if(!pc._remoteDescription){return reject(util.makeError("InvalidStateError","Can not add ICE candidate without a remote description"))}else if(!candidate||candidate.candidate===""){for(var j=0;j<pc._transceivers.length;j++){if(pc._transceivers[j].rejected){continue}pc._transceivers[j].iceTransport.addRemoteCandidate({});sections=SDPUtils.getMediaSections(pc._remoteDescription.sdp);sections[j]+="a=end-of-candidates\r\n";pc._remoteDescription.sdp=SDPUtils.getDescription(pc._remoteDescription.sdp)+sections.join("");if(pc._usingBundle){break}}}else{var sdpMLineIndex=candidate.sdpMLineIndex;if(candidate.sdpMid){for(var i=0;i<pc._transceivers.length;i++){if(pc._transceivers[i].mid===candidate.sdpMid){sdpMLineIndex=i;break}}}var transceiver=pc._transceivers[sdpMLineIndex];if(transceiver){if(transceiver.rejected){return resolve()}var cand=Object.keys(candidate.candidate).length>0?SDPUtils.parseCandidate(candidate.candidate):{};if(cand.protocol==="tcp"&&(cand.port===0||cand.port===9)){return resolve()}if(cand.component&&cand.component!==1){return resolve()}if(sdpMLineIndex===0||sdpMLineIndex>0&&transceiver.iceTransport!==pc._transceivers[0].iceTransport){if(!util.maybeAddCandidate(transceiver.iceTransport,cand)){return reject(util.makeError("OperationError","Can not add ICE candidate"))}}var candidateString=candidate.candidate.trim();if(candidateString.indexOf("a=")===0){candidateString=candidateString.substr(2)}sections=SDPUtils.getMediaSections(pc._remoteDescription.sdp);sections[sdpMLineIndex]+="a="+(cand.type?candidateString:"end-of-candidates")+"\r\n";pc._remoteDescription.sdp=SDPUtils.getDescription(pc._remoteDescription.sdp)+sections.join("")}else{return reject(util.makeError("OperationError","Can not add ICE candidate"))}}resolve()})};RTCPeerConnection.prototype.getStats=function(selector){if(selector&&selector instanceof window.MediaStreamTrack){var senderOrReceiver=null;this._transceivers.forEach(function(transceiver){if(transceiver.rtpSender&&transceiver.rtpSender.track===selector){senderOrReceiver=transceiver.rtpSender}else if(transceiver.rtpReceiver&&transceiver.rtpReceiver.track===selector){senderOrReceiver=transceiver.rtpReceiver}});if(!senderOrReceiver){throw util.makeError("InvalidAccessError","Invalid selector.")}return senderOrReceiver.getStats()}var promises=[];this._transceivers.forEach(function(transceiver){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(method){if(transceiver[method]){promises.push(transceiver[method].getStats())}})});var fixStatsType=function(stat){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[stat.type]||stat.type};var changeStatsId=function(stat){var newId;var mediaType=stat.mediaType?stat.mediaType.charAt(0).toUpperCase()+stat.mediaType.slice(1):stat.codecId&&stat.codecId.match(/(vp8|h264|vp9|h265|x-h264uc)/i)?"Video":"Audio";switch(stat.type){case"inbound-rtp":newId="RTCInboundRTP"+mediaType+"Stream_"+stat.id;case"outbound-rtp":newId="RTCOutboundRTP"+mediaType+"Stream_"+stat.id;case"track":newId="RTCMediaStreamTrack_"+(stat.remoteSource?"remote_":"local_")+mediaType+"_"+stat.id;stat.id=newId;return newId;default:return stat.id}};return new Promise(function(resolve){var results=new Map;Promise.all(promises).then(function(res){res.forEach(function(result){Object.keys(result).forEach(function(id){result[id].type=fixStatsType(result[id]);var newId=changeStatsId(result[id]);results.set(newId,result[id])})});resolve(results)})})};util.shimLegacyCallbacks(RTCPeerConnection);return RTCPeerConnection}},{"./getcommoncapabilities":2,"./rtcdtlstransport":3,"./rtcicegatherer":4,"./rtcicetransport":5,"./rtcrtpsender":7,"./util":8,"./writemediasection":9,sdp:10}],7:[function(require,module,exports){"use strict";var util=require("./util");module.exports=function(window){var RTCRtpSender_=window.RTCRtpSender;var RTCRtpSender=function(trackOrKind,transport){this._sender=null;this._track=null;this._transport=null;if(typeof trackOrKind==="string"){this.kind=trackOrKind;this._transport=transport||null}else if(!transport){this._track=trackOrKind;this.kind=trackOrKind.kind}else{this._sender=new RTCRtpSender_(trackOrKind,transport);this.kind=trackOrKind.kind}this._isStopped=false};Object.defineProperty(RTCRtpSender.prototype,"dtmf",{get:function(){if(this._dtmf===undefined){if(this.kind==="audio"){if(!this._sender){throw util.makeError("InvalidStateError","Can not access dtmf in this state")}else{this._dtmf=new window.RTCDtmfSender(this._sender)}}else if(this.kind==="video"){this._dtmf=null}}return this._dtmf}});RTCRtpSender.getCapabilities=RTCRtpSender_.getCapabilities;Object.defineProperty(RTCRtpSender.prototype,"track",{get:function(){return this._sender?this._sender.track:this._track}});Object.defineProperty(RTCRtpSender.prototype,"transport",{get:function(){return this._sender?this._sender.transport:this._transport}});RTCRtpSender.prototype.setTransport=function(transport){if(!this._sender&&this._track){this._sender=new RTCRtpSender_(this._track,transport)}else if(this._sender){this._sender.setTransport(transport)}else{this._transport=transport}};RTCRtpSender.prototype.replaceTrack=function(track){if(track&&this.kind!==track.kind){return Promise.reject(new TypeError)}if(this._sender){this._sender.replaceTrack(track)}else if(track&&this._transport){this._sender=new RTCRtpSender_(track,this._transport)}else{this._track=track}return Promise.resolve()};RTCRtpSender.prototype.setTrack=function(track){if(track&&this.kind!==track.kind){return Promise.reject(new TypeError)}if(this._sender){this._sender.setTrack(track)}else if(track&&this._transport){this._sender=new RTCRtpSender_(track,this._transport)}else{this._track=track}return Promise.resolve()};RTCRtpSender.prototype.send=function(parameters){if(this._sender){return this._sender.send(parameters)}return Promise.reject(util.makeError("InvalidStateError","Can not call send in this state"))};RTCRtpSender.prototype.stop=function(){if(this._sender){this._sender.stop()}};RTCRtpSender.prototype.getStats=function(){if(this._sender){return this._sender.getStats()}return Promise.reject(util.makeError("InvalidStateError","Can not call send in this state"))};return RTCRtpSender}},{"./util":8}],8:[function(require,module,exports){"use strict";function fixStatsType(stat){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[stat.type]||stat.type}module.exports={fixStatsType:fixStatsType,makeError:function(name,description){var e=new Error(description);e.name=name;e.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:undefined,OperationError:undefined}[name];return e},filterIceServers:function(iceServers,edgeVersion){var hasTurn=false;iceServers=JSON.parse(JSON.stringify(iceServers));return iceServers.filter(function(server){if(server&&(server.urls||server.url)){var urls=server.urls||server.url;if(server.url&&!server.urls){console.warn("RTCIceServer.url is deprecated! Use urls instead.")}var isString=typeof urls==="string";if(isString){urls=[urls]}urls=urls.filter(function(url){var validTurn=url.indexOf("turn:")===0&&url.indexOf("transport=udp")!==-1&&url.indexOf("turn:[")===-1&&!hasTurn;if(validTurn){hasTurn=true;return true}return url.indexOf("stun:")===0&&edgeVersion>=14393&&url.indexOf("?transport=udp")===-1});delete server.url;server.urls=isString?urls[0]:urls;return!!urls.length}})},fixORTCGetStats:function(window){var ortcObjects=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];ortcObjects.forEach(function(ortcObjectName){var obj=window[ortcObjectName];if(obj&&obj.prototype&&obj.prototype.getStats){var nativeGetstats=obj.prototype.getStats;obj.prototype.getStats=function(){return nativeGetstats.apply(this).then(function(nativeStats){var mapStats=new Map;Object.keys(nativeStats).forEach(function(id){nativeStats[id].type=fixStatsType(nativeStats[id]);mapStats.set(id,nativeStats[id])});return mapStats})}}})},aliasEventListener:function(obj,eventName,alias){["addEventListener","removeEventListener"].forEach(function(method){var nativeMethod=obj[method];obj[method]=function(nativeEventName,cb){if(nativeEventName!==alias){return nativeMethod.apply(this,arguments)}return nativeMethod.apply(this,[eventName,cb])}});Object.defineProperty(obj,"on"+alias,{get:function(){return this["_on"+alias]},set:function(cb){if(this["_on"+alias]){this.removeEventListener(alias,this["_on"+alias]);delete this["_on"+alias]}if(cb){this.addEventListener(alias,this["_on"+alias]=cb)}}})},addTrackToStreamAndFireEvent:function(track,stream){stream.addTrack(track);stream.dispatchEvent(new window.MediaStreamTrackEvent("addtrack",{track:track}))},removeTrackFromStreamAndFireEvent:function(track,stream){stream.removeTrack(track);stream.dispatchEvent(new window.MediaStreamTrackEvent("removetrack",{track:track}))},maybeAddCandidate:function(iceTransport,candidate){var alreadyAdded=iceTransport.getRemoteCandidates().find(function(remoteCandidate){return candidate.foundation===remoteCandidate.foundation&&candidate.ip===remoteCandidate.ip&&candidate.port===remoteCandidate.port&&candidate.priority===remoteCandidate.priority&&candidate.protocol===remoteCandidate.protocol&&candidate.type===remoteCandidate.type});if(!alreadyAdded){iceTransport.addRemoteCandidate(candidate)}return!alreadyAdded},isActionAllowedInSignalingState:function(action,type,signalingState){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[type][action].indexOf(signalingState)!==-1},shimLegacyCallbacks:function(RTCPeerConnection){var methods=["createOffer","createAnswer"];methods.forEach(function(method){var nativeMethod=RTCPeerConnection.prototype[method];RTCPeerConnection.prototype[method]=function(){var args=arguments;if(typeof args[0]==="function"||typeof args[1]==="function"){return nativeMethod.apply(this,[arguments[2]]).then(function(description){if(typeof args[0]==="function"){args[0].apply(null,[description])}},function(error){if(typeof args[1]==="function"){args[1].apply(null,[error])}})}return nativeMethod.apply(this,arguments)}});methods=["setLocalDescription","setRemoteDescription","addIceCandidate"];methods.forEach(function(method){var nativeMethod=RTCPeerConnection.prototype[method];RTCPeerConnection.prototype[method]=function(){var args=arguments;if(typeof args[1]==="function"||typeof args[2]==="function"){return nativeMethod.apply(this,arguments).then(function(){if(typeof args[1]==="function"){args[1].apply(null)}},function(error){if(typeof args[2]==="function"){args[2].apply(null,[error])}})}return nativeMethod.apply(this,arguments)}});["getStats"].forEach(function(method){var nativeMethod=RTCPeerConnection.prototype[method];RTCPeerConnection.prototype[method]=function(){var args=arguments;if(typeof args[1]==="function"){return nativeMethod.apply(this,arguments).then(function(){if(typeof args[1]==="function"){args[1].apply(null)}})}return nativeMethod.apply(this,arguments)}})}}},{}],9:[function(require,module,exports){"use strict";var SDPUtils=require("sdp");module.exports=function(transceiver,caps,type,stream,dtlsRole){var sdp=SDPUtils.writeRtpDescription(transceiver.kind,caps);sdp+=SDPUtils.writeIceParameters(transceiver.iceGatherer.getLocalParameters());sdp+=SDPUtils.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(),type==="offer"?"actpass":dtlsRole);sdp+="a=mid:"+transceiver.mid+"\r\n";if(transceiver.rtpSender&&transceiver.rtpReceiver){sdp+="a=sendrecv\r\n"}else if(transceiver.rtpSender){sdp+="a=sendonly\r\n"}else if(transceiver.rtpReceiver){sdp+="a=recvonly\r\n"}else{sdp+="a=inactive\r\n"}if(transceiver.rtpSender){var trackId=transceiver.rtpSender._initialTrackId||transceiver.rtpSender.track.id;transceiver.rtpSender._initialTrackId=trackId;var msid="msid:"+(stream?stream.id:"-")+" "+trackId+"\r\n";sdp+="a="+msid;if(transceiver.sendEncodingParameters[0].rtx){sdp+="a=ssrc-group:FID "+transceiver.sendEncodingParameters[0].ssrc+" "+transceiver.sendEncodingParameters[0].rtx.ssrc+"\r\n"}sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].ssrc+" cname:"+SDPUtils.localCName+"\r\n";sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].ssrc+" "+msid;if(transceiver.sendEncodingParameters[0].rtx){sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].rtx.ssrc+" cname:"+SDPUtils.localCName+"\r\n";sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].rtx.ssrc+" "+msid}}return sdp}},{sdp:10}],10:[function(require,module,exports){"use strict";var SDPUtils={};SDPUtils.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)};SDPUtils.localCName=SDPUtils.generateIdentifier();SDPUtils.splitLines=function(blob){return blob.trim().split("\n").map(function(line){return line.trim()})};SDPUtils.splitSections=function(blob){var parts=blob.split("\nm=");return parts.map(function(part,index){return(index>0?"m="+part:part).trim()+"\r\n"})};SDPUtils.getDescription=function(blob){var sections=SDPUtils.splitSections(blob);return sections&&sections[0]};SDPUtils.getMediaSections=function(blob){var sections=SDPUtils.splitSections(blob);sections.shift();return sections};SDPUtils.matchPrefix=function(blob,prefix){return SDPUtils.splitLines(blob).filter(function(line){return line.indexOf(prefix)===0})};SDPUtils.parseCandidate=function(line){var parts;if(line.indexOf("a=candidate:")===0){parts=line.substring(12).split(" ")}else{parts=line.substring(10).split(" ")}var candidate={foundation:parts[0],component:parseInt(parts[1],10),protocol:parts[2].toLowerCase(),priority:parseInt(parts[3],10),ip:parts[4],port:parseInt(parts[5],10),type:parts[7]};for(var i=8;i<parts.length;i+=2){switch(parts[i]){case"raddr":candidate.relatedAddress=parts[i+1];break;case"rport":candidate.relatedPort=parseInt(parts[i+1],10);break;case"tcptype":candidate.tcpType=parts[i+1];break;case"ufrag":candidate.ufrag=parts[i+1];candidate.usernameFragment=parts[i+1];break;default:candidate[parts[i]]=parts[i+1];break}}return candidate};SDPUtils.writeCandidate=function(candidate){var sdp=[];sdp.push(candidate.foundation);sdp.push(candidate.component);sdp.push(candidate.protocol.toUpperCase());sdp.push(candidate.priority);sdp.push(candidate.ip);sdp.push(candidate.port);var type=candidate.type;sdp.push("typ");sdp.push(type);if(type!=="host"&&candidate.relatedAddress&&candidate.relatedPort){sdp.push("raddr");sdp.push(candidate.relatedAddress);sdp.push("rport");sdp.push(candidate.relatedPort)}if(candidate.tcpType&&candidate.protocol.toLowerCase()==="tcp"){sdp.push("tcptype");sdp.push(candidate.tcpType)}if(candidate.usernameFragment||candidate.ufrag){sdp.push("ufrag");sdp.push(candidate.usernameFragment||candidate.ufrag)}return"candidate:"+sdp.join(" ")};SDPUtils.parseIceOptions=function(line){return line.substr(14).split(" ")};SDPUtils.parseRtpMap=function(line){var parts=line.substr(9).split(" ");var parsed={payloadType:parseInt(parts.shift(),10)};parts=parts[0].split("/");parsed.name=parts[0];parsed.clockRate=parseInt(parts[1],10);parsed.numChannels=parts.length===3?parseInt(parts[2],10):1;return parsed};SDPUtils.writeRtpMap=function(codec){var pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType}return"a=rtpmap:"+pt+" "+codec.name+"/"+codec.clockRate+(codec.numChannels!==1?"/"+codec.numChannels:"")+"\r\n"};SDPUtils.parseExtmap=function(line){var parts=line.substr(9).split(" ");return{id:parseInt(parts[0],10),direction:parts[0].indexOf("/")>0?parts[0].split("/")[1]:"sendrecv",uri:parts[1]}};SDPUtils.writeExtmap=function(headerExtension){return"a=extmap:"+(headerExtension.id||headerExtension.preferredId)+(headerExtension.direction&&headerExtension.direction!=="sendrecv"?"/"+headerExtension.direction:"")+" "+headerExtension.uri+"\r\n"};SDPUtils.parseFmtp=function(line){var parsed={};var kv;var parts=line.substr(line.indexOf(" ")+1).split(";");for(var j=0;j<parts.length;j++){kv=parts[j].trim().split("=");parsed[kv[0].trim()]=kv[1]}return parsed};SDPUtils.writeFmtp=function(codec){var line="";var pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType}if(codec.parameters&&Object.keys(codec.parameters).length){var params=[];Object.keys(codec.parameters).forEach(function(param){params.push(param+"="+codec.parameters[param])});line+="a=fmtp:"+pt+" "+params.join(";")+"\r\n"}return line};SDPUtils.parseRtcpFb=function(line){var parts=line.substr(line.indexOf(" ")+1).split(" ");return{type:parts.shift(),parameter:parts.join(" ")}};SDPUtils.writeRtcpFb=function(codec){var lines="";var pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType}if(codec.rtcpFeedback&&codec.rtcpFeedback.length){codec.rtcpFeedback.forEach(function(fb){lines+="a=rtcp-fb:"+pt+" "+fb.type+(fb.parameter&&fb.parameter.length?" "+fb.parameter:"")+"\r\n"})}return lines};SDPUtils.parseSsrcMedia=function(line){var sp=line.indexOf(" ");var parts={ssrc:parseInt(line.substr(7,sp-7),10)};var colon=line.indexOf(":",sp);if(colon>-1){parts.attribute=line.substr(sp+1,colon-sp-1);parts.value=line.substr(colon+1)}else{parts.attribute=line.substr(sp+1)}return parts};SDPUtils.getMid=function(mediaSection){var mid=SDPUtils.matchPrefix(mediaSection,"a=mid:")[0];if(mid){return mid.substr(6)}};SDPUtils.parseFingerprint=function(line){var parts=line.substr(14).split(" ");return{algorithm:parts[0].toLowerCase(),value:parts[1]}};SDPUtils.parseDtlsRole=function(line){var parts=line.substr(8);return{algorithm:parts[0].toLowerCase(),value:parts[1]}};SDPUtils.getDtlsParameters=function(mediaSection,sessionpart){var lines=SDPUtils.matchPrefix(mediaSection+sessionpart,"a=fingerprint:");var roleline=SDPUtils.matchPrefix(mediaSection+sessionpart,"a=setup:");var role="auto";if(roleline&&roleline[0]){var _type=roleline[0].substr(8);if(_type==="passive"){role="client"}else if(_type==="active"){role="server"}else{role="auto"}}return{role:role,fingerprints:lines.map(SDPUtils.parseFingerprint)}};SDPUtils.writeDtlsParameters=function(params,setupType){var sdp="a=setup:"+setupType+"\r\n";params.fingerprints.forEach(function(fp){sdp+="a=fingerprint:"+fp.algorithm+" "+fp.value+"\r\n"});return sdp};SDPUtils.getIceParameters=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);lines=lines.concat(SDPUtils.splitLines(sessionpart));var iceParameters={usernameFragment:lines.filter(function(line){return line.indexOf("a=ice-ufrag:")===0})[0].substr(12),password:lines.filter(function(line){return line.indexOf("a=ice-pwd:")===0})[0].substr(10)};return iceParameters};SDPUtils.writeIceParameters=function(params){return"a=ice-ufrag:"+params.usernameFragment+"\r\n"+"a=ice-pwd:"+params.password+"\r\n"};SDPUtils.parseRtpParameters=function(mediaSection){var description={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]};var lines=SDPUtils.splitLines(mediaSection);var mline=lines[0].split(" ");for(var i=3;i<mline.length;i++){var pt=mline[i];var rtpmapline=SDPUtils.matchPrefix(mediaSection,"a=rtpmap:"+pt+" ")[0];if(rtpmapline){var codec=SDPUtils.parseRtpMap(rtpmapline);var fmtps=SDPUtils.matchPrefix(mediaSection,"a=fmtp:"+pt+" ");codec.parameters=fmtps.length?SDPUtils.parseFmtp(fmtps[0]):{};codec.rtcpFeedback=SDPUtils.matchPrefix(mediaSection,"a=rtcp-fb:"+pt+" ").map(SDPUtils.parseRtcpFb);description.codecs.push(codec);switch(codec.name.toUpperCase()){case"RED":case"ULPFEC":description.fecMechanisms.push(codec.name.toUpperCase());break;default:break}}}SDPUtils.matchPrefix(mediaSection,"a=extmap:").forEach(function(line){description.headerExtensions.push(SDPUtils.parseExtmap(line))});return description};SDPUtils.writeRtpDescription=function(kind,caps){var sdp="";sdp+="m="+kind+" ";sdp+=caps.codecs.length>0?"9":"0";sdp+=" UDP/TLS/RTP/SAVPF ";sdp+=caps.codecs.map(function(codec){if(codec.preferredPayloadType!==undefined){return codec.preferredPayloadType}return codec.payloadType}).join(" ")+"\r\n";sdp+="c=IN IP4 0.0.0.0\r\n";sdp+="a=rtcp:9 IN IP4 0.0.0.0\r\n";caps.codecs.forEach(function(codec){sdp+=SDPUtils.writeRtpMap(codec);sdp+=SDPUtils.writeFmtp(codec);sdp+=SDPUtils.writeRtcpFb(codec)});var maxptime=0;caps.codecs.forEach(function(codec){if(codec.maxptime>maxptime){maxptime=codec.maxptime}});if(maxptime>0){sdp+="a=maxptime:"+maxptime+"\r\n"}sdp+="a=rtcp-mux\r\n";caps.headerExtensions.forEach(function(extension){sdp+=SDPUtils.writeExtmap(extension)});return sdp};SDPUtils.parseRtpEncodingParameters=function(mediaSection){var encodingParameters=[];var description=SDPUtils.parseRtpParameters(mediaSection);var hasRed=description.fecMechanisms.indexOf("RED")!==-1;var hasUlpfec=description.fecMechanisms.indexOf("ULPFEC")!==-1;var ssrcs=SDPUtils.matchPrefix(mediaSection,"a=ssrc:").map(function(line){return SDPUtils.parseSsrcMedia(line)}).filter(function(parts){return parts.attribute==="cname"});var primarySsrc=ssrcs.length>0&&ssrcs[0].ssrc;var secondarySsrc;var flows=SDPUtils.matchPrefix(mediaSection,"a=ssrc-group:FID").map(function(line){var parts=line.split(" ");parts.shift();return parts.map(function(part){return parseInt(part,10)})});if(flows.length>0&&flows[0].length>1&&flows[0][0]===primarySsrc){secondarySsrc=flows[0][1]}description.codecs.forEach(function(codec){if(codec.name.toUpperCase()==="RTX"&&codec.parameters.apt){var encParam={ssrc:primarySsrc,codecPayloadType:parseInt(codec.parameters.apt,10),rtx:{ssrc:secondarySsrc}};encodingParameters.push(encParam);if(hasRed){encParam=JSON.parse(JSON.stringify(encParam));encParam.fec={ssrc:secondarySsrc,mechanism:hasUlpfec?"red+ulpfec":"red"};encodingParameters.push(encParam)}}});if(encodingParameters.length===0&&primarySsrc){encodingParameters.push({ssrc:primarySsrc})}var bandwidth=SDPUtils.matchPrefix(mediaSection,"b=");if(bandwidth.length){if(bandwidth[0].indexOf("b=TIAS:")===0){bandwidth=parseInt(bandwidth[0].substr(7),10)}else if(bandwidth[0].indexOf("b=AS:")===0){bandwidth=parseInt(bandwidth[0].substr(5),10)*1e3*.95-50*40*8}else{bandwidth=undefined}encodingParameters.forEach(function(params){params.maxBitrate=bandwidth})}return encodingParameters};SDPUtils.parseRtcpParameters=function(mediaSection){var rtcpParameters={};var cname;var remoteSsrc=SDPUtils.matchPrefix(mediaSection,"a=ssrc:").map(function(line){return SDPUtils.parseSsrcMedia(line)}).filter(function(obj){return obj.attribute==="cname"})[0];if(remoteSsrc){rtcpParameters.cname=remoteSsrc.value;rtcpParameters.ssrc=remoteSsrc.ssrc}var rsize=SDPUtils.matchPrefix(mediaSection,"a=rtcp-rsize");rtcpParameters.reducedSize=rsize.length>0;rtcpParameters.compound=rsize.length===0;var mux=SDPUtils.matchPrefix(mediaSection,"a=rtcp-mux");rtcpParameters.mux=mux.length>0;return rtcpParameters};SDPUtils.parseMsid=function(mediaSection){var parts;var spec=SDPUtils.matchPrefix(mediaSection,"a=msid:");if(spec.length===1){parts=spec[0].substr(7).split(" ");return{stream:parts[0],track:parts[1]}}var planB=SDPUtils.matchPrefix(mediaSection,"a=ssrc:").map(function(line){return SDPUtils.parseSsrcMedia(line)}).filter(function(parts){return parts.attribute==="msid"});if(planB.length>0){parts=planB[0].value.split(" ");return{stream:parts[0],track:parts[1]}}};SDPUtils.generateSessionId=function(){return Math.random().toString().substr(2,21)};SDPUtils.writeSessionBoilerplate=function(sessId,sessVer){var sessionId;var version=sessVer!==undefined?sessVer:2;if(sessId){sessionId=sessId}else{sessionId=SDPUtils.generateSessionId()}return"v=0\r\n"+"o=thisisadapterortc "+sessionId+" "+version+" IN IP4 127.0.0.1\r\n"+"s=-\r\n"+"t=0 0\r\n"};SDPUtils.writeMediaSection=function(transceiver,caps,type,stream){var sdp=SDPUtils.writeRtpDescription(transceiver.kind,caps);sdp+=SDPUtils.writeIceParameters(transceiver.iceGatherer.getLocalParameters());sdp+=SDPUtils.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(),type==="offer"?"actpass":"active");sdp+="a=mid:"+transceiver.mid+"\r\n";if(transceiver.direction){sdp+="a="+transceiver.direction+"\r\n"}else if(transceiver.rtpSender&&transceiver.rtpReceiver){sdp+="a=sendrecv\r\n"}else if(transceiver.rtpSender){sdp+="a=sendonly\r\n"}else if(transceiver.rtpReceiver){sdp+="a=recvonly\r\n"}else{sdp+="a=inactive\r\n"}if(transceiver.rtpSender&&transceiver.direction.indexOf("send")>-1){var msid="msid:"+stream.id+" "+transceiver.rtpSender.track.id+"\r\n";sdp+="a="+msid;if(transceiver.sendEncodingParameters[0].rtx){sdp+="a=ssrc-group:FID "+transceiver.sendEncodingParameters[0].ssrc+" "+transceiver.sendEncodingParameters[0].rtx.ssrc+"\r\n"}sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].ssrc+" cname:"+SDPUtils.localCName+"\r\n";sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].ssrc+" "+msid;if(transceiver.sendEncodingParameters[0].rtx){sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].rtx.ssrc+" cname:"+SDPUtils.localCName+"\r\n";sdp+="a=ssrc:"+transceiver.sendEncodingParameters[0].rtx.ssrc+" "+msid}}return sdp};SDPUtils.getDirection=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);for(var i=0;i<lines.length;i++){switch(lines[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return lines[i].substr(2);default:}}if(sessionpart){return SDPUtils.getDirection(sessionpart)}return"sendrecv"};SDPUtils.getKind=function(mediaSection){var lines=SDPUtils.splitLines(mediaSection);var mline=lines[0].split(" ");return mline[0].substr(2)};SDPUtils.isRejected=function(mediaSection){return mediaSection.split(" ",2)[1]==="0"};SDPUtils.parseMLine=function(mediaSection){var lines=SDPUtils.splitLines(mediaSection);var parts=lines[0].substr(2).split(" ");return{kind:parts[0],port:parseInt(parts[1],10),protocol:parts[2],fmt:parts.slice(3).join(" ")}};SDPUtils.parseOLine=function(mediaSection){var line=SDPUtils.matchPrefix(mediaSection,"o=")[0];var parts=line.substr(2).split(" ");return{username:parts[0],sessionId:parts[1],sessionVersion:parseInt(parts[2],10),netType:parts[3],addressType:parts[4],address:parts[5]}};if(typeof module==="object"){module.exports=SDPUtils}},{}],11:[function(require,module,exports){(function(global){"use strict";var adapterFactory=require("./adapter_factory.js");module.exports=adapterFactory({window:global.window})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./adapter_factory.js":12}],12:[function(require,module,exports){"use strict";var utils=require("./utils");var statsCollector=require("./stats_collector");module.exports=function(dependencies,opts){var window=dependencies&&dependencies.window;var options={shimChrome:true,shimFirefox:true,shimEdge:true,shimSafari:true,shimPlugin:true};for(var key in opts){if(hasOwnProperty.call(opts,key)){options[key]=opts[key]}}var logging=utils.log;var browserDetails=utils.detectBrowser(window);var chromeShim=require("./chrome/chrome_shim")||null;var edgeShim=require("./edge/edge_shim")||null;var firefoxShim=require("./firefox/firefox_shim")||null;var safariShim=require("./safari/safari_shim")||null;var pluginShim=require("./plugin/plugin_shim")||null;var commonShim=require("./common_shim")||null;window.adapter={browserDetails:browserDetails,commonShim:commonShim,extractVersion:utils.extractVersion,disableLog:utils.disableLog,disableWarnings:utils.disableWarnings};switch(browserDetails.browser){case"chrome":case"opera":case"vivaldi":if(!chromeShim||!chromeShim.shimPeerConnection||!options.shimChrome){logging("Chrome shim is not included in this adapter release.");return adapter}logging("adapter.js shimming "+browserDetails.browser);adapter.browserShim=chromeShim;commonShim.shimCreateObjectURL(window);chromeShim.shimGetUserMedia(window);chromeShim.shimMediaStream(window);chromeShim.shimSourceObject(window);chromeShim.shimPeerConnection(window);chromeShim.shimOnTrack(window);chromeShim.shimAddTrackRemoveTrack(window);chromeShim.shimGetSendersWithDtmf(window);chromeShim.shimAttachMediaStream(window);commonShim.shimRTCIceCandidate(window);
commonShim.shimMaxMessageSize(window);commonShim.shimSendThrowTypeError(window);adapter.browserDetails.isSupportWebRTC=true;adapter.browserDetails.isSupportORTC=false;adapter.browserDetails.isWebRTCPluginInstalled=false;adapter.browserDetails.WebRTCPluginVersion=undefined;break;case"firefox":if(!firefoxShim||!firefoxShim.shimPeerConnection||!options.shimFirefox){logging("Firefox shim is not included in this adapter release.");return adapter}logging("adapter.js shimming firefox.");adapter.browserShim=firefoxShim;commonShim.shimCreateObjectURL(window);firefoxShim.shimGetUserMedia(window);firefoxShim.shimSourceObject(window);firefoxShim.shimPeerConnection(window);firefoxShim.shimOnTrack(window);firefoxShim.shimRemoveStream(window);firefoxShim.shimAttachMediaStream(window);commonShim.shimRTCIceCandidate(window);commonShim.shimMaxMessageSize(window);commonShim.shimSendThrowTypeError(window);adapter.browserDetails.isSupportWebRTC=true;adapter.browserDetails.isSupportORTC=false;adapter.browserDetails.isWebRTCPluginInstalled=false;adapter.browserDetails.WebRTCPluginVersion=undefined;break;case"edge":if(!edgeShim||!edgeShim.shimPeerConnection||!options.shimEdge){logging("MS edge shim is not included in this adapter release.");return adapter}logging("adapter.js shimming edge.");adapter.browserShim=edgeShim;commonShim.shimCreateObjectURL(window);edgeShim.shimGetUserMedia(window);edgeShim.shimPeerConnection(window);edgeShim.shimReplaceTrack(window);edgeShim.shimAttachMediaStream(window);if(adapter.browserDetails.version>=15009){adapter.browserDetails.isSupportWebRTC=true}else{adapter.browserDetails.isSupportWebRTC=false}adapter.browserDetails.isSupportORTC=true;adapter.browserDetails.isWebRTCPluginInstalled=false;adapter.browserDetails.WebRTCPluginVersion=undefined;commonShim.shimMaxMessageSize(window);commonShim.shimSendThrowTypeError(window);break;case"safari":if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(!safariShim||!options.shimSafari){logging("Safari shim is not included in this adapter release.");return adapter}adapter.browserDetails.isSupportWebRTC=true;adapter.browserDetails.isSupportORTC=false;adapter.browserDetails.isWebRTCPluginInstalled=false;adapter.browserDetails.WebRTCPluginVersion=undefined;logging("adapter.js shimming safari which is support WebRTC.");adapter.browserShim=safariShim;commonShim.shimCreateObjectURL(window);safariShim.shimRTCIceServerUrls(window);safariShim.shimCallbacksAPI(window);safariShim.shimLocalStreamsAPI(window);safariShim.shimRemoteStreamsAPI(window);safariShim.shimTrackEventTransceiver(window);safariShim.shimGetUserMedia(window);safariShim.shimCreateOfferLegacy(window);safariShim.shimAttachMediaStream(window);commonShim.shimRTCIceCandidate(window);commonShim.shimMaxMessageSize(window);commonShim.shimSendThrowTypeError(window)}else{if(!pluginShim||!options.shimPlugin){logging("Safari Plugin shim is not included in this adapter release.");return adapter}adapter.browserDetails.isSupportWebRTC=false;adapter.browserDetails.isSupportORTC=false;adapter.browserDetails.isWebRTCPluginInstalled=undefined;adapter.browserDetails.WebRTCPluginVersion=undefined;adapter.browserShim=pluginShim;commonShim.shimCreateObjectURL(window);pluginShim.shimGetUserMedia(window);pluginShim.shimPeerConnection(window);pluginShim.shimRTCIceCandidate(window);pluginShim.shimRTCSessionDescription(window);pluginShim.shimOnTrack(window);pluginShim.shimAttachMediaStream(window);window.loadWindows=pluginShim.loadWindows;window.loadScreens=pluginShim.loadScreens;logging("adapter.js shimming safari with plugin")}break;case"ie":if(!pluginShim||!options.shimPlugin){logging("IE Plugin shim is not included in this adapter release.");return adapter}logging("adapter.js shimming IE!");adapter.browserDetails.isSupportWebRTC=false;adapter.browserDetails.isSupportORTC=false;adapter.browserDetails.isWebRTCPluginInstalled=undefined;adapter.browserDetails.WebRTCPluginVersion=undefined;adapter.browserShim=pluginShim;pluginShim.shimGetUserMedia(window);pluginShim.shimPeerConnection(window);pluginShim.shimRTCIceCandidate(window);pluginShim.shimRTCSessionDescription(window);pluginShim.shimOnTrack(window);pluginShim.shimAttachMediaStream(window);window.loadWindows=pluginShim.loadWindows;break;default:logging("Unsupported browser!");break}if(adapter.browserDetails.isSupportWebRTC===true||adapter.browserDetails.isSupportORTC===true){statsCollector.shimStatPC(window);statsCollector.shimStatGUM(window);statsCollector.shimStatInterface(window,adapter);if(adapter.browserDetails.browser!="ie"){Object.freeze(adapter.browserDetails.browser);Object.freeze(adapter.browserDetails.version);Object.freeze(adapter.browserDetails.UIVersion)}Object.freeze(adapter.browserDetails)}return adapter}},{"./chrome/chrome_shim":13,"./common_shim":15,"./edge/edge_shim":16,"./firefox/firefox_shim":19,"./plugin/plugin_shim":22,"./safari/safari_shim":23,"./stats_collector":24,"./utils":26}],13:[function(require,module,exports){"use strict";var utils=require("../utils.js");var logging=utils.log;module.exports={shimGetUserMedia:require("./getusermedia"),shimMediaStream:function(window){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(window){if(typeof window==="object"&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(f){if(this._ontrack){this.removeEventListener("track",this._ontrack)}this.addEventListener("track",this._ontrack=f)}});var origSetRemoteDescription=window.RTCPeerConnection.prototype.setRemoteDescription;window.RTCPeerConnection.prototype.setRemoteDescription=function(){var pc=this;if(!pc._ontrackpoly){pc._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(te){var receiver;if(window.RTCPeerConnection.prototype.getReceivers){receiver=pc.getReceivers().find(function(r){return r.track&&r.track.id===te.track.id})}else{receiver={track:te.track}}var event=new Event("track");event.track=te.track;event.receiver=receiver;event.transceiver={receiver:receiver};event.streams=[e.stream];pc.dispatchEvent(event)});e.stream.getTracks().forEach(function(track){var receiver;if(window.RTCPeerConnection.prototype.getReceivers){receiver=pc.getReceivers().find(function(r){return r.track&&r.track.id===track.id})}else{receiver={track:track}}var event=new Event("track");event.track=track;event.receiver=receiver;event.transceiver={receiver:receiver};event.streams=[e.stream];pc.dispatchEvent(event)})};pc.addEventListener("addstream",pc._ontrackpoly)}return origSetRemoteDescription.apply(pc,arguments)}}else if(!("RTCRtpTransceiver"in window)){utils.wrapPeerConnectionEvent(window,"track",function(e){if(!e.transceiver){e.transceiver={receiver:e.receiver}}return e})}},shimGetSendersWithDtmf:function(window){if(typeof window==="object"&&window.RTCPeerConnection&&!("getSenders"in window.RTCPeerConnection.prototype)&&"createDTMFSender"in window.RTCPeerConnection.prototype){var shimSenderWithDtmf=function(pc,track){return{track:track,get dtmf(){if(this._dtmf===undefined){if(track.kind==="audio"){this._dtmf=pc.createDTMFSender(track)}else{this._dtmf=null}}return this._dtmf},_pc:pc}};if(!window.RTCPeerConnection.prototype.getSenders){window.RTCPeerConnection.prototype.getSenders=function(){this._senders=this._senders||[];return this._senders.slice()};var origAddTrack=window.RTCPeerConnection.prototype.addTrack;window.RTCPeerConnection.prototype.addTrack=function(track,stream){var pc=this;var sender=origAddTrack.apply(pc,arguments);if(!sender){sender=shimSenderWithDtmf(pc,track);pc._senders.push(sender)}return sender};var origRemoveTrack=window.RTCPeerConnection.prototype.removeTrack;window.RTCPeerConnection.prototype.removeTrack=function(sender){var pc=this;origRemoveTrack.apply(pc,arguments);var idx=pc._senders.indexOf(sender);if(idx!==-1){pc._senders.splice(idx,1)}}}var origAddStream=window.RTCPeerConnection.prototype.addStream;window.RTCPeerConnection.prototype.addStream=function(stream){var pc=this;pc._senders=pc._senders||[];origAddStream.apply(pc,[stream]);stream.getTracks().forEach(function(track){pc._senders.push(shimSenderWithDtmf(pc,track))})};var origRemoveStream=window.RTCPeerConnection.prototype.removeStream;window.RTCPeerConnection.prototype.removeStream=function(stream){var pc=this;pc._senders=pc._senders||[];origRemoveStream.apply(pc,[stream]);stream.getTracks().forEach(function(track){var sender=pc._senders.find(function(s){return s.track===track});if(sender){pc._senders.splice(pc._senders.indexOf(sender),1)}})}}else if(typeof window==="object"&&window.RTCPeerConnection&&"getSenders"in window.RTCPeerConnection.prototype&&"createDTMFSender"in window.RTCPeerConnection.prototype&&window.RTCRtpSender&&!("dtmf"in window.RTCRtpSender.prototype)){var origGetSenders=window.RTCPeerConnection.prototype.getSenders;window.RTCPeerConnection.prototype.getSenders=function(){var pc=this;var senders=origGetSenders.apply(pc,[]);senders.forEach(function(sender){sender._pc=pc});return senders};Object.defineProperty(window.RTCRtpSender.prototype,"dtmf",{get:function(){if(this._dtmf===undefined){if(this.track.kind==="audio"){this._dtmf=this._pc.createDTMFSender(this.track)}else{this._dtmf=null}}return this._dtmf}})}},shimSourceObject:function(window){var URL=window&&window.URL;if(typeof window==="object"){if(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)){Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(stream){var self=this;this._srcObject=stream;if(this.src){URL.revokeObjectURL(this.src)}if(!stream){this.src="";return undefined}this.src=URL.createObjectURL(stream);stream.addEventListener("addtrack",function(){if(self.src){URL.revokeObjectURL(self.src)}self.src=URL.createObjectURL(stream)});stream.addEventListener("removetrack",function(){if(self.src){URL.revokeObjectURL(self.src)}self.src=URL.createObjectURL(stream)})}})}}},shimAddTrackRemoveTrackWithNative:function(window){window.RTCPeerConnection.prototype.getLocalStreams=function(){var pc=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};return Object.keys(this._shimmedLocalStreams).map(function(streamId){return pc._shimmedLocalStreams[streamId][0]})};var origAddTrack=window.RTCPeerConnection.prototype.addTrack;window.RTCPeerConnection.prototype.addTrack=function(track,stream){if(!stream){return origAddTrack.apply(this,arguments)}this._shimmedLocalStreams=this._shimmedLocalStreams||{};var sender=origAddTrack.apply(this,arguments);if(!this._shimmedLocalStreams[stream.id]){this._shimmedLocalStreams[stream.id]=[stream,sender]}else if(this._shimmedLocalStreams[stream.id].indexOf(sender)===-1){this._shimmedLocalStreams[stream.id].push(sender)}return sender};var origAddStream=window.RTCPeerConnection.prototype.addStream;window.RTCPeerConnection.prototype.addStream=function(stream){var pc=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};stream.getTracks().forEach(function(track){var alreadyExists=pc.getSenders().find(function(s){return s.track===track});if(alreadyExists){throw new DOMException("Track already exists.","InvalidAccessError")}});var existingSenders=pc.getSenders();origAddStream.apply(this,arguments);var newSenders=pc.getSenders().filter(function(newSender){return existingSenders.indexOf(newSender)===-1});this._shimmedLocalStreams[stream.id]=[stream].concat(newSenders)};var origRemoveStream=window.RTCPeerConnection.prototype.removeStream;window.RTCPeerConnection.prototype.removeStream=function(stream){this._shimmedLocalStreams=this._shimmedLocalStreams||{};delete this._shimmedLocalStreams[stream.id];return origRemoveStream.apply(this,arguments)};var origRemoveTrack=window.RTCPeerConnection.prototype.removeTrack;window.RTCPeerConnection.prototype.removeTrack=function(sender){var pc=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};if(sender){Object.keys(this._shimmedLocalStreams).forEach(function(streamId){var idx=pc._shimmedLocalStreams[streamId].indexOf(sender);if(idx!==-1){pc._shimmedLocalStreams[streamId].splice(idx,1)}if(pc._shimmedLocalStreams[streamId].length===1){delete pc._shimmedLocalStreams[streamId]}})}return origRemoveTrack.apply(this,arguments)}},shimAddTrackRemoveTrack:function(window){var browserDetails=utils.detectBrowser(window);if(window.RTCPeerConnection.prototype.addTrack&&browserDetails.version>=65){return this.shimAddTrackRemoveTrackWithNative(window)}var origGetLocalStreams=window.RTCPeerConnection.prototype.getLocalStreams;window.RTCPeerConnection.prototype.getLocalStreams=function(){var pc=this;var nativeStreams=origGetLocalStreams.apply(this);pc._reverseStreams=pc._reverseStreams||{};return nativeStreams.map(function(stream){return pc._reverseStreams[stream.id]})};var origAddStream=window.RTCPeerConnection.prototype.addStream;window.RTCPeerConnection.prototype.addStream=function(stream){var pc=this;pc._streams=pc._streams||{};pc._reverseStreams=pc._reverseStreams||{};stream.getTracks().forEach(function(track){var alreadyExists=pc.getSenders().find(function(s){return s.track===track});if(alreadyExists){throw new DOMException("Track already exists.","InvalidAccessError")}});if(!pc._reverseStreams[stream.id]){var newStream=new window.MediaStream(stream.getTracks());pc._streams[stream.id]=newStream;pc._reverseStreams[newStream.id]=stream;stream=newStream}origAddStream.apply(pc,[stream])};var origRemoveStream=window.RTCPeerConnection.prototype.removeStream;window.RTCPeerConnection.prototype.removeStream=function(stream){var pc=this;pc._streams=pc._streams||{};pc._reverseStreams=pc._reverseStreams||{};origRemoveStream.apply(pc,[pc._streams[stream.id]||stream]);delete pc._reverseStreams[pc._streams[stream.id]?pc._streams[stream.id].id:stream.id];delete pc._streams[stream.id]};window.RTCPeerConnection.prototype.addTrack=function(track,stream){var pc=this;if(pc.signalingState==="closed"){throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError")}var streams=[].slice.call(arguments,1);if(streams.length!==1||!streams[0].getTracks().find(function(t){return t===track})){throw new DOMException("The adapter.js addTrack polyfill only supports a single "+" stream which is associated with the specified track.","NotSupportedError")}var alreadyExists=pc.getSenders().find(function(s){return s.track===track});if(alreadyExists){throw new DOMException("Track already exists.","InvalidAccessError")}pc._streams=pc._streams||{};pc._reverseStreams=pc._reverseStreams||{};var oldStream=pc._streams[stream.id];if(oldStream){oldStream.addTrack(track);Promise.resolve().then(function(){pc.dispatchEvent(new Event("negotiationneeded"))})}else{var newStream=new window.MediaStream([track]);pc._streams[stream.id]=newStream;pc._reverseStreams[newStream.id]=stream;pc.addStream(newStream)}return pc.getSenders().find(function(s){return s.track===track})};function replaceInternalStreamId(pc,description){var sdp=description.sdp;Object.keys(pc._reverseStreams||[]).forEach(function(internalId){var externalStream=pc._reverseStreams[internalId];var internalStream=pc._streams[externalStream.id];sdp=sdp.replace(new RegExp(internalStream.id,"g"),externalStream.id)});return new RTCSessionDescription({type:description.type,sdp:sdp})}function replaceExternalStreamId(pc,description){var sdp=description.sdp;Object.keys(pc._reverseStreams||[]).forEach(function(internalId){var externalStream=pc._reverseStreams[internalId];var internalStream=pc._streams[externalStream.id];sdp=sdp.replace(new RegExp(externalStream.id,"g"),internalStream.id)});return new RTCSessionDescription({type:description.type,sdp:sdp})}["createOffer","createAnswer"].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];window.RTCPeerConnection.prototype[method]=function(){var pc=this;var args=arguments;var isLegacyCall=arguments.length&&typeof arguments[0]==="function";if(isLegacyCall){return nativeMethod.apply(pc,[function(description){var desc=replaceInternalStreamId(pc,description);args[0].apply(null,[desc])},function(err){if(args[1]){args[1].apply(null,err)}},arguments[2]])}return nativeMethod.apply(pc,arguments).then(function(description){return replaceInternalStreamId(pc,description)})}});var origSetLocalDescription=window.RTCPeerConnection.prototype.setLocalDescription;window.RTCPeerConnection.prototype.setLocalDescription=function(){var pc=this;if(!arguments.length||!arguments[0].type){return origSetLocalDescription.apply(pc,arguments)}arguments[0]=replaceExternalStreamId(pc,arguments[0]);return origSetLocalDescription.apply(pc,arguments)};var origLocalDescription=Object.getOwnPropertyDescriptor(window.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(window.RTCPeerConnection.prototype,"localDescription",{get:function(){var pc=this;var description=origLocalDescription.get.apply(this);if(description.type===""){return description}return replaceInternalStreamId(pc,description)}});window.RTCPeerConnection.prototype.removeTrack=function(sender){var pc=this;if(pc.signalingState==="closed"){throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError")}if(!sender._pc){throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack "+"does not implement interface RTCRtpSender.","TypeError")}var isLocal=sender._pc===pc;if(!isLocal){throw new DOMException("Sender was not created by this connection.","InvalidAccessError")}pc._streams=pc._streams||{};var stream;Object.keys(pc._streams).forEach(function(streamid){var hasTrack=pc._streams[streamid].getTracks().find(function(track){return sender.track===track});if(hasTrack){stream=pc._streams[streamid]}});if(stream){if(stream.getTracks().length===1){pc.removeStream(pc._reverseStreams[stream.id])}else{stream.removeTrack(sender.track)}pc.dispatchEvent(new Event("negotiationneeded"))}}},shimPeerConnection:function(window){var browserDetails=utils.detectBrowser(window);if(!window.RTCPeerConnection){window.RTCPeerConnection=function(pcConfig,pcConstraints){logging("PeerConnection");if(pcConfig&&pcConfig.iceTransportPolicy){pcConfig.iceTransports=pcConfig.iceTransportPolicy}return new window.webkitRTCPeerConnection(pcConfig,pcConstraints)};window.RTCPeerConnection.prototype=window.webkitRTCPeerConnection.prototype;if(window.webkitRTCPeerConnection.generateCertificate){Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return window.webkitRTCPeerConnection.generateCertificate}})}}else{var OrigPeerConnection=window.RTCPeerConnection;window.RTCPeerConnection=function(pcConfig,pcConstraints){if(pcConfig&&pcConfig.iceServers&&pcConfig.iceServers.length>0){var newIceServers=[];for(var i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(!server.hasOwnProperty("urls")&&server.hasOwnProperty("url")){utils.deprecated("RTCIceServer.url","RTCIceServer.urls");server=JSON.parse(JSON.stringify(server));server.urls=server.url;newIceServers.push(server)}else{newIceServers.push(pcConfig.iceServers[i])}}pcConfig.iceServers=newIceServers}return new OrigPeerConnection(pcConfig,pcConstraints)};window.RTCPeerConnection.prototype=OrigPeerConnection.prototype;Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return OrigPeerConnection.generateCertificate}})}var origGetStats=window.RTCPeerConnection.prototype.getStats;window.RTCPeerConnection.prototype.getStats=function(selector,successCallback,errorCallback){var pc=this;var args=arguments;if(arguments.length>0&&typeof selector==="function"){return origGetStats.apply(this,arguments)}if(arguments.length===0||typeof arguments[0]!=="function"){return origGetStats.apply(this,[arguments[1],arguments[0],arguments[2]])}var fixChromeStats_=function(response){var standardReport={};var reports=response.result();reports.forEach(function(report){var standardStats={id:report.id,timestamp:report.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[report.type]||report.type};report.names().forEach(function(name){standardStats[name]=report.stat(name)});standardReport[standardStats.id]=standardStats});return standardReport};var makeMapStats=function(stats){return new Map(Object.keys(stats).map(function(key){return[key,stats[key]]}))};if(arguments.length>=2){var successCallbackWrapper_=function(response){args[1](makeMapStats(fixChromeStats_(response)))};return origGetStats.apply(this,[successCallbackWrapper_,arguments[0]])}return new Promise(function(resolve,reject){origGetStats.apply(pc,[function(response){resolve(makeMapStats(fixChromeStats_(response)))},reject])}).then(successCallback,errorCallback)};if(browserDetails.version<51){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];window.RTCPeerConnection.prototype[method]=function(){var args=arguments;var pc=this;var promise=new Promise(function(resolve,reject){nativeMethod.apply(pc,[args[0],resolve,reject])});if(args.length<2){return promise}return promise.then(function(){args[1].apply(null,[])},function(err){if(args.length>=3){args[2].apply(null,[err])}})}})}if(browserDetails.version<52){["createOffer","createAnswer"].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];window.RTCPeerConnection.prototype[method]=function(){var pc=this;if(arguments.length<1||arguments.length===1&&typeof arguments[0]==="object"){var opts=arguments.length===1?arguments[0]:undefined;return new Promise(function(resolve,reject){nativeMethod.apply(pc,[resolve,reject,opts])})}return nativeMethod.apply(this,arguments)}})}["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];window.RTCPeerConnection.prototype[method]=function(){arguments[0]=new(method==="addIceCandidate"?window.RTCIceCandidate:window.RTCSessionDescription)(arguments[0]);return nativeMethod.apply(this,arguments)}});var nativeAddIceCandidate=window.RTCPeerConnection.prototype.addIceCandidate;window.RTCPeerConnection.prototype.addIceCandidate=function(){if(!arguments[0]){if(arguments[1]){arguments[1].apply(null)}return Promise.resolve()}return nativeAddIceCandidate.apply(this,arguments)}},shimAttachMediaStream:function(window){var browserDetails=utils.detectBrowser(window);var attachMediaStream=function(element,stream){element.srcObject=stream};window.attachMediaStream=attachMediaStream}}},{"../utils.js":26,"./getusermedia":14}],14:[function(require,module,exports){"use strict";var utils=require("../utils.js");var logging=utils.log;module.exports=function(window){var browserDetails=utils.detectBrowser(window);var navigator=window&&window.navigator;var constraintsToChrome_=function(c){if(typeof c!=="object"||c.mandatory||c.optional){return c}var cc={};Object.keys(c).forEach(function(key){if(key==="require"||key==="advanced"||key==="mediaSource"){return}var r=typeof c[key]==="object"?c[key]:{ideal:c[key]};if(r.exact!==undefined&&typeof r.exact==="number"){r.min=r.max=r.exact}var oldname_=function(prefix,name){if(prefix){return prefix+name.charAt(0).toUpperCase()+name.slice(1)}return name==="deviceId"?"sourceId":name};if(r.ideal!==undefined){cc.optional=cc.optional||[];var oc={};if(typeof r.ideal==="number"){oc[oldname_("min",key)]=r.ideal;cc.optional.push(oc);oc={};oc[oldname_("max",key)]=r.ideal;cc.optional.push(oc)}else{oc[oldname_("",key)]=r.ideal;cc.optional.push(oc)}}if(r.exact!==undefined&&typeof r.exact!=="number"){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname_("",key)]=r.exact}else{["min","max"].forEach(function(mix){if(r[mix]!==undefined){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname_(mix,key)]=r[mix]}})}});if(c.advanced){cc.optional=(cc.optional||[]).concat(c.advanced)}return cc};var shimConstraints_=function(constraints,func){if(browserDetails.version>=61){return func(constraints)}constraints=JSON.parse(JSON.stringify(constraints));if(constraints&&typeof constraints.audio==="object"){var remap=function(obj,a,b){if(a in obj&&!(b in obj)){obj[b]=obj[a];delete obj[a]}};constraints=JSON.parse(JSON.stringify(constraints));remap(constraints.audio,"autoGainControl","googAutoGainControl");remap(constraints.audio,"noiseSuppression","googNoiseSuppression");constraints.audio=constraintsToChrome_(constraints.audio)}if(constraints&&typeof constraints.video==="object"){var face=constraints.video.facingMode;face=face&&(typeof face==="object"?face:{ideal:face});var getSupportedFacingModeLies=browserDetails.version<66;if(face&&(face.exact==="user"||face.exact==="environment"||face.ideal==="user"||face.ideal==="environment")&&!(navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().facingMode&&!getSupportedFacingModeLies)){delete constraints.video.facingMode;var matches;if(face.exact==="environment"||face.ideal==="environment"){matches=["back","rear"]}else if(face.exact==="user"||face.ideal==="user"){matches=["front"]}if(matches){return navigator.mediaDevices.enumerateDevices().then(function(devices){devices=devices.filter(function(d){return d.kind==="videoinput"});var dev=devices.find(function(d){return matches.some(function(match){return d.label.toLowerCase().indexOf(match)!==-1})});if(!dev&&devices.length&&matches.indexOf("back")!==-1){dev=devices[devices.length-1]}if(dev){constraints.video.deviceId=face.exact?{exact:dev.deviceId}:{ideal:dev.deviceId}}constraints.video=constraintsToChrome_(constraints.video);logging("chrome: "+JSON.stringify(constraints));return func(constraints)})}}constraints.video=constraintsToChrome_(constraints.video)}logging("chrome: "+JSON.stringify(constraints));return func(constraints)};var shimError_=function(e){return{name:{PermissionDeniedError:"NotAllowedError",InvalidStateError:"NotReadableError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotReadableError",MediaDeviceKillSwitchOn:"NotReadableError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};var getUserMedia_=function(constraints,onSuccess,onError){shimConstraints_(constraints,function(c){navigator.webkitGetUserMedia(c,onSuccess,function(e){if(onError){onError(shimError_(e))}})})};navigator.getUserMedia=getUserMedia_;var getUserMediaPromise_=function(constraints){return new Promise(function(resolve,reject){navigator.getUserMedia(constraints,resolve,reject)})};if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:getUserMediaPromise_,enumerateDevices:function(){return new Promise(function(resolve){var kinds={audio:"audioinput",video:"videoinput"};return window.MediaStreamTrack.getSources(function(devices){resolve(devices.map(function(device){return{label:device.label,kind:kinds[device.kind],deviceId:device.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:true,echoCancellation:true,facingMode:true,frameRate:true,height:true,width:true}}}}if(!navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia=function(constraints){return getUserMediaPromise_(constraints)}}else{var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(cs){return shimConstraints_(cs,function(c){return origGetUserMedia(c).then(function(stream){if(c.audio&&!stream.getAudioTracks().length||c.video&&!stream.getVideoTracks().length){stream.getTracks().forEach(function(track){track.stop()});throw new DOMException("","NotFoundError")}return stream},function(e){return Promise.reject(shimError_(e))})})}}if(typeof navigator.mediaDevices.addEventListener==="undefined"){navigator.mediaDevices.addEventListener=function(){logging("Dummy mediaDevices.addEventListener called.")}}if(typeof navigator.mediaDevices.removeEventListener==="undefined"){navigator.mediaDevices.removeEventListener=function(){logging("Dummy mediaDevices.removeEventListener called.")}}}},{"../utils.js":26}],15:[function(require,module,exports){"use strict";var SDPUtils=require("sdp");var utils=require("./utils");module.exports={shimRTCIceCandidate:function(window){if(!window.RTCIceCandidate||window.RTCIceCandidate&&"foundation"in window.RTCIceCandidate.prototype){return}var NativeRTCIceCandidate=window.RTCIceCandidate;window.RTCIceCandidate=function(args){if(typeof args==="object"&&args.candidate&&args.candidate.indexOf("a=")===0){args=JSON.parse(JSON.stringify(args));args.candidate=args.candidate.substr(2)}if(args.candidate&&args.candidate.length){var nativeCandidate=new NativeRTCIceCandidate(args);var parsedCandidate=SDPUtils.parseCandidate(args.candidate);var augmentedCandidate=Object.assign(nativeCandidate,parsedCandidate);augmentedCandidate.toJSON=function(){return{candidate:augmentedCandidate.candidate,sdpMid:augmentedCandidate.sdpMid,sdpMLineIndex:augmentedCandidate.sdpMLineIndex,usernameFragment:augmentedCandidate.usernameFragment}};return augmentedCandidate}return new NativeRTCIceCandidate(args)};window.RTCIceCandidate.prototype=NativeRTCIceCandidate.prototype;utils.wrapPeerConnectionEvent(window,"icecandidate",function(e){if(e.candidate){Object.defineProperty(e,"candidate",{value:new window.RTCIceCandidate(e.candidate),writable:"false"})}return e})},shimCreateObjectURL:function(window){var URL=window&&window.URL;if(!(typeof window==="object"&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype&&URL.createObjectURL&&URL.revokeObjectURL)){return undefined}var nativeCreateObjectURL=URL.createObjectURL.bind(URL);var nativeRevokeObjectURL=URL.revokeObjectURL.bind(URL);var streams=new Map,newId=0;URL.createObjectURL=function(stream){if("getTracks"in stream){var url="polyblob:"+ ++newId;streams.set(url,stream);utils.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream");return url}return nativeCreateObjectURL(stream)};URL.revokeObjectURL=function(url){nativeRevokeObjectURL(url);streams.delete(url)};var dsc=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return dsc.get.apply(this)},set:function(url){this.srcObject=streams.get(url)||null;return dsc.set.apply(this,[url])}});var nativeSetAttribute=window.HTMLMediaElement.prototype.setAttribute;window.HTMLMediaElement.prototype.setAttribute=function(){if(arguments.length===2&&(""+arguments[0]).toLowerCase()==="src"){this.srcObject=streams.get(arguments[1])||null}return nativeSetAttribute.apply(this,arguments)}},shimMaxMessageSize:function(window){if(window.RTCSctpTransport||!window.RTCPeerConnection){return}var browserDetails=utils.detectBrowser(window);if(!("sctp"in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,"sctp",{get:function(){return typeof this._sctp==="undefined"?null:this._sctp}})}var sctpInDescription=function(description){var sections=SDPUtils.splitSections(description.sdp);sections.shift();return sections.some(function(mediaSection){var mLine=SDPUtils.parseMLine(mediaSection);return mLine&&mLine.kind==="application"&&mLine.protocol.indexOf("SCTP")!==-1})};var getRemoteFirefoxVersion=function(description){var match=description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(match===null||match.length<2){return-1}var version=parseInt(match[1],10);return version!==version?-1:version};var getCanSendMaxMessageSize=function(remoteIsFirefox){var canSendMaxMessageSize=65536;if(browserDetails.browser==="firefox"){if(browserDetails.version<57){if(remoteIsFirefox===-1){canSendMaxMessageSize=16384}else{canSendMaxMessageSize=2147483637}}else{canSendMaxMessageSize=browserDetails.version===57?65535:65536}}return canSendMaxMessageSize};var getMaxMessageSize=function(description,remoteIsFirefox){var maxMessageSize=65536;
if(browserDetails.browser==="firefox"&&browserDetails.version===57){maxMessageSize=65535}var match=SDPUtils.matchPrefix(description.sdp,"a=max-message-size:");if(match.length>0){maxMessageSize=parseInt(match[0].substr(19),10)}else if(browserDetails.browser==="firefox"&&remoteIsFirefox!==-1){maxMessageSize=2147483637}return maxMessageSize};var origSetRemoteDescription=window.RTCPeerConnection.prototype.setRemoteDescription;window.RTCPeerConnection.prototype.setRemoteDescription=function(){var pc=this;pc._sctp=null;if(sctpInDescription(arguments[0])){var isFirefox=getRemoteFirefoxVersion(arguments[0]);var canSendMMS=getCanSendMaxMessageSize(isFirefox);var remoteMMS=getMaxMessageSize(arguments[0],isFirefox);var maxMessageSize;if(canSendMMS===0&&remoteMMS===0){maxMessageSize=Number.POSITIVE_INFINITY}else if(canSendMMS===0||remoteMMS===0){maxMessageSize=Math.max(canSendMMS,remoteMMS)}else{maxMessageSize=Math.min(canSendMMS,remoteMMS)}var sctp={};Object.defineProperty(sctp,"maxMessageSize",{get:function(){return maxMessageSize}});pc._sctp=sctp}return origSetRemoteDescription.apply(pc,arguments)}},shimSendThrowTypeError:function(window){if(!window.RTCPeerConnection){return}var origCreateDataChannel=window.RTCPeerConnection.prototype.createDataChannel;window.RTCPeerConnection.prototype.createDataChannel=function(){var pc=this;var dataChannel=origCreateDataChannel.apply(pc,arguments);var origDataChannelSend=dataChannel.send;dataChannel.send=function(){var dc=this;var data=arguments[0];var length=data.length||data.size||data.byteLength;if(length>pc.sctp.maxMessageSize){throw new DOMException("Message too large (can send a maximum of "+pc.sctp.maxMessageSize+" bytes)","TypeError")}return origDataChannelSend.apply(dc,arguments)};return dataChannel}}}},{"./utils":26,sdp:10}],16:[function(require,module,exports){"use strict";var utils=require("../utils");var shimRTCPeerConnection=require("rtcpeerconnection-shim");module.exports={shimGetUserMedia:require("./getusermedia"),shimPeerConnection:function(window){var browserDetails=utils.detectBrowser(window);if(window.RTCIceGatherer){if(!window.RTCIceCandidate){window.RTCIceCandidate=function(args){return args}}if(!window.RTCSessionDescription){window.RTCSessionDescription=function(args){return args}}if(browserDetails.version<15025){var origMSTEnabled=Object.getOwnPropertyDescriptor(window.MediaStreamTrack.prototype,"enabled");Object.defineProperty(window.MediaStreamTrack.prototype,"enabled",{set:function(value){origMSTEnabled.set.call(this,value);var ev=new Event("enabled");ev.enabled=value;this.dispatchEvent(ev)}})}}if(window.RTCRtpSender&&!("dtmf"in window.RTCRtpSender.prototype)){Object.defineProperty(window.RTCRtpSender.prototype,"dtmf",{get:function(){if(this._dtmf===undefined){if(this.track.kind==="audio"){this._dtmf=new window.RTCDtmfSender(this)}else if(this.track.kind==="video"){this._dtmf=null}}return this._dtmf}})}window.RTCPeerConnection=shimRTCPeerConnection(window,browserDetails.version)},shimReplaceTrack:function(window){if(window.RTCRtpSender&&!("replaceTrack"in window.RTCRtpSender.prototype)){window.RTCRtpSender.prototype.replaceTrack=window.RTCRtpSender.prototype.setTrack}},shimAttachMediaStream:function(window){var browserDetails=utils.detectBrowser(window);var attachMediaStream=function(element,stream){element.src=URL.createObjectURL(stream)};window.attachMediaStream=attachMediaStream}}},{"../utils":26,"./getusermedia":17,"rtcpeerconnection-shim":6}],17:[function(require,module,exports){"use strict";module.exports=function(window){var navigator=window&&window.navigator;var shimError_=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}};var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(c){return origGetUserMedia(c).catch(function(e){return Promise.reject(shimError_(e))})}}},{}],18:[function(require,module,exports){(function(process,global){!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){I=t}function r(t){J=t}function o(){return function(){return process.nextTick(a)}}function i(){return function(){H(a)}}function s(){var t=0,e=new V(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<G;t+=2){var e=$[t],n=$[t+1];e(n),$[t]=void 0,$[t+1]=void 0}G=0}function f(){try{var t=require,e=t("vertx");return H=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[et]&&k(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return x(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(e){return it.error=e,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){J(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===rt?S(t,e._result):e._state===ot?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===it?j(t,it.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(T,t))}function j(t,e){t._state===nt&&(t._state=ot,t._result=e,J(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function M(){this.error=null}function P(t,e){try{return t(e)}catch(n){return st.error=n,st}}function x(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=P(r,o),s===st?(a=!0,u=s.error,s=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==nt||(i&&c?g(n,s):a?j(n,u):t===rt?S(n,s):t===ot&&j(n,s))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function O(){return ut++}function k(t){t[et]=ut++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||k(this.promise),B(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function F(t){return new Y(this,t).promise}function D(t){var e=this;return new e(B(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,n=new e(p);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):N())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}t.Promise=U}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=z,G=0,H=void 0,I=void 0,J=function(t,e){$[G]=t,$[G+1]=e,G+=2,2===G&&(I?I(a):tt())},Q="undefined"!=typeof window?window:void 0,R=Q||{},V=R.MutationObserver||R.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),tt=void 0;tt=X?o():V?s():Z?u():void 0===Q&&"function"==typeof require?f():c();var et=Math.random().toString(36).substring(16),nt=void 0,rt=1,ot=2,it=new M,st=new M,ut=0;return Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===nt&&(this._remaining--,t===ot?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(rt,e,t)},function(t){return n._settledAt(ot,e,t)})},U.all=F,U.race=D,U.resolve=h,U.reject=K,U._setScheduler=n,U._setAsap=r,U._asap=J,U.prototype={constructor:U,then:l,"catch":function(t){return this.then(null,t)}},W(),U.polyfill=W,U.Promise=U,U})}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:1}],19:[function(require,module,exports){"use strict";var utils=require("../utils");module.exports={shimGetUserMedia:require("./getusermedia"),shimOnTrack:function(window){if(typeof window==="object"&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(f){if(this._ontrack){this.removeEventListener("track",this._ontrack);this.removeEventListener("addstream",this._ontrackpoly)}this.addEventListener("track",this._ontrack=f);this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(track){var event=new Event("track");event.track=track;event.receiver={track:track};event.transceiver={receiver:event.receiver};event.streams=[e.stream];this.dispatchEvent(event)}.bind(this))}.bind(this))}})}if(typeof window==="object"&&window.RTCTrackEvent&&"receiver"in window.RTCTrackEvent.prototype&&!("transceiver"in window.RTCTrackEvent.prototype)){Object.defineProperty(window.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}},shimSourceObject:function(window){if(typeof window==="object"){if(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)){Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(stream){this.mozSrcObject=stream}})}}},shimPeerConnection:function(window){var browserDetails=utils.detectBrowser(window);if(typeof window!=="object"||!(window.RTCPeerConnection||window.mozRTCPeerConnection)){return}if(!window.RTCPeerConnection){window.RTCPeerConnection=function(pcConfig,pcConstraints){if(browserDetails.version<38){if(pcConfig&&pcConfig.iceServers&&pcConfig.iceServers.length>0){var newIceServers=[];for(var i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(server.hasOwnProperty("urls")){for(var j=0;j<server.urls.length;j++){var newServer={url:server.urls[j]};if(server.urls[j].indexOf("turn")===0){newServer.username=server.username;newServer.credential=server.credential}newIceServers.push(newServer)}}else{newIceServers.push(pcConfig.iceServers[i])}}pcConfig.iceServers=newIceServers}}return new window.mozRTCPeerConnection(pcConfig,pcConstraints)};window.RTCPeerConnection.prototype=window.mozRTCPeerConnection.prototype;if(window.mozRTCPeerConnection.generateCertificate){Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return window.mozRTCPeerConnection.generateCertificate}})}window.RTCSessionDescription=window.mozRTCSessionDescription;window.RTCIceCandidate=window.mozRTCIceCandidate}["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];window.RTCPeerConnection.prototype[method]=function(){arguments[0]=new(method==="addIceCandidate"?window.RTCIceCandidate:window.RTCSessionDescription)(arguments[0]);return nativeMethod.apply(this,arguments)}});var nativeAddIceCandidate=window.RTCPeerConnection.prototype.addIceCandidate;window.RTCPeerConnection.prototype.addIceCandidate=function(){if(!arguments[0]){if(arguments[1]){arguments[1].apply(null)}return Promise.resolve()}return nativeAddIceCandidate.apply(this,arguments)};var makeMapStats=function(stats){var map=new Map;Object.keys(stats).forEach(function(key){map.set(key,stats[key]);map[key]=stats[key]});return map};var modernStatsTypes={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"};var nativeGetStats=window.RTCPeerConnection.prototype.getStats;window.RTCPeerConnection.prototype.getStats=function(selector,onSucc,onErr){return nativeGetStats.apply(this,[selector||null]).then(function(stats){if(browserDetails.version<48){stats=makeMapStats(stats)}if(browserDetails.version<53&&!onSucc){try{stats.forEach(function(stat){stat.type=modernStatsTypes[stat.type]||stat.type})}catch(e){if(e.name!=="TypeError"){throw e}stats.forEach(function(stat,i){stats.set(i,Object.assign({},stat,{type:modernStatsTypes[stat.type]||stat.type}))})}}return stats}).then(onSucc,onErr)}},shimRemoveStream:function(window){if(!window.RTCPeerConnection||"removeStream"in window.RTCPeerConnection.prototype){return}window.RTCPeerConnection.prototype.removeStream=function(stream){var pc=this;utils.deprecated("removeStream","removeTrack");this.getSenders().forEach(function(sender){if(sender.track&&stream.getTracks().indexOf(sender.track)!==-1){pc.removeTrack(sender)}})}},shimAttachMediaStream:function(window){var browserDetails=utils.detectBrowser(window);var attachMediaStream=function(element,stream){element.src=URL.createObjectURL(stream)};window.attachMediaStream=attachMediaStream}}},{"../utils":26,"./getusermedia":20}],20:[function(require,module,exports){"use strict";var utils=require("../utils");var logging=utils.log;module.exports=function(window){var browserDetails=utils.detectBrowser(window);var navigator=window&&window.navigator;var MediaStreamTrack=window&&window.MediaStreamTrack;var shimError_=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the "+"user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}};var getUserMedia_=function(constraints,onSuccess,onError){var constraintsToFF37_=function(c){if(typeof c!=="object"||c.require){return c}var require=[];Object.keys(c).forEach(function(key){if(key==="require"||key==="advanced"||key==="mediaSource"){return}var r=c[key]=typeof c[key]==="object"?c[key]:{ideal:c[key]};if(r.min!==undefined||r.max!==undefined||r.exact!==undefined){require.push(key)}if(r.exact!==undefined){if(typeof r.exact==="number"){r.min=r.max=r.exact}else{c[key]=r.exact}delete r.exact}if(r.ideal!==undefined){c.advanced=c.advanced||[];var oc={};if(typeof r.ideal==="number"){oc[key]={min:r.ideal,max:r.ideal}}else{oc[key]=r.ideal}c.advanced.push(oc);delete r.ideal;if(!Object.keys(r).length){delete c[key]}}});if(require.length){c.require=require}return c};constraints=JSON.parse(JSON.stringify(constraints));if(browserDetails.version<38){logging("spec: "+JSON.stringify(constraints));if(constraints.audio){constraints.audio=constraintsToFF37_(constraints.audio)}if(constraints.video){constraints.video=constraintsToFF37_(constraints.video)}logging("ff37: "+JSON.stringify(constraints))}return navigator.mozGetUserMedia(constraints,onSuccess,function(e){onError(shimError_(e))})};var getUserMediaPromise_=function(constraints){return new Promise(function(resolve,reject){getUserMedia_(constraints,resolve,reject)})};if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:getUserMediaPromise_,addEventListener:function(){},removeEventListener:function(){}}}navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(resolve){var infos=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];resolve(infos)})};if(browserDetails.version<41){var orgEnumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return orgEnumerateDevices().then(undefined,function(e){if(e.name==="NotFoundError"){return[]}throw e})}}if(browserDetails.version<49){var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(c){return origGetUserMedia(c).then(function(stream){if(c.audio&&!stream.getAudioTracks().length||c.video&&!stream.getVideoTracks().length){stream.getTracks().forEach(function(track){track.stop()});throw new DOMException("The object can not be found here.","NotFoundError")}return stream},function(e){return Promise.reject(shimError_(e))})}}if(!(browserDetails.version>55&&"autoGainControl"in navigator.mediaDevices.getSupportedConstraints())){var remap=function(obj,a,b){if(a in obj&&!(b in obj)){obj[b]=obj[a];delete obj[a]}};var nativeGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(c){if(typeof c==="object"&&typeof c.audio==="object"){c=JSON.parse(JSON.stringify(c));remap(c.audio,"autoGainControl","mozAutoGainControl");remap(c.audio,"noiseSuppression","mozNoiseSuppression")}return nativeGetUserMedia(c)};if(MediaStreamTrack&&MediaStreamTrack.prototype.getSettings){var nativeGetSettings=MediaStreamTrack.prototype.getSettings;MediaStreamTrack.prototype.getSettings=function(){var obj=nativeGetSettings.apply(this,arguments);remap(obj,"mozAutoGainControl","autoGainControl");remap(obj,"mozNoiseSuppression","noiseSuppression");return obj}}if(MediaStreamTrack&&MediaStreamTrack.prototype.applyConstraints){var nativeApplyConstraints=MediaStreamTrack.prototype.applyConstraints;MediaStreamTrack.prototype.applyConstraints=function(c){if(this.kind==="audio"&&typeof c==="object"){c=JSON.parse(JSON.stringify(c));remap(c,"autoGainControl","mozAutoGainControl");remap(c,"noiseSuppression","mozNoiseSuppression")}return nativeApplyConstraints.apply(this,[c])}}}navigator.getUserMedia=function(constraints,onSuccess,onError){if(browserDetails.version<44){return getUserMedia_(constraints,onSuccess,onError)}utils.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia");navigator.mediaDevices.getUserMedia(constraints).then(onSuccess,onError)}}},{"../utils":26}],21:[function(require,module,exports){"use strict";var utils=require("../utils.js");var logging=utils.log;var getPlugin=function(){return document.getElementById("IPVTPluginId")};var extractPluginObj=function(elt){return elt.isWebRtcPlugin?elt:elt.pluginObj};var getSources=function(gotSources){if(document.readyState!=="complete"){console.log("readyState = "+document.readyState+", delaying getSources...");if(!getSourcesDelayed){getSourcesDelayed=true;document.addEventListener("readystatechange",function(){if(getSourcesDelayed&&document.readyState=="complete"){getSourcesDelayed=false;getPlugin().getSources(gotSources)}})}}else{getPlugin().getSources(gotSources)}};module.exports=function(window){var browserDetails=utils.detectBrowser(window);var navigator=window&&window.navigator;var constraintsToPlugin_=function(c){if(typeof c!=="object"||c.mandatory||c.optional){return c}var cc={};Object.keys(c).forEach(function(key){if(key==="require"||key==="advanced"||key==="mediaSource"){return}var r=typeof c[key]==="object"?c[key]:{ideal:c[key]};if(r.exact!==undefined&&typeof r.exact==="number"){r.min=r.max=r.exact}var oldname_=function(prefix,name){if(prefix){return prefix+name.charAt(0).toUpperCase()+name.slice(1)}return name==="deviceId"?"sourceId":name};if(r.ideal!==undefined){cc.optional=cc.optional||[];var oc={};if(typeof r.ideal==="number"){oc[oldname_("min",key)]=r.ideal;cc.optional.push(oc);oc={};oc[oldname_("max",key)]=r.ideal;cc.optional.push(oc)}else{oc[oldname_("",key)]=r.ideal;cc.optional.push(oc)}}if(r.exact!==undefined&&typeof r.exact!=="number"){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname_("",key)]=r.exact}else{["min","max"].forEach(function(mix){if(r[mix]!==undefined){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname_(mix,key)]=r[mix]}})}});if(c.advanced){cc.optional=(cc.optional||[]).concat(c.advanced)}return cc};var shimConstraints_=function(constraints,func){constraints=JSON.parse(JSON.stringify(constraints));if(constraints&&typeof constraints.audio==="object"){var remap=function(obj,a,b){if(a in obj&&!(b in obj)){obj[b]=obj[a];delete obj[a]}};constraints=JSON.parse(JSON.stringify(constraints));remap(constraints.audio,"autoGainControl","googAutoGainControl");remap(constraints.audio,"noiseSuppression","googNoiseSuppression");constraints.audio=constraintsToPlugin_(constraints.audio)}if(constraints&&typeof constraints.video==="object"){var face=constraints.video.facingMode;face=face&&(typeof face==="object"?face:{ideal:face});var getSupportedFacingModeLies=browserDetails.version<61;if(face&&(face.exact==="user"||face.exact==="environment"||face.ideal==="user"||face.ideal==="environment")&&!(navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().facingMode&&!getSupportedFacingModeLies)){delete constraints.video.facingMode;var matches;if(face.exact==="environment"||face.ideal==="environment"){matches=["back","rear"]}else if(face.exact==="user"||face.ideal==="user"){matches=["front"]}if(matches){return navigator.mediaDevices.enumerateDevices().then(function(devices){devices=devices.filter(function(d){return d.kind==="videoinput"});var dev=devices.find(function(d){return matches.some(function(match){return d.label.toLowerCase().indexOf(match)!==-1})});if(!dev&&devices.length&&matches.indexOf("back")!==-1){dev=devices[devices.length-1]}if(dev){constraints.video.deviceId=face.exact?{exact:dev.deviceId}:{ideal:dev.deviceId}}constraints.video=constraintsToPlugin_(constraints.video);logging("Plugin: "+JSON.stringify(constraints));return func(constraints)})}}constraints.video=constraintsToPlugin_(constraints.video)}logging("Plugin: "+JSON.stringify(constraints));return func(constraints)};var shimError_=function(e){var errObj={};if(e&&typeof e==="string"&&e.match(/(access|denied)/g).length>=2){errObj.name="NotAllowedError";errObj.message=e;errObj.constraint=null}else{errObj.name="OverconstrainedError";errObj.message=e;errObj.constraint=null}errObj.toString=function(){return this.name+(this.message&&": ")+this.message};return errObj};var getUserMedia_=function(constraints,onSuccess,onError){if(document.readyState!=="complete"){logging("readyState = "+document.readyState+", delaying getUserMedia...");if(!getUserMediaDelayed){getUserMediaDelayed=true;this.shimAttachEventListener(document,"readystatechange",function(){if(getUserMediaDelayed&&document.readyState=="complete"){getUserMediaDelayed=false;shimConstraints_(constraints,function(c){getPlugin().getUserMedia(c,onSuccess,function(e){onError(shimError_(e))})})}})}}else{shimConstraints_(constraints,function(c){getPlugin().getUserMedia(c,onSuccess,function(e){onError(shimError_(e))})})}};navigator.getUserMedia=getUserMedia_;var getUserMediaPromise_=function(constraints){return new Promise(function(resolve,reject){navigator.getUserMedia(constraints,resolve,reject)})};if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:function(constraints){return getUserMediaPromise_(constraints)},enumerateDevices:function(){return new Promise(function(resolve){var kinds={audio:"audioinput",video:"videoinput"};return getSources(function(devices){resolve(devices.map(function(device){return{label:device.label,kind:kinds[device.kind],deviceId:device.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:true,echoCancellation:true,facingMode:true,frameRate:true,height:true,width:true}}}}if(typeof navigator.mediaDevices.addEventListener==="undefined"){navigator.mediaDevices.addEventListener=function(){logging("Dummy mediaDevices.addEventListener called.")}}if(typeof navigator.mediaDevices.removeEventListener==="undefined"){navigator.mediaDevices.removeEventListener=function(){logging("Dummy mediaDevices.removeEventListener called.")}}}},{"../utils.js":26}],22:[function(require,module,exports){"use strict";var utils=require("../utils.js");var logging=utils.log;var _promise=require("../es6-promise.min.js").Promise;var getUserMediaDelayed;var getSourcesDelayed;var loadCount=10;var browserDetails=utils.detectBrowser(window);var navigator=window&&window.navigator;var getPlugin=function(){return document.getElementById("IPVTPluginId")};var extractPluginObj=function(elt){return elt.isWebRtcPlugin?elt:elt.pluginObj};var installPlugin=function(window){var browserDetails=window.adapter.browserDetails;if(document.getElementById("IPVTPluginId")){if(document.getElementById("IPVTPluginId").versionName!=undefined){logging("Allready installed the plugin!! Plugin version is "+document.getElementById("IPVTPluginId").versionName);return{installed:true,version:document.getElementById("IPVTPluginId").versionName}}else{if(browserDetails.browser==="safari"&&navigator.mimeTypes["application/ipvt-plugin"]&&navigator.mimeTypes["application/ipvt-plugin"].enabledPlugin){logging("plugin has been installed , waiting for the user to trust the plugin.");return{installed:true,version:undefined}}logging("Waitting for the Plugin installation done");return{installed:undefined,version:undefined}}}logging("installPlugin() called");var pluginObj=document.createElement("object");if(browserDetails.browser==="ie"){Promise=_promise;pluginObj.setAttribute("classid","CLSID:C14F046D-EC06-4A58-8594-008226370B22")}else{pluginObj.setAttribute("type","application/ipvt-plugin")}pluginObj.setAttribute("id","IPVTPluginId");pluginObj.setAttribute("width","0");pluginObj.setAttribute("height","0");document.body.appendChild(pluginObj);if(pluginObj.isWebRtcPlugin||typeof navigator.plugins!=="undefined"&&(!!navigator.plugins["IPVideoTalk Plug-in for IE"]||navigator.plugins["IPVideoTalk Plug-in for Safari"])){logging("adapter version: 5.0.4, Start to load the Plugin!!");if(browserDetails.browser==="ie"){logging("This appears to be Internet Explorer")}else if(browserDetails.browser==="safari"){logging("This appears to be Safari")}else{}}else{logging("Browser does not appear to be WebRTC-capable");document.body.removeChild(pluginObj)}if(pluginObj.versionName==undefined){logging("Plugin installing is not finished");return{installed:undefined,version:undefined}}logging("Plugin installation is successful !! version is "+pluginObj.versionName);pluginObj.logSeverity="info";return{installed:true,version:pluginObj.versionName}};var pluginShim={shimCreateIceServer:function(url,username,password){var url_parts=url.split(":");if(url_parts[0].indexOf("stun")===0){return{url:url}}else if(url_parts[0].indexOf("turn")===0){return{url:url,credential:password,username:username}}return null},attachEventListener:function(elt,type,listener,useCapture){var _pluginObj=extractPluginObj(elt);if(_pluginObj){_pluginObj.bindEventListener(type,listener,useCapture)}else{if(typeof elt.addEventListener!=="undefined"){elt.addEventListener(type,listener,useCapture)}else if(typeof elt.addEvent!=="undefined"){elt.addEventListener("on"+type,listener,useCapture)}}},getPlugin:function(){return document.getElementById("IPVTPluginId")},checkPlugin:function(window){var browserDetails=window.adapter.browserDetails;if(browserDetails.browser=="safari"){if(navigator.plugins["IPVideoTalk Plug-in for Safari"]!=undefined){var version=undefined;var v1=navigator.plugins["IPVideoTalk Plug-in for Safari"];if(v1&&v1!=""){var v2=v1.description;if(v2&&v2!=""){version=v2.match(/[.0-9]+/);if(version&&version.length>0){version=version[0]}}}if(version==undefined){version="1.0.1.3"}if(Object.isFrozen(window.adapter.browserDetails)===false){browserDetails.WebRTCPluginVersion=version;browserDetails.isWebRTCPluginInstalled=true;browserDetails.isSupportWebRTC=true;Object.freeze(window.adapter.browserDetails.browser);Object.freeze(window.adapter.browserDetails.version);Object.freeze(window.adapter.browserDetails.UIVersion);Object.freeze(window.adapter.browserDetails)}}}else if(browserDetails.browser=="ie"){var result=installPlugin(window);if(result.installed==true){if(Object.isFrozen(window.adapter.browserDetails)===false){browserDetails.WebRTCPluginVersion=result.version;browserDetails.isSupportWebRTC=true;browserDetails.isWebRTCPluginInstalled=true;Object.freeze(window.adapter.browserDetails)}}else if(result.installed==false){browserDetails.WebRTCPluginVersion=null;browserDetails.isSupportWebRTC=false;browserDetails.isWebRTCPluginInstalled=false}}logging("checkPlugin >>> Installed: "+browserDetails.isWebRTCPluginInstalled+"   version: "+browserDetails.WebRTCPluginVersion);return{isWebRTCPluginInstalled:browserDetails.isWebRTCPluginInstalled,WebRTCPluginVersion:browserDetails.WebRTCPluginVersion}},loadPlugin:function(window,callback){if(!window.adapter){logging("Adapter did not ready yet.");return}logging("loadPlugin !!!!!!!");var browserDetails=window.adapter.browserDetails;if(browserDetails.WebRTCPluginVersion!=undefined){if(callback){callback()}}else{loadCount--;var result=installPlugin(window);if(result.installed==true&&result.version===undefined){loadCount++;setTimeout(function(){pluginShim.loadPlugin(window,callback)},100);return}browserDetails.isWebRTCPluginInstalled=result.installed;if(result.installed==true){browserDetails.WebRTCPluginVersion=result.version;browserDetails.isSupportWebRTC=true;if(callback){callback()}}else if(loadCount<=0){browserDetails.WebRTCPluginVersion=null;browserDetails.isSupportWebRTC=false;browserDetails.isWebRTCPluginInstalled=false;if(callback){callback("not found plugin")}}else{setTimeout(function(){pluginShim.loadPlugin(window,callback)},100)}}},shimAttachMediaStream:function(window){var attachMediaStream=function(element,stream){logging("Plugin: Attaching media stream");if(stream==null){logging("stream is null")}if(!element){return null}if(element.isWebRtcPlugin){element.src=stream;return element}else if(element.nodeName.toLowerCase()==="video"){if(!element.pluginObj&&stream){logging("Plugin: Create plugin Object");
var _pluginObj=document.createElement("object");var _isIE=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window;if(_isIE){var windowlessParam=document.createElement("param");windowlessParam.setAttribute("name","windowless");windowlessParam.setAttribute("value",true);_pluginObj.appendChild(windowlessParam);_pluginObj.setAttribute("classid","CLSID:C14F046D-EC06-4A58-8594-008226370B22")}else{_pluginObj.setAttribute("type","application/ipvt-plugin")}element.pluginObj=_pluginObj;_pluginObj.setAttribute("className",element.className);_pluginObj.setAttribute("innerHTML",element.innerHTML);var width=element.getAttribute("width");var height=element.getAttribute("height");var bounds=element.getBoundingClientRect();var zindex=element.getAttribute("zindex");if(!width)width=bounds.right-bounds.left;if(!height)height=bounds.bottom-bounds.top;if(!zindex){_pluginObj.setAttribute("zindex",1);element.setAttribute("zindex",0)}else{_pluginObj.setAttribute("zindex",zindex+1)}if("getComputedStyle"in window){var computedStyle=window.getComputedStyle(element,null);if(!width&&computedStyle.width!="auto"&&computedStyle.width!="0px"){width=computedStyle.width}if(!height&&computedStyle.height!="auto"&&computedStyle.height!="0px"){height=computedStyle.height}}if(width)_pluginObj.setAttribute("width",width);else _pluginObj.setAttribute("autowidth",true);if(height)_pluginObj.setAttribute("height",height);else _pluginObj.setAttribute("autoheight",true);if(element.id){_pluginObj.id=element.id}document.body.appendChild(_pluginObj);if(element.parentNode){element.parentNode.insertBefore(_pluginObj,element);element.style.display="none"}}if(element.pluginObj){element.pluginObj.addEventListener("play",function(objvid){if(element.pluginObj){if(element.pluginObj.getAttribute("autowidth")&&objvid.videoWidth){element.pluginObj.setAttribute("width",objvid.videoWidth)}if(element.pluginObj.getAttribute("autoheight")&&objvid.videoHeight){element.pluginObj.setAttribute("height",objvid.videoHeight)}}});var job=window.setInterval(function(){if(element.pluginObj.videoHeight<100){console.info("Reattach Media Stream into Object!");element.pluginObj.src=stream}else{console.info("Attach Media Stream into Object done!");window.clearInterval(job)}},500);logging("Plugin: Attaching media stream DONE !!!")}return element.pluginObj}else if(element.nodeName.toLowerCase()==="audio"){return element}};window.attachMediaStream=attachMediaStream},drawImage:function(context,video,x,y,width,height){var pluginObj=extractPluginObj(video);if(pluginObj&&pluginObj.isWebRtcPlugin&&pluginObj.videoWidth>0&&pluginObj.videoHeight>0){if(typeof pluginObj.getScreenShot!=="undefined"){var bmpBase64=pluginObj.getScreenShot();if(bmpBase64){var image=new Image;image.onload=function(){context.drawImage(image,0,0,width,height)};image.src="data:image/png;base64,"+bmpBase64}}else{var imageData=context.createImageData(pluginObj.videoWidth,pluginObj.videoHeight);if(imageData){pluginObj.fillImageData(imageData);context.putImageData(imageData,x,y)}}}},shimRTCPeerConnection:function(window){var RTCPeerConnection=function(configuration,constraints){return getPlugin().createPeerConnection(configuration,constraints)};window.RTCPeerConnection=RTCPeerConnection},shimRTCIceCandidate:function(window){var RTCIceCandidate=function(RTCIceCandidateInit){return getPlugin().createIceCandidate(RTCIceCandidateInit)};window.RTCIceCandidate=RTCIceCandidate},shimRTCSessionDescription:function(window){var RTCSessionDescription=function(RTCSessionDescriptionInit){return getPlugin().createSessionDescription(RTCSessionDescriptionInit)};window.RTCSessionDescription=RTCSessionDescription},shimOnTrack:function(window){if(typeof window==="object"&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(f){if(this._ontrack){this.removeEventListener("track",this._ontrack)}this.addEventListener("track",this._ontrack=f)}});var origSetRemoteDescription=window.RTCPeerConnection.prototype.setRemoteDescription;window.RTCPeerConnection.prototype.setRemoteDescription=function(){var pc=this;if(!pc._ontrackpoly){pc._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(te){var receiver;if(window.RTCPeerConnection.prototype.getReceivers){receiver=pc.getReceivers().find(function(r){return r.track&&r.track.id===te.track.id})}else{receiver={track:te.track}}var event=new Event("track");event.track=te.track;event.receiver=receiver;event.transceiver={receiver:receiver};event.streams=[e.stream];pc.dispatchEvent(event)});e.stream.getTracks().forEach(function(track){var receiver;if(window.RTCPeerConnection.prototype.getReceivers){receiver=pc.getReceivers().find(function(r){return r.track&&r.track.id===track.id})}else{receiver={track:track}}var event=new Event("track");event.track=track;event.receiver=receiver;event.transceiver={receiver:receiver};event.streams=[e.stream];pc.dispatchEvent(event)})};pc.addEventListener("addstream",pc._ontrackpoly)}return origSetRemoteDescription.apply(pc,arguments)}}},shimLoadWindows:function(){if(getPlugin()){if(typeof getPlugin().getWindowList!=="undefined"){var windowArray=[];var windowsStr=getPlugin().getWindowList();var windowList=windowsStr.split(/xxz;;;xxz/);for(var i=0;i<windowList.length;++i){var windowValues=windowList[i].split(/xxy;;;xxy/);var option={windowId:"",windowName:"",previewImg64:null};option.windowId=windowValues[0];option.windowName=windowValues[1];option.previewImg64=windowValues[2];if(option.windowId!=""){windowArray[i]=option}}return windowArray}else{logging("Plugin with support for getWindowList not installed")}}},shimLoadScreens:function(){if(getPlugin()){if(typeof getPlugin().getScreenList!=="undefined"){var screenArray=[];var screenStr=getPlugin().getScreenList();var screenList=screenStr.split(/xxz;;;xxz/);for(var i=0;i<screenList.length;++i){var screenValues=screenList[i].split(/xxy;;;xxy/);var option={screenId:"",screenName:"",previewImg64:null};option.screenId=screenValues[0];option.screenName=screenValues[1];option.previewImg64=screenValues[2];if(option.screenId!=""){screenArray[i]=option}}return screenArray}else{logging("Plugin with support for getScreenList not installed")}}}};module.exports={shimOnTrack:pluginShim.shimOnTrack,shimPeerConnection:pluginShim.shimRTCPeerConnection,shimGetUserMedia:require("./getusermedia"),shimAttachMediaStream:pluginShim.shimAttachMediaStream,shimRTCIceCandidate:pluginShim.shimRTCIceCandidate,shimRTCSessionDescription:pluginShim.shimRTCSessionDescription,shimAttachEventListener:pluginShim.attachEventListener,loadWindows:pluginShim.shimLoadWindows,loadScreens:pluginShim.shimLoadScreens,getPlugin:pluginShim.getPlugin,checkPlugin:pluginShim.checkPlugin,loadPlugin:pluginShim.loadPlugin}},{"../es6-promise.min.js":18,"../utils.js":26,"./getusermedia":21}],23:[function(require,module,exports){"use strict";var utils=require("../utils");module.exports={shimLocalStreamsAPI:function(window){if(typeof window!=="object"||!window.RTCPeerConnection){return}if(!("getLocalStreams"in window.RTCPeerConnection.prototype)){window.RTCPeerConnection.prototype.getLocalStreams=function(){if(!this._localStreams){this._localStreams=[]}return this._localStreams}}if(!("getStreamById"in window.RTCPeerConnection.prototype)){window.RTCPeerConnection.prototype.getStreamById=function(id){var result=null;if(this._localStreams){this._localStreams.forEach(function(stream){if(stream.id===id){result=stream}})}if(this._remoteStreams){this._remoteStreams.forEach(function(stream){if(stream.id===id){result=stream}})}return result}}if(!("addStream"in window.RTCPeerConnection.prototype)){var _addTrack=window.RTCPeerConnection.prototype.addTrack;window.RTCPeerConnection.prototype.addStream=function(stream){if(!this._localStreams){this._localStreams=[]}if(this._localStreams.indexOf(stream)===-1){this._localStreams.push(stream)}var pc=this;stream.getTracks().forEach(function(track){_addTrack.call(pc,track,stream)})};window.RTCPeerConnection.prototype.addTrack=function(track,stream){if(stream){if(!this._localStreams){this._localStreams=[stream]}else if(this._localStreams.indexOf(stream)===-1){this._localStreams.push(stream)}}return _addTrack.call(this,track,stream)}}if(!("removeStream"in window.RTCPeerConnection.prototype)){window.RTCPeerConnection.prototype.removeStream=function(stream){if(!this._localStreams){this._localStreams=[]}var index=this._localStreams.indexOf(stream);if(index===-1){return}this._localStreams.splice(index,1);var pc=this;var tracks=stream.getTracks();this.getSenders().forEach(function(sender){if(tracks.indexOf(sender.track)!==-1){pc.removeTrack(sender)}})}}},shimRemoteStreamsAPI:function(window){if(typeof window!=="object"||!window.RTCPeerConnection){return}if(!("getRemoteStreams"in window.RTCPeerConnection.prototype)){window.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}}if(!("onaddstream"in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(f){var pc=this;if(this._onaddstream){this.removeEventListener("addstream",this._onaddstream);this.removeEventListener("track",this._onaddstreampoly)}this.addEventListener("addstream",this._onaddstream=f);this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(stream){if(!pc._remoteStreams){pc._remoteStreams=[]}if(pc._remoteStreams.indexOf(stream)>=0){return}pc._remoteStreams.push(stream);var event=new Event("addstream");event.stream=stream;pc.dispatchEvent(event)})})}})}},shimCallbacksAPI:function(window){if(typeof window!=="object"||!window.RTCPeerConnection){return}var prototype=window.RTCPeerConnection.prototype;var createOffer=prototype.createOffer;var createAnswer=prototype.createAnswer;var setLocalDescription=prototype.setLocalDescription;var setRemoteDescription=prototype.setRemoteDescription;var addIceCandidate=prototype.addIceCandidate;var getStats=prototype.getStats;prototype.createOffer=function(successCallback,failureCallback){var options=arguments.length>=2?arguments[2]:arguments[0];var promise=createOffer.apply(this,[options]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.createAnswer=function(successCallback,failureCallback){var options=arguments.length>=2?arguments[2]:arguments[0];var promise=createAnswer.apply(this,[options]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};var withCallback=function(description,successCallback,failureCallback){var promise=setLocalDescription.apply(this,[description]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.setLocalDescription=withCallback;withCallback=function(description,successCallback,failureCallback){var promise=setRemoteDescription.apply(this,[description]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.setRemoteDescription=withCallback;withCallback=function(candidate,successCallback,failureCallback){var promise=addIceCandidate.apply(this,[candidate]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.addIceCandidate=withCallback;withCallback=function(selector,successCallback,failureCallback){var promise=getStats.apply(this,[selector]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.getStats=withCallback},shimGetUserMedia:function(window){var navigator=window&&window.navigator;if(!navigator.getUserMedia){if(navigator.webkitGetUserMedia){navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator)}else if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.getUserMedia=function(constraints,cb,errcb){navigator.mediaDevices.getUserMedia(constraints).then(cb,errcb)}.bind(navigator)}}},shimRTCIceServerUrls:function(window){var OrigPeerConnection=window.RTCPeerConnection;window.RTCPeerConnection=function(pcConfig,pcConstraints){if(pcConfig&&pcConfig.iceServers&&pcConfig.iceServers.length>0){var newIceServers=[];for(var i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(!server.hasOwnProperty("urls")&&server.hasOwnProperty("url")){utils.deprecated("RTCIceServer.url","RTCIceServer.urls");server=JSON.parse(JSON.stringify(server));server.urls=server.url;delete server.url;newIceServers.push(server)}else{newIceServers.push(pcConfig.iceServers[i])}}pcConfig.iceServers=newIceServers}return new OrigPeerConnection(pcConfig,pcConstraints)};window.RTCPeerConnection.prototype=OrigPeerConnection.prototype;if("generateCertificate"in window.RTCPeerConnection){Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return OrigPeerConnection.generateCertificate}})}},shimTrackEventTransceiver:function(window){if(typeof window==="object"&&window.RTCPeerConnection&&"receiver"in window.RTCTrackEvent.prototype&&!window.RTCTransceiver){Object.defineProperty(window.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}},shimCreateOfferLegacy:function(window){var origCreateOffer=window.RTCPeerConnection.prototype.createOffer;window.RTCPeerConnection.prototype.createOffer=function(offerOptions){var pc=this;if(offerOptions){var audioTransceiver=pc.getTransceivers().find(function(transceiver){return transceiver.sender.track&&transceiver.sender.track.kind==="audio"});if(offerOptions.offerToReceiveAudio===false&&audioTransceiver){if(audioTransceiver.direction==="sendrecv"){if(audioTransceiver.setDirection){audioTransceiver.setDirection("sendonly")}else{audioTransceiver.direction="sendonly"}}else if(audioTransceiver.direction==="recvonly"){if(audioTransceiver.setDirection){audioTransceiver.setDirection("inactive")}else{audioTransceiver.direction="inactive"}}}else if(offerOptions.offerToReceiveAudio===true&&!audioTransceiver){pc.addTransceiver("audio")}var videoTransceiver=pc.getTransceivers().find(function(transceiver){return transceiver.sender.track&&transceiver.sender.track.kind==="video"});if(offerOptions.offerToReceiveVideo===false&&videoTransceiver){if(videoTransceiver.direction==="sendrecv"){videoTransceiver.setDirection("sendonly")}else if(videoTransceiver.direction==="recvonly"){videoTransceiver.setDirection("inactive")}}else if(offerOptions.offerToReceiveVideo===true&&!videoTransceiver){pc.addTransceiver("video")}}return origCreateOffer.apply(pc,arguments)}},shimAttachMediaStream:function(window){var browserDetails=utils.detectBrowser(window);var attachMediaStream=function(element,stream){element.src=URL.createObjectURL(stream)};window.attachMediaStream=attachMediaStream}}},{"../utils":26}],24:[function(require,module,exports){"use strict";var utils=require("./utils.js");var logging=utils.log;var statDisabled_=window.localStorage.statsSending=="true"?false:true;var tracer=require("./trace-ws.js");tracer.enable(!statDisabled_);tracer.init(window.localStorage.statsServer?window.localStorage.statsServer:"wss://stats.ipvideotalk.com");function handleStorage(event){if(event.key=="statsSending"){console.log("Set tracer.enable as "+event.newValue);statDisabled_=event.newValue=="true"?false:true;tracer.enable(!statDisabled_)}}if(window.addEventListener){window.addEventListener("storage",handleStorage,false)}else if(window.attachEvent){window.attachEvent("onstorage",handleStorage)}function map2obj(m){if(!m.entries){return m}var o={};m.forEach(function(v,k){o[k]=v});return o}function deltaCompression(oldStats,newStats){newStats=JSON.parse(JSON.stringify(newStats));Object.keys(newStats).forEach(function(id){if(!oldStats[id]){return}var report=newStats[id];Object.keys(report).forEach(function(name){if(report[name]===oldStats[id][name]){delete newStats[id][name]}delete report.timestamp;if(Object.keys(report).length===0){delete newStats[id]}})});newStats.timestamp=new Date;return newStats}function mangleChromeStats(pc,response){var standardReport={};var reports=response.result();reports.forEach(function(report){var standardStats={id:report.id,timestamp:report.timestamp.getTime(),type:report.type};report.names().forEach(function(name){standardStats[name]=report.stat(name)});if(report.type==="ssrc"&&!standardStats.mediaType&&standardStats.googTrackId){var streams=pc.getRemoteStreams().concat(pc.getLocalStreams());for(var i=0;i<streams.length&&!standardStats.mediaType;i++){var tracks=streams[i].getTracks();for(var j=0;j<tracks.length;j++){if(tracks[j].id===standardStats.googTrackId){standardStats.mediaType=tracks[j].kind;report.mediaType=tracks[j].kind}}}}standardReport[standardStats.id]=standardStats});return standardReport}function dumpStream(stream){return{id:stream.id,tracks:stream.getTracks().map(function(track){return{id:track.id,kind:track.kind,label:track.label,enabled:track.enabled,muted:track.muted,readyState:track.readyState}})}}var stats_collector={shimStatPC:function(window){var browserDetails=utils.detectBrowser(window);var origPeerConnection=window.RTCPeerConnection;var peerconnection=function(config,constraints){var pc=new origPeerConnection(config,constraints);if(!pc.prevStats){pc.prevStats={}}if(constraints&&constraints.optional){constraints.optional.forEach(function(a){if(a.pcName){pc.pcName=a.pcName}})}if(!pc.pcName){pc.pcName="PC_Unknown_"+Math.random().toString(36).substr(2)}var id=pc.pcName;if(!config){config={nullConfig:true}}config=JSON.parse(JSON.stringify(config));(config&&config.iceServers||[]).forEach(function(server){delete server.credential});config.browserDetails=JSON.parse(JSON.stringify(browserDetails));tracer.send("create",id,config);if(constraints){tracer.send("constraints",id,constraints)}["createDataChannel","close","addTrack","removeTrack"].forEach(function(method){if(origPeerConnection.prototype[method]){var nativeMethod=pc[method];pc[method]=function(){tracer.send(method,id,arguments);return nativeMethod.apply(pc,arguments)}}});["addStream","removeStream"].forEach(function(method){if(origPeerConnection.prototype[method]){var nativeMethod=pc[method];pc[method]=function(stream){var streamInfo=stream.getTracks().map(function(t){return t.kind+":"+t.id});tracer.send(method,id,stream.id+" "+streamInfo);return nativeMethod.call(pc,stream)}}});if(adapter.browserDetails.isWebRTCPluginInstalled===false&&adapter.browserDetails.browser==="safari"){["createOffer","createAnswer"].forEach(function(method){if(origPeerConnection.prototype[method]){var nativeMethod=pc[method];pc[method]=function(){var args=arguments;var opts;if(arguments.length===1&&typeof arguments[0]==="object"){opts=arguments[0]}else if(arguments.length===3&&typeof arguments[2]==="object"){opts=arguments[2]}tracer.send(method,id,opts);return new Promise(function(resolve,reject){nativeMethod.apply(pc,[opts]).then(function(description){tracer.send(method+"OnSuccess",id,description);resolve(description);if(args.length>0&&typeof args[0]==="function"){args[0].apply(null,[description])}}).catch(function(err){tracer.send(method+"OnFailure",id,err.toString());reject(err);if(args.length>1&&typeof args[1]==="function"){args[1].apply(null,[err])}})})}}})}else{["createOffer","createAnswer"].forEach(function(method){if(origPeerConnection.prototype[method]){var nativeMethod=pc[method];pc[method]=function(){var args=arguments;var opts;if(arguments.length===1&&typeof arguments[0]==="object"){opts=arguments[0]}else if(arguments.length===3&&typeof arguments[2]==="object"){opts=arguments[2]}tracer.send(method,id,opts);return new Promise(function(resolve,reject){nativeMethod.apply(pc,[function(description){tracer.send(method+"OnSuccess",id,description);resolve(description);if(args.length>0&&typeof args[0]==="function"){args[0].apply(null,[description])}},function(err){tracer.send(method+"OnFailure",id,err.toString());reject(err);if(args.length>1&&typeof args[1]==="function"){args[1].apply(null,[err])}},opts])})}}})}["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(method){if(origPeerConnection.prototype[method]){var nativeMethod=pc[method];pc[method]=function(){var args=arguments;tracer.send(method,id,args[0]);return new Promise(function(resolve,reject){nativeMethod.apply(pc,[args[0],function(){tracer.send(method+"OnSuccess",id);resolve();if(args.length>=2){args[1].apply(null,[])}},function(err){tracer.send(method+"OnFailure",id,err.toString());reject(err);if(args.length>=3){args[2].apply(null,[err])}}])})}}});pc.addEventListener("icecandidate",function(e){tracer.send("onicecandidate",id,e.candidate)});pc.addEventListener("addstream",function(e){tracer.send("onaddstream",id,e.stream.id+" "+e.stream.getTracks().map(function(t){return t.kind+":"+t.id}))});pc.addEventListener("removestream",function(e){tracer.send("onremovestream",id,e.stream.id+" "+e.stream.getTracks().map(function(t){return t.kind+":"+t.id}))});pc.addEventListener("signalingstatechange",function(){tracer.send("onsignalingstatechange",id,pc.signalingState)});pc.addEventListener("iceconnectionstatechange",function(){tracer.send("oniceconnectionstatechange",id,pc.iceConnectionState)});pc.addEventListener("icegatheringstatechange",function(){tracer.send("onicegatheringstatechange",id,pc.iceGatheringState)});pc.addEventListener("negotiationneeded",function(){tracer.send("onnegotiationneeded",id)});pc.addEventListener("datachannel",function(event){tracer.send("ondatachannel",id,[event.channel.id,event.channel.label])});var statChromeStats=function(pc,res){var now=mangleChromeStats(pc,res);tracer.send("getstats",pc.pcName,deltaCompression(pc.prevStats,now));pc.prevStats=JSON.parse(JSON.stringify(now))};var statFirefoxStats=function(pc,res){var now=map2obj(res);tracer.send("getstats",pc.pcName,deltaCompression(pc.prevStats,now));pc.prevStats=JSON.parse(JSON.stringify(now))};var statEdgeStats=function(pc,res){var now=map2obj(res);tracer.send("getstats",pc.pcName,deltaCompression(pc.prevStats,now));pc.prevStats=JSON.parse(JSON.stringify(now))};var statSafariStats=function(pc,res){var now=map2obj(res);tracer.send("getstats",pc.pcName,deltaCompression(pc.prevStats,now));pc.prevStats=JSON.parse(JSON.stringify(now))};var origGetStats=origPeerConnection.prototype["getStats"];if(browserDetails.browser!="edge"){pc.getStats=function(selector,successCallback,errorCallback){var pc=this;return new Promise(function(resolve,reject){origGetStats.apply(pc,[selector,function(response){if(browserDetails.browser==="chrome"||browserDetails.browser==="opera"){statChromeStats(pc,response)}else if(browserDetails.browser==="firefox"){statFirefoxStats(pc,response)}else if(browserDetails.browser==="edge"){statEdgeStats(pc,response)}else if(browserDetails.isWebRTCPluginInstalled===true){statChromeStats(pc,response)}else if(browserDetails.browser==="safari"){statSafariStats(pc,response)}else{console.warn("Unknow browser!")}resolve(response)},reject])}).then(successCallback,errorCallback)}}else{pc.getStats=function(selector,successCallback,errorCallback){var pc=this;return new Promise(function(resolve,reject){origGetStats.apply(pc,[selector]).then(function(response){statEdgeStats(pc,response);resolve(response)})}).then(successCallback,errorCallback)}}return pc};window.RTCPeerConnection=peerconnection},shimStatGUM:function(window){var browserDetails=utils.detectBrowser(window);var nonPromiseGetUserMedia=navigator.getUserMedia;var nonPromiseGUM=function(){tracer.send("getUserMedia",null,arguments[0]);var cb=arguments[1];var eb=arguments[2];nonPromiseGetUserMedia.call(navigator,arguments[0],function(stream){tracer.send("getUserMediaOnSuccess",null,dumpStream(stream));if(cb){cb(stream)}},function(err){tracer.send("getUserMediaOnFailure",null,err.name);if(eb){eb(err)}})};navigator.getUserMedia=nonPromiseGUM;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var promiseGetUserMedia=navigator.mediaDevices.getUserMedia;var promiseGUM=function(){tracer.send("navigator.mediaDevices.getUserMedia",null,arguments[0]);return promiseGetUserMedia.apply(navigator.mediaDevices,arguments).then(function(stream){tracer.send("navigator.mediaDevices.getUserMediaOnSuccess",null,dumpStream(stream));return stream},function(err){tracer.send("navigator.mediaDevices.getUserMediaOnFailure",null,err.name);return Promise.reject(err)})};navigator.mediaDevices.getUserMedia=promiseGUM.bind(navigator.mediaDevices)}},shimStatInterface:function(window,adapter){adapter.statsCollector={send:function(){if(arguments.length==1){tracer.send(arguments[0])}else if(arguments.length==2){tracer.send(arguments[0],arguments[1])}else if(arguments.length>=3){tracer.send(arguments[0],arguments[1],arguments[2])}},stop:function(){statDisabled_=true;tracer.enable(!statDisabled_)},start:function(){statDisabled_=false;tracer.enable(!statDisabled_)}}}};module.exports={shimStatPC:stats_collector.shimStatPC,shimStatGUM:stats_collector.shimStatGUM,shimStatInterface:stats_collector.shimStatInterface}},{"./trace-ws.js":25,"./utils.js":26}],25:[function(require,module,exports){var PROTOCOL_VERSION="1.0";var buffer=[];var confID=!window.sessionStorage.confID?"":"&confid="+window.sessionStorage.confID;var email=!window.localStorage.email?"":"&email="+window.localStorage.email;var id=Math.random().toString(36).substr(2);var fullURL=null;var enabled=true;var connection=null;function errorProcess(e){console.log("WS ERROR",e);return false}function closeProcess(){setTimeout(createConnection,5e3)}function openProcess(){while(buffer.length){connection.send(JSON.stringify(buffer.shift()))}}function createConnection(){if(enabled){if(connection){connection=null}console.log("Create stats connection !!!");connection=new WebSocket(fullURL,PROTOCOL_VERSION);connection.onerror=errorProcess;connection.onclose=closeProcess;connection.onopen=openProcess}return connection}module.exports={init:function(wsURL){fullURL=wsURL+"/stats?id="+id+confID+email;createConnection()},send:function(){if(enabled){var args=Array.prototype.slice.call(arguments);args.push((new Date).getTime());if(connection.readyState===1){connection.send(JSON.stringify(args))}else{buffer.push(args)}}},enable:function(stat){ex_enabled=enabled;enabled=stat===true?true:false;if(enabled!=ex_enabled){if(enabled){createConnection()}else{console.log("Closing stats connection");if(connection){connection.close()}}}},enabled:function(){return enabled}}},{}],26:[function(require,module,exports){"use strict";var logDisabled_=false;var deprecationWarnings_=true;function extractVersion(uastring,expr,pos){var match=uastring.match(expr);return match&&match.length>=pos&&parseInt(match[pos],10)}function wrapPeerConnectionEvent(window,eventNameToWrap,wrapper){if(!window.RTCPeerConnection){return}var proto=window.RTCPeerConnection.prototype;var nativeAddEventListener=proto.addEventListener;proto.addEventListener=function(nativeEventName,cb){if(nativeEventName!==eventNameToWrap){return nativeAddEventListener.apply(this,arguments)}var wrappedCallback=function(e){cb(wrapper(e))};this._eventMap=this._eventMap||{};this._eventMap[cb]=wrappedCallback;return nativeAddEventListener.apply(this,[nativeEventName,wrappedCallback])};var nativeRemoveEventListener=proto.removeEventListener;proto.removeEventListener=function(nativeEventName,cb){if(nativeEventName!==eventNameToWrap||!this._eventMap||!this._eventMap[cb]){return nativeRemoveEventListener.apply(this,arguments)}var unwrappedCb=this._eventMap[cb];delete this._eventMap[cb];return nativeRemoveEventListener.apply(this,[nativeEventName,unwrappedCb])};Object.defineProperty(proto,"on"+eventNameToWrap,{get:function(){return this["_on"+eventNameToWrap]},set:function(cb){if(this["_on"+eventNameToWrap]){this.removeEventListener(eventNameToWrap,this["_on"+eventNameToWrap]);delete this["_on"+eventNameToWrap]}if(cb){this.addEventListener(eventNameToWrap,this["_on"+eventNameToWrap]=cb)}}})}module.exports={extractVersion:extractVersion,wrapPeerConnectionEvent:wrapPeerConnectionEvent,disableLog:function(bool){if(typeof bool!=="boolean"){return new Error("Argument type: "+typeof bool+". Please use a boolean.")}logDisabled_=bool;return bool?"adapter.js logging disabled":"adapter.js logging enabled"},disableWarnings:function(bool){if(typeof bool!=="boolean"){return new Error("Argument type: "+typeof bool+". Please use a boolean.")}deprecationWarnings_=!bool;return"adapter.js deprecation warnings "+(bool?"disabled":"enabled")},log:function(){if(typeof window==="object"){if(logDisabled_){return}if(typeof console!=="undefined"&&typeof console.log==="function"){console.log.apply(console,arguments)}}},deprecated:function(oldMethod,newMethod){if(!deprecationWarnings_){return}console.warn(oldMethod+" is deprecated, please use "+newMethod+" instead.")},detectBrowser:function(window){var navigator=window&&window.navigator;var result={};result.browser=null;result.version=null;result.UIVersion=null;result.chromeVersion=null;if(typeof window==="undefined"||!window.navigator){result.browser="Not a browser.";return result}if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){result.browser="edge";result.version=extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);if(navigator.userAgent.match(/Edge\/([\d.]+)/)&&navigator.userAgent.match(/Edge\/([\d.]+)/)[1]){result.UIVersion=navigator.userAgent.match(/Edge\/([\d.]+)/)[1]}}else if(!navigator.mediaDevices&&(!!window.ActiveXObject||"ActiveXObject"in window||navigator.userAgent.match(/MSIE (\d+)/)||navigator.userAgent.match(/rv:(\d+)/))){result.browser="ie";if(navigator.userAgent.match(/MSIE (\d+)/)){result.version=extractVersion(navigator.userAgent,/MSIE (\d+).(\d+)/,1);if(navigator.userAgent.match(/MSIE ([\d.]+)/)&&navigator.userAgent.match(/MSIE ([\d.]+)/)[1]){result.UIVersion=navigator.userAgent.match(/MSIE ([\d.]+)/)[1]}}else if(navigator.userAgent.match(/rv:(\d+)/)){result.version=extractVersion(navigator.userAgent,/rv:(\d+).(\d+)/,1);if(navigator.userAgent.match(/rv:([\d.]+)/)&&navigator.userAgent.match(/rv:([\d.]+)/)[1]){result.UIVersion=navigator.userAgent.match(/rv:([\d.]+)/)[1]}}}else if(navigator.mozGetUserMedia){result.browser="firefox";result.version=extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1);if(navigator.userAgent.match(/Firefox\/([\d.]+)/)&&navigator.userAgent.match(/Firefox\/([\d.]+)/)[1]){result.UIVersion=navigator.userAgent.match(/Firefox\/([\d.]+)/)[1]}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){var isOpera=navigator.userAgent.match(/(OPR|Opera).([\d.]+)/)?true:false;if(isOpera){result.browser="opera";result.version=extractVersion(navigator.userAgent,/O(PR|pera)\/(\d+)\./,2);if(navigator.userAgent.match(/O(PR|pera)\/([\d.]+)/)&&navigator.userAgent.match(/O(PR|pera)\/([\d.]+)/)[2]){result.UIVersion=navigator.userAgent.match(/O(PR|pera)\/([\d.]+)/)[2]}if(navigator.userAgent.match(/Chrom(e|ium)\/([\d.]+)/)&&navigator.userAgent.match(/Chrom(e|ium)\/([\d.]+)/)[2]){result.chromeVersion=extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2)}}else{result.browser="chrome";result.version=extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);if(navigator.userAgent.match(/Chrom(e|ium)\/([\d.]+)/)&&navigator.userAgent.match(/Chrom(e|ium)\/([\d.]+)/)[2]){result.UIVersion=navigator.userAgent.match(/Chrom(e|ium)\/([\d.]+)/)[2]}}}else if(!navigator.webkitGetUserMedia&&navigator.userAgent.match(/AppleWebKit\/([0-9]+)\./)||navigator.webkitGetUserMedia&&!navigator.webkitRTCPeerConnection){if(navigator.userAgent.match(/Version\/(\d+).(\d+)/)){result.browser="safari";result.version=extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1);if(navigator.userAgent.match(/Version\/([\d.]+)/)&&navigator.userAgent.match(/Version\/([\d.]+)/)[1]){result.UIVersion=navigator.userAgent.match(/Version\/([\d.]+)/)[1]}}else{result.browser="Unsupported webkit-based browser "+"with GUM support but no WebRTC support.";
return result}}else{result.browser="Not a supported browser.";return result}return result}}},{}]},{},[11])(11)});!function(n,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.device=o():n.device=o()}(window,function(){return function(n){var o={};function e(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=n,e.c=o,e.d=function(n,o,t){e.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,o){if(1&o&&(n=e(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var r in n)e.d(t,r,function(o){return n[o]}.bind(null,r));return t},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},e.p="",e(e.s=0)}([function(n,o,e){n.exports=e(1)},function(n,o,e){"use strict";e.r(o);var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=window.device,i={},a=[];window.device=i;var c=window.document.documentElement,d=window.navigator.userAgent.toLowerCase(),u=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function l(n,o){return-1!==n.indexOf(o)}function s(n){return l(d,n)}function f(n){return c.className.match(new RegExp(n,"i"))}function b(n){var o=null;f(n)||(o=c.className.replace(/^\s+|\s+$/g,""),c.className=o+" "+n)}function p(n){f(n)&&(c.className=c.className.replace(" "+n,""))}function w(){i.landscape()?(p("portrait"),b("landscape"),y("landscape")):(p("landscape"),b("portrait"),y("portrait")),v()}function y(n){for(var o in a)a[o](n)}i.macos=function(){return s("mac")},i.ios=function(){return i.iphone()||i.ipod()||i.ipad()},i.iphone=function(){return!i.windows()&&s("iphone")},i.ipod=function(){return s("ipod")},i.ipad=function(){var n="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return s("ipad")||n},i.android=function(){return!i.windows()&&s("android")},i.androidPhone=function(){return i.android()&&s("mobile")},i.androidTablet=function(){return i.android()&&!s("mobile")},i.blackberry=function(){return s("blackberry")||s("bb10")||s("rim")},i.blackberryPhone=function(){return i.blackberry()&&!s("tablet")},i.blackberryTablet=function(){return i.blackberry()&&s("tablet")},i.windows=function(){return s("windows")},i.windowsPhone=function(){return i.windows()&&s("phone")},i.windowsTablet=function(){return i.windows()&&s("touch")&&!i.windowsPhone()},i.fxos=function(){return(s("(mobile")||s("(tablet"))&&s(" rv:")},i.fxosPhone=function(){return i.fxos()&&s("mobile")},i.fxosTablet=function(){return i.fxos()&&s("tablet")},i.meego=function(){return s("meego")},i.cordova=function(){return window.cordova&&"file:"===location.protocol},i.nodeWebkit=function(){return"object"===t(window.process)},i.mobile=function(){return i.androidPhone()||i.iphone()||i.ipod()||i.windowsPhone()||i.blackberryPhone()||i.fxosPhone()||i.meego()},i.tablet=function(){return i.ipad()||i.androidTablet()||i.blackberryTablet()||i.windowsTablet()||i.fxosTablet()},i.desktop=function(){return!i.tablet()&&!i.mobile()},i.television=function(){for(var n=0;n<u.length;){if(s(u[n]))return!0;n++}return!1},i.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?l(screen.orientation.type,"portrait"):i.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90!==Math.abs(window.orientation):window.innerHeight/window.innerWidth>1},i.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?l(screen.orientation.type,"landscape"):i.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},i.noConflict=function(){return window.device=r,this},i.ios()?i.ipad()?b("ios ipad tablet"):i.iphone()?b("ios iphone mobile"):i.ipod()&&b("ios ipod mobile"):i.macos()?b("macos desktop"):i.android()?i.androidTablet()?b("android tablet"):b("android mobile"):i.blackberry()?i.blackberryTablet()?b("blackberry tablet"):b("blackberry mobile"):i.windows()?i.windowsTablet()?b("windows tablet"):i.windowsPhone()?b("windows mobile"):b("windows desktop"):i.fxos()?i.fxosTablet()?b("fxos tablet"):b("fxos mobile"):i.meego()?b("meego mobile"):i.nodeWebkit()?b("node-webkit"):i.television()?b("television"):i.desktop()&&b("desktop"),i.cordova()&&b("cordova"),i.onChangeOrientation=function(n){"function"==typeof n&&a.push(n)};var m="resize";function h(n){for(var o=0;o<n.length;o++)if(i[n[o]]())return n[o];return"unknown"}function v(){i.orientation=h(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(m="orientationchange"),window.addEventListener?window.addEventListener(m,w,!1):window.attachEvent?window.attachEvent(m,w):window[m]=w,w(),i.type=h(["mobile","tablet","desktop"]),i.os=h(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),v(),o.default=i}]).default});var Base64=function(){var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var obj={encode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;do{chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4)}while(i<input.length);return output},decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}while(i<input.length);return output}};return obj}();function tsk_buff_str2ib(s_str){if(!s_str){tsk_utils_log_error("Invalid argument");return-1}var len=s_str.length;var ib=new Array(len);for(var i=0;i<len;++i){ib[i]=s_str.charCodeAt(i)}return ib}function tsk_buff_ab2str(buff){return tsk_buff_u8b2ascii(new Uint8Array(buff))}function tsk_buff_u8b2ascii(au8_buff){var str=new String;var i_length=au8_buff.byteLength==undefined?au8_buff.length:au8_buff.byteLength;for(var i=0;i<i_length;++i){str+=String.fromCharCode(au8_buff[i]&255)}return str}function tsk_buff_u8b2utf8(au8_buff){try{var str=new String;var c_char;var i_length=au8_buff.byteLength==undefined?au8_buff.length:au8_buff.byteLength;for(var i=0;i<i_length;){c_char=au8_buff[i];str+=String.fromCharCode(c_char);++i}return str}catch(e){tsk_utils_log_error(e);return tsk_buff_u8b2ascii(au8_buff)}}function tsk_buff_str2u8b(s_str){var array=new Uint8Array(s_str.length);for(var i=0;i<s_str.length;++i){array[i]=s_str[i].charCodeAt(0)&255}return array}tsk_fsm.prototype.__i_state_any=-65535;tsk_fsm.prototype.__i_state_default=-65520;tsk_fsm.prototype.__i_state_none=-65280;tsk_fsm.prototype.__i_state_final=-61440;tsk_fsm.prototype.__i_action_any=-65535;function tsk_fsm(i_state_curr,i_state_term,fn_onterm,o_usr_data){this.i_state_curr=i_state_curr;this.i_state_term=i_state_term;this.fn_onterm=fn_onterm;this.o_usr_data=o_usr_data;this.ao_entries=new Array;this.b_debug=false;this.i_ret_exec=0}tsk_fsm.prototype.is_terminated=function(){return this.i_state_curr==this.i_state_term};tsk_fsm.prototype.is_debug_enabled=function(){return this.b_debug};tsk_fsm.prototype.set_debug_enabled=function(b_enable){this.b_debug=b_enable};tsk_fsm.prototype.set_onterm_callback=function(fn_callback,o_usr_data,i_ret_exec){this.fn_onterm=fn_callback;this.o_usr_data=o_usr_data;this.i_ret_exec=i_ret_exec};tsk_fsm.prototype.get_usr_data=function(){return this.o_usr_data};tsk_fsm.prototype.set=function(){for(var i=0;i<arguments.length;++i){if(arguments[i]){this.ao_entries.push(arguments[i])}}this.ao_entries.sort(tsk_fsm_entry_compare);return 0};tsk_fsm.prototype.act=function(i_action,o_cond_obj1,o_cond_obj2){var b_found=false;var b_terminates=false;var i_ret_exec=0;var o_entry;if(this.is_terminated()){tsk_utils_log_warn("The FSM is in the final state");return-2}this.b_locked=true;for(var i=0;i<this.ao_entries.length;++i){if(!(o_entry=this.ao_entries[i])){continue}if(o_entry.i_state_from!=tsk_fsm.prototype.__i_state_any&&o_entry.i_state_from!=this.i_state_curr){continue}if(o_entry.i_action!=tsk_fsm.prototype.__i_action_any&&o_entry.i_action!=i_action){continue}if(!o_entry.fn_condition||o_entry.fn_condition(o_cond_obj1,o_cond_obj2)){if(this.is_debug_enabled()){tsk_utils_log_info("State machine: "+o_entry.s_description)}if(o_entry.i_state_to!=tsk_fsm.prototype.__i_state_any){this.i_state_curr=o_entry.i_state_to}if(o_entry.fn_execute){try{if(i_ret_exec=o_entry.fn_execute(Array.prototype.slice.call(arguments,3))){tsk_utils_log_info("State machine: Exec function failed. Moving to the termnial state")}}catch(e){console.error(e);i_ret_exec=-3}}else{i_ret_exec=0}tsk_utils_log_info("i_ret_exec = "+i_ret_exec);tsk_utils_log_info("this.i_state_curr = "+this.i_state_curr);tsk_utils_log_info("this.i_state_term = "+this.i_state_term);b_terminates=i_ret_exec!=0||this.i_state_curr==this.i_state_term;b_found=true;break}}this.i_ret_exec=i_ret_exec;tsk_utils_log_info("b_terminates = "+b_terminates);if(b_terminates){if(this.fn_onterm){tsk_utils_log_info("fn_onterm");this.fn_onterm(this.o_usr_data,this.i_ret_exec)}this.i_state_curr=this.i_state_term}this.b_locked=false;return i_ret_exec};function tsk_fsm_entry(i_state_from,i_action,fn_condition,i_state_to,fn_execute,s_description){this.i_state_from=i_state_from;this.i_action=i_action;this.fn_condition=fn_condition;this.i_state_to=i_state_to;this.fn_execute=fn_execute;this.s_description=s_description}tsk_fsm_entry.prototype.Create=function(i_state_from,i_action,fn_condition,i_state_to,fn_execute,s_description){return new tsk_fsm_entry(i_state_from,i_action,fn_condition,i_state_to,fn_execute,s_description)};tsk_fsm_entry.prototype.CreateAlways=function(i_state_from,i_action,i_state_to,fn_execute,s_description){return new tsk_fsm_entry(i_state_from,i_action,null,i_state_to,fn_execute,s_description)};tsk_fsm_entry.prototype.CreateNothing=function(i_state_from,i_action,fn_condition,s_description){return new tsk_fsm_entry(i_state_from,i_action,fn_condition,i_state_from,null,s_description)};tsk_fsm_entry.prototype.CreateAlwaysNothing=function(i_state_from,s_description){return new tsk_fsm_entry(i_state_from,tsk_fsm.prototype.__i_action_any,null,i_state_from,null,s_description)};function tsk_fsm_entry_compare(o_entry1,o_entry2){if(o_entry1&&o_entry2){if(o_entry1.i_state_from==tsk_fsm.prototype.__i_state_any){return+20}else if(o_entry2.i_state_from==tsk_fsm.prototype.__i_state_any){return-20}if(o_entry1.i_action==tsk_fsm.prototype.__i_action_any){return+10}else if(o_entry2.i_action==tsk_fsm.prototype.__i_action_any){return-10}return o_entry1.fn_condition?-1:o_entry2.fn_condition?1:0}return 0}var MD5=function(){var hexcase=0;var b64pad="";var chrsz=8;var safe_add=function(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535};var bit_rol=function(num,cnt){return num<<cnt|num>>>32-cnt};var str2binl=function(str){var bin=[];var mask=(1<<chrsz)-1;for(var i=0;i<str.length*chrsz;i+=chrsz){bin[i>>5]|=(str.charCodeAt(i/chrsz)&mask)<<i%32}return bin};var binl2str=function(bin){var str="";var mask=(1<<chrsz)-1;for(var i=0;i<bin.length*32;i+=chrsz){str+=String.fromCharCode(bin[i>>5]>>>i%32&mask)}return str};var binl2hex=function(binarray){var hex_tab=hexcase?"0123456789ABCDEF":"0123456789abcdef";var str="";for(var i=0;i<binarray.length*4;i++){str+=hex_tab.charAt(binarray[i>>2]>>i%4*8+4&15)+hex_tab.charAt(binarray[i>>2]>>i%4*8&15)}return str};var binl2b64=function(binarray){var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var str="";var triplet,j;for(var i=0;i<binarray.length*4;i+=3){triplet=(binarray[i>>2]>>8*(i%4)&255)<<16|(binarray[i+1>>2]>>8*((i+1)%4)&255)<<8|binarray[i+2>>2]>>8*((i+2)%4)&255;for(j=0;j<4;j++){if(i*8+j*6>binarray.length*32){str+=b64pad}else{str+=tab.charAt(triplet>>6*(3-j)&63)}}}return str};var md5_cmn=function(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)};var md5_ff=function(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)};var md5_gg=function(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)};var md5_hh=function(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)};var md5_ii=function(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)};var core_md5=function(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;var olda,oldb,oldc,oldd;for(var i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return[a,b,c,d]};var core_hmac_md5=function(key,data){var bkey=str2binl(key);if(bkey.length>16){bkey=core_md5(bkey,key.length*chrsz)}var ipad=new Array(16),opad=new Array(16);for(var i=0;i<16;i++){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828}var hash=core_md5(ipad.concat(str2binl(data)),512+data.length*chrsz);return core_md5(opad.concat(hash),512+128)};var obj={hexdigest:function(s){return binl2hex(core_md5(str2binl(s),s.length*chrsz))},b64digest:function(s){return binl2b64(core_md5(str2binl(s),s.length*chrsz))},hash:function(s){return binl2str(core_md5(str2binl(s),s.length*chrsz))},hmac_hexdigest:function(key,data){return binl2hex(core_hmac_md5(key,data))},hmac_b64digest:function(key,data){return binl2b64(core_hmac_md5(key,data))},hmac_hash:function(key,data){return binl2str(core_hmac_md5(key,data))},test:function(){return MD5.hexdigest("abc")==="900150983cd24fb0d6963f7d28e17f72"}};return obj}();function tsk_param_create(s_name,s_value){var self=new Object;self.s_name=s_name;self.s_value=s_value;self.b_tag=false;return self}function tsk_param_create_null(){return tsk_param_create(null,null)}function tsk_param_parse(s_line){if(!tsk_string_is_null_or_empty(s_line)){var i_start=0;var i_end=s_line.length;var i_equal=tsk_string_index_of(s_line,i_end,"=");var s_name=null;var s_value=null;if(i_equal>=0&&i_equal<i_end){s_name=s_line.substring(i_start,i_start+(i_equal-i_start));s_value=s_line.substring(i_equal+1,i_equal+(i_end-i_equal))}else{s_name=s_line}return tsk_param_create(s_name,s_value)}return null}function tsk_param_get_index_by_name(ao_params,s_name){if(ao_params&&!tsk_string_is_null_or_empty(s_name)){var s_name_i=s_name.toLowerCase();for(var i=0;i<ao_params.length;++i){if(ao_params[i].s_name.toLowerCase()==s_name_i){return i}}}return-1}function tsk_param_get_by_name(ao_params,s_name){var i_index=tsk_param_get_index_by_name(ao_params,s_name);if(i_index!=-1){return ao_params[i_index]}return null}function tsk_param_get_value_by_name(ao_params,s_name){var o_param=tsk_param_get_by_name(ao_params,s_name);if(o_param){return o_param.s_value}return null}function tsk_params_have_param(ao_params,s_name){return tsk_param_get_by_name(ao_params,s_name)!=null}function tsk_params_add(ao_params,s_name,s_value){if(ao_params&&!tsk_string_is_null_or_empty(s_name)){var i_index=tsk_param_get_index_by_name(ao_params,s_name);if(i_index!=-1){ao_params[i_index].s_value=s_value}else{ao_params.push(tsk_param_create(s_name,s_value))}}}function tsk_params_add_param(ao_params,o_param){if(ao_params&&o_param){tsk_params_add(ao_params,o_param.s_name,o_param.s_value)}}function tsk_params_remove_by_name(ao_params,s_name){if(ao_params&&!tsk_string_is_null_or_empty(s_name)){var i_index=tsk_param_get_index_by_name(ao_params,s_name);if(i_index!=-1){ao_params.splice(i_index,1)}}}function tsk_param_tostring(o_param){if(o_param&&o_param.s_name){return!tsk_string_is_null_or_empty(o_param.s_value)?o_param.s_name+"="+o_param.s_value:o_param.s_name}return""}function tsk_params_tostring(o_params,c_separator){var s_ret="";if(o_params){for(var i=0;i<o_params.length;++i){if(!tsk_string_is_null_or_empty(s_ret)){s_ret+=c_separator}s_ret+=tsk_param_tostring(o_params[i])}}return s_ret}function tsk_ragel_state_create(){var self=new Object;tsk_ragel_state_init(self,null,0);return self}function tsk_ragel_state_init(o_self,o_data,i_size){o_self.i_cs=0;o_self.i_p=0;o_self.i_pe=i_size;o_self.o_data=o_data;o_self.s_data=null;o_self.i_eof=0;o_self.i_tag_start=0;o_self.i_tag_end=i_size}function tsk_ragel_state_init_ai(o_self,ai_data){return tsk_ragel_state_init_str(o_self,tsk_buff_ab2str(ai_data))}function tsk_ragel_state_init_str(o_self,s_str){tsk_ragel_state_init(o_self,tsk_buff_str2ib(s_str),s_str.length);o_self.s_data=s_str}function tsk_ragel_parser_get_string(s_str,i_p,i_tag_start){var i_len=i_p-i_tag_start;var s_ret=null;if(i_len>0){s_ret=s_str.substring(i_tag_start,i_tag_start+i_len)}return s_ret}function tsk_ragel_parser_get_int(s_str,i_p,i_tag_start){var i_ret=0;var s_curr=tsk_ragel_parser_get_string(s_str,i_p,i_tag_start);if(!tsk_string_is_null_or_empty(s_curr)){i_ret=parseInt(s_curr)}return i_ret}function tsk_ragel_parser_get_param(s_str,i_p,i_tag_start){if(!tsk_string_is_null_or_empty(s_str)){var i_len=i_p-i_tag_start;return tsk_param_parse(s_str.substring(i_tag_start,i_tag_start+i_len))}return null}function tsk_ragel_add_param(s_str,i_p,i_tag_start,ao_params){var o_param=tsk_ragel_parser_get_param(s_str,i_p,i_tag_start);if(o_param){ao_params.push(o_param)}}function tsk_ragel_parser_add_string(s_str,i_p,i_tag_start,sa_strings){var s_curr=tsk_ragel_parser_get_string(s_str,i_p,i_tag_start);if(!tsk_string_is_null_or_empty(s_curr)){sa_strings.push(s_curr)}return sa_strings}function tsk_ragel_scanner_get_string(s_str,i_ts,i_te){var i_len=i_te-i_ts;var s_ret=null;if(i_len>0){s_ret=s_str.substring(i_ts,i_ts+i_len)}return s_ret}function tsk_ragel_scanner_get_int(s_str,i_ts,i_te){var s_curr=tsk_ragel_scanner_get_string(s_str,i_ts,i_te);if(s_curr){return parseInt(s_curr)}return 0}function tsk_tagel_scanner_add_param(s_str,i_ts_i_te,ao_params){if(ao_params&&!tsk_string_is_null_or_empty(s_str)){var i_len=te-ts;var o_param=tsk_param_parse(s_str.substring(i_ts,i_ts+i_len));ao_params.push(o_param)}}function tsk_string_is_null_or_empty(s_str){return!s_str||s_str==""}function tsk_string_is_string(o_str){return o_str instanceof String||typeof o_str=="string"}function tsk_string_index_of(s_str,i_len,s_substr){var i_ret=-1;if(s_str&&s_substr){i_ret=s_str.indexOf(s_substr)}return i_ret<i_len?i_ret:-1}function tsk_string_contains(s_str,i_len,s_substr){return tsk_string_index_of(s_str,i_len,s_substr)>=0}function tsk_string_candidate(s_str,s_type){if(!s_str){tsk_utils_log_info("tsk_string_candidate s_str is null.");return null}if(!s_type)s_type="host";var reg=/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/;if(s_str.indexOf(s_type)>0){var ip=reg.exec(s_str);return ip}else{return null}}function tsk_string_unquote(s_str,c_lquote,c_rquote){var s_ret=s_str;if(s_ret){var i_len=s_ret.length;if(i_len>=2&&s_ret[0]==c_lquote&&s_ret[i_len-1]==c_rquote){s_ret=s_str.substring(1,i_len-1)}}return s_ret}function tsk_string_unquote_2(s_str){return tsk_string_unquote(s_str,'"','"')}function tsk_strdup(s_str){if(s_str){return new String(s_str).toString()}return s_str}function tsk_string_format(s_str){for(var i=1;i<arguments.length;i++){var regexp=new RegExp("\\{"+(i-1)+"\\}","gi");s_str=s_str.replace(regexp,arguments[i])}return s_str}function tsk_string_equals(s_1,s_2){return s_1==s_2}function tsk_string_iequals(s_1,s_2){if(s_1&&s_2){return s_1.toLowerCase()==s_2.toLowerCase()}return s_1==s_2}function tsk_string_random_from_dict(i_length,s_dict){var s_ret="";for(var i=0;i<i_length;i++){s_ret+=s_dict[Math.floor(Math.random()*s_dict.length)]}return s_ret}function tsk_string_random(i_length){var s_dict="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return tsk_string_random_from_dict(i_length,s_dict)}function tsk_string_random_uuid(){var s_dict="0123456789abcdef";return tsk_string_format("{0}-{1}-{2}-{3}-{4}",tsk_string_random_from_dict(8,s_dict),tsk_string_random_from_dict(4,s_dict),tsk_string_random_from_dict(4,s_dict),tsk_string_random_from_dict(4,s_dict),tsk_string_random_from_dict(12,s_dict))}function tsk_string_to_int(s_str,i_default){try{return parseInt(s_str)}catch(e){return i_default}}function tsk_string_to_object(s_str){if(!tsk_string_is_null_or_empty(s_str)){try{eval("var obj = "+s_str+";");return obj}catch(e){}}}function tsk_string_parse_url(s_url){if(!s_url){tsk_utils_log_error("Invalid argument");return null}var i_0=s_url.indexOf("://");var i_1=s_url.lastIndexOf(":");if(i_0==-1||i_1==-1){tsk_utils_log_error(s_url+" not valid as url");return null}var ao_params=new Array;ao_params.push(s_url.substring(0,i_0));ao_params.push(s_url.substring(i_0+3,i_1));try{var i_3=s_url.substring(i_0+3).indexOf("/");if(i_3==-1){ao_params.push(parseInt(s_url.substring(i_1+1),10))}else{ao_params.push(parseInt(s_url.substring(i_1+1,i_3+i_0+3),10));ao_params.push(s_url.substring(i_3+i_0+3+1))}}catch(e){tsk_utils_log_error(e);return null}return ao_params}function tsk_utils_init_webrtc(){WebRtc4all_Init()}function tsk_utils_have_websocket(){try{return!!window.WebSocket}catch(e){return false}}function tsk_utils_have_webrtc(){return WebRtc4all_GetType()!=WebRtcType_e.NONE&&WebRtc4all_GetType()!=WebRtcType_e.ORTC}function tsk_utils_have_ortc(){return WebRtc4all_GetType()==WebRtcType_e.ORTC}function tsk_utils_have_webrtc4all(){return tsk_utils_have_webrtc4npapi()||tsk_utils_have_webrtc4ie()}function tsk_utils_have_webrtc4npapi(){return WebRtc4all_GetType()==WebRtcType_e.NPAPI}function tsk_utils_have_webrtc4ie(){return WebRtc4all_GetType()==WebRtcType_e.IE}function tsk_utils_have_webrtc4native(){return WebRtc4all_GetType()==WebRtcType_e.NATIVE}function tsk_utils_have_webrtc4ericsson(){return WebRtc4all_GetType()==WebRtcType_e.ERICSSON}function tsk_utils_webrtc4all_get_version(){return WebRtc4all_GetVersion()}function tsk_utils_have_stream(){try{return!!navigator.getUserMedia}catch(e){}return false}var __s_navigator_version=undefined;function tsk_utils_get_navigator_version(){if(!__s_navigator_version){__s_navigator_version="unknown";if(navigator.userAgent||navigator.appName){var ao_friendly_names=[{s_id:"opr",s_name:"opera"},{s_id:"opera",s_name:"opera"},{s_id:"chrome",s_name:"chrome"},{s_id:"firefox",s_name:"firefox"},{s_id:"safari",s_name:"safari"},{s_id:"microsoft internet explorer",s_name:"ie"},{s_id:"netscape",s_name:"netscape"}];var s_userAgent=navigator.userAgent?navigator.userAgent.toLowerCase():"null";for(var i_index=0;i_index<ao_friendly_names.length;++i_index){if(s_userAgent.indexOf(ao_friendly_names[i_index].s_id)!=-1){var str=s_userAgent.split(" ");for(var i=0;i<str.length;++i){if(str[i].indexOf(ao_friendly_names[i_index].s_id)!=-1){__s_navigator_version=str[i].split("/")[1];break}}break}}}}return __s_navigator_version}var __s_navigator_friendly_name=undefined;function tsk_utils_get_navigator_friendly_name(){if(!__s_navigator_friendly_name){__s_navigator_friendly_name="unknown";if(navigator.userAgent||navigator.appName){var ao_friendly_names=[{s_id:"opr",s_name:"opera"},{s_id:"opera",s_name:"opera"},{s_id:"edge",s_name:"edge"},{s_id:"chrome",s_name:"chrome"},{s_id:"firefox",s_name:"firefox"},{s_id:"safari",s_name:"safari"},{s_id:"microsoft internet explorer",s_name:"ie"},{s_id:"netscape",s_name:"netscape"}];var s_userAgent=navigator.userAgent?navigator.userAgent.toLowerCase():"null";var s_appName=navigator.appName?navigator.appName.toLowerCase():"null";for(var i_index=0;i_index<ao_friendly_names.length;++i_index){if(s_userAgent.indexOf(ao_friendly_names[i_index].s_id)!=-1||s_appName.indexOf(ao_friendly_names[i_index].s_id)!=-1){__s_navigator_friendly_name=ao_friendly_names[i_index].s_name;break}}}}return __s_navigator_friendly_name}var __s_system_friendly_name=undefined;function tsk_utils_get_system_friendly_name(){if(!__s_system_friendly_name){__s_system_friendly_name="unknown";if(navigator.appVersion){var ao_friendly_names=[{s_id:"mac",s_name:"mac"},{s_id:"powerpc",s_name:"powerpc"},{s_id:"win",s_name:"windows"},{s_id:"sunos",s_name:"sunos"},{s_id:"linux",s_name:"linux"}];var s_appVersion=navigator.appVersion.toLowerCase();for(var i_index=0;i_index<ao_friendly_names.length;++i_index){if(s_appVersion.indexOf(ao_friendly_names[i_index].s_id)!=-1){__s_system_friendly_name=ao_friendly_names[i_index].s_name;break}}}}return __s_system_friendly_name}function tsk_utils_detect_OS(){var sUserAgent=navigator.userAgent;var isWin=navigator.platform=="Win32"||navigator.platform=="Windows";var isMac=navigator.platform=="Mac68K"||navigator.platform=="MacPPC"||navigator.platform=="Macintosh"||navigator.platform=="MacIntel";if(isMac)return"Mac";var isUnix=navigator.platform=="X11"&&!isWin&&!isMac;if(isUnix)return"Unix";var isLinux=String(navigator.platform).indexOf("Linux")>-1;if(isLinux)return"Linux";if(isWin){var isWin2K=sUserAgent.indexOf("Windows NT 5.0")>-1||sUserAgent.indexOf("Windows 2000")>-1;if(isWin2K)return"Win2000";var isWinXP=sUserAgent.indexOf("Windows NT 5.1")>-1||sUserAgent.indexOf("Windows XP")>-1;if(isWinXP)return"WinXP";var isWin2003=sUserAgent.indexOf("Windows NT 5.2")>-1||sUserAgent.indexOf("Windows 2003")>-1;if(isWin2003)return"Win2003";var isWinVista=sUserAgent.indexOf("Windows NT 6.0")>-1||sUserAgent.indexOf("Windows Vista")>-1;if(isWinVista)return"WinVista";var isWin7=sUserAgent.indexOf("Windows NT 6.1")>-1||sUserAgent.indexOf("Windows 7")>-1;if(isWin7)return"Win7"}return"other"}var __i_debug_level=5;function tsk_utils_log_set_level(i_level){__i_debug_level=i_level}if(false){function tsk_utils_log_debug(s_msg){if(window.console&&__i_debug_level>=6){if(typeof webrtc_log_debug!="undefined"){webrtc_log_debug(s_msg)}else{window.console.debug(s_msg)}}}function tsk_utils_log_log_with_format(s_msg){if(window.console&&__i_debug_level>=5){if(typeof webrtc_log_log_with_format!="undefined"){webrtc_log_log_with_format(s_msg)}else{window.console.log("%c"+s_msg," font-size:1.5em")}}}function tsk_utils_log_log(s_msg){if(window.console&&__i_debug_level>=5){if(typeof webrtc_log_log!="undefined"){webrtc_log_log(s_msg)}else{window.console.log(s_msg)}}}function tsk_utils_log_info(s_msg){if(window.console&&__i_debug_level>=4){if(typeof webrtc_log_info!="undefined"){webrtc_log_info(s_msg)}else{window.console.info(s_msg)}}}function tsk_utils_log_warn(s_msg){if(window.console&&__i_debug_level>=3){if(typeof webrtc_log_warn!="undefined"){webrtc_log_warn(s_msg)}else{window.console.warn(s_msg)}}}function tsk_utils_log_error(s_msg){if(window.console&&__i_debug_level>=2){if(typeof webrtc_log_error!="undefined"){webrtc_log_error(s_msg)}else{window.console.error(s_msg)}}}function tsk_utils_log_fatal(s_msg){if(__i_debug_level>=1){tsk_utils_log_error(s_msg)}}}else{var tsk_utils_log_debug=window.debug("SIPml:DEBUG");var tsk_utils_log_log=window.debug("SIPml:LOG");var tsk_utils_log_info=window.debug("SIPml:INFO");var tsk_utils_log_warn=window.debug("SIPml:WARN");var tsk_utils_log_error=window.debug("SIPml:ERROR");var tsk_utils_log_fatal=window.debug("SIPml:FATAL")}function loadXML(xmlString){var xmlDoc=null;if(!window.DOMParser&&window.ActiveXObject){var xmlDomVersions=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"];for(var i=0;i<xmlDomVersions.length;i++){try{xmlDoc=new ActiveXObject(xmlDomVersions[i]);xmlDoc.async=false;xmlDoc.loadXML(xmlString);break}catch(e){}}}else if(window.DOMParser&&document.implementation&&document.implementation.createDocument){try{domParser=new DOMParser;xmlDoc=domParser.parseFromString(xmlString,"text/xml")}catch(e){}}else{return null}return xmlDoc}function List(){this.b_initialized=true;this.init()}List.prototype.init=function(){this.array=new Array};List.prototype.size=function(){return this.array.length};List.prototype.add=function(element){this.array.push(element)};List.prototype.toArray=function(){return this.array};List.prototype.remove=function(index){if(index>=this.size()){index=this.size()-1}this.array.splice(index,1)};List.prototype.get=function(index){return this.array[index]};List.prototype.clear=function(){this.init()};List.prototype.isEmpty=function(){return this.size()===0};List.prototype.contains=function(element){return this.indexOf(element)>=0};List.prototype.indexOf=function(element){var size=this.size();if(null===element){for(var i=0;i<size;i++){if(this.array[i]===null){return i}}}else{for(var i=0;i<size;i++){if(this.array[i]===element){return i}}}return-1};var tsk_blob_reader={readAs:function(type,blob,cb){var r=new FileReader;r.onloadend=function(){if(typeof cb==="function"){cb.call(r,r.result)}};try{r["readAs"+type](blob)}catch(e){}}};function tsk_blob_parse(data){var shortVar,intVar,stringVar;var blob=data.blob;tsk_blob_reader.readAs("Text",blob.slice(0,4,"text/plain;charset=UTF-8"),function(result){
shortVar=result});tsk_blob_reader.readAs("ArrayBuffer",blob.slice(4,8),function(arr){intVar=new Int32Array(arr)[0]});tsk_blob_reader.readAs("ArrayBuffer",blob.slice(8,10),function(arr){intVar=new Int16Array(arr)[0]});tsk_blob_reader.readAs("ArrayBuffer",blob.slice(10,12),function(arr){intVar=new Int16Array(arr)[0]});tsk_blob_reader.readAs("Text",blob.slice(12,blob.size,"text/plain;charset=UTF-8"),function(result){stringVar=result;if(stringVar){data.cb({o_self:data.o_self,data:stringVar})}})}function tsk_other_math_random(o_min,o_max){if(!o_max){tsk_utils_log_warn('tsk_other_math_random: "o_max" must not be null');return}else if(o_min>=o_max){tsk_utils_log_warn("tsk_other_math_random: the difference between the maximum and minimum values is a minus");return}o_min=o_min?o_min:0;var Range=o_max-o_min;var Rand=Math.random();return o_min+Math.round(Rand*Range)}function tsk_other_loadXML(xmlString){if(!xmlString){tsk_utils_log_warn('tsk_other_loadXML: "xmlString" must not be null');return}var xmlDoc=null;if(!window.DOMParser&&window.ActiveXObject){var xmlDomVersions=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"];for(var i=0;i<xmlDomVersions.length;i++){try{xmlDoc=new ActiveXObject(xmlDomVersions[i]);xmlDoc.async=false;xmlDoc.loadXML(xmlString);break}catch(e){tsk_utils_log_warn("tsk_other_loadXML IE error: \n"+e)}}}else if(window.DOMParser&&document.implementation&&document.implementation.createDocument){try{domParser=new DOMParser;xmlDoc=domParser.parseFromString(xmlString,"text/xml")}catch(e){tsk_utils_log_warn("tsk_other_loadXML Non-IE error: \n"+e)}}else{tsk_utils_log_warn("tsk_other_loadXML can not load xmlString");return null}return xmlDoc}function tsk_other_detect_OS(){var sUserAgent=navigator.userAgent;var isWin=navigator.platform=="Win32"||navigator.platform=="Windows";var isMac=navigator.platform=="Mac68K"||navigator.platform=="MacPPC"||navigator.platform=="Macintosh"||navigator.platform=="MacIntel";if(isMac){return"Mac"}var isUnix=navigator.platform=="X11"&&!isWin&&!isMac;if(isUnix){return"Unix"}var isLinux=String(navigator.platform).indexOf("Linux")>-1;if(isLinux){return"Linux"}if(isWin){var isWin2K=sUserAgent.indexOf("Windows NT 5.0")>-1||sUserAgent.indexOf("Windows 2000")>-1;if(isWin2K){return"Win2000"}var isWinXP=sUserAgent.indexOf("Windows NT 5.1")>-1||sUserAgent.indexOf("Windows XP")>-1;if(isWinXP){return"WinXP"}var isWin2003=sUserAgent.indexOf("Windows NT 5.2")>-1||sUserAgent.indexOf("Windows 2003")>-1;if(isWin2003){return"Win2003"}var isWinVista=sUserAgent.indexOf("Windows NT 6.0")>-1||sUserAgent.indexOf("Windows Vista")>-1;if(isWinVista){return"WinVista"}var isWin7=sUserAgent.indexOf("Windows NT 6.1")>-1||sUserAgent.indexOf("Windows 7")>-1;if(isWin7){return"Win7"}}return"other"}function tsk_other_deep_copy_obj(obj){function loopDeepClone(data){function getType(obj){var toString=Object.prototype.toString;var map={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};if(obj instanceof Element){return"element"}return map[toString.call(obj)]}var type=getType(data);var obj;if(type==="array"){obj=[]}else if(type==="object"){obj={}}else{return data}if(type==="array"){for(var i=0,len=data.length;i<len;i++){obj.push(loopDeepClone(data[i]))}}else if(type==="object"){for(var key in data){obj[key]=loopDeepClone(data[key])}}return obj}function jsonDeepClone(data){return JSON.parse(JSON.stringify(data))}function extendedOperatorDeepClone(data){}function jqueryDeepClone(originObject){var tmp;if(originObject instanceof Object&&originObject!==null){tmp=$.extend(true,{},originObject)}else{tmp=originObject}return tmp}return jqueryDeepClone(obj)}var tsk_other_is={types:["Array","Boolean","Date","Number","Object","RegExp","String","Window","HTMLDocument"]};for(var i=0,c;c=tsk_other_is.types[i++];){tsk_other_is[c]=function(type){return function(obj){return Object.prototype.toString.call(obj)=="[object "+type+"]"}}(c)}function tsk_other_key(key,value,obj){if(!key||!obj){tsk_utils_log_info("tsk_other_key: invalid parameter");return error_status_e.err_status_fail}for(var o_key in obj){if(tsk_other_is.Object(obj[o_key])){tsk_other_key(key,value,obj[o_key])}else if(key==o_key){obj[o_key]=value;return error_status_e.err_status_ok}}return error_status_e.err_status_fail}function tsk_other_assign(o_src,o_dst,s_filter,d_filter){if(!o_src||!o_dst){tsk_utils_log_info("tsk_other_assign: invalid parameter");return}var s_length=s_filter?s_filter.length:0;var d_length=d_filter?d_filter.length:0;var flag;for(var key in o_src){flag=false;for(var i=0;i<s_length;i++){if(key==s_filter[i]){flag=true;break}}if(flag){continue}for(var jsep_key in o_dst[0]){for(var j=0;j<d_length;j++){if(jsep_key===d_filter[j]){flag=false;break}else{flag=true}}if(flag){continue}flag=true;if(tsk_other_is.Object(o_dst[0][jsep_key])){if(tsk_other_key(key,o_src[key],o_dst[0][jsep_key])){break}}else if(key==jsep_key){o_dst[0][jsep_key]=o_src[key];flag=false;break}}if(flag&&o_dst.length>1){for(var info_key in o_dst[1]){if(tsk_other_is.Object(o_dst[1][info_key])){if(tsk_other_key(key,o_src[key],o_dst[1][info_key])){break}}else if(key==info_key){o_dst[1][info_key]=o_src[key];break}}}}}function tsk_other_is_pc_browser(){var b_mobile=tsk_other_is_mobile();var b_tablet=tsk_other_is_tablet();if(!b_mobile&&!b_tablet){tsk_utils_log_info("desktop pc");return true}else{tsk_utils_log_info("not desktop pc");return false}}function tsk_other_is_mobile(){!function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,i=/IEMobile/i,j=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,k=/BlackBerry/i,l=/BB10/i,m=/Opera Mini/i,n=/(CriOS|Chrome)(?=.*\bMobile\b)/i,o=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,p=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),q=function(a,b){return a.test(b)},r=function(a){var r=a||navigator.userAgent,s=r.split("[FBAN");return"undefined"!=typeof s[1]&&(r=s[0]),s=r.split("Twitter"),"undefined"!=typeof s[1]&&(r=s[0]),this.apple={phone:q(b,r),ipod:q(c,r),tablet:!q(b,r)&&q(d,r),device:q(b,r)||q(c,r)||q(d,r)},this.amazon={phone:q(g,r),tablet:!q(g,r)&&q(h,r),device:q(g,r)||q(h,r)},this.android={phone:q(g,r)||q(e,r),tablet:!q(g,r)&&!q(e,r)&&(q(h,r)||q(f,r)),device:q(g,r)||q(h,r)||q(e,r)||q(f,r)},this.windows={phone:q(i,r),tablet:q(j,r),device:q(i,r)||q(j,r)},this.other={blackberry:q(k,r),blackberry10:q(l,r),opera:q(m,r),firefox:q(o,r),chrome:q(n,r),device:q(k,r)||q(l,r)||q(m,r)||q(o,r)||q(n,r)},this.seven_inch=q(p,r),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},s=function(){var a=new r;return a.Class=r,a};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=r:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=s():"function"==typeof define&&define.amd?define("isMobile",[],a.isMobile=s()):a.isMobile=s()}(this);return isMobile.any}function tsk_other_is_tablet(){var b_tablet="ontouchstart"in window||"createTouch"in document;return b_tablet}(function(){"use strict";function lib$es6$promise$utils$$objectOrFunction(x){return typeof x==="function"||typeof x==="object"&&x!==null}function lib$es6$promise$utils$$isFunction(x){return typeof x==="function"}function lib$es6$promise$utils$$isMaybeThenable(x){return typeof x==="object"&&x!==null}var lib$es6$promise$utils$$_isArray;if(!Array.isArray){lib$es6$promise$utils$$_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{lib$es6$promise$utils$$_isArray=Array.isArray}var lib$es6$promise$utils$$isArray=lib$es6$promise$utils$$_isArray;var lib$es6$promise$asap$$len=0;var lib$es6$promise$asap$$vertxNext;var lib$es6$promise$asap$$customSchedulerFn;var lib$es6$promise$asap$$asap=function asap(callback,arg){lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len]=callback;lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len+1]=arg;lib$es6$promise$asap$$len+=2;if(lib$es6$promise$asap$$len===2){if(lib$es6$promise$asap$$customSchedulerFn){lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush)}else{lib$es6$promise$asap$$scheduleFlush()}}};function lib$es6$promise$asap$$setScheduler(scheduleFn){lib$es6$promise$asap$$customSchedulerFn=scheduleFn}function lib$es6$promise$asap$$setAsap(asapFn){lib$es6$promise$asap$$asap=asapFn}var lib$es6$promise$asap$$browserWindow=typeof window!=="undefined"?window:undefined;var lib$es6$promise$asap$$browserGlobal=lib$es6$promise$asap$$browserWindow||{};var lib$es6$promise$asap$$BrowserMutationObserver=lib$es6$promise$asap$$browserGlobal.MutationObserver||lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;var lib$es6$promise$asap$$isNode=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var lib$es6$promise$asap$$isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function lib$es6$promise$asap$$useNextTick(){return function(){process.nextTick(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useVertxTimer(){return function(){lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useMutationObserver(){var iterations=0;var observer=new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function lib$es6$promise$asap$$useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=lib$es6$promise$asap$$flush;return function(){channel.port2.postMessage(0)}}function lib$es6$promise$asap$$useSetTimeout(){return function(){setTimeout(lib$es6$promise$asap$$flush,1)}}var lib$es6$promise$asap$$queue=new Array(1e3);function lib$es6$promise$asap$$flush(){for(var i=0;i<lib$es6$promise$asap$$len;i+=2){var callback=lib$es6$promise$asap$$queue[i];var arg=lib$es6$promise$asap$$queue[i+1];callback(arg);lib$es6$promise$asap$$queue[i]=undefined;lib$es6$promise$asap$$queue[i+1]=undefined}lib$es6$promise$asap$$len=0}function lib$es6$promise$asap$$attemptVertx(){try{var r=require;var vertx=r("vertx");lib$es6$promise$asap$$vertxNext=vertx.runOnLoop||vertx.runOnContext;return lib$es6$promise$asap$$useVertxTimer()}catch(e){return lib$es6$promise$asap$$useSetTimeout()}}var lib$es6$promise$asap$$scheduleFlush;if(lib$es6$promise$asap$$isNode){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useNextTick()}else if(lib$es6$promise$asap$$BrowserMutationObserver){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useMutationObserver()}else if(lib$es6$promise$asap$$isWorker){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useMessageChannel()}else if(lib$es6$promise$asap$$browserWindow===undefined&&typeof require==="function"){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$attemptVertx()}else{lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useSetTimeout()}function lib$es6$promise$then$$then(onFulfillment,onRejection){var parent=this;var child=new this.constructor(lib$es6$promise$$internal$$noop);if(child[lib$es6$promise$$internal$$PROMISE_ID]===undefined){lib$es6$promise$$internal$$makePromise(child)}var state=parent._state;if(state){var callback=arguments[state-1];lib$es6$promise$asap$$asap(function(){lib$es6$promise$$internal$$invokeCallback(state,child,callback,parent._result)})}else{lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection)}return child}var lib$es6$promise$then$$default=lib$es6$promise$then$$then;function lib$es6$promise$promise$resolve$$resolve(object){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$resolve(promise,object);return promise}var lib$es6$promise$promise$resolve$$default=lib$es6$promise$promise$resolve$$resolve;var lib$es6$promise$$internal$$PROMISE_ID=Math.random().toString(36).substring(16);function lib$es6$promise$$internal$$noop(){}var lib$es6$promise$$internal$$PENDING=void 0;var lib$es6$promise$$internal$$FULFILLED=1;var lib$es6$promise$$internal$$REJECTED=2;var lib$es6$promise$$internal$$GET_THEN_ERROR=new lib$es6$promise$$internal$$ErrorObject;function lib$es6$promise$$internal$$selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function lib$es6$promise$$internal$$cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function lib$es6$promise$$internal$$getThen(promise){try{return promise.then}catch(error){lib$es6$promise$$internal$$GET_THEN_ERROR.error=error;return lib$es6$promise$$internal$$GET_THEN_ERROR}}function lib$es6$promise$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function lib$es6$promise$$internal$$handleForeignThenable(promise,thenable,then){lib$es6$promise$asap$$asap(function(promise){var sealed=false;var error=lib$es6$promise$$internal$$tryThen(then,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){lib$es6$promise$$internal$$resolve(promise,value)}else{lib$es6$promise$$internal$$fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;lib$es6$promise$$internal$$reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;lib$es6$promise$$internal$$reject(promise,error)}},promise)}function lib$es6$promise$$internal$$handleOwnThenable(promise,thenable){if(thenable._state===lib$es6$promise$$internal$$FULFILLED){lib$es6$promise$$internal$$fulfill(promise,thenable._result)}else if(thenable._state===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,thenable._result)}else{lib$es6$promise$$internal$$subscribe(thenable,undefined,function(value){lib$es6$promise$$internal$$resolve(promise,value)},function(reason){lib$es6$promise$$internal$$reject(promise,reason)})}}function lib$es6$promise$$internal$$handleMaybeThenable(promise,maybeThenable,then){if(maybeThenable.constructor===promise.constructor&&then===lib$es6$promise$then$$default&&constructor.resolve===lib$es6$promise$promise$resolve$$default){lib$es6$promise$$internal$$handleOwnThenable(promise,maybeThenable)}else{if(then===lib$es6$promise$$internal$$GET_THEN_ERROR){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$GET_THEN_ERROR.error)}else if(then===undefined){lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}else if(lib$es6$promise$utils$$isFunction(then)){lib$es6$promise$$internal$$handleForeignThenable(promise,maybeThenable,then)}else{lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}}}function lib$es6$promise$$internal$$resolve(promise,value){if(promise===value){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$selfFulfillment())}else if(lib$es6$promise$utils$$objectOrFunction(value)){lib$es6$promise$$internal$$handleMaybeThenable(promise,value,lib$es6$promise$$internal$$getThen(value))}else{lib$es6$promise$$internal$$fulfill(promise,value)}}function lib$es6$promise$$internal$$publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}lib$es6$promise$$internal$$publish(promise)}function lib$es6$promise$$internal$$fulfill(promise,value){if(promise._state!==lib$es6$promise$$internal$$PENDING){return}promise._result=value;promise._state=lib$es6$promise$$internal$$FULFILLED;if(promise._subscribers.length!==0){lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,promise)}}function lib$es6$promise$$internal$$reject(promise,reason){if(promise._state!==lib$es6$promise$$internal$$PENDING){return}promise._state=lib$es6$promise$$internal$$REJECTED;promise._result=reason;lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection,promise)}function lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers;var length=subscribers.length;parent._onerror=null;subscribers[length]=child;subscribers[length+lib$es6$promise$$internal$$FULFILLED]=onFulfillment;subscribers[length+lib$es6$promise$$internal$$REJECTED]=onRejection;if(length===0&&parent._state){lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,parent)}}function lib$es6$promise$$internal$$publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child,callback,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){lib$es6$promise$$internal$$invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function lib$es6$promise$$internal$$ErrorObject(){this.error=null}var lib$es6$promise$$internal$$TRY_CATCH_ERROR=new lib$es6$promise$$internal$$ErrorObject;function lib$es6$promise$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){lib$es6$promise$$internal$$TRY_CATCH_ERROR.error=e;return lib$es6$promise$$internal$$TRY_CATCH_ERROR}}function lib$es6$promise$$internal$$invokeCallback(settled,promise,callback,detail){var hasCallback=lib$es6$promise$utils$$isFunction(callback),value,error,succeeded,failed;if(hasCallback){value=lib$es6$promise$$internal$$tryCatch(callback,detail);if(value===lib$es6$promise$$internal$$TRY_CATCH_ERROR){failed=true;error=value.error;value=null}else{succeeded=true}if(promise===value){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==lib$es6$promise$$internal$$PENDING){}else if(hasCallback&&succeeded){lib$es6$promise$$internal$$resolve(promise,value)}else if(failed){lib$es6$promise$$internal$$reject(promise,error)}else if(settled===lib$es6$promise$$internal$$FULFILLED){lib$es6$promise$$internal$$fulfill(promise,value)}else if(settled===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,value)}}function lib$es6$promise$$internal$$initializePromise(promise,resolver){try{resolver(function resolvePromise(value){lib$es6$promise$$internal$$resolve(promise,value)},function rejectPromise(reason){lib$es6$promise$$internal$$reject(promise,reason)})}catch(e){lib$es6$promise$$internal$$reject(promise,e)}}var lib$es6$promise$$internal$$id=0;function lib$es6$promise$$internal$$nextId(){return lib$es6$promise$$internal$$id++}function lib$es6$promise$$internal$$makePromise(promise){promise[lib$es6$promise$$internal$$PROMISE_ID]=lib$es6$promise$$internal$$id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[]}function lib$es6$promise$promise$all$$all(entries){return new lib$es6$promise$enumerator$$default(this,entries).promise}var lib$es6$promise$promise$all$$default=lib$es6$promise$promise$all$$all;function lib$es6$promise$promise$race$$race(entries){var Constructor=this;if(!lib$es6$promise$utils$$isArray(entries)){return new Constructor(function(resolve,reject){reject(new TypeError("You must pass an array to race."))})}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject)}})}}var lib$es6$promise$promise$race$$default=lib$es6$promise$promise$race$$race;function lib$es6$promise$promise$reject$$reject(reason){var Constructor=this;var promise=new Constructor(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$reject(promise,reason);return promise}var lib$es6$promise$promise$reject$$default=lib$es6$promise$promise$reject$$reject;function lib$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lib$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var lib$es6$promise$promise$$default=lib$es6$promise$promise$$Promise;function lib$es6$promise$promise$$Promise(resolver){this[lib$es6$promise$$internal$$PROMISE_ID]=lib$es6$promise$$internal$$nextId();this._result=this._state=undefined;this._subscribers=[];if(lib$es6$promise$$internal$$noop!==resolver){typeof resolver!=="function"&&lib$es6$promise$promise$$needsResolver();this instanceof lib$es6$promise$promise$$Promise?lib$es6$promise$$internal$$initializePromise(this,resolver):lib$es6$promise$promise$$needsNew()}}lib$es6$promise$promise$$Promise.all=lib$es6$promise$promise$all$$default;lib$es6$promise$promise$$Promise.race=lib$es6$promise$promise$race$$default;lib$es6$promise$promise$$Promise.resolve=lib$es6$promise$promise$resolve$$default;lib$es6$promise$promise$$Promise.reject=lib$es6$promise$promise$reject$$default;lib$es6$promise$promise$$Promise._setScheduler=lib$es6$promise$asap$$setScheduler;lib$es6$promise$promise$$Promise._setAsap=lib$es6$promise$asap$$setAsap;lib$es6$promise$promise$$Promise._asap=lib$es6$promise$asap$$asap;lib$es6$promise$promise$$Promise.prototype={constructor:lib$es6$promise$promise$$Promise,then:lib$es6$promise$then$$default,"catch":function(onRejection){return this.then(null,onRejection)}};var lib$es6$promise$enumerator$$default=lib$es6$promise$enumerator$$Enumerator;function lib$es6$promise$enumerator$$Enumerator(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(lib$es6$promise$$internal$$noop);if(!this.promise[lib$es6$promise$$internal$$PROMISE_ID]){lib$es6$promise$$internal$$makePromise(this.promise)}if(lib$es6$promise$utils$$isArray(input)){this._input=input;this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){lib$es6$promise$$internal$$fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){lib$es6$promise$$internal$$fulfill(this.promise,this._result)}}}else{lib$es6$promise$$internal$$reject(this.promise,lib$es6$promise$enumerator$$validationError())}}function lib$es6$promise$enumerator$$validationError(){return new Error("Array Methods must be provided an Array")}lib$es6$promise$enumerator$$Enumerator.prototype._enumerate=function(){var length=this.length;var input=this._input;for(var i=0;this._state===lib$es6$promise$$internal$$PENDING&&i<length;i++){this._eachEntry(input[i],i)}};lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;var resolve=c.resolve;if(resolve===lib$es6$promise$promise$resolve$$default){var then=lib$es6$promise$$internal$$getThen(entry);if(then===lib$es6$promise$then$$default&&entry._state!==lib$es6$promise$$internal$$PENDING){this._settledAt(entry._state,i,entry._result)}else if(typeof then!=="function"){this._remaining--;this._result[i]=entry}else if(c===lib$es6$promise$promise$$default){var promise=new c(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$handleMaybeThenable(promise,entry,then);this._willSettleAt(promise,i)}else{this._willSettleAt(new c(function(resolve){resolve(entry)}),i)}}else{this._willSettleAt(resolve(entry),i)}};lib$es6$promise$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;if(promise._state===lib$es6$promise$$internal$$PENDING){this._remaining--;if(state===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,value)}else{this._result[i]=value}}if(this._remaining===0){lib$es6$promise$$internal$$fulfill(promise,this._result)}};lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;lib$es6$promise$$internal$$subscribe(promise,undefined,function(value){enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt(lib$es6$promise$$internal$$REJECTED,i,reason)})};function lib$es6$promise$polyfill$$polyfill(){var local;if(typeof global!=="undefined"){local=global}else if(typeof self!=="undefined"){local=self}else{try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var P=local.Promise;if(P&&Object.prototype.toString.call(P.resolve())==="[object Promise]"&&!P.cast){return}local.Promise=lib$es6$promise$promise$$default}var lib$es6$promise$polyfill$$default=lib$es6$promise$polyfill$$polyfill;lib$es6$promise$promise$$default.Promise=lib$es6$promise$promise$$default;lib$es6$promise$promise$$default.polyfill=lib$es6$promise$polyfill$$default;if(typeof define==="function"&&define["amd"]){define(function(){return lib$es6$promise$promise$$default})}else if(typeof module!=="undefined"&&module["exports"]){module["exports"]=lib$es6$promise$promise$$default}else if(typeof this!=="undefined"){this["Promise"]=lib$es6$promise$promise$$default}lib$es6$promise$polyfill$$default()}).call(this);var tmedia_type_e={NONE:{i_id:0,s_name:null},GHOST:{i_id:1<<0,s_name:null},AUDIO:{i_id:1<<1,s_name:"audio"},VIDEO:{i_id:1<<2,s_name:"video"},CHAT:{i_id:1<<3,s_name:"message"},FILE:{i_id:1<<4,s_name:"message"},T38:{i_id:1<<5,s_name:"t38"},SCREEN_SHARE:{i_id:1<<2|1<<6,s_name:"screen share"},MSRP:{i_id:1<<3|1<<4,s_name:"message"},AUDIO_VIDEO:{i_id:1<<1|1<<2,s_name:"audio/video"},ALL:{i_id:255,s_name:"all"}};var tmedia_pc_type_e={NONE:{i_id:0,s_name:null},AUDIO:{i_id:1<<0,s_name:"audio"},MAIN:{i_id:1<<1,s_name:"main"},SLIDES:{i_id:1<<2,s_name:"slides"}};var jsep_states_e={STABLE:{i_id:0,s_name:"null"},CREATEOFFER:{i_id:1<<1,s_name:"createOffer"},SETLOCAL:{i_id:1<<2,s_name:"setLocalDescription"},SETREMOTE:{i_id:1<<3,s_name:"setRemoteDescription"},FAILED:{i_id:1<<4,s_name:"jsepFailed"}};var video_src_e={NONE:{i_id:0,s_name:null},WINDOW:{i_id:1<<1,s_name:"window"},SCREEN:{i_id:1<<2,s_name:"screen"},CAMERA:{i_id:1<<3,s_name:"camera"}};function getConfFromCookies(key){if(!key||key===""){tsk_utils_log_warn("INVALID PARAMETER!");return}var result;if(document.cookie.length>0){key=key+"=";var startIndex=document.cookie.indexOf(key);if(startIndex>=0){result=document.cookie.substring(startIndex+key.length).split(";")[0]}}tsk_utils_log_info("Get conf from cookies, "+key+" "+result);return result}function setMaxBitrate(sdp,media,ASBitrate){if(!sdp||!media||!ASBitrate){tsk_utils_log_warn("setMaxBitrate: Invalid argument");return sdp}var line=sdp.indexOf("m="+media);if(line===-1){tsk_utils_log_warn("Could not find the m line for "+media);return sdp}tsk_utils_log_info("Find the m line for "+media+" at line "+line);function addNewLine(_sdp,type,bitrate){var lines=_sdp.split("\n");var mline=-1;for(var i=0;i<lines.length;i++){if(lines[i].indexOf("m="+media)>=0){mline=i;break}}mline++;while(lines[mline].indexOf("i=")>=0||lines[mline].indexOf("c=")>=0){tsk_utils_log_info(" Ship i and c lines");mline++}tsk_utils_log_warn("Adding new b line before line "+mline);var newLines=lines.slice(0,mline);newLines.push("b="+type+":"+bitrate);newLines=newLines.concat(lines.slice(mline,lines.length));return newLines.join("\n")}var replacement;if(sdp.indexOf("b=AS")>=0){tsk_utils_log_info("Replaced b=AS line at line "+line);replacement="b=AS:"+ASBitrate;sdp=sdp.replace(/b=AS:([a-zA-Z0-9]{3,4})/,replacement)}else{sdp=addNewLine(sdp,"AS",ASBitrate)}var TIASBitrate=ASBitrate*1e3;if(sdp.indexOf("b=TIAS")>=0){tsk_utils_log_info("Replaced b=TIAS line at line "+line);replacement="b=TIAS:"+TIASBitrate;sdp=sdp.replace(/b=TIAS:([a-zA-Z0-9]{6,7})/,replacement)}else{sdp=addNewLine(sdp,"TIAS",TIASBitrate)}return sdp}function setXgoogleBitrate(sdp,bitrate){if(!sdp||!bitrate){tsk_utils_log_error("setXgoogleBitrate: Invalid argument");return sdp}var lines=sdp.split("\n");var replacement;var ptArr=[];var validLine=RegExp.prototype.test.bind(/^([a-z])=(.*)/);sdp.split(/(\r\n|\r|\n)/).filter(validLine).forEach(function(line){if(line.indexOf("a=rtpmap")>=0&&line.indexOf("rtx")<0&&line.indexOf("red")<0&&line.indexOf("ulpfec")<0){var pt=line.split(" ")[0].split(":")[1];ptArr.push(pt)}});for(var j=0;j<ptArr.length;j++){if(sdp.indexOf("a=fmtp:"+ptArr[j])<0){for(var k=0;k<lines.length;k++){if(lines[k].indexOf("a=rtpmap:"+ptArr[j])>=0){k++;var newLines=lines.slice(0,k);newLines.push("a=fmtp:"+ptArr[j]);lines=newLines.concat(lines.slice(k,lines.length))}}}}for(var i=0;i<lines.length;i++){if(lines[i].indexOf("a=fmtp:")>=0){if(lines[i].indexOf("apt=")>=0||lines[i].indexOf("ulpfec")>=0){continue}if(lines[i].split(" ").length===1){replacement=" x-google-min-bitrate="+bitrate+";x-google-start-bitrate="+bitrate+";x-google-max-bitrate="+bitrate;lines[i]=lines[i]+replacement}else{if(lines[i].indexOf("x-google-min-bitrate")>=0){replacement="x-google-min-bitrate="+bitrate;lines[i]=lines[i].replace(/x-google-min-bitrate=([a-zA-Z0-9]{1,8})/,replacement)}else{replacement=";x-google-min-bitrate="+bitrate;lines[i]=lines[i]+replacement}if(lines[i].indexOf("x-google-start-bitrate")>=0){replacement="x-google-start-bitrate="+bitrate;lines[i]=lines[i].replace(/x-google-start-bitrate=([a-zA-Z0-9]{1,8})/,replacement)}else{replacement=";x-google-start-bitrate="+bitrate;lines[i]=lines[i]+replacement}if(lines[i].indexOf("x-google-max-bitrate")>=0){replacement="x-google-max-bitrate="+bitrate;lines[i]=lines[i].replace(/x-google-max-bitrate=([a-zA-Z0-9]{1,8})/,replacement)}else{replacement=";x-google-max-bitrate="+bitrate;lines[i]=lines[i]+replacement}}}}sdp=lines.join("\n");return sdp}function removeRembAndTransportCCField(sdp){if(!sdp){tsk_utils_log_error("removeRembAndTransportCCField: Invalid argument");return sdp}var lines=sdp.split("\n");for(var i=0;i<lines.length;i++){if(lines[i].indexOf("goog-remb")>=0||lines[i].indexOf("transport-cc")>=0){tsk_utils_log_info("remove goog-remb or transport-cc filed");lines.splice(i,1);i--}}sdp=lines.join("\n");return sdp}function bitrateControl(sdp,role){if(!sdp){tsk_utils_log_warn("bitrateControl: Invalid argument");return sdp}if(role!=="main"){return sdp}var maxBitRate=getConfFromCookies("maxBitRate");if(!maxBitRate){return sdp}if(maxBitRate==="auto"){tsk_utils_log_info("The default bit rate is auto, cannot be modified");return sdp}tsk_utils_log_info("Get maxBitRate, "+maxBitRate);sdp=setMaxBitrate(sdp,"video",maxBitRate);sdp=setXgoogleBitrate(sdp,maxBitRate);sdp=removeRembAndTransportCCField(sdp);return sdp}function getMaxResolution(resolution){tsk_utils_log_info("This.o_resolution_up_sdp: ",resolution);var result=resolution;var maxResolution=getConfFromCookies("maxResolution");if(maxResolution&&maxResolution!=="1080"){var height;if(!resolution){result={};height=maxResolution}else{if(resolution.height>maxResolution){height=maxResolution}}if(height){height=parseInt(height);switch(height){case 2160:result.width=3840;result.height=2160;break;case 1080:result.width=1920;result.height=1080;break;case 720:result.width=1280;result.height=720;break;case 480:result.width=848;result.height=480;break;case 360:result.width=640;result.height=360;break;case 272:result.width=480;result.height=272;break;default:break}}}if(result){tsk_utils_log_info("Get max resolution = "+result.height)}else{tsk_utils_log_info("Get max resolution null ")}result=adjustResolution(result);return result}function adjustResolution(res){var isDesktop=device.desktop();tsk_utils_log_info("current browser platform is desktop: "+isDesktop);if(!isDesktop){tsk_utils_log_info("Currently mobile!");var height=parseInt(res.height);if(height>360){tsk_utils_log_info("mobile change resolution "+height+" to 360");res.width=640;res.height=360}else if(height===360){tsk_utils_log_info("mobile change 360P to 320*180");
res.width=320;res.height=180}}return res}function setFacingMode(constraint){tsk_utils_log_info("current facingMode is  "+window.facingMode);if(!device.desktop()&&window.facingMode){tsk_utils_log_warn("set getUserMedia facingMode to "+window.facingMode);if(typeof constraint.video!=="object"){constraint.video={}}constraint.video.facingMode={};constraint.video.facingMode={exact:window.facingMode};tsk_utils_log_warn("setFacingMode constraint ",JSON.stringify(constraint,null,"    "))}else{tsk_utils_log_warn("not set facingMode!!!")}return constraint}function getGumErrorCode(streamType,err){var errorCode;var errorName=err.name;if(streamType==="audio"){if(errorName==="NotFoundError"||errorName==="DevicesNotFoundError"){errorCode=code_type_e.MIC_NOT_FOUND}else if(errorName==="NotReadableError"||errorName==="TrackStartError"){errorCode=code_type_e.MIC_NOT_READABLE}else if(errorName==="NotAllowedError"||errorName==="PermissionDeniedError"||errorName&&errorName.indexOf("denied")!==-1){errorCode=code_type_e.MIC_REQUEST_REFUSE}else if(errorName==="TypeError"){errorCode=code_type_e.MIC_TYPE_ERROR}else{errorCode=code_type_e.MIC_REQUEST_FAIL}}else if(streamType==="video"){if(errorName==="OverconstrainedError"||errorName==="ConstraintNotSatisfiedError"||errorName==="InternalError"){errorCode=code_type_e.VIDEO_REQUEST_OVER_CONSTRAINTS}else if(errorName==="NotFoundError"||errorName==="DevicesNotFoundError"){errorCode=code_type_e.VIDEO_NOT_FOUND}else if(errorName==="NotReadableError"||errorName==="TrackStartError"){errorCode=code_type_e.VIDEO_NOT_READABLE}else if(errorName==="NotAllowedError"||errorName==="PermissionDeniedError"||errorName&&errorName.indexOf("denied")!==-1){errorCode=code_type_e.VIDEO_REQUEST_REFUSE}else if(errorName==="TypeError"){errorCode=code_type_e.VIDEO_TYPE_ERROR}else{errorCode=code_type_e.VIDEO_REQUEST_FAIL}}tsk_utils_log_warn("gum error "+errorName+", code "+errorCode);return errorCode}w4aPeerConnection.prototype.s_configuration=null;w4aPeerConnection.prototype.f_IceCallback=null;w4aPeerConnection.prototype.f_Rfc5168Callback;w4aPeerConnection.prototype.o_peer=null;w4aPeerConnection.prototype.localDescription=null;w4aPeerConnection.prototype.remoteDescription=null;w4aSessionDescription.prototype.o_sdp=null;w4aIceCandidate.prototype.media=null;w4aIceCandidate.prototype.label=null;var __o_roap_stream=null;var __o_jsep_stream_audio=null;var __o_jsep_stream_audiovideo=null;var WebRtcType_e={NONE:-1,NATIVE:0,IE:1,NPAPI:2,W4A:3,ERICSSON:4,ORTC:5};var __webrtc_type=WebRtcType_e.NONE;var __b_webrtc4all_initialized=false;function WebRtc4all_Init(){if(!__b_webrtc4all_initialized){try{if(__webrtc_type==WebRtcType_e.NONE){window.nativeURL=window.URL||window.webkitURL;if(navigator.getUserMedia&&!(typeof RTCIceGatherer==="undefined")){__webrtc_type=WebRtcType_e.ORTC}else if(navigator.getUserMedia&&window.RTCPeerConnection){__webrtc_type=WebRtcType_e.NATIVE}}}catch(e){}__b_webrtc4all_initialized=true}}function WebRtc4all_GetPlugin(){return document.getElementById("__webrtc_plugin")}function WebRtc4all_GetDisplayLocal(){return document.getElementById("__o_display_local")}function WebRtc4all_GetDisplayLocalScreencast(){return document.getElementById("__o_display_local_screencast")}function WebRtc4all_GetDisplayRemote(){return document.getElementById("__o_display_remote")}function WebRtc4all_GetVersion(){try{return WebRtc4all_GetPlugin().version}catch(e){}return"0.0.0.0"}function WebRtc4all_SetType(s_type){if(__webrtc_type!=WebRtcType_e.NONE){tsk_utils_log_error("Trying not set default webrtc type after init() is not allowed");return false}switch(s_type){case"w4a":__webrtc_type=WebRtcType_e.W4A;break;case"ericsson":__webrtc_type=WebRtcType_e.ERICSSON;break;case"native":__webrtc_type=WebRtcType_e.NATIVE;break;case"ortc":__webrtc_type=WebRtcType_e.ORTC;break;default:tsk_utils_log_error("["+s_type+"] not valid as default webrtc type");return false}return true}function WebRtc4all_GetType(){return __webrtc_type}var __looper=undefined;function WebRtc4all_GetLooper(){if(__looper==undefined&&tsk_utils_have_webrtc4ie()){try{__looper=WebRtc4all_GetPlugin().windowHandle;if(!__looper){tsk_utils_log_error("Failed to create looper. Your app may crash on IE11")}}catch(e){tsk_utils_log_error(e);__looper=null}}return __looper}function WebRtc4all_SetDisplays(o_local_elt,o_remote_elt,o_local_screencast_elt){if(__webrtc_type==WebRtcType_e.IE){if(o_local_elt){o_local_elt.innerHTML='<object id="__o_display_local" classid="clsid:69E4A9D1-824C-40DA-9680-C7424A27B6A0"'+' width="100%" height="100%" style="visibility:visible;"> </object>';__o_display_local.style.visibility="hidden"}if(o_local_screencast_elt){o_local_screencast_elt.innerHTML='<object id="__o_display_local_screencast" classid="clsid:69E4A9D1-824C-40DA-9680-C7424A27B6A0"'+' width="100%" height="100%" style="visibility:visible;"> </object>';__o_display_local_screencast.style.visibility="hidden"}if(o_remote_elt){o_remote_elt.innerHTML='<object id="__o_display_remote" classid="clsid:69E4A9D1-824C-40DA-9680-C7424A27B6A0"'+' width="100%" height="100%" style="visibility:visible;"> </object>';__o_display_remote.style.visibility="hidden"}}else if(__webrtc_type==WebRtcType_e.NPAPI){if(o_local_elt){o_local_elt.innerHTML='<object id="__o_display_local" type="application/w4a"'+' width="100%" height="100%" style="visibility:visible; border:1px solid #000;"> </object>';__o_display_local.style.visibility="hidden"}if(o_local_screencast_elt){o_local_screencast_elt.innerHTML='<object id="__o_display_local_screencast" type="application/w4a"'+' width="100%" height="100%" style="visibility:visible; border:1px solid #000;"> </object>';__o_display_local_screencast.style.visibility="hidden"}if(o_remote_elt){o_remote_elt.innerHTML="<object id='__o_display_remote' type='application/w4a'"+"  width='100%' height='100%' style='visibility:visible; border:1px solid #000;'> </object>";__o_display_remote.style.visibility="hidden"}}}function w4aSessionDescription(s_sdp){if(!__b_webrtc4all_initialized){WebRtc4all_Init()}this.o_sdp=WebRtc4all_GetPlugin().createSessionDescription();this.o_sdp.Init(s_sdp?s_sdp+"":null)}w4aSessionDescription.prototype.toSdp=function(){return this.o_sdp.toSdp()};w4aSessionDescription.prototype.toString=w4aSessionDescription.prototype.toSdp;w4aSessionDescription.prototype.addCandidate=function(o_candidate){if(o_candidate&&o_candidate.media&&o_candidate.label){this.o_sdp.addCandidate(o_candidate.media,o_candidate.label)}};function w4aIceCandidate(media,label){this.media=media;this.label=label}w4aIceCandidate.prototype.toSdp=function(){return this.label};function w4aPeerConnection(s_configuration,f_IceCallback){if(!__b_webrtc4all_initialized){WebRtc4all_Init()}var This=this;var b_isInternetExplorer=__webrtc_type==WebRtcType_e.IE;this.s_configuration=s_configuration;this.f_IceCallback=f_IceCallback;this.o_peer=WebRtc4all_GetPlugin().createPeerConnection();this.o_peer.Init(s_configuration);This.attachDisplays();if(b_isInternetExplorer){eval("function This.o_peer::IceCallback(media, label, bMoreToFollow) { return This.onIceCallback (media, label, bMoreToFollow); }");eval("function This.o_peer::Rfc5168Callback(command) { return This.onRfc5168Callback(command); }");eval("function This.o_peer::BfcpCallback(description) { return This.onBfcpCallback(description); }")}else{this.o_peer.opaque=This;this.o_peer.setCallbackFuncName("w4aPeerConnection_NPAPI_OnEvent");this.o_peer.setRfc5168CallbackFuncName("w4aPeerConnection_NPAPI_OnRfc5168Event");this.o_peer.setBfcpCallbackFuncName("w4aPeerConnection_NPAPI_OnBfcpEvent")}}w4aPeerConnection.SDP_OFFER=256;w4aPeerConnection.SDP_PRANSWER=512;w4aPeerConnection.SDP_ANSWER=768;w4aPeerConnection.NEW=0;w4aPeerConnection.OPENING=1;w4aPeerConnection.ACTIVE=2;w4aPeerConnection.CLOSED=3;w4aPeerConnection.ICE_GATHERING=256;w4aPeerConnection.ICE_WAITING=512;w4aPeerConnection.ICE_CHECKING=768;w4aPeerConnection.ICE_CONNECTED=1024;w4aPeerConnection.ICE_COMPLETED=1280;w4aPeerConnection.ICE_FAILED=1536;w4aPeerConnection.ICE_CLOSED=1792;w4aPeerConnection.prototype.createOffer=function(o_hints){var oSdp;try{oSdp=this.o_peer.createOfferEx(o_hints.has_audio,o_hints.has_video,o_hints.has_bfcpvideo)}catch(e){oSdp=this.o_peer.createOffer(o_hints.has_audio,o_hints.has_video)}return oSdp?__webrtc_type==WebRtcType_e.IE?new w4aSessionDescription(oSdp):new w4aSessionDescription(oSdp.toSdp()):null};w4aPeerConnection.prototype.createAnswer=function(s_offer,o_hints){var oSdp;try{oSdp=this.o_peer.createAnswerEx(o_hints.has_audio,o_hints.has_video,o_hints.has_bfcpvideo)}catch(e){oSdp=this.o_peer.createAnswer(o_hints.has_audio,o_hints.has_video)}return oSdp?__webrtc_type==WebRtcType_e.IE?new w4aSessionDescription(oSdp):new w4aSessionDescription(oSdp.toSdp()):null};w4aPeerConnection.prototype.setLocalDescription=function(i_action,o_desc){this.o_peer.setLocalDescription(i_action,__webrtc_type==WebRtcType_e.IE?o_desc.toSdp():o_desc.o_sdp);this.localDescription=new w4aSessionDescription(this.o_peer.localDescription)};w4aPeerConnection.prototype.setRemoteDescription=function(i_action,o_desc){this.o_peer.setRemoteDescription(i_action,__webrtc_type==WebRtcType_e.IE?o_desc.toSdp():o_desc.o_sdp);this.remoteDescription=new w4aSessionDescription(this.o_peer.remoteDescription)};w4aPeerConnection.prototype.startIce=function(o_options){this.o_peer.startIce(0,WebRtc4all_GetLooper())};w4aPeerConnection.prototype.startMedia=function(o_options){if(this.o_peer){try{this.o_peer.startMedia()}catch(e){}}};w4aPeerConnection.prototype.processIceMessage=function(o_candidate){tsk_utils_log_error("Not implemented")};w4aPeerConnection.prototype.addStream=function(o_stream,o_hints){};w4aPeerConnection.prototype.removeStream=function(o_stream){};w4aPeerConnection.prototype.processContent=function(s_req_name,s_content_type,s_content_ptr,i_content_size){if(this.o_peer){try{this.o_peer.processContent(s_req_name,s_content_type,s_content_ptr,i_content_size)}catch(e){}}};w4aPeerConnection.prototype.setScreencastSrcWindowId=function(d_window_id){if(this.o_peer){this.o_peer.srcScreencast=d_window_id}};w4aPeerConnection.prototype.sendDTMF=function(s_digit){if(this.o_peer){var i_digit=-1,cc_digit=s_digit.charCodeAt(0);if(cc_digit>="0".charCodeAt(0)&&cc_digit<="9".charCodeAt(0))i_digit=cc_digit-"0".charCodeAt(0);else if(cc_digit=="*".charCodeAt(0))i_digit=10;else if(cc_digit=="#".charCodeAt(0))i_digit=11;else if(cc_digit>="A".charCodeAt(0)&&cc_digit<="D".charCodeAt(0))i_digit=cc_digit-"A".charCodeAt(0);if(i_digit!=-1){this.o_peer.sendDTMF(i_digit)}else{tsk_utils_log_error("Invalid DTMF code:"+s_digit)}}};w4aPeerConnection.prototype.attachDisplays=function(){if(this.o_peer){try{this.o_peer.localVideo=WebRtc4all_GetDisplayLocal().windowHandle}catch(e){}try{this.o_peer.localScreencast=WebRtc4all_GetDisplayLocalScreencast().windowHandle}catch(e){}try{this.o_peer.remoteVideo=WebRtc4all_GetDisplayRemote().windowHandle}catch(e){}}};w4aPeerConnection.prototype.close=function(){if(this.o_peer){this.o_peer.close()}};w4aPeerConnection.prototype.mute=function(media,muted){if(this.o_peer){if(media==="audio"){this.o_peer.muteAudio=!!muted}else if(media==="video"){this.o_peer.muteVideo=!!muted}}};w4aPeerConnection.prototype.onIceCallback=function(media,label,bMoreToFollow){tsk_utils_log_info("w4aPeerConnection::onIceCallback("+media+","+label+","+bMoreToFollow+")");this.iceState=this.o_peer.iceState;if(this.f_IceCallback){this.f_IceCallback(new w4aIceCandidate(media,label),bMoreToFollow)}};function w4aPeerConnection_NPAPI_OnEvent(o_peer,sMedia,sLabel,bMoreToFollow){o_peer.onIceCallback(sMedia,sLabel,bMoreToFollow)}w4aPeerConnection.prototype.onRfc5168Callback=function(command){tsk_utils_log_info("w4aPeerConnection::onRfc5168Callback("+command+")");if(this.o_mgr&&this.o_mgr.callback){if(command==="picture_fast_update"){this.o_mgr.callback(tmedia_session_events_e.RFC5168_REQUEST_IDR,this.o_mgr.e_type)}}else{tsk_utils_log_error("No manager associated to this peerconnection")}};function w4aPeerConnection_NPAPI_OnRfc5168Event(o_peer,sCommand){o_peer.onRfc5168Callback(sCommand)}w4aPeerConnection.prototype.onBfcpCallback=function(sDescription){tsk_utils_log_info("w4aPeerConnection::onBfcpCallback("+sDescription+")");if(this.o_mgr&&this.o_mgr.callback){this.o_mgr.callback(tmedia_session_events_e.BFCP_INFO,this.o_mgr.e_type,sDescription)}else{tsk_utils_log_error("No manager associated to this peerconnection")}};function w4aPeerConnection_NPAPI_OnBfcpEvent(o_peer,sDescription){o_peer.onBfcpCallback(sDescription)}var __tmedia_defaults_e_media_type=tmedia_type_e.AUDIO_VIDEO;function tmedia_defaults_get_media_type(){return __tmedia_defaults_e_media_type}var __o_peerconnection_class=undefined;var __o_sessiondescription_class=undefined;var __o_iceCandidate_class=undefined;var __s_current_source_id=undefined;var tmedia_session_events_e={GET_LO_SUCCESS:0,GET_LO_FAILED:1,ICE_CONNECTIONG_FAILED:2,ICE_CONNECTIONG_FAILED_FIRST:3,SET_RO_SUCCESS:10,SET_RO_FAILED:11,SET_ACK_SUCCESS:20,SET_ACK_FAILED:21,STREAM_LOCAL_REQUESTED:30,STREAM_LOCAL_ACCEPTED:31,STREAM_LOCAL_REFUSED:32,STREAM_LOCAL_ADDED:33,STREAM_LOCAL_REMOVED:34,STREAM_REMOTE_ADDED:35,STREAM_REMOTE_REMOVED:36,STREAM_LOCAL_VIDEO_REQUESTED:37,STREAM_LOCAL_CHANGE:38,UPDATE_RTP_INFO:40,SEND_INFO_FOR_TRICKLE_ICE:41,RFC5168_REQUEST_IDR:50,ACTION_RESULT:60};tmedia_session_mgr.prototype.__ao_supported_media=[tmedia_type_e.AUDIO,tmedia_type_e.VIDEO];function tmedia_session_mgr(e_type,s_addr,b_ipv6,b_offerer,fn_callback,o_usr_data){this.s_addr=s_addr;this.s_public_addr=null;this.b_ipv6=b_ipv6;this.fn_callback=fn_callback;this.o_usr_data=o_usr_data;this.data={codec:[]};this.sdp={};this.sdp.i_lo_ver=-1;this.sdp.o_lo=null;this.sdp.i_ro_ver=-1;this.sdp.o_ro=null;this.o_stream_local=null;this.o_stream_audio_local=null;this.o_stream_video_local=null;this.o_stream_present_local=null;this.o_stream_remote=null;this.o_stream_audio_remote=null;this.o_stream_video_remote=null;this.o_stream_present_remote=null;this.o_rtp_info=null;this.b_started=false;this.b_ro_changed=false;this.b_lo_changed=false;this.b_state_changed=false;this.b_media_type_changed=false;this.e_type=e_type;this.ao_sessions=new Array;this.ao_params=new Array;if(b_offerer){this.load_sessions()}}tmedia_session_mgr.prototype.is_roap=function(){return WebRtc4all_GetType()==WebRtcType_e.ERICSSON};tmedia_session_mgr.prototype.is_jsep=function(){return!this.is_roap()};tmedia_session_mgr.prototype.get_stream_local=function(){return this.o_stream_local};tmedia_session_mgr.prototype.get_stream_remote=function(){return this.o_stream_remote};tmedia_session_mgr.prototype.set_rtp_info=function(o_rtp_info){this.o_rtp_info=o_rtp_info;this.callback(tmedia_session_events_e.UPDATE_RTP_INFO)};tmedia_session_mgr.prototype.get_rtp_info=function(){return this.o_rtp_info};tmedia_session_mgr.prototype.my_get_stream_local=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_stream_audio_local;case tmedia_pc_type_e.MAIN:return this.o_stream_video_local;case tmedia_pc_type_e.SLIDES:return this.o_stream_present_local;default:tsk_utils_log_info("my_get_stream_local :  stream type is none. ");break}return null};tmedia_session_mgr.prototype.my_get_stream_remote=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_stream_audio_remote;case tmedia_pc_type_e.MAIN:return this.o_stream_video_remote;case tmedia_pc_type_e.SLIDES:return this.o_stream_present_remote;default:tsk_utils_log_info("my_get_stream_remote:  stream type is none. ");break}return null};tmedia_session_mgr.prototype.my_set_stream_local=function(o_stream,e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:if(o_stream!=null)tsk_utils_log_info("my_set_stream_local: audio stream id = "+o_stream.id);this.o_stream_audio_local=o_stream;break;case tmedia_pc_type_e.MAIN:if(o_stream!=null)tsk_utils_log_info("my_set_stream_local: video stream id = "+o_stream.id);this.o_stream_video_local=o_stream;break;case tmedia_pc_type_e.SLIDES:if(o_stream!=null)tsk_utils_log_info("my_set_stream_local: present stream id = "+o_stream.id);this.o_stream_present_local=o_stream;break;default:tsk_utils_log_info("my_set_stream_local:  stream type is none. ");break}this.callback(o_stream?tmedia_session_events_e.STREAM_LOCAL_ADDED:tmedia_session_events_e.STREAM_LOCAL_REMOVED,e_role)};tmedia_session_mgr.prototype.my_set_stream_remote=function(o_stream,e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:if(o_stream!=null)tsk_utils_log_info("my_set_stream_remote: audio stream id = "+o_stream.id);this.o_stream_audio_remote=o_stream;break;case tmedia_pc_type_e.MAIN:if(o_stream!=null)tsk_utils_log_info("my_set_stream_remote: video stream id = "+o_stream.id);this.o_stream_video_remote=o_stream;break;case tmedia_pc_type_e.SLIDES:if(o_stream!=null){firefoxRemotePresentStream=o_stream.clone();tsk_utils_log_info("my_set_stream_remote: present stream id = "+o_stream.id)}this.o_stream_present_remote=o_stream;break;default:tsk_utils_log_info("my_set_stream_remote:  stream type is none. ");break}this.callback(o_stream?tmedia_session_events_e.STREAM_REMOTE_ADDED:tmedia_session_events_e.STREAM_REMOTE_REMOVED,e_role)};tmedia_session_mgr.prototype.set_fn_callback=function(fn_callback,o_usr_data){this.fn_callback=fn_callback;this.o_usr_data=o_usr_data};tmedia_session_mgr.prototype.callback=function(e_event_type,e_media_type,s_error){var b__get_lo_flag=true;if(this.fn_callback){if(e_event_type==tmedia_session_events_e.GET_LO_SUCCESS){this.b_lo_changed=true;if(this.ao_sessions.length>0){this.sdp.o_lo=this.ao_sessions[0].o_sdp_lo}}this.fn_callback(this.o_usr_data,e_event_type,e_media_type,s_error)}};tmedia_session_mgr.prototype.set_media_type=function(e_type){if(this.e_type!=e_type){this.b_media_type_changed=true;this.e_type=e_type}return 0};tmedia_session_mgr.prototype.get_media_type=function(){return this.e_type};tmedia_session_mgr.prototype.has_media=function(e_type){for(var i=0;i<this.ao_sessions.length;++i){if(this.ao_sessions[i].e_type==e_type){return true}}return false};tmedia_session_mgr.prototype.has_ro_changed=function(){return this.b_ro_changed};tmedia_session_mgr.prototype.has_state_changed=function(){return this.b_state_changed};tmedia_session_mgr.prototype.has_active_session=function(){for(var i=0;i<this.ao_sessions.length;++i){if(this.ao_sessions[i].o_sdp_lo){return true}}return false};tmedia_session_mgr.prototype.is_started=function(){return this.b_started};tmedia_session_mgr.prototype.has_lo=function(){return this.sdp.o_lo!=null};tmedia_session_mgr.prototype.has_ro=function(){return this.sdp.o_ro!=null};tmedia_session_mgr.prototype.remove_media=function(e_type){for(var i=0;i<this.ao_sessions.length;++i){if(this.ao_sessions[i].e_type==e_type){this.ao_sessions[i].stop();this.ao_sessions.splice(i,1);break}}};tmedia_session_mgr.prototype.apply_params=function(){var o_param;for(var i=0;i<this.ao_params.length;++i){if(!(o_param=this.ao_params[i])){continue}switch(o_param.e_type){case tmedia_param_type_e.CODEC:case tmedia_param_type_e.MANAGER:break;case tmedia_param_type_e.SESSION:{for(var j=0;j<this.ao_sessions.length;++j){if(this.ao_sessions[j].e_type.i_id&o_param.e_media_type.i_id){this.ao_sessions[j].set(o_param)}}break}}}this.ao_params.splice(0,this.ao_params.length)};tmedia_session_mgr.prototype.load_sessions=function(){var o_session=null;if(this.ao_sessions.length==0||this.b_media_type_changed){for(var i=0;i<tmedia_session_mgr.prototype.__ao_supported_media.length;++i){var e_type=tmedia_session_mgr.prototype.__ao_supported_media[i];if(e_type.i_id&this.e_type.i_id&&!this.has_media(e_type)){if(o_session=tmedia_session.prototype.Create(e_type,this)){this.ao_sessions.push(o_session)}}else if(!(e_type.i_id&this.e_type.i_id)&&this.has_media(e_type)){tsk_utils_log_info("load_sessions remove_media ");this.remove_media(e_type)}}this.set(tmedia_session_mgr.prototype.SetParamSession(this.e_type,"local-ip",this.s_addr),tmedia_session_mgr.prototype.SetParamSession(this.e_type,"local-ipver",this.b_ipv6?"ipv6":"ipv4"));this.apply_params(self)}return 0};tmedia_session_mgr.prototype.__update_ro=function(o_sdp){this.sdp.o_ro=o_sdp;var b_ro_held=true;var i_index=0;var o_hdr_M;while(o_hdr_M=o_sdp.get_header_at(tsdp_header_type_e.M,i_index++)){if(!o_hdr_M.is_held(false)){b_ro_held=false;break}}for(var i=0;i<this.ao_sessions.length;++i){this.ao_sessions[i].b_ro_held=b_ro_held}return 0};tmedia_session_mgr.prototype.getContentForTrickleIce=function(e_role,s_candidates,b_gathering){if(this.ao_sessions.length>0){return this.ao_sessions[0].getContentForTrickleIce(e_role,s_candidates,b_gathering)}};tmedia_session_mgr.prototype.get_lo=function(){if(this.ao_sessions.length==0){if(this.load_sessions()!=0){tsk_utils_log_error("Failed to prepare the session manager");return null}}if((this.b_ro_changed||this.b_lo_changed||this.b_state_changed||this.b_mediaType_changed)&&this.sdp.o_lo){this.sdp.o_lo=null;if(this.b_mediaType_changed){this.load_sessions()}this.b_lo_changed=false;this.b_ro_changed=false;this.b_state_changed=false;this.b_mediaType_changed=false}if(this.ao_sessions.length>0){this.sdp.o_lo=this.ao_sessions[0].get_lo(null)}return this.sdp.o_lo};tmedia_session_mgr.prototype.set_ro=function(o_sdp,b_is_offer){if(!o_sdp){tsk_utils_log_error("Invalid parameter");return-1}var i_ret=0;var b_is_hold_resume=false;var b_is_mediatype_changed=false;var e_new_mediatype=tmedia_type_e.NONE;var b_is_loopback_address=false;var b_had_ro_sdp=this.sdp.o_ro!=null;var o_hdr_O;var o_hdr_C;if(o_hdr_O=o_sdp.get_header(tsdp_header_type_e.O)){if(this.sdp.i_ro_ver==o_hdr_O.i_sess_version){tsk_utils_log_warn("Remote offer has not changed")}this.sdp.i_ro_ver=o_hdr_O.i_sess_version}else{tsk_utils_log_error("o= line is missing");return-2}if((o_hdr_C=o_sdp.get_header(tsdp_header_type_e.C))&&o_hdr_C.s_addr){b_is_loopback_address=tsk_string_iequals("IP4",o_hdr_C.s_addrtype)&&tsk_string_iequals("127.0.0.1",o_hdr_C.s_addr)||tsk_string_iequals("IP6",o_hdr_C.s_addrtype)&&tsk_string_iequals("::1",o_hdr_C.s_addr)}e_new_mediatype=o_sdp.get_media_type();if(e_new_mediatype==tmedia_type_e.VIDEO&&this.e_type==tmedia_type_e.SCREEN_SHARE){e_new_mediatype=this.e_type}if(b_is_mediatype_changed=e_new_mediatype!=this.e_type){tsk_utils_log_info("this.set_media_type(e_new_mediatype);");this.set_media_type(e_new_mediatype);tsk_utils_log_info("media type has changed")}this.__update_ro(o_sdp);if(i_ret=this.load_sessions()){tsk_utils_log_error("Failed to prepare the session manager");return i_ret}if(o_hdr_C&&o_hdr_C.s_addr){this.set(tmedia_session_mgr.prototype.SetParamSession(this.e_type,"remote-ip",o_hdr_C.s_addr))}if(b_is_offer){this.ao_sessions[0].handleOffer(o_sdp,b_had_ro_sdp);return 0}var i_result=undefined;for(var i=0;i<this.ao_sessions.length;++i){if(i_result==undefined||i_result==1)this.ao_sessions[i].set_ro(o_sdp,b_is_offer)}this.b_ro_changed=b_had_ro_sdp;return 0};tmedia_session_mgr.prototype.processContent=function(s_req_name,s_content_type,s_content_ptr,i_content_size){for(var i=0;i<this.ao_sessions.length;++i){this.ao_sessions[i].processContent(s_req_name,s_content_type,s_content_ptr,i_content_size)}};tmedia_session_mgr.prototype.start=function(){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].start()){return i_ret}}this.b_started=true;return 0};tmedia_session_mgr.prototype.stop=function(e_role){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].stop(e_role)){return i_ret}}this.b_started=false;return 0};tmedia_session_mgr.prototype.have_stream=function(e_role){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].have_stream(e_role)){return i_ret}}return 0};tmedia_session_mgr.prototype.add_stream=function(e_role,o_stream){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].add_stream(e_role,o_stream)){return i_ret}}return 0};tmedia_session_mgr.prototype.remove_stream=function(e_role,o_stream){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].remove_stream(e_role,o_stream)){return i_ret}}return 0};tmedia_session_mgr.prototype.get_info=function(e_role){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].get_info(e_role)){return i_ret}}return 0};tmedia_session_mgr.prototype.get_session=function(e_role){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].get_session(e_role)){return i_ret}}return 0};tmedia_session_mgr.prototype.getRtpInfo=function(){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].get_rtp_info()){return i_ret}}};tmedia_session_mgr.prototype.close_video=function(){var i_ret=0;this.e_type=tmedia_type_e.AUDIO;this.ao_sessions[0].e_type=tmedia_type_e.AUDIO;this.ao_sessions[0].o_video_main.o_pc.close();this.ao_sessions[0].o_video_main.o_pc=null;this.ao_sessions[0].o_video_main.o_sdp_lo=null;this.ao_sessions[0].o_video_main.b_sdp_lo_pending=false};tmedia_session_mgr.prototype.acked=function(){var i_ret=0;for(var i=0;i<this.ao_sessions.length;++i){if(i_ret=this.ao_sessions[i].acked()){return i_ret}}return 0};tmedia_session_mgr.prototype.is_held=function(e_type,b_local){var b_have_these_sessions=false;var i_index;var o_hdr_M;var o_sdp;for(var i=0;i<this.ao_sessions.length;++i){var o_session=this.ao_sessions[i];if(!e_type||o_session.e_type.i_id&e_type.i_id){if(b_local&&o_session.o_sdp_lo){o_sdp=o_session.o_sdp_lo}else if(!b_local&&o_session.o_sdp_ro){o_sdp=o_session.o_sdp_ro}else continue;b_have_these_sessions=true;i_index=0;while(o_hdr_M=o_sdp.get_header_at(tsdp_header_type_e.M,i_index++)){if(!o_hdr_M.is_held(b_local)){return false}}}}return b_have_these_sessions?true:false};tmedia_session_mgr.prototype.hold=function(e_type){var i_ret;for(var i=0;i<this.ao_sessions.length;++i){if(!e_type||this.ao_sessions[i].e_type.i_id&e_type.i_id){this.b_state_changed=true;if(i_ret=this.ao_sessions[i].hold()){return i_ret}this.ao_sessions[i].b_lo_held=true}}return 0};tmedia_session_mgr.prototype.resume=function(e_type){var i_ret;for(var i=0;i<this.ao_sessions.length;++i){if(!e_type||this.ao_sessions[i].e_type.i_id&e_type.i_id){this.b_state_changed=true;if(i_ret=this.ao_sessions[i].resume()){return i_ret}this.ao_sessions[i].b_lo_held=false}}return 0};tmedia_session_mgr.prototype.audioRefresh=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("audioRefresh: session does not exist");return}this.ao_sessions[0].audioRefresh();return 0};tmedia_session_mgr.prototype.videoOn=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("videoOn: session does not exist");return}this.ao_sessions[0].videoOn();return 0};tmedia_session_mgr.prototype.videoOff=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("videoOff: session does not exist");return}this.ao_sessions[0].videoOff();return 0};tmedia_session_mgr.prototype.adjustVideoResolution=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("adjustVideoResolution: session does not exist");return}this.ao_sessions[0].adjustVideoResolution();return 0};tmedia_session_mgr.prototype.presentOn=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("presentOn: session does not exist");return}this.ao_sessions[0].presentOn();return 0};tmedia_session_mgr.prototype.presentOff=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("presentOff: session does not exist");return}this.ao_sessions[0].presentOff();return 0};tmedia_session_mgr.prototype.switchPresentationSource=function(data){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("switchPresentationSource: session does not exist");return}this.ao_sessions[0].switchPresentationSource();return 0};tmedia_session_mgr.prototype.toggleMutePresentation=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("toggleMutePresentation: session does not exist");return}this.ao_sessions[0].toggleMutePresentation();return 0};tmedia_session_mgr.prototype.doIceRestart=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("doIceRestart: session does not exist");return}this.ao_sessions[0].doIceRestart();return 0};tmedia_session_mgr.prototype.negotiateMainVideoResolution=function(){if(!this.ao_sessions||this.ao_sessions.length==0){tsk_utils_log_info("negotiateMainVideoResolution : session does not exist");return}this.ao_sessions[0].negotiateMainVideoResolution();return 0};tmedia_session_mgr.prototype.set=function(){for(var i=0;i<arguments.length;++i){if(arguments[i]){this.ao_params.push(arguments[i])}}if(this.ao_sessions.length>0){this.apply_params()}};tmedia_session_mgr.prototype.SetParamSession=function(e_media_type,s_key,o_value){return new tmedia_param(tmedia_param_type_e.SESSION,e_media_type,s_key,o_value)};tmedia_session_mgr.prototype.SetParamCodec=function(e_media_type,s_key,o_value){return new tmedia_param(tmedia_param_type_e.CODEC,e_media_type,s_key,o_value)};tmedia_session_mgr.prototype.SetParam=function(e_media_type,s_key,o_value){return new tmedia_param(tmedia_param_type_e.MANAGER,e_media_type,s_key,o_value)};tmedia_session_mgr.prototype.SetPCParam=function(e_role,s_key,o_value){return this.ao_sessions[0].SetPCParam(e_role,s_key,o_value)};function tmedia_session(e_type,o_mgr){this.e_type=e_type;this.b_ro_changed=false;this.b_initialized=false;this.b_prepared=false;this.b_lo_held=false;this.b_ro_held=false;this.o_sdp=null;this.o_mgr=o_mgr}tmedia_session.prototype.set=function(o_param){return this.__set(o_param)};tmedia_session.prototype.prepare=function(){return this.__prepare()};tmedia_session.prototype.start=function(){return this.__start()};tmedia_session.prototype.pause=function(){return this.__pause()};tmedia_session.prototype.stop=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:this.__my_stop(this.o_audio?this.o_audio:this.o_sessions.o_audio);break;case tmedia_pc_type_e.MAIN:this.__my_stop(this.o_video_main?this.o_video_main:this.o_sessions.o_video_main);break;case tmedia_pc_type_e.SLIDES:this.__my_stop(this.o_video_slides?this.o_video_slides:this.o_sessions.o_video_slides);break;default:this.__my_stop(this.o_audio?this.o_audio:this.o_sessions.o_audio);this.__my_stop(this.o_video_main?this.o_video_main:this.o_sessions.o_video_main);this.__my_stop(this.o_video_slides?this.o_video_slides:this.o_sessions.o_video_slides);break}return};tmedia_session.prototype.SetPCParam=function(e_role,s_key,o_value){return this.my_set_pc_param(e_role,s_key,o_value)};tmedia_session.prototype.have_stream=function(e_role){return this.__my_have_stream(e_role)};tmedia_session.prototype.add_stream=function(e_role,o_stream){switch(e_role){case tmedia_pc_type_e.AUDIO:this.__my_add_stream(this.o_audio,o_stream);break;case tmedia_pc_type_e.MAIN:this.__my_add_stream(this.o_video_main,o_stream);break;case tmedia_pc_type_e.SLIDES:this.__my_add_stream(this.o_video_slides,o_stream);break;default:break}};tmedia_session.prototype.remove_stream=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:this.__my_remove_stream(this.o_audio);break;case tmedia_pc_type_e.MAIN:this.__my_remove_stream(this.o_video_main);break;case tmedia_pc_type_e.SLIDES:this.__my_remove_stream(this.o_video_slides);break;default:break}};tmedia_session.prototype.audioRefresh=function(){return this.o_sessions.o_audio.audioRefresh()};tmedia_session.prototype.videoOn=function(){return this.o_sessions.o_video_main.videoOn()};tmedia_session.prototype.videoOff=function(){return this.o_sessions.o_video_main.videoOff()};tmedia_session.prototype.adjustVideoResolution=function(){return this.o_sessions.o_video_main.adjustVideoResolution()};tmedia_session.prototype.presentOn=function(){return this.o_sessions.o_video_slides.presentOn()};tmedia_session.prototype.presentOff=function(){return this.o_sessions.o_video_slides.presentOff()};tmedia_session.prototype.switchPresentationSource=function(data){return this.o_sessions.o_video_slides.switchPresentationSource(data)};tmedia_session.prototype.toggleMutePresentation=function(b_mute){
return this.o_sessions.o_video_slides.toggleMutePresentation(b_mute)};tmedia_session.prototype.handleOffer=function(o_sdp){return this.o_sessions.o_video_main.handleOffer(o_sdp)};tmedia_session.prototype.negotiateMainVideoResolution=function(){return this.o_sessions.o_video_main.negotiateMainVideoResolution()};tmedia_session.prototype.doIceRestart=function(){var s_type=sendInviteQueue.length>0?sendInviteQueue[0].s_type:"unknown type";switch(s_type){case"audioRefresh":return this.o_sessions.o_audio.doIceRestart();case"videoRefresh":return this.o_sessions.o_video_main.doIceRestart();case"presentRefresh":return this.o_sessions.o_video_slides.doIceRestart();default:tsk_utils_log_info("doIceRestart: unknown type");break}return};tmedia_session.prototype.iceRestartInviteRetransmission=function(){var s_type=sendInviteQueue.length>0?sendInviteQueue[0].s_type:"unknown type";switch(s_type){case"audioRefresh":return this.o_sessions.o_audio.iceRestartInviteRetransmission();case"videoRefresh":return this.o_sessions.o_video_main.iceRestartInviteRetransmission();case"presentRefresh":return this.o_sessions.o_video_slides.iceRestartInviteRetransmission();default:tsk_utils_log_info("iceRestartInviteRetransmission: unknown type");break}return};tmedia_session.prototype.getStreamFromDevice=function(data){if(!data||!data.streamType){tsk_utils_log_info("getStreamFromDevice: invalid argument");return}switch(data.streamType){case"audio":this.o_sessions.o_audio.getStreamFromDevice(data);break;case"video":this.o_sessions.o_video_main.getStreamFromDevice(data);break;case"present":this.o_sessions.o_video_slides.getStreamFromDevice(data);break;default:tsk_utils_log_info("getStreamFromDevice: unknown type");break}return null};tmedia_session.prototype.get_info=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_audio;case tmedia_pc_type_e.MAIN:return this.o_video_main;case tmedia_pc_type_e.SLIDES:return this.o_video_slides;default:return null}};tmedia_session.prototype.get_session=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_sessions.o_audio;case tmedia_pc_type_e.MAIN:return this.o_sessions.o_video_main;case tmedia_pc_type_e.SLIDES:return this.o_sessions.o_video_slides;default:return null}};tmedia_session.prototype.getContentForTrickleIce=function(e_role,s_candidates,b_gathering){var o_session=this.get_session(e_role)||this.get_info(e_role);return o_session.getContentForTrickleIce(s_candidates,b_gathering)};tmedia_session.prototype.get_lo=function(pc_type){if(pc_type)return this.__my_get_lo(pc_type);else return this.__my_get_lo(null)};tmedia_session.prototype.set_ro=function(o_sdp,b_is_offer){return this.__my_set_ro(o_sdp,b_is_offer)};tmedia_session.prototype.get_rtp_info=function(){return this.my_get_rtp_info()};tmedia_session.prototype.processContent=function(s_req_name,s_content_type,s_content_ptr,i_content_size){if(this.__processContent){return this.__processContent(s_req_name,s_content_type,s_content_ptr,i_content_size)}};tmedia_session.prototype.acked=function(){return this.__acked()};tmedia_session.prototype.hold=function(){return this.__hold()};tmedia_session.prototype.resume=function(){return this.__resume()};tmedia_session.prototype.Create=function(e_type,o_mgr){switch(e_type){case tmedia_type_e.AUDIO:case tmedia_type_e.VIDEO:case tmedia_type_e.SCREEN_SHARE:if(o_mgr.ao_sessions.length==0){return new webrtcSession(o_mgr)}return null;case tmedia_type_e.GHOST:return new tmedia_session_ghost(o_mgr);default:tsk_utils_log_error(e_type+" not supported as media type");return null}};function getAvailableDev(cb_callback){var result={audioInputDev:audioInputDevices,audioOutputDev:audioOutputDevices,videoInputDev:videoInputDevices};if(cb_callback)cb_callback(result)}function checkAvailableDev(){function indexOfArray(deviceArray,device){for(var i=0;i<deviceArray.length;i++){if(deviceArray[i].deviceId===device.deviceId&&deviceArray[i].kind===device.kind){if(device.label!=""){var deviceState=deviceArray[i].state;if(adapter.browserDetails.browser=="edge"){deviceArray[i]=$.extend(true,{},device)}else{deviceArray[i]=device}deviceArray[i].state=deviceState}return i}}return-1}function checkDevList(deviceArray){var b_micRecover=false;var b_cameraRecover=false;var b_speakerRecover=false;var b_plugout=false;var bMicKind=deviceArray.length>0?deviceArray[0].kind=="audioinput":false;var bCameraKind=deviceArray.length>0?deviceArray[0].kind=="videoinput":false;var bSpreakerKind=deviceArray.length>0?deviceArray[0].kind=="audiooutput":false;var audio_device=undefined;var video_device=undefined;var speak_device=undefined;for(var i=0;i<deviceArray.length;i++){if(deviceArray[i].hasChecked==false||deviceArray[i].hasChecked==undefined){if(bMicKind&&deviceArray[i].state=="applyed"){audio_device=deviceArray[i];b_micRecover=true;deviceArray[i].state=undefined}if(bCameraKind&&deviceArray[i].state=="applyed"){video_device=deviceArray[i];b_cameraRecover=true;deviceArray[i].state=undefined}if(bSpreakerKind&&deviceArray[i].state=="applyed"){b_speakerRecover=true;speak_device=deviceArray[i];deviceArray[i].state=undefined}if(bCameraKind&&!b_cameraRecover){tsk_utils_log_warn(deviceArray[i].label+"("+deviceArray[i].deviceId+") has been plugout! (check camera)");videoDevUpdateHandler({cameraStatus:"MsgPlugoutACamera"})}if(bMicKind&&!b_micRecover){tsk_utils_log_warn(deviceArray[i].label+"("+deviceArray[i].deviceId+") has been plugout! (check mic)");handlerFuns[Event_MicStatusChange]({micStatus:"MsgPlugoutAMic",device:deviceArray[i]})}b_plugout=true;deviceArray.splice(i,1);i--}}for(var i=0;i<deviceArray.length;i++){deviceArray[i].hasChecked=false}if(b_cameraRecover){tsk_utils_log_warn("camera should be applyed! ");if(bCameraKind&&video_device){videoDevUpdateHandler({cameraStatus:"MsgPlugoutCurrentCamera",device:video_device})}}if(b_micRecover){tsk_utils_log_warn(" mic should be applyed! ");if(bMicKind&&audio_device){handlerFuns[Event_MicStatusChange]({micStatus:Message_PlugoutCurrentMic,device:audio_device})}}if(b_speakerRecover){tsk_utils_log_warn(" speaker should be applyed! ");if(bSpreakerKind&&speak_device){handlerFuns[Event_MicStatusChange]({micStatus:"MsgPlugoutCurrentSpeak",device:speak_device})}}if(b_plugout&&deviceArray.length==0){if(bCameraKind&&videoDevUpdateHandler){tsk_utils_log_warn("Have no camera in conference!");videoDevUpdateHandler({cameraStatus:"MsgPlugoutCameraToNone"})}if(bMicKind&&handlerFuns[Event_MicStatusChange]){tsk_utils_log_warn("Have no mic in conference!");handlerFuns[Event_MicStatusChange]({micStatus:Message_PlugoutMicToNone})}}}function removeRedunDevInfo(deviceInfos){var noRedunDevInfos=new Array;for(var i=0;i<deviceInfos.length;i++){var device=deviceInfos[i];if(indexOfArray(noRedunDevInfos,deviceInfos[i])<0){noRedunDevInfos.push(deviceInfos[i])}}return noRedunDevInfos}if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices||adapter.browserDetails.isWebRTCPluginInstalled==true){function gotDevices(deviceInfos){var noRedunDevInfos=removeRedunDevInfo(deviceInfos);for(var i=0;i!==noRedunDevInfos.length;++i){var deviceInfo=noRedunDevInfos[i];var index=-1;{if(deviceInfo.kind==="videoinput"){if(videoInputDevices.length==0){tsk_utils_log_warn("User plug in a camera in conference!");if(videoDevUpdateHandler){videoDevUpdateHandler({cameraStatus:"MsgPluginCameraToOne"})}}if((index=indexOfArray(videoInputDevices,deviceInfo))>=0){videoInputDevices[index].hasChecked=true}else{videoInputDevices.push(deviceInfo);videoInputDevices[videoInputDevices.length-1].hasChecked=true;videoDevUpdateHandler({cameraStatus:"MsgPluginNewCamera",device:deviceInfo});if(isFirstCheck==false){tsk_utils_log_warn(videoInputDevices[videoInputDevices.length-1].label+"("+videoInputDevices[videoInputDevices.length-1].deviceId+") has been plug in(videoinput)!")}}}if(deviceInfo.kind==="audioinput"){if(audioInputDevices.length==0){tsk_utils_log_warn("User plug in a mic in conference!");handlerFuns[Event_MicStatusChange]({micStatus:"MsgPluginMicToOne"})}index=indexOfArray(audioInputDevices,deviceInfo);if(index>=0){audioInputDevices[index].hasChecked=true}else{audioInputDevices.push(deviceInfo);audioInputDevices[audioInputDevices.length-1].hasChecked=true;if(isFirstCheck==false){tsk_utils_log_warn(audioInputDevices[audioInputDevices.length-1].label+"("+audioInputDevices[audioInputDevices.length-1].deviceId+") has been plug in(audioinput)!");handlerFuns[Event_MicStatusChange]({micStatus:"MsgPluginNewMic",device:deviceInfo})}}}if(deviceInfo.kind==="audiooutput"){if((index=indexOfArray(audioOutputDevices,deviceInfo))>=0){audioOutputDevices[index].hasChecked=true}else{audioOutputDevices.push(deviceInfo);audioOutputDevices[audioOutputDevices.length-1].hasChecked=true;if(isFirstCheck==false){tsk_utils_log_info(audioOutputDevices[audioOutputDevices.length-1].label+"("+audioOutputDevices[audioOutputDevices.length-1].deviceId+") has been plug in(audiooutput)!")}}}}}isFirstCheck=false;checkDevList(videoInputDevices);checkDevList(audioInputDevices);checkDevList(audioOutputDevices)}function errorCallback(error){tsk_utils_log_error("enumerateDevices error!");tsk_utils_log_error(error)}navigator.mediaDevices.enumerateDevices().then(gotDevices).catch(errorCallback)}else{tsk_utils_log_warn("getDevices failed!")}}function deviceCheckInterval(set_or_clear){checkAvailableDev();if(detectDevicespluginout){if(set_or_clear=="set"){if(oCheckDeviceTimer==null||oCheckDeviceTimer==undefined){tsk_utils_log_warn("deviceCheckInterval(set). ");if(adapter.browserDetails.browser==="safari"&&adapter.browserDetails.isWebRTCPluginInstalled===false){oCheckDeviceTimer=setInterval(function(){checkAvailableDev()},1e3)}else{oCheckDeviceTimer=setInterval(function(){checkAvailableDev()},2e3)}}}else if(set_or_clear=="clear"){if(oCheckDeviceTimer){tsk_utils_log_warn("deviceCheckInterval(clear). ");clearInterval(oCheckDeviceTimer);oCheckDeviceTimer=null}}}}function currentCameraDetect(deviceId){navigator.mediaDevices.enumerateDevices().then(function(devices){devices.forEach(function(device){if(device.deviceId==deviceId){tsk_utils_log_warn("nowUseDeviceExist");isPlugoutCurrentCamera=false}});tsk_utils_log_info("[nowUseDeviceExist] >> Equipment check completed")}).catch(function(err){tsk_utils_log_info(err.name+": "+err.message)})}var __o_session_roap=null;var tmedia_session_state_e={NONE:-1,OFFER_SENT:0,OFFER_RECEIVED:1,ANSWER_SENT:2,ANSWER_RECEIVED:3,LOCAL_HOLD:10};function tmedia_session_roap(o_mgr){this.__proto__.__proto__=new tmedia_session(tmedia_type_e.AUDIO_VIDEO,o_mgr);this.e_state=tmedia_session_state_e.NONE;this.o_pc=null;this.o_pc_json=null;this.o_remote_stream=null;this.o_local_stream=null;this.o_sdp_json_lo=null;this.o_sdp_lo=null;this.o_sdp_json_ro=null;this.o_sdp_ro=null;this.b_ro_changed=false;this.b_lo_held=false;this.b_ro_held=false}tmedia_session_roap.prototype.__set=function(o_param){return 0};tmedia_session_roap.prototype.__prepare=function(){return 0};tmedia_session_roap.prototype.__start=function(){return 0};tmedia_session_roap.prototype.__pause=function(){return 0};tmedia_session_roap.prototype.__stop=function(){tsk_utils_log_info("PeerConnection::stop()");if(this.o_pc){this.o_pc.close();this.o_pc=null}this.o_mgr.set_stream_remote(null);this.o_mgr.set_stream_local(null);return 0};tmedia_session_roap.prototype.__get_lo=function(){tsk_utils_log_info("ROAP: __get_lo");if(!this.o_pc){__o_session_roap=this;this.o_mgr.set_stream_local(__o_roap_stream);__o_session_roap.o_local_stream=__o_roap_stream;__o_session_roap.o_pc=new __o_peerconnection_class("STUN stun.l.google.com:19302",__o_session_roap.__on_signaling_message);__o_session_roap.o_pc.o_session=__o_session_roap;__o_session_roap.o_pc.onstatechange=tmedia_session_roap.prototype.__on_state_change;__o_session_roap.o_pc.onconnecting=tmedia_session_roap.prototype.__on_connecting;__o_session_roap.o_pc.onopen=tmedia_session_roap.prototype.__on_open;__o_session_roap.o_pc.onaddstream=tmedia_session_roap.prototype.__on_add_stream;__o_session_roap.o_pc.onremovestream=tmedia_session_roap.prototype.__on_remove_stream;if(__o_session_roap.o_pc){tsk_utils_log_info("ROAP: __get_lo::addStream()");__o_session_roap.o_pc.addStream(__o_session_roap.o_local_stream)}if(this.e_state==tmedia_session_state_e.OFFER_RECEIVED&&this.o_sdp_ro){this.__set_ro(this.o_sdp_ro,true)}return null}return this.o_sdp_lo};tmedia_session_roap.prototype.__hold=function(){this.b_lo_held=true;if(this.o_pc&&this.o_local_stream){this.o_pc.removeStream(this.o_local_stream);return 0}tsk_utils_log_error("Invalid state");return-1};tmedia_session_roap.prototype.__set_ro=function(o_sdp,b_is_offer){tsk_utils_log_info("ROAP: __set_ro");this.o_sdp_ro=o_sdp;if(!this.o_pc){this.e_state=tmedia_session_state_e.OFFER_RECEIVED;return 0}var s_sdp_json_ro=null;var o_hdr_O;var i_seq=1;var i_tieBreaker=Math.floor(Math.random()*65535);var s_answererSessionId;var s_offererSessionId;if(o_hdr_O=this.o_sdp_ro.get_header(tsdp_header_type_e.O)){i_seq=o_hdr_O.i_sess_version}this.e_state=b_is_offer?tmedia_session_state_e.OFFER_RECEIVED:tmedia_session_state_e.ANSWER_RECEIVED;if(this.o_pc_json){s_answererSessionId=this.o_pc_json.answererSessionId?this.o_pc_json.answererSessionId:tsk_string_random(16);s_offererSessionId=this.o_pc_json.offererSessionId?this.o_pc_json.offererSessionId:tsk_string_random(16);if(this.o_pc_json.messageType=="OFFER"){s_sdp_json_ro=tsk_string_format("{\n"+'"answererSessionId" : "{0}",\n'+'"messageType" : "ANSWER",\n'+'"offererSessionId" : "{1}",\n'+'"sdp" : "{2}",\n'+'"seq" : {3}\n'+"}\n",s_answererSessionId,s_offererSessionId,this.o_sdp_ro.toString("\\r\\n"),this.o_sdp_json_lo.seq)}else{s_sdp_json_ro=tsk_string_format("{\n"+'"answererSessionId" : "{0}",\n'+'"messageType" : "OFFER",\n'+'"offererSessionId" : "{1}",\n'+'"sdp" : "{2}",\n'+'"seq" : {3},\n'+'"tieBreaker": {4}\n'+"}\n",s_answererSessionId,s_offererSessionId,this.o_sdp_ro.toString("\\r\\n"),this.o_sdp_json_lo.seq+1,i_tieBreaker)}}else{s_sdp_json_ro=tsk_string_format("{\n"+'"messageType" : "OFFER",\n'+'"offererSessionId" : "{0}",\n'+'"sdp" : "{1}",\n'+'"seq" : {2},\n'+'"tieBreaker": {3}\n'+"}\n",tsk_string_random(16),this.o_sdp_ro.toString("\\r\\n"),i_seq,i_tieBreaker)}try{tsk_utils_log_info("RO="+s_sdp_json_ro);this.o_sdp_json_ro=JSON.parse(s_sdp_json_ro);this.o_pc.processSignalingMessage("SDP\n"+s_sdp_json_ro);return 0}catch(e){__o_session_roap.o_mgr.callback(tmedia_session_events_e.SET_RO_FAILED,this.e_type);tsk_utils_log_error(e);return-2}};tmedia_session_roap.prototype.__acked=function(){if(this.o_sdp_json_lo){if(this.o_sdp_json_lo.messageType=="ANSWER"){var s_sdp_json_ack=tsk_string_format("SDP\n{\n"+'"answererSessionId" : "{0}",\n'+'"messageType" : "OK",\n'+'"offererSessionId" : "{1}",\n'+'"seq" : {2}\n'+"}\n",this.o_sdp_json_lo.offererSessionId,this.o_sdp_json_lo.answererSessionId,this.o_sdp_json_lo.seq);tsk_utils_log_info("ACK="+s_sdp_json_ack);try{this.o_pc.processSignalingMessage(s_sdp_json_ack)}catch(e){tsk_utils_log_error(e);return-2}}}return 0};tmedia_session_roap.prototype.__on_signaling_message=function(message){tsk_utils_log_info("LO="+message);if(tsk_string_index_of(message,3,"SDP")==0){message=message.substring(3)}try{__o_session_roap.o_pc_json=JSON.parse(message);if(__o_session_roap.o_pc_json.messageType=="OFFER"||__o_session_roap.o_pc_json.messageType=="ANSWER"){var o_sdp=tsdp_message.prototype.Parse(__o_session_roap.o_pc_json.sdp);if(!o_sdp){tsk_utils_log_error("failed to parse sdp"+__o_session_roap.o_pc_json.sdp);__o_session_roap.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,this.e_type);return}var o_hdr_ma=o_sdp.get_header_m_by_name("audio");var o_hdr_mv=o_sdp.get_header_m_by_name("video");__o_session_roap.o_sdp_json_lo=__o_session_roap.o_pc_json;__o_session_roap.o_sdp_lo=o_sdp;var o_hdr_S;if(o_hdr_S=__o_session_roap.o_sdp_lo.get_header(tsdp_header_type_e.S)){o_hdr_S.s_value="webrtc (roap)"}var o_hdr_O;if(o_hdr_O=__o_session_roap.o_sdp_lo.get_header(tsdp_header_type_e.O)){o_hdr_O.i_sess_version=__o_session_roap.o_sdp_json_lo.seq}if(__o_session_roap.b_lo_held||__o_session_roap.b_ro_held){var o_hdr_M;var i_index=0;while(o_hdr_M=__o_session_roap.o_sdp_lo.get_header_at(tsdp_header_type_e.M,i_index++)){o_hdr_M.set_holdresume_att(__o_session_roap.b_lo_held,__o_session_roap.b_ro_held)}}if(__o_session_roap.e_state==tmedia_session_state_e.LOCAL_HOLD){__o_session_roap.e_state=tmedia_session_state_e.OFFER_SENT}__o_session_roap.o_mgr.callback(tmedia_session_events_e.GET_LO_SUCCESS,this.e_type)}else if(__o_session_roap.o_pc_json.messageType=="OK"){__o_session_roap.o_mgr.callback(tmedia_session_events_e.SET_RO_SUCCESS,this.e_type)}if(__o_session_roap.o_pc_json.messageType=="ERROR"){tsk_utils_log_error("onSignalingMessage::messageType = ERROR");__o_session_roap.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,this.e_type)}}catch(e){__o_session_roap.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,this.e_type);tsk_utils_log_error(e);return}};tmedia_session_roap.prototype.__on_state_change=function(evt){tsk_utils_log_info("__on_state_change")};tmedia_session_roap.prototype.__on_connecting=function(evt){tsk_utils_log_info("__on_connecting")};tmedia_session_roap.prototype.__on_open=function(evt){tsk_utils_log_info("__on_open")};tmedia_session_roap.prototype.__on_add_stream=function(evt){tsk_utils_log_info("__on_add_stream");if(__o_session_roap){__o_session_roap.o_remote_stream=evt.stream;if(__o_session_roap.o_mgr){__o_session_roap.o_mgr.set_stream_remote(evt.stream)}}};tmedia_session_roap.prototype.__on_remove_stream=function(evt){tsk_utils_log_info("__on_remove_stream");if(__o_session_roap){__o_session_roap.o_remote_stream=null;if(__o_session_roap.o_mgr){__o_session_roap.o_mgr.set_stream_remote(null)}}};var tmedia_param_type_e={CODEC:0,SESSION:1,MANAGER:2};function tmedia_param(e_type,e_media_type,s_key,o_value){this.e_type=e_type;this.e_media_type=e_media_type;this.s_key=s_key;this.o_value=o_value}var tmedia_qos_status_e={CURR:0,DEST:1,CONF:3};var tmedia_qos_ptype_e={QOS:0};var tmedia_qos_stype_e={NONE:0,SEGMENTED:1,E2E:2};var tmedia_qos_strength_e={NONE:0,FAILURE:1,UNKNOWN:2,OPTIONAL:3,MANDATORY:4};var tmedia_qos_direction_e={NONE:0,SEND:1<<1,RECV:1<<2,SEND_RECV:1<<1|1<<2};var offerPeerConnection;var answerPeerConnection;var offerSDP;var answerSDP;var videoBox;var myStorage=window.localStorage;var videoStream;window.stopSplit=function hangup(){tsk_utils_log_info("Ending split screen");if(offerPeerConnection){offerPeerConnection.close()}if(answerPeerConnection){answerPeerConnection.close()}offerPeerConnection=null;answerPeerConnection=null};window.splitScreen=function splitScreen(stream){videoStream=stream;window.stopSplit();var servers=null;if(window.name!="second-screen"){if(!offerPeerConnection){var RTCpeerConnectionOptional={optional:[{pcName:"PC_split_offer_"+Math.random().toString(36).substr(2)}]};offerPeerConnection=new window.RTCPeerConnection(servers,RTCpeerConnectionOptional);tsk_utils_log_info("Created local peer connection object offerPeerConnection");offerPeerConnection.onicecandidate=gotLocalIceCandidate;offerPeerConnection.oniceconnectionstatechange=processConnectStat}if(!window.splitScreenMainListening||window.splitScreenMainListening===false){window.splitScreenMainListening=true;window.addEventListener("storage",function(event){if(event.key=="offerSDP"||event.key=="answerSDP"){tsk_utils_log_info("key is:"+event.key+"   value is:"+event.newValue)}if(event.key=="answerSDP"&&event.newValue!=undefined){var sdp=new RTCSessionDescription({type:"answer",sdp:event.newValue});sdp.sdp=setMediaBitrateAndCodecPrioritys(sdp.sdp);offerPeerConnection.setRemoteDescription(sdp)}})}offerPeerConnection.addStream(videoStream);tsk_utils_log_info("Added videoStream to offerPeerConnection");offerPeerConnection.createOffer(gotLocalDescription,onSignalingError)}else{videoBox=document.getElementById("splitVideo");if(!answerPeerConnection){var RTCpeerConnectionOptional={optional:[{pcName:"PC_split_answer_"+Math.random().toString(36).substr(2)}]};answerPeerConnection=new window.RTCPeerConnection(servers,RTCpeerConnectionOptional);tsk_utils_log_info("Created remote peer connection object answerPeerConnection");answerPeerConnection.onicecandidate=gotRemoteIceCandidate;answerPeerConnection.onaddstream=gotRemoteStream;answerPeerConnection.oniceconnectionstatechange=processConnectStat}if(!window.splitScreenSecListening||window.splitScreenSecListening===false){window.splitScreenSecListening=true;window.addEventListener("storage",function(event){if(event.key=="offerSDP"||event.key=="answerSDP"){tsk_utils_log_info("key is:"+event.key+"   value is:"+event.newValue)}if(event.key=="offerSDP"&&event.newValue!=undefined){var sdp=new RTCSessionDescription({type:"offer",sdp:event.newValue});sdp.sdp=setMediaBitrateAndCodecPrioritys(sdp.sdp);answerPeerConnection.setRemoteDescription(sdp);answerPeerConnection.createAnswer(gotRemoteDescription,onSignalingError)}})}var a=myStorage.getItem("offerSDP");tsk_utils_log_info("try getting offerSDP");if(a!=undefined){var sdp=new RTCSessionDescription({type:"offer",sdp:a});sdp.sdp=setMediaBitrateAndCodecPrioritys(sdp.sdp);answerPeerConnection.setRemoteDescription(sdp);answerPeerConnection.createAnswer(gotRemoteDescription,onSignalingError)}}};function processConnectStat(event){if(window.name!="second-screen"){if(offerPeerConnection&&offerPeerConnection.iceConnectionState==="connected"){tsk_utils_log_info("Connected the second-screen, hide local video displaying")}else if(offerPeerConnection&&offerPeerConnection.iceConnectionState==="failed"){tsk_utils_log_info("Connection cut, the split function is ended.")}}else{if(answerPeerConnection&&answerPeerConnection.iceConnectionState==="failed"){tsk_utils_log_info("Connection cut, the split function is ended.");tsk_utils_log_info("Closing the new window!");window.close()}}}function onSignalingError(error){tsk_utils_log_error("Failed to create signaling message : "+error.name)}function gotLocalDescription(description){offerPeerConnection.setLocalDescription(description);offerSDP=description;tsk_utils_log_info("Offer from offerPeerConnection: \n"+description.sdp);if(description.sdp.indexOf("a=candidate:")!=-1){tsk_utils_log_info("Candidate is got !!!!");gotLocalIceCandidate(null)}}function gotRemoteDescription(description){answerPeerConnection.setLocalDescription(description);tsk_utils_log_info("Answer from answerPeerConnection: \n"+description.sdp);answerSDP=description;if(description.sdp.indexOf("a=candidate:")!=-1){tsk_utils_log_info("Candidate is got !!!!");gotRemoteIceCandidate(null)}}function gotRemoteStream(event){window.attachMediaStream(videoBox,event.stream);tsk_utils_log_info("Received remote stream");if(window.name==="second-screen"){window.opener.postMessage("gotStream","*")}}function gotLocalIceCandidate(event){if(event&&event.candidate){tsk_utils_log_info("Local ICE candidate: \n"+event.candidate.candidate);offerSDP.sdp+="a="+event.candidate.candidate+"\r\n"}else{tsk_utils_log_info("Local ICE candidate: done\n");if(!myStorage.getItem("offerSDP")){offerSDP=offerPeerConnection.localDescription;tsk_utils_log_info("Local SDP is: \n"+offerSDP.sdp);offerSDP.sdp=setMediaBitrateAndCodecPrioritys(offerSDP.sdp);tsk_utils_log_info("Set Offer SDP into localStorage\n");myStorage.setItem("offerSDP",offerSDP.sdp)}}}function gotRemoteIceCandidate(event){if(event&&event.candidate){tsk_utils_log_info("Remote ICE candidate: \n "+event.candidate.candidate);answerSDP.sdp+="a="+event.candidate.candidate+"\r\n"}else{tsk_utils_log_info("Remote ICE candidate: done\n");if(!myStorage.getItem("answerSDP")){answerSDP=answerPeerConnection.localDescription;answerSDP.sdp=setMediaBitrateAndCodecPrioritys(answerSDP.sdp);tsk_utils_log_info("Remote SDP is: \n"+answerSDP.sdp);tsk_utils_log_info("Set Remote SDP into localStorage\n");myStorage.setItem("answerSDP",answerSDP.sdp)}}}function setMediaBitrateAndCodecPrioritys(sdp){return setMediaBitrateAndCodecPriority(sdp,"video",1024,1024e3,1536)}function setMediaBitrateAndCodecPriority(sdp,media,ASBitrate,TIASBitrate,startBitrate){var lines=sdp.split("\n");var line=-1;var newLinesForBitrate;var newLinesForStartBitrate;var PTnumber;var codecsReorder;var codecs=[];var priorityCodecs=[];var serverUsedCode=[];var count=0;for(var i=0;i<lines.length;i++){if(lines[i].indexOf("m="+media)>=0){line=i;line++;while(lines[line].indexOf("i=")>=0||lines[line].indexOf("c=")>=0){line++}if(lines[line].indexOf("b=")>=0){lines[line]="b=AS:"+ASBitrate+"\r\nb=TIAS:"+TIASBitrate;return lines.join("\n")}newLinesForBitrate=lines.slice(0,line);newLinesForBitrate.push("b=AS:"+ASBitrate+"\r\nb=TIAS:"+TIASBitrate);newLinesForBitrate=newLinesForBitrate.concat(lines.slice(line,lines.length));break}}for(var j=line;j<lines.length;j++){if(lines[j].indexOf("a=rtpmap")>=0){line=j;line++;if(lines[j].indexOf("VP8")>=0){PTnumber=lines[j].substr(9,3);line++;newLinesForStartBitrate=newLinesForBitrate.slice(0,line);newLinesForStartBitrate.push("a=fmtp:"+PTnumber+" x-google-start-bitrate="+startBitrate);newLinesForBitrate=newLinesForStartBitrate.concat(newLinesForBitrate.slice(line,newLinesForBitrate.length));count++;if(slideVideoInCodecName!=""){slideVideoInCodecName=="VP8"?serverUsedCode.push(PTnumber):priorityCodecs.push(PTnumber)}}else if(lines[j].indexOf("H264")>=0){PTnumber=lines[j].substr(9,3);line++;line=line+count;newLinesForStartBitrate=newLinesForBitrate.slice(0,line);newLinesForStartBitrate.push("a=fmtp:"+PTnumber+" x-google-start-bitrate="+startBitrate);newLinesForBitrate=newLinesForStartBitrate.concat(newLinesForBitrate.slice(line,newLinesForBitrate.length));count++;if(slideVideoInCodecName!=""){slideVideoInCodecName=="H264"?serverUsedCode.push(PTnumber):priorityCodecs.push(PTnumber)}}else{codecs.push(lines[j].substr(9,3))}}}if(slideVideoInCodecName!=""&&media==="video"){var mLineRegex=/^m=video\s[0-9]{1,}\s\w{3,5}(\/\w{3,5})*?\s/;codecsReorder=serverUsedCode.concat(priorityCodecs.concat(codecs)).join(" ").replace(/\s+/g," ");for(var k=0;k<newLinesForBitrate.length;k++){if(newLinesForBitrate[k].indexOf("m="+media)===0){newLinesForBitrate[k]=newLinesForBitrate[k].match(mLineRegex)[0]+codecsReorder}}}return newLinesForBitrate.join("\n")}webrtcSession.prototype=Object.create(tmedia_session.prototype);webrtcSession.prototype.conf={ao_ice_servers:null,ao_ice_transport_policy:null,ao_RTCpeerConnection_optional:null,o_bandwidth:{audio:null,video:null,present:null}};webrtcSession.prototype.o_local_streams={o_audio_stream:null,o_video_stream:null,o_present_stream:null,o_fake_present_stream:null,o_fake_audio_stream:null};webrtcSession.prototype.b_ICE_has_failed=false;webrtcSession.prototype.b_main_stream_resolution_change=false;webrtcSession.prototype.o_sessions={o_audio:null,o_video_main:null,o_video_slides:null};webrtcSession.prototype.attr={i_sdp_lo_version:-1,o_video_current_recv_resolution:null,o_video_current_send_resolution:null,o_quality:"5",b_mac_pro:false,o_codec:null,o_ro_codec:null};webrtcSession.prototype.o_rtpInfo={o_audio_in:undefined,o_audio_out:undefined,o_video_in:undefined,o_video_out:undefined,o_slide_video_in:undefined,o_slide_video_out:undefined};webrtcSession.prototype.o_ice={b_ice_lite_remote:false};var s_filter=["o_local_streams","attr"];function webrtcSession(o_mgr){if(!o_mgr)return;tmedia_session.call(this,o_mgr.e_type,o_mgr);this.log={};this.log.debug=window.debug("JSEP:DEBUG");this.log.log=window.debug("JSEP:LOG");this.log.info=window.debug("JSEP:INFO");this.log.warn=window.debug("JSEP:WARN");this.log.error=window.debug("JSEP:ERROR");this.log.fatal=window.debug("JSEP:FATAL")}webrtcSession.prototype.__set=function(o_param){if(!o_param){return-1}switch(o_param.s_key){case"ice-servers":this.conf.ao_ice_servers=o_param.o_value;return 0;case"ice-transport-policy":this.conf.ao_ice_transport_policy=o_param.o_value;return 0;case"RTCpeerConnection-optional":this.conf.ao_RTCpeerConnection_optional=o_param.o_value;return 0;case"bandwidth":this.conf.o_bandwidth=o_param.o_value;return 0;case"video-resolution":this.attr.o_video_current_recv_resolution=o_param.o_value;return 0;case"audio-stream":this.o_local_streams.o_audio_stream=o_param.o_value;return 0;case"video-stream":this.o_local_streams.o_video_stream=o_param.o_value;return 0;case"present-stream":this.o_local_streams.o_present_stream=o_param.o_value;return 0}return-2};webrtcSession.prototype.createSession=function(e_role){if(!e_role){tsk_utils_log_warn("createSession: Invalid argument");return}switch(adapter.browserDetails.browser){case"chrome":case"opera":return new chromeWebrtcSession(e_role,this.o_mgr);case"edge":return new edgeWebrtcSession(e_role,this.o_mgr);case"firefox":return new firefoxWebrtcSession(e_role,this.o_mgr);default:if(adapter.browserDetails.isWebRTCPluginInstalled){return new webrtcPluginWebrtcSession(e_role,this.o_mgr)}else if(adapter.browserDetails.browser=="safari"){return new safariWebrtcSession(e_role,this.o_mgr)}else{tsk_utils_log_warn("webrtcSession: Unknown browser")}break}return};webrtcSession.prototype.commonDecorateLo=function(b_inc_version,o_session){if(!o_session||!o_session.o_pc){tsk_utils_log_warn("commonDecorateLo: Invalid Argument");return error_status_e.err_status_fail}tsk_utils_log_info("commonDecorateLo type: "+o_session.e_role.s_name);if(o_session.o_sdp_lo){var o_hdr_S,o_hdr_A;if(o_hdr_S=o_session.o_sdp_lo.get_header(tsdp_header_type_e.S)){o_hdr_S.s_value="Grandstream - "+adapter.browserDetails.browser}function get_local_ssrc(hdr_M){var local_ssrc=hdr_M.get_ssrc();if(local_ssrc&&local_ssrc.length>=1){o_session.o_local_ssrc=local_ssrc[0];This.log.info("user local ssrc: "+o_session.o_local_ssrc)}if(local_ssrc&&local_ssrc.length>1){o_session.o_local_rtx_ssrc=local_ssrc[1];This.log.info("user local rtx ssrc: "+o_session.o_local_rtx_ssrc)}var local_cname=hdr_M.get_cname();if(local_cname.length>=1){o_session.o_local_cname=local_cname[0];This.log.info("user local cname: "+o_session.o_local_cname)}}var This=this;var o_hdr_M=o_session.o_sdp_lo.get_header(tsdp_header_type_e.M);get_local_ssrc(o_hdr_M);if(!(o_hdr_A=o_hdr_M.find_a("candidate"))){if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"){this.log.warn("trickle ice. so no candidates in m line")}else{this.log.warn("no candidate in m line. We need to add a fake candidate");o_hdr_M.add_header(new tsdp_header_A("candidate","956527311 1 udp 2122260223 192.168.9.9 9 typ host generation 0"));o_hdr_M=this.processDefaultMLineAddrPort(o_hdr_M)}}o_hdr_M.add_candidates_end_flag();if(SipMgr.getConfFromLocalStorage("trickle_ice")!="true"){o_hdr_M.move_a("ice-options","trickle");o_hdr_M.move_a("end-of-candidates");o_session.o_sdp_lo.remove_header_a("ice-options","trickle")}o_session.o_sdp_lo.remove_header_a("group");o_session.o_sdp_lo.remove_header_a("sendrecv");function trim_video_m_line(o_hdr_M){o_hdr_M.move_encoder(o_hdr_M.have_encoder("VP9"));o_hdr_M.add_level_id();var b_fec=localStorage.getItem("test_red_ulpfec_enabled");if(b_fec=="false"){o_hdr_M.move_red_ulpfec()}o_hdr_M.trim_codec("H264")}switch(o_session.e_role){case tmedia_pc_type_e.AUDIO:tsk_utils_log_info("commonDecorateLo type: audio");var custom_header_A=["G722","opus","PCMU","PCMA"];o_hdr_M.custom_rtpmap(custom_header_A);window.audio_mid=tsk_other_deep_copy_obj(o_hdr_M.find_a("mid"));break;case tmedia_pc_type_e.MAIN:trim_video_m_line(o_hdr_M);tsk_utils_log_info("commonDecorateLo type: main");o_hdr_A=o_hdr_M.find_a("quality");if(!o_hdr_A){o_hdr_M.add_header(new tsdp_header_A("quality",this.attr.o_quality))}else if(o_hdr_A!=this.attr.o_quality){o_hdr_M.set_a("quality",this.attr.o_quality)}if(!(o_hdr_A=o_hdr_M.find_a("content"))){o_hdr_M.add_header(new tsdp_header_A("content","main"))}window.main_mid=tsk_other_deep_copy_obj(o_hdr_M.find_a("mid"));var s_width,s_height;if(!this.attr.o_video_current_recv_resolution){this.attr.o_video_current_recv_resolution=initialResolution}tsk_utils_log_info("o_recv_video_current_resolution: "+this.attr.o_video_current_recv_resolution);switch(this.attr.o_video_current_recv_resolution){case"1080":s_width="1920";s_height="1080";break;case"720":s_width="1280";s_height="720";
break;case"480":s_width="848";s_height="480";break;default:tsk_utils_log_warn("commonDecorateLo: Unknown resolution");break}o_hdr_M.set_resolution(s_width,s_height);if(this.o_mgr.data.codec.length==0){this.o_mgr.data.codec=o_hdr_M.get_all_codec();tsk_utils_log_info("loca codec :"+this.o_mgr.data.codec[0])}if(this.attr.o_codec){o_hdr_M.move_other_codec(this.attr.o_codec)}if(this.attr.o_ro_codec){o_hdr_M.move_other_codec(this.attr.o_ro_codec);this.attr.o_ro_codec=null}break;case tmedia_pc_type_e.SLIDES:trim_video_m_line(o_hdr_M);tsk_utils_log_info("commonDecorateLo type: slides");if(!(o_hdr_A=o_hdr_M.find_a("content"))){o_hdr_M.add_header(new tsdp_header_A("content","slides"))}window.slides_mid=tsk_other_deep_copy_obj(o_hdr_M.find_a("mid"));o_hdr_M.set_resolution("1920","1080");break;default:tsk_utils_log_warn("commonDecorateLo: Unknown type");break}var o_hdr_O;if(this.attr.i_sdp_lo_version==-1){this.attr.i_sdp_lo_version=window.RTCPeerConnection?2:1}if(o_hdr_O=o_session.o_sdp_lo.get_header(tsdp_header_type_e.O)){if(this.attr.i_sdp_lo_version)o_hdr_O.i_sess_version=this.attr.i_sdp_lo_version;else if(o_hdr_O.i_sess_version)++o_hdr_O.i_sess_version;if(b_inc_version){++this.attr.i_sdp_lo_version}}var i_index=0;var o_hdr_M;var b_fingerprint=!!o_session.o_sdp_lo.get_header_a("fingerprint");while(o_hdr_M=o_session.o_sdp_lo.get_header_at(tsdp_header_type_e.M,i_index++)){if(o_hdr_M.find_a("crypto")){o_hdr_M.s_proto="RTP/SAVPF"}else if(b_fingerprint||o_hdr_M.find_a("fingerprint")){o_hdr_M.s_proto="UDP/TLS/RTP/SAVPF"}}return error_status_e.err_status_ok}};webrtcSession.prototype.commonDecorateRo=function(b_remove_bundle,o_session){if(!o_session){tsk_utils_log_error("commonDecorateRo: Invalid Argument");return}var o_sdp_ro=o_session.o_sdp_ro;var This=this;if(o_sdp_ro){if(b_remove_bundle){o_sdp_ro.remove_header(tsdp_header_type_e.A)}o_sdp_ro.remove_header_b();var s_value=SipMgr.getConfFromLocalStorage("ice_lite");if(s_value=="true"&&This.o_ice.b_ice_lite_remote==false){This.o_ice.b_ice_lite_remote=o_sdp_ro.support_ice_lite()}function get_remote_ssrc(hdr_M){var remote_ssrc=hdr_M.get_ssrc();if(remote_ssrc&&remote_ssrc.length>=1){o_session.o_remote_ssrc=remote_ssrc[0]}tsk_utils_log_info("use remote ssrc: "+o_session.o_remote_ssrc)}function get_holdresume_attr(hdr_M){var hold_resume_atts=["sendrecv","recvonly","sendonly","inactive"];var o_hdr_A;for(var i=0;i<4;i++){if(o_hdr_A=hdr_M.find_a(hold_resume_atts[i])){tsk_utils_log_info("s_holdresume_attr: "+hold_resume_atts[i]);return hold_resume_atts[i];break}}}function modifiedMidBeforSetRemoteSDP(o_hdr_M){tsk_utils_log_info("Set mid to the original before set remote");var line=o_hdr_M.toString();var midValue;if(line.match("a=content:slides")){midValue=window.slides_mid.s_value}else if(line.match("a=content:main")){midValue=window.main_mid.s_value}else{midValue=window.audio_mid.s_value}if(o_hdr_M.ao_hdr_A){for(var i=o_hdr_M.ao_hdr_A.length-1;i>0;i--){if(o_hdr_M.ao_hdr_A[i].s_field=="mid"){o_hdr_M.ao_hdr_A[i].s_value=o_hdr_M.ao_hdr_A[i].s_value.replace(o_hdr_M.ao_hdr_A[i].s_value,midValue);break}}}}function trim_m_line(o_hdr_M){if(!o_hdr_M){o_hdr_M=o_sdp_ro.get_header(tsdp_header_type_e.M)}o_hdr_M.set_a("setup","passive");modifiedMidBeforSetRemoteSDP(o_hdr_M);get_remote_ssrc(o_hdr_M);o_session.s_holdresume_attr_ro=get_holdresume_attr(o_hdr_M)}function set_resolution_up(o_hdr_M){var resolution=o_hdr_M.get_resolution();var maxResolution;if((adapter.browserDetails.browser==="ie"||adapter.browserDetails.browser==="edge")&&adapter.browserDetails.isWebRTCPluginInstalled===true){maxResolution=resolution}else{maxResolution=getMaxResolution(resolution)}if(maxResolution){This.attr.o_video_current_send_resolution=maxResolution.height;var s_holdresume_attr=get_holdresume_attr(o_hdr_M);if(s_holdresume_attr==="sendrecv"){var b_exit=This.o_sessions.o_video_main&&This.o_sessions.o_video_main.o_resolution_up_sdp&&This.o_sessions.o_video_main.o_resolution_up_sdp.height;if(b_exit){tsk_utils_log_info("set_resolution_up previous resolution: "+This.o_sessions.o_video_main.o_resolution_up_sdp.height)}else{tsk_utils_log_info("set_resolution_up previous resolution: none")}tsk_utils_log_info("set_resolution_up current resolution: "+maxResolution.height);if(b_exit&&This.o_sessions.o_video_main.o_resolution_up_sdp.height!==maxResolution.height){tsk_utils_log_info("main video has changed the resolution");This.b_main_stream_resolution_change=true}else{This.b_main_stream_resolution_change=false}This.o_sessions.o_video_main.o_resolution_up_sdp=maxResolution}else{o_session.o_resolution_up_sdp=null}}}var hdr_M_video_ro=o_sdp_ro.get_header_m_by_name("video");set_resolution_up(hdr_M_video_ro);switch(o_session.e_role){case tmedia_pc_type_e.AUDIO:tsk_utils_log_info("AUDIO : remove all video m-line");o_sdp_ro.remove_media_all("video");trim_m_line();var hdr_M_audio_ro=o_sdp_ro.get_header_m_by_name("audio");if(hdr_M_audio_ro){if(hdr_M_audio_ro.find_a(window.audio_mid.s_field)){tsk_utils_log_info("AUDIO :no process due to the server has processed the mid")}else{tsk_utils_log_info("AUDIO :add a new mid line for no mid line here");hdr_M_audio_ro.new_a(window.audio_mid.s_field,window.audio_mid.s_value)}}break;case tmedia_pc_type_e.MAIN:tsk_utils_log_info("MAIN : remove audio m-line and slides video m-line");o_sdp_ro.remove_audio("audio");o_sdp_ro.remove_slides_video("video");var hdr_M_video_ro=o_sdp_ro.get_header_m_by_name("video");trim_m_line(hdr_M_video_ro);o_negotiation_codec=hdr_M_video_ro.get_priority();if(This.o_sessions.o_video_main.o_framerate_up_sdp==0){This.o_sessions.o_video_main.o_framerate_up_sdp=hdr_M_video_ro.get_framerate()}if(hdr_M_video_ro){if(hdr_M_video_ro.find_a(window.main_mid.s_field)){tsk_utils_log_info("MAIN :no process due to the server has processed the mid")}else{tsk_utils_log_info("MAIN :add a new mid line for no mid line here");hdr_M_video_ro.new_a(window.main_mid.s_field,window.main_mid.s_value)}}break;case tmedia_pc_type_e.SLIDES:tsk_utils_log_info("SLIDES : remove audio m-line and main video m-line");o_sdp_ro.remove_audio("audio");o_sdp_ro.remove_main_video("video");trim_m_line();var hdr_M_slides_ro=o_sdp_ro.get_header_m_by_name("video");if(hdr_M_slides_ro){if(hdr_M_slides_ro.find_a(window.slides_mid.s_field)){tsk_utils_log_info("SLIDES : no process due to the server has processed the mid")}else{tsk_utils_log_info("SLIDES :add a new mid line for no mid line here");hdr_M_slides_ro.new_a(window.slides_mid.s_field,window.slides_mid.s_value)}}break;default:tsk_utils_log_warn("commonDecorateLo: Unknown type");break}var rfc5939_get_acap_part=function(o_hdr_a,i_part){var ao_match=o_hdr_a.s_value.match(/^\d\s+(\w+):([\D|\d]+)/i);if(ao_match&&ao_match.length==3){return ao_match[i_part]}};var rfc5939_acap_ensure=function(o_hdr_a){if(o_hdr_a&&o_hdr_a.s_field=="acap"){o_hdr_a.s_field=rfc5939_get_acap_part(o_hdr_a,1);o_hdr_a.s_value=rfc5939_get_acap_part(o_hdr_a,2)}};var rfc5939_get_headerA_at=function(o_msg,s_media,s_field,i_index){var i_pos=0;var get_headerA_at=function(o_sdp,s_field,i_index){if(o_sdp){var ao_headersA=o_sdp.ao_headers||o_sdp.ao_hdr_A;for(var i=0;i<ao_headersA.length;++i){if(ao_headersA[i].e_type==tsdp_header_type_e.A&&ao_headersA[i].s_value){var b_found=ao_headersA[i].s_field===s_field;if(!b_found&&ao_headersA[i].s_field=="acap"){b_found=rfc5939_get_acap_part(ao_headersA[i],1)==s_field}if(b_found&&i_pos++>=i_index){return ao_headersA[i]}}}}};var o_hdr_a=get_headerA_at(o_msg,s_field,i_index);if(!o_hdr_a){return get_headerA_at(o_msg.get_header_m_by_name(s_media),s_field,i_index)}return o_hdr_a};var b_fingerprint=!!o_sdp_ro.get_header_a("fingerprint");var o_hdr_M,o_hdr_A;var i_index=0;while(o_hdr_M=o_sdp_ro.get_header_at(tsdp_header_type_e.M,i_index++)){if(o_hdr_M.s_proto.indexOf("SAVP")<0){if(o_hdr_M.find_a("crypto")){o_hdr_M.s_proto="RTP/SAVPF";break}else if(b_fingerprint||o_hdr_M.find_a("fingerprint")){o_hdr_M.s_proto="UDP/TLS/RTP/SAVPF";break}}if(o_hdr_M.s_proto.indexOf("SAVP")<0){if(o_hdr_A=rfc5939_get_headerA_at(o_sdp_ro,o_hdr_M.s_media,"fingerprint",0)){rfc5939_acap_ensure(o_hdr_A);if(o_hdr_A=rfc5939_get_headerA_at(o_sdp_ro,o_hdr_M.s_media,"setup",0)){rfc5939_acap_ensure(o_hdr_A)}if(o_hdr_A=rfc5939_get_headerA_at(o_sdp_ro,o_hdr_M.s_media,"connection",0)){rfc5939_acap_ensure(o_hdr_A)}o_hdr_M.s_proto="UDP/TLS/RTP/SAVP"}}if(o_hdr_M.s_proto.indexOf("SAVP")<0){i=0;while(o_hdr_A=rfc5939_get_headerA_at(o_sdp_ro,o_hdr_M.s_media,"crypto",i++)){rfc5939_acap_ensure(o_hdr_A);o_hdr_M.s_proto="RTP/SAVPF"}}if(o_hdr_M.s_proto.indexOf("UDP/TLS/RTP/SAVP")!=-1){o_hdr_M.s_proto="RTP/SAVPF"}}}return 0};webrtcSession.prototype.processDefaultMLineAddrPort=function(sdpM){var rtp_port=-1,rtp_addr=-1,rtcp_port=-1,rtcp_addr=-1;var length=sdpM.ao_hdr_A.length;for(var i=0;i<length;i++){if(sdpM.ao_hdr_A[i].s_field=="candidate"){if(rtp_addr==-1&&sdpM.ao_hdr_A[i].s_value.match("host")!=null&&sdpM.ao_hdr_A[i].s_value.match("[0-9]+ 1 ")!=null){rtp_addr=sdpM.ao_hdr_A[i].s_value.split(" ")[4];rtp_port=sdpM.ao_hdr_A[i].s_value.split(" ")[5]}else if(rtcp_addr==-1&&sdpM.ao_hdr_A[i].s_value.match("host")!=null&&sdpM.ao_hdr_A[i].s_value.match("[0-9]+ 2 ")!=null){rtcp_addr=sdpM.ao_hdr_A[i].s_value.split(" ")[4];rtcp_port=sdpM.ao_hdr_A[i].s_value.split(" ")[5]}}}if(rtp_addr!=-1){sdpM.o_hdr_C.s_addr=rtp_addr;sdpM.i_port=rtp_port}for(var i=0;i<sdpM.ao_hdr_A.length;i++){if(rtcp_addr!=-1&&sdpM.ao_hdr_A[i].s_field=="rtcp"){sdpM.ao_hdr_A[i].s_value=rtcp_port+" IN IP4 "+rtcp_addr;break}}return sdpM};webrtcSession.prototype.__my_get_lo=function(){var This=this;tsk_utils_log_info("__my_get_lo: create session");if(!This.o_sessions.o_audio){This.o_sessions.o_audio=This.createSession(tmedia_pc_type_e.AUDIO)}else if(!This.o_sessions.o_audio.o_pc){This.o_sessions.o_audio.createPeerConnection()}if(!This.o_sessions.o_video_main){This.o_sessions.o_video_main=This.createSession(tmedia_pc_type_e.MAIN)}else if(!This.o_sessions.o_video_main.o_pc){This.o_sessions.o_video_main.createPeerConnection()}if(!This.o_sessions.o_video_slides){This.o_sessions.o_video_slides=This.createSession(tmedia_pc_type_e.SLIDES)}else if(!This.o_sessions.o_video_slides.o_pc){This.o_sessions.o_video_slides.createPeerConnection()}if(This.o_sessions.o_audio.o_sdp_lo&&This.o_sessions.o_video_main.o_sdp_lo&&This.o_sessions.o_video_slides.o_sdp_lo){tsk_utils_log_info("__my_get_lo: generate sdp");var o_sdp=null;var o_hdr_M_audio=This.o_sessions.o_audio.o_sdp_lo.get_header_m_by_name("audio");var o_hdr_M_main_video=This.o_sessions.o_video_main.o_sdp_lo.get_header_m_by_name("video");var o_hdr_M_slides_video=This.o_sessions.o_video_slides.o_sdp_lo.get_header_m_by_name("video");if(o_hdr_M_main_video&&send491InviteQueue&&send491InviteQueue[0]&&send491InviteQueue[0].s_action==="adjustVideoResolution"&&isInviteRequest){var H264PTNum=o_hdr_M_main_video.have_encoder("H264");var resolution=o_hdr_M_main_video.get_resolution({maintainResolution:true});var direction=This.o_sessions.o_video_main.s_holdresume_attr_ro;if(resolution&&resolution.height>720&&!H264PTNum&&direction==="sendrecv"){tsk_utils_log_info("Resolution does not correspond to codec limits");This.o_sessions.o_video_main.adjustVideoResolution();send491InviteQueue=[];return}}function generateSDP(o_sdp,o_hdr_M){var ao_headers=o_sdp.get_header_not_m();ao_headers.push(o_hdr_M);return ao_headers}function modifiedMidBeforSendInvite(sdp_o_hdr_M){var line=sdp_o_hdr_M.toString();var midValue;if(line.match("a=content:slides")){midValue=2;window.slides_mid["s_modified_mid"]=2}else if(line.match("a=content:main")){midValue=1;window.main_mid["s_modified_mid"]=1}else{midValue=0;window.audio_mid["s_modified_mid"]=0}for(var i=0;i<sdp_o_hdr_M.ao_hdr_A.length;i++){if(sdp_o_hdr_M.ao_hdr_A[i].s_field=="mid"){sdp_o_hdr_M.ao_hdr_A[i].s_value=sdp_o_hdr_M.ao_hdr_A[i].s_value.replace(sdp_o_hdr_M.ao_hdr_A[i].s_value,midValue);break}}}function trimMLine(e_role){function trimCandidates(o_hdr_M){if(!o_hdr_M){tsk_utils_log_warn("trimCandidates: invalid argument");return}tsk_utils_log_warn("use trickle ice. remove candidate");o_hdr_M.move_a("candidate");if(SipMgr.getConfFromLocalStorage("ice_lite")!="true"){o_hdr_M.move_a("end-of-candidates")}o_hdr_M.i_port=9;o_hdr_M.o_hdr_C.s_addr="0.0.0.0"}function setMLine(o_hdr_M){var o_hdr_M_bak=tsk_other_deep_copy_obj(o_hdr_M);trimCandidates(o_hdr_M_bak);return o_hdr_M_bak}if(e_role){if(!SipMgr.sendReinviteWithoutCandidate()){}function isUseTrickleIce(o_pc){if(SipMgr.getConfFromLocalStorage("trickle_ice")!="true"){return error_status_e.err_status_fail}This.log.info("__my_get_lo type: "+e_role.s_name+", iceConnectionState: "+o_pc.iceConnectionState);if(o_pc.iceConnectionState=="connected"||o_pc.iceConnectionState=="completed"){return error_status_e.err_status_fail}return error_status_e.err_status_ok}switch(e_role){case tmedia_pc_type_e.AUDIO:if(isUseTrickleIce(This.o_sessions.o_audio.o_pc)){o_hdr_M_audio=setMLine(o_hdr_M_audio)}break;case tmedia_pc_type_e.MAIN:if(isUseTrickleIce(This.o_sessions.o_video_main.o_pc)){o_hdr_M_main_video=setMLine(o_hdr_M_main_video)}break;case tmedia_pc_type_e.SLIDES:if(isUseTrickleIce(This.o_sessions.o_video_slides.o_pc)){o_hdr_M_slides_video=setMLine(o_hdr_M_slides_video)}break;default:break}}else{o_hdr_M_audio=setMLine(o_hdr_M_audio);o_hdr_M_main_video=setMLine(o_hdr_M_main_video);o_hdr_M_slides_video=setMLine(o_hdr_M_slides_video)}}function combineSDP(o_sdp_lo){tsk_utils_log_warn("combine three SDP ");var o_sdp=tsk_other_deep_copy_obj(o_sdp_lo);o_sdp.remove_header(tsdp_header_type_e.M);modifiedMidBeforSendInvite(o_hdr_M_audio);modifiedMidBeforSendInvite(o_hdr_M_main_video);modifiedMidBeforSendInvite(o_hdr_M_slides_video);o_sdp.ao_headers.push(o_hdr_M_audio,o_hdr_M_main_video,o_hdr_M_slides_video);return o_sdp}var invite_session=This.o_mgr.o_usr_data.o_session;if(invite_session.b_main_video_pc){trimMLine(tmedia_pc_type_e.MAIN);if(This.o_local_streams.o_video_stream){tsk_utils_log_info("main stream attr: sendrecv");o_hdr_M_main_video.set_a_holdresume_attr("recvonly","sendrecv")}else{tsk_utils_log_info("main stream sttr: recvonly");o_hdr_M_main_video.set_a_holdresume_attr("sendrecv","recvonly")}o_sdp=combineSDP(This.o_sessions.o_video_main.o_sdp_lo);tsk_utils_log_info("have main video sdp");return o_sdp}if(invite_session.b_slide_video_pc){trimMLine(tmedia_pc_type_e.SLIDES);if(This.o_local_streams.o_present_stream&&This.o_local_streams.o_present_stream.active===true){tsk_utils_log_info("slides recvonly to sendonly");o_hdr_M_slides_video.set_a_holdresume_attr("recvonly","sendonly");o_hdr_M_slides_video.set_a_holdresume_attr("sendrecv","sendonly")}else{tsk_utils_log_info("slides stream sttr: recvonly");o_hdr_M_slides_video.set_a_holdresume_attr("sendonly","recvonly");o_hdr_M_slides_video.set_a_holdresume_attr("sendrecv","recvonly")}o_sdp=combineSDP(This.o_sessions.o_video_slides.o_sdp_lo);tsk_utils_log_info("have slides vide sdp");return o_sdp}if(invite_session.b_audio_pc){if(SipMgr.sendInviteWithoutCandidate()){trimMLine()}else{trimMLine(tmedia_pc_type_e.AUDIO)}o_sdp=combineSDP(This.o_sessions.o_audio.o_sdp_lo);tsk_utils_log_info("have audio sdp");return o_sdp}}tsk_utils_log_info("no local sdp");return null};webrtcSession.prototype.__my_set_ro=function(o_sdp,b_is_offer){if(!o_sdp){tsk_utils_log_error("__my_set_ro: Invalid Argument");return-1}this.log.info("set_ro");function setRo(o_session){var sdp=tsk_other_deep_copy_obj(o_sdp);o_session.setRemoteDescription(sdp,b_is_offer)}function dealWithRo(o_session){o_session.dealtWithRo(o_sdp,b_is_offer)}if(!this.o_sessions.o_audio.o_sdp_ro){this.log.info("o_audio set_remote_description");setRo(this.o_sessions.o_audio)}else{dealWithRo(this.o_sessions.o_audio)}if(!this.o_sessions.o_video_main.o_sdp_ro){this.log.info("o_video_main set_remote_description");setRo(this.o_sessions.o_video_main)}else{dealWithRo(this.o_sessions.o_video_main)}if(!this.o_sessions.o_video_slides.o_sdp_ro){this.log.info("o_video_slides set_remote_description");setRo(this.o_sessions.o_video_slides)}else{dealWithRo(this.o_sessions.o_video_slides)}return 0};webrtcSession.prototype.getLoSuccess=function(){if(this.o_mgr){if(!this.o_sessions.o_video_main.b_sdp_lo_pending&&!this.o_sessions.o_audio.b_sdp_lo_pending&&!this.o_sessions.o_video_slides.b_sdp_lo_pending){tsk_utils_log_info("__MyOnIceGatheringCompleted be ready to send INVITE or 200OK( PC: "+this.e_role.s_name+" )");this.o_mgr.callback(tmedia_session_events_e.GET_LO_SUCCESS,this.e_role)}else{tsk_utils_log_info("__MyOnIceGatheringCompleted not ready( PC: "+this.e_role.s_name+" )")}}};webrtcSession.prototype.iceRestartSuccess=function(){if(this.o_mgr){if(!this.o_sessions.o_video_main.ice.b_ice_failed&&!this.o_sessions.o_audio.ice.b_ice_failed&&!this.o_sessions.o_video_slides.ice.b_ice_failed){this.b_ICE_has_failed=false}tsk_utils_log_info("iceRestartSuccess alter web");this.o_mgr.callback(tmedia_session_events_e.ICE_RESTART,this.e_role.s_name)}};webrtcSession.prototype.__start=function(){return 0};webrtcSession.prototype.__acked=function(){return 0};webrtcSession.prototype.clearRTCSessionInstance=function(){tsk_utils_log_info("clear WebRTC session instance .");if(this.o_sessions.o_audio){this.o_sessions.o_audio=null}if(this.o_sessions.o_video_main){this.o_sessions.o_video_main=null}if(this.o_sessions.o_video_slides){this.o_sessions.o_video_slides=null}};webrtcSession.prototype.cleanSession=function(data){if(!data){tsk_utils_log_warn("cleanSession: Invalid arguments");return}tsk_utils_log_info("cleanSession");if(data.b_stop){if(data.o_session.o_pc){data.o_session.o_pc.close();data.o_session.o_pc=null}data.o_session.b_sdp_lo_pending=false;data.o_session.o_sdp_lo=null}else{if(!data.b_retain_lo){data.o_session.b_sdp_lo_pending=false;data.o_session.o_sdp_lo=null}}data.o_session.b_sdp_ro_pending=false;data.o_session.o_sdp_ro=null};webrtcSession.prototype.__my_stop=function(o_session){tsk_utils_log_info("PeerConnection type "+o_session.e_role.s_name+" __my_stop()");this.cleanSession({b_stop:true,o_session:o_session});return 0};webrtcSession.prototype.__my_have_stream=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_local_streams.o_audio_stream;case tmedia_pc_type_e.MAIN:return this.o_local_streams.o_video_stream;case tmedia_pc_type_e.SLIDES:return this.o_local_streams.o_present_stream;default:break}return null};webrtcSession.prototype.webrtcJsepError=function(data){if(!data||!data.This){tsk_utils_log_info("webrtcJsepError: Invalid Argument")}tsk_utils_log_info("webrtcJsepError");data.This.o_mgr.callback(data.o_event?data.o_event:tmedia_session_events_e.GET_LO_FAILED,this.e_type,data.s_error?data.s_error:null);return};webrtcSession.prototype.actionResult=function(data){if(!data||!data.o_action){tsk_utils_log_info("actionResult: invalid arguments");return}tsk_utils_log_info("actionResult type : "+data.o_action.s_name);this.o_mgr.callback(tmedia_session_events_e.ACTION_RESULT,this.e_type,{o_action:data.o_action});return};webrtcSession.prototype.sessionJsep=function(data){var This=this;function onState(o_event){if(data.onState){data.onState(o_event)}else{tsk_utils_log_info("user don not listen the onState event")}}function createOfferSuccess(o_offer){tsk_utils_log_info("sessionJsep: createOfferSuccess");if(data.o_session.o_pc){var details=adapter.browserDetails;var sdpArray=o_offer.sdp.split("a=ssrc-group:FID");if(details.browser==="safari"&&(details.UIVersion==="11.0.2"||details.UIVersion==="11.1.2")&&sdpArray.length>=3){o_offer.sdp=sdpArray[0]+"a=ssrc-group:FID"+sdpArray[sdpArray.length-1]}}onState({o_state:jsep_states_e.CREATEOFFER,o_sdp:o_offer.sdp});if(data.o_session.o_pc){data.o_session.o_pc.setLocalDescription(o_offer,setLoaclDescriptionSuccess,setLocalDescriptionFailed)}}function createOfferFailed(s_error){tsk_utils_log_error("sessionJsep createOfferFailed: \n"+s_error);onState({o_state:jsep_states_e.FAILED})}function setLoaclDescriptionSuccess(){tsk_utils_log_info("sessionJsep: setLoaclDescriptionSuccess");onState({o_state:jsep_states_e.SETLOCAL});var rtcSDP=data.o_session.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=data.o_session.o_sdp_ro.toString();if(data.o_session.o_pc){ro_sdp=bitrateControl(ro_sdp,This.e_role.s_name);data.o_session.o_pc.setRemoteDescription(new rtcSDP({type:"answer",sdp:ro_sdp}),setRemoteDescriptionSuccess,setRemoteDescriptionFailed)}}function setLocalDescriptionFailed(s_error){tsk_utils_log_error("sessionJsep setLocalDescriptionFailed: \n"+s_error);onState({o_state:jsep_states_e.FAILED})}function setRemoteDescriptionSuccess(This){tsk_utils_log_info("sessionJsep: setRemoteDescriptionSuccess");onState({o_state:jsep_states_e.SETREMOTE})}function setRemoteDescriptionFailed(error){tsk_utils_log_error("sessionJsep setRemoteDescriptionFailed: \n"+error);onState({o_state:jsep_states_e.FAILED})}tsk_utils_log_info("sessionJsep createOffer");data.o_session.o_pc.createOffer(createOfferSuccess,createOfferFailed,{offerToReceiveAudio:data.b_audio?true:false,offerToReceiveVideo:data.b_audio?false:true})};webrtcSession.prototype.noNegotiation=function(data){if(!data||!data.o_session.o_sdp_lo){tsk_utils_log_info("noNegotiation: Invalid Argument");return}var o_hdr_O;if(o_hdr_O=data.o_session.o_sdp_lo.get_header(tsdp_header_type_e.O)){o_hdr_O.i_sess_version=this.attr.i_sdp_lo_version;this.attr.i_sdp_lo_version++}};webrtcSession.prototype.getModifiedMid=function(type){var mid_value;if(type==="audio"){mid_value=window.audio_mid.s_modified_mid?window.audio_mid.s_modified_mid:0}else if(type==="main"){mid_value=window.main_mid.s_modified_mid?window.main_mid.s_modified_mid:1}else if(type==="slides"){mid_value=window.slides_mid.s_modified_mid?window.slides_mid.s_modified_mid:2}return mid_value};webrtcSession.prototype.sendInfoForTrickleIce=function(data){if(!data){tsk_utils_log_info("noNegotiation: Invalid Argument");return}this.o_mgr.callback(tmedia_session_events_e.SEND_INFO_FOR_TRICKLE_ICE,this.e_role,data)};webrtcSession.prototype.my_get_rtp_info=function(){if(adapter.browserDetails.browser=="edge"){return}var This=this;var selector_remote=null;var selector_local=null;var o_rtpInfo=This.o_rtpInfo;function logError(error){tsk_utils_log_error(error.name+": "+error.message)}var s_array=[This.o_sessions.o_audio,This.o_sessions.o_video_main,This.o_sessions.o_video_slides];if(adapter.browserDetails.isWebRTCPluginInstalled===false){for(var j=0;j<s_array.length;j++){(function(i){selector_remote=null;selector_local=null;if(s_array[i]!=null&&s_array[i].o_pc!=null){if(i!=0){if(s_array[i].o_pc.getLocalStreams()[0]){var streams=s_array[i].o_pc.getLocalStreams();var stream=streams[streams.length-1];selector_local=stream.getVideoTracks()[0]}else if(s_array[i].o_pc.getSenders&&s_array[i].o_pc.getSenders()[0]&&s_array[i].o_pc.getSenders()[0].track!=null){selector_local=s_array[i].o_pc.getSenders()[0].track}if(s_array[i].o_pc.getRemoteStreams()[0]){selector_remote=s_array[i].o_pc.getRemoteStreams()[0].getVideoTracks()[0]}else if(s_array[i].o_pc.getReceivers&&s_array[i].o_pc.getReceivers()[0]&&s_array[i].o_pc.getReceivers()[0].track!=null){selector_remote=s_array[i].o_pc.getReceivers()[0].track}}else{if(s_array[i].o_pc.getLocalStreams()[0]){if(adapter.browserDetails.browser!="firefox"){selector_local=s_array[i].o_pc.getLocalStreams()[0].getAudioTracks()[0]}else{if(s_array[i].o_local_stream&&s_array[i].o_local_stream.getAudioTracks()){selector_local=s_array[i].o_local_stream.getAudioTracks()[0]}}}else if(s_array[i].o_pc.getSenders&&s_array[i].o_pc.getSenders()[0]&&s_array[i].o_pc.getSenders()[0].track!=null){selector_local=s_array[i].o_pc.getSenders()[0].track}if(s_array[i].o_pc.getRemoteStreams()[0]){selector_remote=s_array[i].o_pc.getRemoteStreams()[0].getAudioTracks()[0]}else if(s_array[i].o_pc.getReceivers&&s_array[i].o_pc.getReceivers()[0]&&s_array[i].o_pc.getReceivers()[0].track!=null){selector_remote=s_array[i].o_pc.getReceivers()[0].track}}if(selector_local){s_array[i].getStats(s_array[i].o_pc,null,function(report){s_array[i].processStats(report,s_array[i],i==2)},logError)}if(selector_remote||adapter.browserDetails.browser==="firefox"&&!common_judgment_e.isIamSharingPresent&&firefoxRemotePresentStream&&i==2){s_array[i].getStats(s_array[i].o_pc,null,function(report){s_array[i].processStats(report,s_array[i],i==2)},logError)}}})(j)}}else{if(This.o_sessions.o_audio.o_pc!=null){var localStreams=This.o_sessions.o_audio.o_pc.getLocalStreams();if(localStreams[0]){if(This.o_sessions.o_audio.o_pc.removeArrayNPObjectProperty){This.o_sessions.o_audio.o_pc.removeArrayNPObjectProperty(localStreams)}localStreams=null;This.o_sessions.o_audio.getStats(This.o_sessions.o_audio.o_pc,null).then(function(report){This.o_sessions.o_audio.processStats(report,This.o_sessions.o_audio)}).catch(logError)}var remoteStreams=This.o_sessions.o_audio.o_pc.getRemoteStreams();if(remoteStreams[0]){if(This.o_sessions.o_audio.o_pc.removeArrayNPObjectProperty){This.o_sessions.o_audio.o_pc.removeArrayNPObjectProperty(remoteStreams)}remoteStreams=null;This.o_sessions.o_audio.getStats(This.o_sessions.o_audio.o_pc,null).then(function(report){This.o_sessions.o_audio.processStats(report,This.o_sessions.o_audio)}).catch(logError)}}if(This.o_sessions.o_video_main.o_pc!=null){var localStreams=This.o_sessions.o_video_main.o_pc.getLocalStreams();if(localStreams[0]){if(This.o_sessions.o_video_main.o_pc.removeArrayNPObjectProperty){This.o_sessions.o_video_main.o_pc.removeArrayNPObjectProperty(localStreams)}localStreams=null;This.o_sessions.o_video_main.getStats(This.o_sessions.o_video_main.o_pc,null).then(function(report){This.o_sessions.o_video_main.processStats(report,This.o_sessions.o_video_main)}).catch(logError)}var remoteStreams=This.o_sessions.o_video_main.o_pc.getRemoteStreams();if(remoteStreams[0]){if(This.o_sessions.o_video_main.o_pc.removeArrayNPObjectProperty){This.o_sessions.o_video_main.o_pc.removeArrayNPObjectProperty(remoteStreams)}remoteStreams=null;This.o_sessions.o_video_main.getStats(This.o_sessions.o_video_main.o_pc,null).then(function(report){This.o_sessions.o_video_main.processStats(report,This.o_sessions.o_video_main)}).catch(logError)}}if(This.o_sessions.o_video_slides.o_pc!=null){var localStreams=This.o_sessions.o_video_slides.o_pc.getLocalStreams();if(localStreams[0]){if(This.o_sessions.o_video_slides.o_pc.removeArrayNPObjectProperty){This.o_sessions.o_video_slides.o_pc.removeArrayNPObjectProperty(localStreams)}localStreams=null;This.o_sessions.o_video_slides.getStats(This.o_video_slides.o_pc,null).then(function(report){This.o_sessions.o_video_slides.processStats(report,This.o_sessions.o_video_slides,true)}).catch(logError)}var remoteStreams=This.o_sessions.o_video_slides.o_pc.getRemoteStreams();if(remoteStreams[0]){if(This.o_sessions.o_video_slides.o_pc.removeArrayNPObjectProperty){This.o_sessions.o_video_slides.o_pc.removeArrayNPObjectProperty(remoteStreams)}remoteStreams=null;This.o_sessions.o_video_slides.getStats(This.o_sessions.o_video_slides.o_pc,null).then(function(report){This.o_sessions.o_video_slides.processStats(report,This.o_sessions.o_video_slides,true)}).catch(logError)}}}};webrtcSession.prototype.processAddStream=function(stream,callback){var This=this;var details=adapter.browserDetails;if((details.browser==="chrome"&&details.version>=72||details.browser==="opera"&&details.chromeVersion>=72||details.browser==="firefox"&&details.version>=59||details.browser==="safari"&&details.UIVersion>="12.1.1")&&This.o_pc.getTransceivers().length>0){if(!RTCRtpTransceiver.prototype.setDirection){This.o_pc.getTransceivers()[0].direction="sendonly";This.o_pc.getTransceivers()[0].direction="inactive";This.o_pc.getSenders()[0].replaceTrack(stream.getTracks()[0]).then(function(){if(callback)callback()}).catch(function(error){tsk_utils_log_error(error.name+": "+error.message)});This.o_pc.getTransceivers()[0].direction="sendrecv"}else{This.o_pc.getTransceivers()[0].setDirection("sendrecv")}tsk_utils_log_info("use replaceTrack to add stream ")}else{if(details.browser==="safari"&&(details.UIVersion==="11.0.2"||details.UIVersion==="11.1.2")&&This.o_pc.getSenders().length>0){This.o_pc.getSenders()[0].replaceTrack(stream.getTracks()[0]).then(function(){tsk_utils_log_info("use replaceTrack to add stream ");if(callback)callback()}).catch(function(error){tsk_utils_log_error(error.name+": "+error.message)})}else{tsk_utils_log_info("use addStream to add stream ");This.o_pc.addStream(stream);if(callback)callback()}}};webrtcSession.prototype.processRemoveStream=function(stream){var This=this;var details=adapter.browserDetails;if((details.browser==="chrome"&&details.version>=72||details.browser==="opera"&&details.chromeVersion>=72||details.browser==="firefox"&&details.version>=59||details.browser==="safari"&&details.UIVersion>="12.1.1")&&This.o_pc.getTransceivers().length>0){if(!RTCRtpTransceiver.prototype.setDirection){This.o_pc.getTransceivers()[0].direction="sendonly";This.o_pc.getTransceivers()[0].direction="inactive";This.o_pc.getTransceivers()[0].direction="recvonly";This.o_pc.getSenders()[0].replaceTrack(null)}else{This.o_pc.getTransceivers()[0].setDirection("recvonly")}tsk_utils_log_info("use replaceTrack to remove stream ")}else{if(details.browser==="safari"&&(details.UIVersion==="11.0.2"||details.UIVersion==="11.1.2")&&This.o_pc.getSenders().length>0){This.o_pc.getSenders()[0].track.enabled=false}else{This.o_pc.removeStream(stream)}tsk_utils_log_info("use removeStream to remove stream ")}};chromeWebrtcSession.prototype=new webrtcSession;function chromeWebrtcSession(e_role,o_mgr){webrtcSession.call(this,o_mgr);this.o_pc=null;this.e_role=e_role?e_role:tmedia_pc_type_e.NONE;this.b_cache_stream=false;this.o_sdp_jsep_lo=null;this.o_sdp_lo=null;this.b_sdp_lo_pending=false;this.o_sdp_ro=null;this.b_sdp_ro_pending=false;this.o_local_stream=null;this.o_remote_stream=null;this.o_remote_ssrc=null;this.o_local_ssrc=null;this.o_local_rtx_ssrc=null;this.o_local_cname=null;this.o_ice_timer=null;this.initApi();this.initIce();this.createPeerConnection()}chromeWebrtcSession.prototype.createPeerConnection=function(){if(!this.o_pc){var This=this;var iceservers=this.conf.ao_ice_servers;var icetransportpolicy=this.conf.ao_ice_transport_policy;var RTCpeerConnectionOptional=tsk_other_deep_copy_obj(this.conf.ao_RTCpeerConnection_optional);var config={iceTransportPolicy:icetransportpolicy};if(undefined==iceservers||null==iceservers||0==iceservers.length){tsk_utils_log_info("iceServers is null ")}if(undefined==icetransportpolicy||null==icetransportpolicy||0==icetransportpolicy.length){icetransportpolicy="all"}if(undefined==RTCpeerConnectionOptional||null==RTCpeerConnectionOptional){RTCpeerConnectionOptional={optional:[{pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false}]}}else if(RTCpeerConnectionOptional&&RTCpeerConnectionOptional.optional&&RTCpeerConnectionOptional.optional.length>0){RTCpeerConnectionOptional.optional.push({pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false})}if(iceservers){config["iceServers"]=this.conf.ao_ice_servers}if(adapter.browserDetails.browser=="chrome"&&adapter.browserDetails.version>=72||adapter.browserDetails.browser=="opera"&&adapter.browserDetails.chromeVersion>=72){config["sdpSemantics"]="unified-plan"}else{config["sdpSemantics"]="plan-b"}this.o_pc=new window.RTCPeerConnection(config,RTCpeerConnectionOptional);this.o_pc.onicecandidate=function(o_event){This.onIceCandidate(o_event,This)};this.o_pc.onnegotiationneeded=function(o_event){This.onNegotiationNeeded(o_event,This)};this.o_pc.onsignalingstatechange=function(o_event){This.onSignalingStateChange(o_event,This)};this.o_pc.oniceconnectionstatechange=function(o_event){This.onIceConnectionStateChange(o_event,This)};this.o_pc.onconnectionstatechange=function(o_event){This.onConnectionStateChange(o_event,This)};this.subscribeStreamEvents();if(!this.o_sdp_lo&&!this.b_sdp_lo_pending){this.b_sdp_lo_pending=true;if(this.b_sdp_lo_pending&&this.o_sdp_ro){this.setRemoteDescription(this.o_sdp_ro,true)}this.createLocalDescription()}}};chromeWebrtcSession.prototype.subscribeStreamEvents=function(){
var This=this;if(this.o_pc){if(adapter.browserDetails.version>=72){this.o_pc.ontrack=function(evt){tsk_utils_log_info("__on_add_track");This.o_mgr.my_set_stream_remote(evt.streams[0],This.e_role);evt.streams[0].onremovetrack=function(evt){tsk_utils_log_info("__on_remove_track");This.o_mgr.my_set_stream_remote(null,This.e_role)}}}else{this.o_pc.onaddstream=function(evt){tsk_utils_log_info("__on_add_stream");This.o_mgr.my_set_stream_remote(evt.stream,This.e_role)};this.o_pc.onremovestream=function(evt){tsk_utils_log_info("__on_remove_stream");This.o_mgr.my_set_stream_remote(null,This.e_role)}}}};chromeWebrtcSession.prototype.processSSRC=function(sdp){if(this.o_local_stream){tsk_utils_log_info("addStream( PC: "+this.e_role.s_name+" )");this.o_pc.onnegotiationneeded=null;this.processAddStream(this.o_local_stream);sdp=sdp.replace(/a=recvonly/g,"a=sendrecv");if(this.o_local_stream){var videoTracks=this.o_local_stream.getVideoTracks();if(videoTracks.length>0){tsk_utils_log_info("Using Video device: "+videoTracks[0].id)}else{tsk_utils_log_warn("WARNING: No video device!");return null}}sdp=sdp.replace(/a=ssrc-group:FID .+\r\n/g,"");sdp=sdp.replace(/a=ssrc:.+\r\n/g,"");if(sdp.match(/rtx\/90000/)==null){tsk_utils_log_info("No RTX ~");sdp+="a=ssrc:"+this.o_local_ssrc+" cname:"+this.o_local_cname+"\r\na=ssrc:1234567 msid:"+this.o_local_stream.id+" "+videoTracks[0].id+"\r\n"}else{tsk_utils_log_info("Has RTX ~");sdp+="a=ssrc-group:FID "+this.o_local_ssrc+" "+this.o_local_rtx_ssrc+"\r\n";sdp+="a=ssrc:"+this.o_local_ssrc+" cname:"+this.o_local_cname+"\r\n";sdp+="a=ssrc:"+this.o_local_ssrc+" msid:"+this.o_local_stream.id+" "+videoTracks[0].id+"\r\n";sdp+="a=ssrc:"+this.o_local_rtx_ssrc+" cname:"+this.o_local_cname+"\r\n";sdp+="a=ssrc:"+this.o_local_rtx_ssrc+" msid:"+this.o_local_stream.id+" "+videoTracks[0].id+"\r\n"}tsk_utils_log_info("The new SSRC description: ");tsk_utils_log_info(sdp)}return sdp};chromeWebrtcSession.prototype.createLocalDescription=function(){tsk_utils_log_info("create sdp( PC: "+this.e_role.s_name+" )");var b_pausePresentationSource=this.b_pausePresentationSource&&this.e_role==tmedia_pc_type_e.SLIDES?true:false;if(this.o_local_stream&&this.o_pc.getSenders().length==0&&!b_pausePresentationSource){tsk_utils_log_info("addStream( PC: "+this.e_role.s_name+" )");this.o_pc.onnegotiationneeded=null;this.processAddStream(this.o_local_stream)}var b_answer=this.b_sdp_ro_pending&&this.o_sdp_ro;var This=this;if(b_answer){tsk_utils_log_info("createAnswer( PC: "+this.e_role.s_name+" )");this.o_pc.createAnswer(function(o_answer){This.onCreateSdpSuccess(o_answer,This)},function(s_error){This.onCreateSdpError(s_error,This)})}else{var o_media_constraints=null;if(this.e_role==tmedia_pc_type_e.AUDIO){o_media_constraints={offerToReceiveAudio:true,offerToReceiveVideo:false}}else if(this.e_role==tmedia_pc_type_e.MAIN||this.e_role==tmedia_pc_type_e.SLIDES){o_media_constraints={offerToReceiveAudio:false,offerToReceiveVideo:true}}tsk_utils_log_info("createOffer( PC: "+this.e_role.s_name+" )");this.o_pc.createOffer(function(o_offer){This.onCreateSdpSuccess(o_offer,This)},function(s_error){This.onCreateSdpError(s_error,This)},o_media_constraints)}};chromeWebrtcSession.prototype.onCreateSdpSuccess=function(o_sdp,This){tsk_utils_log_info("onCreateSdpSuccess type: "+This.e_role.s_name);if(This.o_pc){This.o_pc.setLocalDescription(o_sdp,function(o_offer){This.onSetLocalDescriptionSuccess(This)},function(s_error){This.onSetLocalDescriptionError(s_error,This)})}};chromeWebrtcSession.prototype.onCreateSdpError=function(s_error,This){tsk_utils_log_info("onCreateSdpError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){tsk_utils_log_error("error:\n"+s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};chromeWebrtcSession.prototype.onSetLocalDescriptionSuccess=function(This){tsk_utils_log_info("onSetLocalDescriptionSuccess( PC: "+This.e_role.s_name+" )");var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");tsk_utils_log_warn("trickle_ice:"+s_value);if((This.o_pc.iceGatheringState||This.o_pc.iceState)==="complete"||s_value=="true"){tsk_utils_log_info("onSetLocalDescriptionSuccess send invite( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}};chromeWebrtcSession.prototype.onSetLocalDescriptionError=function(s_error,This){tsk_utils_log_error("onSetLocalDescriptionError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){tsk_utils_log_error(s_error.toString());This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};chromeWebrtcSession.prototype.setRemoteDescription=function(o_sdp,b_is_offer){var This=this;var b_delay=false;This.o_sdp_ro=o_sdp;if(!This.decorateRo()){return}function setRo(){var rtcSDP=This.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=This.o_sdp_ro.toString();tsk_utils_log_info(This.e_role.s_name+", signalingState: "+This.o_pc.signalingState);if(This.o_pc.signalingState==="stable"){return}ro_sdp=bitrateControl(ro_sdp,This.e_role.s_name);This.o_pc.setRemoteDescription(new rtcSDP({type:b_is_offer?"offer":"answer",sdp:ro_sdp}),function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}var rtcSDP=This.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=This.o_sdp_ro.toString();var ro_rtcSDP=new rtcSDP({type:b_is_offer?"offer":"answer",sdp:ro_sdp});if(this.e_role!==tmedia_pc_type_e.AUDIO&&(this.s_action==="videoOn"||this.s_action==="presentOn")){b_delay=true}if(b_delay){setTimeout(setRo,1e3)}else{setRo()}};chromeWebrtcSession.prototype.onSetRemoteDescriptionSuccess=function(This){tsk_utils_log_info("onSetRemoteDescriptionSuccess(PC: "+This.e_role.s_name+")");if(This.cb_action_callback&&This.s_action){This.cb_action_callback()}if(This.o_pc.signalingState&&This.o_pc.signalingState==="stable"&&This.s_action==="handleOffer"){This.log.info("handleOfferResolut success");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"handleOffer",o_dialog:This.o_mgr.o_usr_data})}};chromeWebrtcSession.prototype.onSetRemoteDescriptionError=function(s_error,This){if(This.o_pc.signalingState&&This.o_pc.signalingState==="stable"&&This.s_action==="handleOffer"){tsk_utils_log_info("can not SetRemoteDescription in state: ",This.o_pc.signalingState);return}tsk_utils_log_error("onSetRemoteDescriptionError( PC: "+This.e_role.s_name+" )");tsk_utils_log_error(s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)};chromeWebrtcSession.prototype.onIceCandidate=function(o_event,This){tsk_utils_log_info("onIceCandidate type: "+this.e_role.s_name);var host_ip;var iceState=This.o_pc.iceGatheringState||This.o_pc.iceConnectionState;if(o_event.candidate&&tsk_string_candidate){if(host_ip=tsk_string_candidate(o_event.candidate.candidate,"host")){tsk_utils_log_info("onIceCandidate  host type: "+host_ip)}}tsk_utils_log_info("onIceCandidate: "+iceState);if(this.o_ice_timer==null&&iceState=="gathering"){this.o_ice_timer=setTimeout(function(){This.onIceGatheringCompleted()},15e3)}if(iceState=="completed"||iceState==="complete"||o_event&&!o_event.candidate){tsk_utils_log_info("onIceCandidate: ICE GATHERING COMPLETED( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}else if(iceState=="failed"){tsk_utils_log_error("onIceCandidate: ice state is 'failed'");This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role);return}var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");if(s_value=="true"){if(o_event.candidate&&o_event.candidate.candidate.indexOf("9 typ host tcp")>0){return}This.sendInfoForTrickleIce({candidate:o_event.candidate?o_event.candidate.candidate:null,type:This.e_role.s_name})}};chromeWebrtcSession.prototype.onIceGatheringCompleted=function(){if(!this.o_pc){tsk_utils_log_error("onIceGatheringCompleted: o_pc is null");this.webrtcJsepError({This:this});return}if(this.o_ice_timer){clearTimeout(this.o_ice_timer);this.o_ice_timer=null}function addCandidate(This){var as_result=null,as_candidates=null,i_port=null,s_addr=null;var o_hdr_M=This.o_sdp_lo.get_header(tsdp_header_type_e.M);var reg=/a=candidate:[0-9. a-z\-]*/g;as_result=This.o_pc.localDescription.sdp.match(reg);if(as_result){as_candidates=as_result;o_hdr_M.add_candidates(as_candidates)}reg=/m=(audio|video) (\d+) [^#]*/;as_result=This.o_pc.localDescription.sdp.match(reg);if(as_result){i_port=as_result[as_result.length-1];o_hdr_M.i_port=parseInt(i_port,10)}reg=/c=IN IP4 ([0-9.]+)[^#]*/;as_result=This.o_pc.localDescription.sdp.match(reg);if(as_result){s_addr=as_result[as_result.length-1];o_hdr_M.o_hdr_C.s_addr=s_addr}}if(!this.b_sdp_lo_pending){if(SipMgr.sendInviteWithoutCandidate()&&this.o_pc.localDescription){var This=this;tsk_utils_log_warn("addCandidate(trickle ice)");addCandidate(This)}tsk_utils_log_warn("onIceGatheringCompleted but no local sdp request is pending");return}tsk_utils_log_info("onIceGatheringCompleted set b_sdp_lo_pending to false( PC: "+this.e_role.s_name+" )");this.b_sdp_lo_pending=false;var localDescription=this.o_pc.localDescription;if(localDescription){if(!this.o_sdp_lo){this.o_sdp_jsep_lo=localDescription;this.o_sdp_lo=tsdp_message.prototype.Parse(this.o_sdp_jsep_lo.sdp)}if(this.decorateLo()){if(!this.b_sdp_lo_pending){tsk_utils_log_info("onIceGatheringCompleted( PC: "+this.e_role.s_name+" )");this.getLoSuccess({This:this})}}else{tsk_utils_log_error("localDescription have no candidates( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}}else{tsk_utils_log_error("localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};chromeWebrtcSession.prototype.onSignalingStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_info("PeerConnection is null: unexpected");return}tsk_utils_log_info("onSignalingStateChange type: "+This.e_role.s_name+", signalingState: "+This.o_pc.signalingState)};chromeWebrtcSession.prototype.onConnectionStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_error("PeerConnection is null: unexpected");return}if(This.o_pc.connectionState==="failed"&&(adapter.browserDetails.browser==="chrome"&&adapter.browserDetails.version>=76||adapter.browserDetails.browser==="opera"&&adapter.browserDetails.chromeVersion>=76)){This.iceConnectFailed()}tsk_utils_log_info("onConnectionStateChange type: "+This.e_role.s_name+", connectionState: "+This.o_pc.connectionState)};chromeWebrtcSession.prototype.onNegotiationNeeded=function(o_event,This){tsk_utils_log_info("onNegotiationNeeded type: "+This.e_role.s_name)};chromeWebrtcSession.prototype.decorateLo=function(){tsk_utils_log_info("decorateLo type: "+this.e_role.s_name);if(this.o_sdp_lo){var o_hdr_M=this.o_sdp_lo.get_header(tsdp_header_type_e.M);switch(this.e_role){case tmedia_pc_type_e.AUDIO:break;case tmedia_pc_type_e.MAIN:if(adapter.browserDetails.browser==="opera"){o_hdr_M.remove_codecs("H264")}break;case tmedia_pc_type_e.SLIDES:if(adapter.browserDetails.browser==="chrome"){var version=parseInt(adapter.browserDetails.version,10);if(version<=54){var pt=o_hdr_M.have_encoder("H264");o_hdr_M.move_encoder(pt)}}else if(adapter.browserDetails.browser==="opera"){o_hdr_M.remove_codecs("H264")}break;default:tsk_utils_log_warn("commonDecorateLo: Unknown type");break}}return this.commonDecorateLo(true,this)};chromeWebrtcSession.prototype.decorateRo=function(){tsk_utils_log_info("decorateRo type: "+this.e_role.s_name);var This=this;this.commonDecorateRo(false,this);function refreshMainVideo(){if(This.b_main_stream_resolution_change&&This.o_sessions.o_video_main.o_pc.getSenders().length>0){tsk_utils_log_warn("need negotiate main video media");This.o_sessions.o_video_main.negotiateMainVideoResolution()}}switch(this.e_role){case tmedia_pc_type_e.AUDIO:refreshMainVideo();break;case tmedia_pc_type_e.MAIN:if(this.s_action==="adjustVideoResolution"||this.s_action==="doIceRestart"){refreshMainVideo()}break;case tmedia_pc_type_e.SLIDES:refreshMainVideo();break;default:tsk_utils_log_warn("decorateRo: Unknown type");break}return error_status_e.err_status_ok};chromeWebrtcSession.prototype.getContentForTrickleIce=function(s_candidates,b_gathering){function getContent(sdp){function generateContent(result){if(!result){return}var s_content;for(var i=0;i<result.length;i++){if(s_content){s_content+=result[i]}else{s_content=result[i]}}return s_content}var result;var s_content="m=audio 9 RTP/AVP 0"+"\r\n"+"a=mid:"+This.getModifiedMid(This.e_role.s_name)+"\r\n";var regs=[/a=ice-ufrag:[\w\/\+\-]+\r\n/,/a=ice-pwd:[\w\/\+\-]+\r\n/];for(var i=0;i<regs.length;i++){result=sdp.match(regs[i]);if(s_content){s_content+=generateContent(result)}else{s_content=generateContent(result)}}if(s_candidates&&s_candidates.length>0){for(var i=0;i<s_candidates.length;i++){s_content+=s_candidates[i]}}if(b_gathering){s_content+="a=end-of-candidates\r\n"}return s_content}tsk_utils_log_warn("getContentForTrickleIce chrome/opera("+this.e_role.s_name+")");var This=this;var localDescription=this.o_pc.localDescription;if(localDescription){return getContent(localDescription.sdp)}else{tsk_utils_log_error("getContentForTrickleIce: localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};chromeWebrtcSession.prototype.dealtWithRo=function(o_sdp,b_is_offer){if(this.s_action=="videoOff"&&this.cb_action_callback){this.o_sdp_ro=tsk_other_deep_copy_obj(o_sdp);this.decorateRo();this.cb_action_callback()}};chromeWebrtcSession.prototype.initApi=function(){this.s_action=null;this.s_holdresume_attr_ro=null;this.o_resolution_up_Actual=null;this.o_resolution_up_sdp=null;this.o_framerate_up_sdp=0;this.o_sdp_ro_bak=null;this.o_video_constraints=null;this.cb_action_callback=null;this.b_pausePresentationSource=false};chromeWebrtcSession.prototype.audioRefresh=function(){tsk_utils_log_info("chrome/opera audio refresh");this.s_action="audioRefresh";this.cb_action_callback=audioRefreshResult;var This=this;function audioRefreshResult(){tsk_utils_log_info("audioRefresh succeed");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"audioRefresh",o_dialog:This.o_mgr.o_usr_data})}function audioRefreshAddStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("audioRefresh add stream");if(This.o_pc.getSenders().length>0){This.o_local_stream=This.o_local_streams.o_audio_stream;if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("audioRefreshAddStreamOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}}}function audioRefreshRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("audioRefresh remove stream");This.o_pc.onnegotiationneeded=audioRefreshAddStreamOnNegotiationNeeded;This.processAddStream(This.o_local_streams.o_audio_stream)}if(!this.o_local_streams.o_audio_stream){tsk_utils_log_info("audioRefresh: no stream");return}this.cleanSession({b_stop:false,b_retain_lo:false,o_session:This});this.o_mgr.my_set_stream_local(this.o_local_streams.o_audio_stream,this.e_role);if(this.o_pc.getSenders().length>0){this.o_pc.onnegotiationneeded=null;this.processRemoveStream(this.o_local_stream);audioRefreshRemoveStreamOnNegotiationNeeded()}else{this.o_pc.onnegotiationneeded=null;this.processAddStream(this.o_local_streams.o_audio_stream);audioRefreshAddStreamOnNegotiationNeeded()}return null};chromeWebrtcSession.prototype.videoOn=function(){tsk_utils_log_info("chrome/opera video on");var This=this;function handleMainStream(){function processSSRC(sdp){if(This.o_local_stream){tsk_utils_log_info("processSSRC addStream");This.o_pc.onnegotiationneeded=null;This.processAddStream(This.o_local_stream);sdp=sdp.replace(/a=recvonly/g,"a=sendrecv");if(This.o_local_stream){var videoTracks=This.o_local_stream.getVideoTracks();if(videoTracks.length>0){tsk_utils_log_info("Using Video device: "+videoTracks[0].id)}else{tsk_utils_log_warn("WARNING: No video device!");return null}}sdp=sdp.replace(/a=ssrc-group:FID .+\r\n/g,"");sdp=sdp.replace(/a=ssrc:.+\r\n/g,"");if(sdp.match(/rtx\/90000/)==null){tsk_utils_log_info("No RTX ~");sdp+="a=ssrc:"+This.o_local_ssrc+" cname:"+This.o_local_cname+"\r\na=ssrc:"+This.o_local_ssrc+" msid:"+This.o_local_stream.id+" "+videoTracks[0].id+"\r\n"}else{tsk_utils_log_info("Has RTX ~");sdp+="a=ssrc-group:FID "+This.o_local_ssrc+" "+This.o_local_rtx_ssrc+"\r\n";sdp+="a=ssrc:"+This.o_local_ssrc+" cname:"+This.o_local_cname+"\r\n";sdp+="a=ssrc:"+This.o_local_ssrc+" msid:"+This.o_local_stream.id+" "+videoTracks[0].id+"\r\n";sdp+="a=ssrc:"+This.o_local_rtx_ssrc+" cname:"+This.o_local_cname+"\r\n";sdp+="a=ssrc:"+This.o_local_rtx_ssrc+" msid:"+This.o_local_stream.id+" "+videoTracks[0].id+"\r\n"}tsk_utils_log_info("The new SSRC description: \n");tsk_utils_log_info(sdp)}return sdp}function videoOnCompleted(){tsk_utils_log_info("video on completed");common_judgment_e.isCameraSharing=true;This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_ON});SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data});This.s_action=null;This.cb_action_callback=null;return}function jsep(o_offer,This){if(!This){tsk_utils_log_warn("jsep: cannot found peerconnection")}function setLoaclDescriptionSuccess(This,o_info){tsk_utils_log_info("jsep: setLoaclDescriptionSuccess");var rtcSDP=This.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=This.o_sdp_ro.toString();if(This.o_pc){ro_sdp=bitrateControl(ro_sdp,This.e_role.s_name);This.o_pc.setRemoteDescription(new rtcSDP({type:"answer",sdp:ro_sdp}),function(){videoOnCompleted()},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}}if(This.o_pc){This.o_pc.setLocalDescription(o_offer,function(){setLoaclDescriptionSuccess(This)},function(s_error){This.onSetLocalDescriptionError(s_error,This)})}return 0}function getStream(data){if(!data.o_stream&&data.s_error&&data.s_error==="camear out"){tsk_utils_log_info("camera out , video on failed");This.actionResult({o_action:action_type_e.FAILED_TO_VIDEO_ON});SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data});This.s_action=null;This.cb_action_callback=null;handleVideoOnFailed();return}var o_stream=data.o_stream;tsk_utils_log_info("getStreamSuccess, stream id: "+o_stream.id);This.o_pc.onnegotiationneeded=null;This.o_local_stream=o_stream;This.o_local_streams.o_video_stream=o_stream;This.o_mgr.my_set_stream_local(o_stream,This.e_role);This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);This.o_pc.createOffer(function(o_offer){o_offer.sdp=processSSRC(o_offer.sdp);jsep(o_offer,This)},function(s_error){This.onCreateSdpError(s_error,This)},{offerToReceiveAudio:false,offerToReceiveVideo:true});return}function removeStreamOnnegotiationneeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("removeStreamOnnegotiationneeded");SipMgr.closeStream(This.o_local_streams.o_video_stream);tsk_utils_log_info("newStream");This.getNewStream({callback:getStream,This:This})}function videoOnSuccessApplyNewConstraints(){tsk_utils_log_info("videoOn Success ApplyNewConstraints");var localVideoTrack=This.o_local_stream.getVideoTracks()[0];var hdr_M_video_ro=This.o_sdp_ro.get_header_m_by_name("video");var resolution=hdr_M_video_ro.get_resolution();var maxResolution=getMaxResolution(resolution);var constraints={frameRate:{max:This.o_framerate_up_sdp||30,ideal:This.o_framerate_up_sdp||30},aspectRatio:{min:1.777,max:1.778},width:{min:0,ideal:maxResolution.width,max:maxResolution.width},height:{min:0,ideal:maxResolution.height,max:maxResolution.height}};localVideoTrack.applyConstraints(constraints).then(function(){tsk_utils_log_info("applyConstraints succeed",JSON.stringify(constraints,null,"    "));videoOnCompleted()}).catch(function(e){This.log.warn("fail to applyConstraints : "+JSON.stringify(constraints,null,"    ")+", the reason is:"+JSON.stringify(e,null,"    ")+", and retrying new constraints.r");constraints.frameRate.max=This.o_framerate_up_sdp*2;tsk_utils_log_info("set max frameRate to "+constraints.frameRate.max);localVideoTrack.applyConstraints(constraints).then(function(){tsk_utils_log_info("applyConstraints succeed",JSON.stringify(constraints,null,"    "));videoOnCompleted()}).catch(function(){tsk_utils_log_error("video on failed, applyConstraints Error is: "+JSON.stringify(e));This.o_pc.onnegotiationneeded=videoOnRemoveStreamOnNegotiationNeeded;This.processRemoveStream(This.o_local_stream)})})}tsk_utils_log_info("handleMainStream o_resolution_up_sdp: "+This.o_resolution_up_sdp.height);if(This.o_resolution_up_sdp.height===360&&This.o_pc.getSenders().length>0){tsk_utils_log_info("handleMainStream: The resolution is just right, video on completed");This.o_resolution_up_Actual=360;This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_ON});SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data});This.s_action=null;This.cb_action_callback=null;common_judgment_e.isCameraSharing=true;return}else{if(This.o_local_stream&&This.o_local_stream.active&&(adapter.browserDetails.browser==="chrome"&&adapter.browserDetails.version>=64||adapter.browserDetails.browser==="opera"&&adapter.browserDetails.chromeVersion>=64)){videoOnSuccessApplyNewConstraints()}else{This.o_pc.onnegotiationneeded=removeStreamOnnegotiationneeded;This.processRemoveStream(This.o_local_stream)}}}function videoOnOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("videoOnOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("videoOnOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function handleVideoOnFailed(){common_judgment_e.isCameraSharing=false;tsk_utils_log_info("handle video on failed");var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");if(o_hdr_M.find_a("sendrecv")){tsk_utils_log_info("video on failed, send re-invite to video off");window.sipWebRTCSdk.sipVideoOff({cb:function(data){if(data&&data.codeType===999){tsk_utils_log_info("video of success")}else{tsk_utils_log_info("video of failed: "+data)}}})}}function videoOnRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("video on failed, and remove stream");handleVideoOnFailed();var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");o_hdr_M.set_a_holdresume_attr("sendrecv","recvonly");This.actionResult({o_action:action_type_e.FAILED_TO_VIDEO_ON});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data})}function videoOnResult(){if(This.s_holdresume_attr_ro==="sendrecv"&&This.o_sessions.o_video_main.o_pc.getSenders()&&This.o_sessions.o_video_main.o_pc.getSenders()[0]&&This.o_sessions.o_video_main.o_pc.getSenders()[0].track!=null){tsk_utils_log_info("video On succeed");handleMainStream()}else{tsk_utils_log_info("video on failed");This.o_pc.onnegotiationneeded=videoOnRemoveStreamOnNegotiationNeeded;This.processRemoveStream(This.o_local_stream)}}if(this.o_local_streams.o_video_stream){this.o_pc.onnegotiationneeded=videoOnOnNegotiationNeeded;this.o_local_stream=this.o_local_streams.o_video_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.MAIN);this.processAddStream(this.o_local_streams.o_video_stream)}this.s_action="videoOn";this.cb_action_callback=videoOnResult;this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});return null};chromeWebrtcSession.prototype.videoOff=function(){var This=this;tsk_utils_log_info("chrome/opera video off");function videoOffOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("videoOffOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("videoOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function videoOffResult(){tsk_utils_log_info("Video off succeed");common_judgment_e.isCameraSharing=false;This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_OFF});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOff",o_dialog:This.o_mgr.o_usr_data})}if(this.o_local_stream&&this.o_pc.getSenders().length>0){this.o_pc.onnegotiationneeded=null;this.processRemoveStream(this.o_local_stream);this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});videoOffOnNegotiationNeeded()}else{tsk_utils_log_info("It don not video on now, just return");this.noNegotiation({o_session:this})}this.o_local_stream=null;this.s_action="videoOff";this.cb_action_callback=videoOffResult;return};chromeWebrtcSession.prototype.adjustVideoResolution=function(){var This=this;tsk_utils_log_info("chrome/opera adjust video resolution");function adjustVideoResolutionResult(){tsk_utils_log_info("adjust video resolution succeed");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}if(this.attr.o_codec){this.s_action="adjustVideoResolution";this.cb_action_callback=adjustVideoResolutionResult;this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("videoOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}}else{tsk_utils_log_info("adjustVideoResolution: no codec");SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}return null};chromeWebrtcSession.prototype.presentOn=function(){var This=this;tsk_utils_log_info("chrome/opera present on");function presentOnOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("presentOnOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("presentOnOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function presentOnRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("present on failed, and remove stream");var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");o_hdr_M.set_a_holdresume_attr("sendonly","recvonly");This.actionResult({o_action:action_type_e.FAILED_TO_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"presentOn",o_dialog:This.o_mgr.o_usr_data})}function presentOnResult(){if(This.s_holdresume_attr_ro==="recvonly"){tsk_utils_log_info("present On succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"presentOn",o_dialog:This.o_mgr.o_usr_data})}else{tsk_utils_log_info("present on failed");This.o_pc.onnegotiationneeded=presentOnRemoveStreamOnNegotiationNeeded;This.processRemoveStream(This.o_local_stream)}}if(this.o_local_streams.o_present_stream){this.o_pc.onnegotiationneeded=presentOnOnNegotiationNeeded;this.o_local_stream=this.o_local_streams.o_present_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.SLIDES);this.processAddStream(this.o_local_streams.o_present_stream)}this.s_action="presentOn";this.cb_action_callback=presentOnResult;this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});return null};chromeWebrtcSession.prototype.presentOff=function(){var This=this;var timer;tsk_utils_log_info("chrome/opera present off");function presentOffOnNegotiationNeeded(o_event){if(timer){clearTimeout(timer);timer=null}This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("presentOffOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("presentOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function presentOffResult(){tsk_utils_log_info("present Off succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_CLOSE_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;This.b_pausePresentationSource=false;SipMgr.removeInviteAction({func_name:"presentOff",o_dialog:This.o_mgr.o_usr_data})}this.s_action="presentOff";this.cb_action_callback=presentOffResult;this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});if(this.o_local_stream&&this.o_pc.getSenders().length>0){this.o_pc.onnegotiationneeded=presentOffOnNegotiationNeeded;this.processRemoveStream(this.o_local_stream);SipMgr.closeStream(this.o_local_stream);timer=setTimeout(presentOffOnNegotiationNeeded,2e3);this.o_local_stream=null}else{tsk_utils_log_info("presentOff: no local stream");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("presentOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}return null};chromeWebrtcSession.prototype.switchPresentationSource=function(){var This=this;tsk_utils_log_info("chrome/opera switch presentation source");function switchPresentationSourceAddStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("switchPresentationSource add stream");if(This.o_pc.getSenders().length>0){This.o_local_stream=This.o_local_streams.o_present_stream;if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("switchPresentationSourceAddStreamOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}}}function switchPresentationSourceRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("switchPresentationSource remove stream");This.o_pc.onnegotiationneeded=null;This.o_local_stream=This.o_local_streams.o_present_stream;This.o_mgr.my_set_stream_local(This.o_local_stream,tmedia_pc_type_e.SLIDES);This.processAddStream(This.o_local_streams.o_present_stream);switchPresentationSourceAddStreamOnNegotiationNeeded()}function switchPresentationSourceResult(){tsk_utils_log_info("switch presentation source succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_SWITCH_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"switchPresentationSource",o_dialog:This.o_mgr.o_usr_data})}if(this.o_local_stream){this.s_action="switchPresentationSource";this.cb_action_callback=switchPresentationSourceResult;this.o_pc.onnegotiationneeded=null;if(adapter.browserDetails.browser==="chrome"&&adapter.browserDetails.version>=72||adapter.browserDetails.browser==="opera"&&adapter.browserDetails.chromeVersion>=72){this.o_local_stream=this.o_local_streams.o_present_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.SLIDES);this.o_pc.getSenders()[0].replaceTrack(this.o_local_streams.o_present_stream.getVideoTracks()[0]);this.actionResult({o_action:action_type_e.SUCCESSED_TO_SWITCH_SCREEN_SHARE});SipMgr.removeInviteAction({func_name:"switchPresentationSource",o_dialog:this.o_mgr.o_usr_data})}else{this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});this.processRemoveStream(this.o_local_stream);switchPresentationSourceRemoveStreamOnNegotiationNeeded()}if(SipMgr.isPausePresent){SipMgr.MuteStream({b_mute:true,type:"present",stream:This.o_local_streams.o_present_stream})}}else{tsk_utils_log_info("switchPresentationSource: no local stream");SipMgr.removeInviteAction({func_name:"switchPresentationSource",o_dialog:This.o_mgr.o_usr_data})}return null};chromeWebrtcSession.prototype.toggleMutePresentation=function(b_mute){var This=this;tsk_utils_log_info("chrome/opera toggle Mute Presentation");if(This.o_local_stream&&This.o_local_stream.getVideoTracks().length>0){for(var i=0;i<This.o_local_stream.getVideoTracks().length;i++){
if(b_mute){this.b_pausePresentationSource=true;if(This.o_local_stream.getVideoTracks()[i].enabled===true){tsk_utils_log_info("MuteStream exec mute present");This.o_local_stream.getVideoTracks()[i].enabled=false}}else{this.b_pausePresentationSource=false;if(This.o_local_stream.getVideoTracks()[i].enabled===false){tsk_utils_log_info("MuteStream exec unmute present");This.o_local_stream.getVideoTracks()[i].enabled=true}}}}else{tsk_utils_log_info("toggleMutePresentation: no local stream");return}return null};chromeWebrtcSession.prototype.negotiateMainVideoResolution=function(){var This=this;tsk_utils_log_info("chrome/opera negotiateMainVideoResolution");function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("onStateChange: invalid argument");return}tsk_utils_log_info("negotiateMainVideoResolution onStateChange: "+o_event.o_state.s_name);if(o_event.o_state===jsep_states_e.SETREMOTE){This.s_action=null;if(This.cb_action_callback){This.cb_action_callback()}}}function negotiateMainVideoResolutionOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateMainVideoResolutionOnNegotiationNeeded: action jsep");This.s_action="negotiateMainVideoResolution";This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange});return}function getStream(data){var o_stream=data.o_stream;tsk_utils_log_info("negotiateMainVideoResolution getStreamSuccess, stream id: "+o_stream.id);This.o_pc.onnegotiationneeded=negotiateMainVideoResolutionOnNegotiationNeeded;This.o_local_stream=o_stream;This.o_local_streams.o_video_stream=o_stream;This.o_mgr.my_set_stream_local(o_stream,This.e_role);This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);This.processAddStream(o_stream);return}if(this.o_local_stream){this.o_pc.onnegotiationneeded=function negotiateMainVideoResolution(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateMainVideoResolution, remove old stream succeed")};this.processRemoveStream(this.o_local_stream);SipMgr.closeStream(this.o_local_stream);This.getNewStream({callback:getStream,This:This});This.s_action=null}else{tsk_utils_log_info("toggleMutePresentation: no local stream");return}return null};chromeWebrtcSession.prototype.handleOffer=function(o_sdp){tsk_utils_log_info("chrome/opera handle offer");var This=this;var o_hdr_M=o_sdp.get_header_m_by_name("video");this.attr.o_ro_codec=o_hdr_M.get_priority();var o_hdr_A_ro=o_hdr_M.find_a("sendonly");tsk_utils_log_info("common_judgment_e isCameraSharing: "+common_judgment_e.isCameraSharing);if(!common_judgment_e.isCameraSharing&&o_hdr_A_ro){tsk_utils_log_info("handleOffer: webrtc didn't open the camera");this.noNegotiation({o_session:this});return}if(send491InviteQueue&&send491InviteQueue[0]&&send491InviteQueue[0].s_action==="videoOff"&&o_hdr_M.find_a("sendrecv")){tsk_utils_log_info("handleOffer: do not handle the offer in addition for user close the camera");o_hdr_M.set_a_holdresume_attr("sendrecv","recvonly");this.noNegotiation({o_session:this});send491InviteQueue=[];return}var resolution=o_hdr_M.get_resolution();var maxResolution=getMaxResolution(resolution);tsk_utils_log_info("resolution(from current sdp): "+resolution.height);if(this.o_resolution_up_sdp){tsk_utils_log_info("resolution(from previous sdp): "+this.o_resolution_up_sdp.height)}else{tsk_utils_log_info("resolution(from previous sdp): null")}var o_invite_session=this.o_mgr.o_usr_data.o_session;o_invite_session.__my_set_pc(tmedia_pc_type_e.MAIN);if(maxResolution&&this.o_resolution_up_sdp&&maxResolution.height===this.o_resolution_up_sdp.height){tsk_utils_log_info("handleOffer: resolution is just right");this.noNegotiation({o_session:this});if(send491InviteQueue.length>0&&send491InviteQueue[0].s_action==="doIceRestart"||sendInviteQueue.length>0&&sendInviteQueue[0].s_action==="doIceRestart"){var iceRestartInterval=setInterval(function(){if(parseInt(recvInviteCseq)===parseInt(sendInvite200okCseq)){tsk_utils_log_info("ice restart interval trigger");clearInterval(iceRestartInterval);This.iceConnectFailed()}},500)}}else{tsk_utils_log_info("handleOffer: handle remote sdp");this.o_resolution_up_sdp=maxResolution;this.s_action="handleOffer";this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});this.o_sdp_ro=o_sdp;this.decorateRo();var stream=SipMgr.sipGetStream("video",true);var browser=adapter.browserDetails.browser;var version=adapter.browserDetails.version;if(stream&&stream.active===true&&(browser==="chrome"&&version>=64||browser==="opera"&&adapter.browserDetails.chromeVersion>=64)){This.applyConstrains()}else{this.getNewStream({callback:This.negotiateResolution,This:this})}var user_data={};user_data.s_action="handleOffer";user_data.resolution=maxResolution;user_data.sdp=o_sdp;sendInviteQueue.push(user_data)}};chromeWebrtcSession.prototype.applyConstrains=function(){var This=this;var localVideoTrack=This.o_local_stream.getVideoTracks()[0];var hdr_M_video_ro=This.o_sdp_ro.get_header_m_by_name("video");var resolution=hdr_M_video_ro.get_resolution();var maxResolution=getMaxResolution(resolution);var constraints={frameRate:{max:This.o_framerate_up_sdp||30,ideal:This.o_framerate_up_sdp||30},aspectRatio:{min:1.777,max:1.778},width:{min:0,ideal:maxResolution.width,max:maxResolution.width},height:{min:0,ideal:maxResolution.height,max:maxResolution.height}};function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("negotiateResolution: invalid argument");return}if(o_event.o_state===jsep_states_e.CREATEOFFER){if(o_event.o_sdp){tsk_utils_log_info("negotiateResolution: createOfferSuccess");This.o_sdp_lo=tsdp_message.prototype.Parse(o_event.o_sdp);This.decorateLo();This.getLoSuccess()}else{tsk_utils_log_info("negotiateResolution: no local sdp");This.webrtcJsepError({This:This})}}else if(o_event.o_state===jsep_states_e.SETREMOTE){tsk_utils_log_info("negotiateResolution: SetRemoteDescriptionSuccess");This.s_action=null;SipMgr.removeInviteAction({func_name:"handleOffer",o_dialog:This.o_mgr.o_usr_data})}}tsk_utils_log_warn("handle offer applyNewConstrains");localVideoTrack.applyConstraints(constraints).then(function(){tsk_utils_log_info("applyConstraints succeed",JSON.stringify(constraints,null,"    "));This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded sessionJsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}}).catch(function(error){tsk_utils_log_info("applyConstraints Error: "+JSON.stringify(error));tsk_utils_log_info("applyConstraints fail",error.name);This.webrtcJsepError({This:This})})};chromeWebrtcSession.prototype.negotiateResolution=function(data){var This=data.o_session;var o_stream=data.o_stream;tsk_utils_log_info("chrome/opera negotiate resolution");function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("negotiateResolution: invalid argument");return}if(o_event.o_state==jsep_states_e.CREATEOFFER){if(o_event.o_sdp){tsk_utils_log_info("negotiateResolution: createOfferSuccess");This.o_sdp_lo=tsdp_message.prototype.Parse(o_event.o_sdp);This.decorateLo();This.getLoSuccess()}else{tsk_utils_log_info("negotiateResolution: no local sdp");This.webrtcJsepError({This:This})}}else if(o_event.o_state==jsep_states_e.SETREMOTE){tsk_utils_log_info("negotiateResolution: SetRemoteDescriptionSuccess");This.s_action=null;SipMgr.removeInviteAction({func_name:"handleOffer",o_dialog:This.o_mgr.o_usr_data})}}function negotiateResolutionOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded sessionJsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}}var stream=This.o_local_streams.o_video_stream||This.o_local_stream;if(stream){This.o_pc.onnegotiationneeded=function negotiateResolutionRemoveStream(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateResolution, remove old stream succeed");This.o_mgr.my_set_stream_local(o_stream,This.e_role);This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);This.o_local_stream=o_stream;This.o_local_streams.o_video_stream=o_stream;negotiateResolutionOnNegotiationNeeded();This.processAddStream(This.o_local_stream)};tsk_utils_log_info("negotiateResolution, remove old stream");This.processRemoveStream(stream)}else{tsk_utils_log_info("negotiateResolution: no local stream")}};chromeWebrtcSession.prototype.initIce=function(){this.ice={};this.ice.o_failure_num=0;this.ice.b_ice_failed=false};chromeWebrtcSession.prototype.onIceConnectionStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_info("onIceConnectionStateChange: PeerConnection is null");return}if(This.o_pc.iceConnectionState){tsk_utils_log_info("onIceConnectionStateChange this type: "+This.e_role.s_name+", iceConnectionState: "+This.o_pc.iceConnectionState);var dialog=this.o_mgr.o_usr_data;switch(This.o_pc.iceConnectionState){case"connected":if(adapter.browserDetails.browser==="chrome"&&adapter.browserDetails.version<=74){break}case"completed":if(sendInviteQueue.length===0&&send491InviteQueue.length>0){for(var i=0;i<send491InviteQueue.length;i++){tsk_utils_log_info("add inviteQueue to sendInviteQueue"+send491InviteQueue[i].s_type);sendInviteQueue.push(send491InviteQueue[i])}send491InviteQueue=[]}if(sendInviteQueue.length>0&&sendInviteQueue[0].s_action=="doIceRestart"){This.iceConnectSuccessed()}var s_content=null;if(dialog.o_trickle_ice.length>0&&SipMgr.getConfFromLocalStorage("ice_lite")!="true"){for(var i=0;i<dialog.o_trickle_ice.length;i++){var length=dialog.o_trickle_ice[i].s_contents.length;if(dialog.o_trickle_ice[i].s_type==this.e_role.s_name){var b_commpleted=dialog.o_trickle_ice[i].b_commpleted;if(b_commpleted){if(dialog.o_trickle_ice[i].s_contents[length-1].indexOf("end-of-candidates")<0){dialog.o_trickle_ice[i].s_contents[length-1]+="a=end-of-candidates\r\n"}}}if(s_content){s_content+=dialog.o_trickle_ice[i].s_contents[length-1]}else{s_content=dialog.o_trickle_ice[i].s_contents[length-1]}}}if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"){send_info_for_trickle_ice(dialog,s_content)}dialog.b_ready_send_info=false;break;case"failed":This.iceConnectFailed();break;case"new":if(dialog.o_trickle_ice.length>0){for(var i=0;i<dialog.o_trickle_ice.length;i++){if(dialog.o_trickle_ice[i].s_type==This.e_role.s_name){dialog.o_trickle_ice[i].s_candidates.length=0;dialog.o_trickle_ice[i].s_contents.length=0;dialog.o_trickle_ice[i].b_commpleted=false;break}}}break;default:break}}};chromeWebrtcSession.prototype.iceConnectSuccessed=function(){tsk_utils_log_info("iceConnectSuccessed(PC: "+this.e_role.s_name+")");if(SipMgr.correctIceSession(this.e_role)){var This=this;this.ice.b_ice_failed=false;this.ice.o_failure_num=0;this.s_action=null;this.iceRestartSuccess({o_session:this});SipMgr.removeInviteAction({func_name:"iceConnectSuccessed",o_dialog:This.o_mgr.o_usr_data})}else{checkInviteQueue(1,this)}};chromeWebrtcSession.prototype.iceConnectFailed=function(b_retransmission){this.o_pc.onnegotiationneeded=null;tsk_utils_log_warn("iceConnectFailed, o_failure_num: "+this.ice.o_failure_num+"  (PC:"+this.e_role.s_name+")");if(this.ice.o_failure_num>=3){tsk_utils_log_error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}else{this.ice.b_ice_failed=true;this.handleICE()}if(this.ice.o_failure_num==0){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED_FIRST,this.e_role.s_name)}this.ice.o_failure_num++};chromeWebrtcSession.prototype.handleICE=function(){var This=this;var dialog=this.o_mgr.o_usr_data;if(!dialog){tsk_utils_log_error("handleICE: Failed find the invite dialog!");this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);return}if(!This.s_action&&This.cb_action_callback){tsk_utils_log_info("clear the residual cb_action_callback!");This.cb_action_callback=null}this.s_action="doIceRestart";tsk_utils_log_warn("now "+this.e_role.s_name+" media do ice restart!");checkInviteQueue(0,this);var user_data={};user_data.s_action="doIceRestart";if(dialog.o_trickle_ice.length>0){tsk_utils_log_warn("set b_ready_send_info to false("+This.e_role.s_name+")");dialog.b_ready_send_info=false}switch(this.e_role){case tmedia_pc_type_e.AUDIO:return dialog.o_session.audioRefresh(user_data);case tmedia_pc_type_e.MAIN:return dialog.o_session.videoRefresh(user_data);case tmedia_pc_type_e.SLIDES:return dialog.o_session.PresntRefresh(user_data);default:break}};chromeWebrtcSession.prototype.doIceRestart=function(){tsk_utils_log_info("chrome/opera doIceRestart, type: "+this.e_role.s_name);this.cleanSession({b_stop:true,o_session:this});checkInviteQueue(1,this)};chromeWebrtcSession.prototype.iceRestartInviteRetransmission=function(){tsk_utils_log_info("chrome/opera iceRestartInviteRetransmission,  type:"+this.e_role.s_name);if(this.ice.o_failure_num>=3){tsk_utils_log_error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}this.ice.o_failure_num++;this.getLoSuccess()};function checkInviteQueue(i_index,o_session){function pollingInviteQueue(s_type){for(var i=i_index;i<sendInviteQueue.length;i++){tsk_utils_log_info("checkInviteQueue s_type:"+sendInviteQueue[i].s_type);if(sendInviteQueue[i].s_type==s_type&&sendInviteQueue[i].s_action=="doIceRestart"){tsk_utils_log_warn("remove checkInviteQueue s_type:"+sendInviteQueue[i].s_type+", s_action:"+sendInviteQueue[i].s_action);if(i_index===0){SipMgr.removeInviteAction({func_name:"checkInviteQueue",o_dialog:o_session.o_mgr.o_usr_data})}else{sendInviteQueue.splice(i,1);i--}}}}switch(o_session.e_role){case tmedia_pc_type_e.AUDIO:pollingInviteQueue("audioRefresh");break;case tmedia_pc_type_e.MAIN:pollingInviteQueue("videoRefresh");break;case tmedia_pc_type_e.SLIDES:pollingInviteQueue("presentRefresh");break;default:break}return}chromeWebrtcSession.prototype.getNewStream=function(data){var This=this;tsk_utils_log_info("getNewStream");var maxResolution=getMaxResolution(This.o_resolution_up_sdp);This.o_video_constraints={audio:false,video:{frameRate:{exact:This.o_framerate_up_sdp||30},aspectRatio:{min:1.777,max:1.778},width:{max:maxResolution.width,exact:maxResolution.width},height:{max:maxResolution.height,exact:maxResolution.height}}};var deviceId=null,label=null;for(var i=videoInputDevices.length;i--;){if(videoInputDevices[i].state==="applyed"){deviceId=videoInputDevices[i].deviceId;label=videoInputDevices[i].label}}if(deviceId){This.o_video_constraints.video.deviceId={};This.o_video_constraints.video.deviceId.exact=deviceId;var os=tsk_other_detect_OS();if(os==="Mac"){if(label&&label.indexOf("Microsoft LifeCam HD-3000")>-1){This.o_video_constraints.video.frameRate.min="11";This.o_video_constraints.video.frameRate.max=This.o_framerate_up_sdp||30;if(This.o_video_constraints.video.frameRate.exact){delete This.o_video_constraints.video.frameRate.exact}}}}This.o_resolution_up_Actual=this.o_resolution_up_sdp.height;var browser=adapter.browserDetails.browser;var version=adapter.browserDetails.version;if(This.o_local_stream&&This.o_local_stream.active===true&&(browser==="chrome"&&version>=64||browser==="opera"&&adapter.browserDetails.chromeVersion>=64)){var localVideoTrack=This.o_local_stream.getVideoTracks()[0];var constraints={frameRate:{max:This.o_framerate_up_sdp||30,ideal:This.o_framerate_up_sdp||30},aspectRatio:{min:1.777,max:1.778},width:{min:0,ideal:maxResolution.width,max:maxResolution.width},height:{min:0,ideal:maxResolution.height,max:maxResolution.height}};localVideoTrack.applyConstraints(constraints).then(function(){tsk_utils_log_info("applyConstraints succeed",JSON.stringify(constraints,null,"    "));data.callback({o_stream:This.o_local_stream,o_session:This})}).catch(function(error){tsk_utils_log_info("applyConstraints Error: ",error.name);This.webrtcJsepError({error:data.s_error,This:This})})}else{this.o_video_constraints=setFacingMode(this.o_video_constraints);tsk_utils_log_info("getNewStream constraint: \n"+JSON.stringify(this.o_video_constraints,null,"    "));navigator.getUserMedia(This.o_video_constraints,function(o_stream){tsk_utils_log_info("getNewStream get stream succeed");data.callback({o_stream:o_stream,o_session:This})},function(s_error){currentCameraDetect(deviceId);setTimeout(function(){This.getUserMediaRepeatedly({s_error:s_error,o_session:This,o_contains:This.o_video_constraints,o_success_func:data.callback,o_error_func:This.webrtcJsepError,This:data.This})})})}};chromeWebrtcSession.prototype.getUserMediaRepeatedly=function(data){var maxResolution=getMaxResolution(this.o_resolution_up_sdp);function changeContains(width,height,resolution){if(data.o_contains.video.frameRate.exact){data.o_contains.video.frameRate.max=data.o_contains.video.frameRate.exact;delete data.o_contains.video.frameRate.exact}else if(data.o_contains.video.frameRate.max){if(!data.o_contains.video.frameRate.min){data.o_contains.video.frameRate.exact=data.o_contains.video.frameRate.max;delete data.o_contains.video.frameRate.max}if(width&&height){data.o_contains.video.width.max=maxResolution.width;data.o_contains.video.height.max=maxResolution.height;data.o_contains.video.width.exact=width;data.o_contains.video.height.exact=height;data.o_session.o_resolution_up_Actual=resolution||data.o_contains.video.height.exact}}}var This=this;tsk_utils_log_info("getUserMediaRepeatedly s_error: "+data.s_error.name+", o_resolution_up_Actual: "+data.o_session.o_resolution_up_Actual);if(data.o_contains&&data.o_session.o_resolution_up_Actual>=240&&(data.s_error.name==="OverconstrainedError"||data.s_error.name==="TrackStartError")){var resolution;if(data.o_contains.video.width.exact){resolution=parseInt(data.o_contains.video.width.exact,10)}else if(data.o_contains.video.width.ideal){resolution=parseInt(data.o_contains.video.width.ideal,10)}tsk_utils_log_info("getUserMediaRepeatedly resolution: "+resolution);if(resolution===1920){changeContains(1280,720)}else if(resolution===1280){changeContains(640,480,360)}else if(resolution===640){changeContains(320,240)}else if(resolution===320&&!data.o_contains.video.frameRate.max){changeContains()}else if(!data.o_contains.video.width.ideal){tsk_utils_log_info("set exact to ideal");data.o_contains.video.width.ideal=resolution;data.o_contains.video.height.ideal=parseInt(data.o_contains.video.height.exact,10);data.o_contains.video.width.max=1280;data.o_contains.video.height.max=720;delete data.o_contains.video.width.exact;delete data.o_contains.video.height.exact}else if(data.o_contains.video.width.ideal&&data.o_contains.video.aspectRatio){tsk_utils_log_info("don't set aspectRatio");data.o_contains.video.width.max=1280;data.o_contains.video.height.max=720;delete data.o_contains.video.aspectRatio}else if(!data.o_contains.video.aspectRatio){tsk_utils_log_info("cann't get stream frome the camera");data.o_error_func({error:"getStreamError",This:This});return}data.o_contains=setFacingMode(data.o_contains);tsk_utils_log_info("getUserMediaRepeatedly o_resolution_up_Actual:"+data.o_session.o_resolution_up_Actual);tsk_utils_log_info("getUserMediaRepeatedly constraint: \n"+JSON.stringify(data.o_contains,null,"    "));navigator.getUserMedia(data.o_contains,function(o_stream){tsk_utils_log_info("getUserMediaRepeatedly get stream succeed");data.o_success_func({o_stream:o_stream,o_session:data.o_session})},function(s_error){This.getUserMediaRepeatedly({s_error:s_error,o_session:This,o_contains:This.o_video_constraints,o_success_func:data.o_success_func,o_error_func:data.o_error_func})});return}else if(data.s_error.name==="NotFoundError"||data.s_error.name==="NotReadableError"){tsk_utils_log_warn("getUserMediaRepeatedly: use pull out the camera");data.o_success_func({o_stream:null,s_error:"camear out",o_session:data.o_session})}else{if(isPlugoutCurrentCamera){tsk_utils_log_warn("getUserMediaRepeatedly: camera has been pull out ... ");data.o_success_func({o_stream:null,s_error:"camera out",o_session:data.o_session});return}tsk_utils_log_info("getUserMediaRepeatedly getUserMediaError");data.o_error_func({error:data.s_error,This:This});return}};chromeWebrtcSession.prototype.getStreamFromDevice=function(data){var This=this;tsk_utils_log_info("getStreamFromDevice streamType: "+data.streamType);tsk_utils_log_info("getStreamFromDevice data: ",data);var getStreamSuccess=function(data){tsk_utils_log_info("getStreamSuccess o_stream id = "+data.stream.id);if(data.streamType==="video"){if(adapter.browserDetails.browser==="opera"&&adapter.browserDetails.version>=53){var deviceId=data.stream.getVideoTracks()[0].getCapabilities().deviceId;if(deviceId!==data.deviceId){data.deviceId=deviceId}}for(var i=videoInputDevices.length;i--;){if(videoInputDevices[i].deviceId!==data.deviceId){videoInputDevices[i].state=undefined}else{videoInputDevices[i].state="applyed"}}}data.codeType=code_type_e.ACTION_SUCCESSED;data.cb(data)};var getStreamFailed=function(data){var s_error=data.s_error;tsk_utils_log_warn("getStreamFailed: "+s_error.name);var feedback=getGumErrorCode(data.streamType,data.s_error);if(data.streamType==="video"&&!data.b_stop&&(s_error.name==="OverconstrainedError"||s_error.name==="InternalError")){data.b_first=false;data.b_stop=true;return data.This.getStreamFromDevice(data)}tsk_utils_log_info("getStreamFailed feedback: "+feedback);data.codeType=feedback;data.cb(data)};var constraint={audio:data.streamType==="audio",video:data.streamType==="video"};if(data.streamType==="audio"&&data.deviceId){constraint.audio={};constraint.audio.deviceId=data.deviceId}else if(data.streamType==="video"){constraint.video={frameRate:data.b_first?{exact:This.o_framerate_up_sdp||30}:{max:This.o_framerate_up_sdp||30},aspectRatio:{min:1.777,max:1.778},width:{min:320,ideal:640,max:640},height:data.b_first?{min:240,ideal:360,max:360}:{min:240,ideal:360,max:480}};if(data.deviceId){constraint.video.deviceId={};constraint.video.deviceId.exact=data.deviceId}constraint=setFacingMode(constraint)}tsk_utils_log_info("getStreamFromDevice constraint: \n"+JSON.stringify(constraint,null,"    "));navigator.getUserMedia(constraint,function(o_stream){data.stream=o_stream;getStreamSuccess(data)},function(s_error){data.s_error=s_error;data.This=This;getStreamFailed(data)})};chromeWebrtcSession.prototype.getStats=function(pc,selector,successCallback,errorCallback){if(adapter.browserDetails.isWebRTCPluginInstalled===false){return pc.getStats(selector,function(response){var standardReport={};response.result().forEach(function(report){var standardStats={id:report.id,type:report.type};report.names().forEach(function(name){standardStats[name]=report.stat(name)});standardReport[standardStats.id]=standardStats});successCallback(standardReport)},errorCallback)}};chromeWebrtcSession.prototype.processStats=function(report,o_info,b_slides){var This=this;var rtpInfo=This.o_rtpInfo;for(var i in report){var now=report[i];if(now.type!="ssrc")continue;var current=report[now.id];if(current){if(now.type==="ssrc"){if((now.mediaType==="audio"||!!now.audioInputLevel)&&now.id.match(/_send/i)&&this.o_local_ssrc==now.ssrc){rtpInfo.o_audio_out=current}else if((now.mediaType==="audio"||!!now.audioOutputLevel)&&now.id.match(/_recv/i)&&this.o_remote_ssrc==now.ssrc){rtpInfo.o_audio_in=current}else if((now.mediaType==="video"||!!now.googPlisReceived)&&now.id.match(/_send/i)&&this.o_local_ssrc==now.ssrc){if(b_slides){rtpInfo.o_slide_video_out=current}else{rtpInfo.o_video_out=current}}else if((now.mediaType==="video"||!!now.googPlisSent)&&now.id.match(/_recv/i)&&this.o_remote_ssrc==now.ssrc){if(b_slides){rtpInfo.o_slide_video_in=current}else{rtpInfo.o_video_in=current}}}}}slideVideoInCodecName=rtpInfo.o_slide_video_in.googCodecName;if(This.o_mgr){This.o_mgr.set_rtp_info(rtpInfo)}};firefoxWebrtcSession.prototype=new webrtcSession;function firefoxWebrtcSession(e_role,o_mgr){webrtcSession.call(this,o_mgr);this.o_pc=null;this.e_role=e_role?e_role:tmedia_pc_type_e.NONE;this.o_sdp_jsep_lo=null;this.o_sdp_lo=null;this.b_sdp_lo_pending=false;this.o_sdp_ro=null;this.b_sdp_ro_pending=false;this.o_local_stream=null;this.o_remote_stream=null;this.o_remote_ssrc=null;this.o_local_ssrc=null;this.o_ice_timer=null;this.o_version={};this.o_version.i_version=parseInt(adapter.browserDetails.version,10);this.o_version.b_under_48=this.o_version.i_version&&this.o_version.i_version<48?true:false;this.o_version.b_48_to_53=this.o_version.i_version&&this.o_version.i_version>47&&this.o_version.i_version<54?true:false;this.o_version.b_over_53=this.o_version.i_version&&this.o_version.i_version>53?true:false;this.o_version.b_54_to_55=this.o_version.i_version&&this.o_version.i_version>53&&this.o_version.i_version<56?true:false;this.o_version.b_54_to_58=this.o_version.i_version&&this.o_version.i_version>53&&this.o_version.i_version<59?true:false;this.o_version.b_58_to_60=this.o_version.i_version&&this.o_version.i_version>57&&this.o_version.i_version<61?true:false;this.o_version.b_over_58=this.o_version.i_version&&this.o_version.i_version>58?true:false;this.o_version.b_over_60=this.o_version.i_version&&this.o_version.i_version>60?true:false;this.initApi();this.initIce();this.initGUM();this.createPeerConnection()}firefoxWebrtcSession.prototype.createPeerConnection=function(){if(!this.o_pc){var This=this;var iceservers=this.conf.ao_ice_servers;var icetransportpolicy=this.conf.ao_ice_transport_policy;var RTCpeerConnectionOptional=tsk_other_deep_copy_obj(this.conf.ao_RTCpeerConnection_optional);if(undefined==iceservers||null==iceservers||0==iceservers.length){this.log.info("iceServers is null ")}if(undefined==icetransportpolicy||null==icetransportpolicy||0==icetransportpolicy.length){icetransportpolicy="all"}if(undefined==RTCpeerConnectionOptional||null==RTCpeerConnectionOptional){RTCpeerConnectionOptional={optional:[{pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false}]}}else if(RTCpeerConnectionOptional&&RTCpeerConnectionOptional.optional&&RTCpeerConnectionOptional.optional.length>0){RTCpeerConnectionOptional.optional.push({pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false})}if(iceservers){this.o_pc=new window.RTCPeerConnection({iceServers:iceservers,iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}else{this.o_pc=new window.RTCPeerConnection({iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}this.o_pc.onicecandidate=function(o_event){This.onIceCandidate(o_event,This)};this.o_pc.onsignalingstatechange=function(o_event){This.onSignalingStateChange(o_event,This)};this.o_pc.oniceconnectionstatechange=function(o_event){This.onIceConnectionStateChange(o_event,This)};this.o_pc.onconnectionstatechange=function(o_event){This.onConnectionStateChange(o_event,This)};this.subscribeStreamEvents();if(!this.o_sdp_lo&&!this.b_sdp_lo_pending){this.b_sdp_lo_pending=true;if(this.b_sdp_lo_pending&&this.o_sdp_ro){this.setRemoteDescription(this.o_sdp_ro,true);return}if(this.e_role==tmedia_pc_type_e.SLIDES&&this.o_version.b_48_to_53&&!This.o_local_streams.o_present_stream){var This=this;var data={};data.constraints={audio:false,video:true,fake:true};data.streamType="fakeVideo";data.cb=function(data){if(data.codeType==code_type_e.ACTION_SUCCESSED){This.log.info("get fake stream successed");This.o_local_streams.o_fake_present_stream=data.stream;This.o_pc.onnegotiationneeded=null;This.processAddStream(This.o_local_streams.o_fake_present_stream);This.createLocalDescription()}else{This.log.info("get fake stream failed");This.createLocalDescription()}};this.getStreamFromDevice(data)}else if(this.e_role==tmedia_pc_type_e.AUDIO&&this.o_version.b_over_60&&!This.o_local_streams.o_audio_stream){var This=this;var data={};data.constraints={audio:true,video:false,fake:true};data.streamType="fakeAudio";data.cb=function(data){if(data.codeType==code_type_e.ACTION_SUCCESSED){This.log.info("get fake stream successed");This.o_local_streams.o_fake_audio_stream=data.stream;This.o_pc.onnegotiationneeded=null;This.o_local_streams.o_fake_audio_stream.getTracks().forEach(function(track){track.enabled=false});This.processAddStream(This.o_local_streams.o_fake_audio_stream);This.createLocalDescription()}else{This.log.info("get fake stream failed");This.createLocalDescription()}};this.getStreamFromDevice(data)}else{this.createLocalDescription()}}}};firefoxWebrtcSession.prototype.subscribeStreamEvents=function(){var This=this;if(this.o_pc){if(adapter.browserDetails.version>=63){this.o_pc.ontrack=function(evt){This.log.info("__on_add_track");if(evt.streams&&evt.streams[0]){This.o_mgr.my_set_stream_remote(evt.streams[0],This.e_role);evt.streams[0].onremovetrack=function(evt){tsk_utils_log_info("__on_remove_track");This.o_mgr.my_set_stream_remote(null,This.e_role)}}}}else{this.o_pc.onaddstream=function(evt){This.log.info("__on_add_stream");This.o_mgr.my_set_stream_remote(evt.stream,This.e_role)};this.o_pc.onremovestream=function(evt){This.log.info("__on_remove_stream");This.o_mgr.my_set_stream_remote(null,This.e_role)}}}};firefoxWebrtcSession.prototype.createLocalDescription=function(){var This=this;this.log.info("create sdp( PC: "+this.e_role.s_name+" ), and this action: "+this.s_action);if(this.o_local_stream&&(this.s_action==="negotiateMainVideoResolution"||this.s_action==="doIceRestart"||this.e_role.s_name==="main"&&common_judgment_e.isCameraSharing&&this.s_action!=="adjustVideoResolution")){This.processAddStream(This.o_local_stream)}var b_answer=this.b_sdp_ro_pending&&this.o_sdp_ro;if(b_answer){this.log.info("createAnswer( PC: "+this.e_role.s_name+" )");this.o_pc.createAnswer(function(o_answer){This.onCreateSdpSuccess(o_answer,This)},function(s_error){This.onCreateSdpError(s_error,This)})}else{var o_media_constraints;if(this.e_role==tmedia_pc_type_e.AUDIO){o_media_constraints={offerToReceiveAudio:true,offerToReceiveVideo:false}}else if(this.e_role==tmedia_pc_type_e.MAIN||this.e_role==tmedia_pc_type_e.SLIDES){o_media_constraints={offerToReceiveAudio:false,offerToReceiveVideo:true}}this.log.info("createOffer( PC: "+this.e_role.s_name+" )");this.o_pc.createOffer(function(o_offer){This.onCreateSdpSuccess(o_offer,This)},function(s_error){This.onCreateSdpError(s_error,This)},o_media_constraints)}};firefoxWebrtcSession.prototype.onCreateSdpSuccess=function(o_sdp,This){This.log.info("onCreateSdpSuccess type: "+This.e_role.s_name);if(This.o_pc){This.o_pc.setLocalDescription(o_sdp,function(o_offer){This.onSetLocalDescriptionSuccess(This)},function(s_error){This.onSetLocalDescriptionError(s_error,This)})}};firefoxWebrtcSession.prototype.onCreateSdpError=function(s_error,This){This.log.error("onCreateSdpError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){This.log.error("error:\n"+s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};firefoxWebrtcSession.prototype.onSetLocalDescriptionSuccess=function(This){This.log.info("onSetLocalDescriptionSuccess( PC: "+This.e_role.s_name+" )");var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");This.log.warn("trickle_ice:"+s_value);if((This.o_pc.iceGatheringState||This.o_pc.iceState)==="complete"||s_value=="true"){This.log.info("onSetLocalDescriptionSuccess send invite( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}};firefoxWebrtcSession.prototype.onSetLocalDescriptionError=function(s_error,This){This.log.error("onSetLocalDescriptionError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){This.log.error(s_error.toString());This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};firefoxWebrtcSession.prototype.setRemoteDescription=function(o_sdp,b_is_offer){
function setRo(){This.o_pc.setRemoteDescription(ro_rtcSDP,function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}var This=this;This.o_sdp_ro=o_sdp;if(!this.decorateRo()){return}var rtcSDP=This.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=This.o_sdp_ro.toString();ro_sdp=bitrateControl(ro_sdp,This.e_role.s_name);var ro_rtcSDP=new rtcSDP({type:b_is_offer?"offer":"answer",sdp:ro_sdp});if(this.e_role==tmedia_pc_type_e.MAIN&&!this.o_version.b_54_to_55&&This.o_local_stream){This.log.info("use applyConstraints");this.applyNewConstrains(ro_rtcSDP)}else{setRo()}};firefoxWebrtcSession.prototype.applyNewConstrains=function(ro_rtcSDP){var This=this;var vTracks=This.o_local_stream.getVideoTracks();var lovTrack=null;var constraints=null;var nFramerate=This.o_framerate_up_sdp||30;if(vTracks.length)lovTrack=vTracks[0];else{This.log.warn("cannot get stream");setRo();return}This.log.info("applyNewConstrains");var hdr_M_video_ro=This.o_sdp_ro.get_header_m_by_name("video");var resolution=hdr_M_video_ro.get_resolution();var maxResolution=getMaxResolution(resolution);constraints={frameRate:{max:This.o_framerate_up_sdp||30,ideal:This.o_framerate_up_sdp||30},aspectRatio:{min:1.777,max:1.778},width:{min:0,ideal:maxResolution.width,max:maxResolution.width},height:{min:0,ideal:maxResolution.height,max:maxResolution.height}};var mb_width=Math.floor((parseInt(resolution.width,10)+15)/16);var mb_height=Math.floor((parseInt(resolution.height,10)+15)/16);var newfs="max-fs="+mb_width*mb_height;var newfr="max-fr="+nFramerate;lovTrack.applyConstraints(constraints).then(function(val){This.log.info("succeed to applyConstraints : "+JSON.stringify(constraints,null,"    "));var newsting=ro_rtcSDP.sdp.replace(new RegExp(/max-fs=([0-9]){1,}/,"g"),newfs);newsting=newsting.replace(new RegExp(/max-fr=([0-9]){1,}/,"g"),newfr);ro_rtcSDP.sdp=newsting;ro_rtcSDP.sdp=bitrateControl(ro_rtcSDP.sdp,This.e_role.s_name);This.log.info(ro_rtcSDP.sdp);This.o_pc.setRemoteDescription(ro_rtcSDP,function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}).catch(function(e){This.log.warn("fail to applyConstraints : "+JSON.stringify(constraints,null,"    ")+", the reason is:"+JSON.stringify(e,null,"    ")+", and retrying new constraints.");lovTrack.applyConstraints(constraints).then(function(val){This.log.info("succeed to applyConstraints : "+JSON.stringify(constraints,null,"    "));var newsting=ro_rtcSDP.sdp.replace(new RegExp(/max-fs=([0-9]){1,}/,"g"),newfs);newsting=newsting.replace(new RegExp(/max-fr=([0-9]){1,}/,"g"),newfr);ro_rtcSDP.sdp=newsting;This.log.info(ro_rtcSDP.sdp);ro_rtcSDP.sdp=bitrateControl(ro_rtcSDP.sdp,This.e_role.s_name);This.o_pc.setRemoteDescription(ro_rtcSDP,function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}).catch(function(e){This.log.warn("fail to applyConstraints : "+JSON.stringify(constraints,null,"    ")+",the reason is:"+JSON.stringify(e,null,"    ")+", and retrying new constraints.");constraints.frameRate.max=nFramerate*2;lovTrack.applyConstraints(constraints).then(function(val){This.log.warn("succeed to applyConstraints : "+JSON.stringify(constraints,null,"    "));newfs="max-fs="+mb_width*mb_height/2;newfr="max-fr="+nFramerate;var newsting=ro_rtcSDP.sdp.replace(new RegExp(/max-fs=([0-9]){1,}/,"g"),newfs);newsting=newsting.replace(new RegExp(/max-fr=([0-9]){1,}/,"g"),newfr);ro_rtcSDP.sdp=newsting;ro_rtcSDP.sdp=bitrateControl(ro_rtcSDP.sdp,This.e_role.s_name);This.log.info(ro_rtcSDP.sdp);This.o_pc.setRemoteDescription(ro_rtcSDP,function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}).catch(function(e){This.log.error("applyConstraints Error is: "+JSON.stringify(e));ro_rtcSDP.sdp=bitrateControl(ro_rtcSDP.sdp,This.e_role.s_name);This.o_pc.setRemoteDescription(ro_rtcSDP,function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})})})})};firefoxWebrtcSession.prototype.onSetRemoteDescriptionSuccess=function(This){This.log.info("onSetRemoteDescriptionSuccess(PC: "+This.e_role.s_name+")");if(This.cb_action_callback&&This.s_action){This.cb_action_callback()}if(This.o_pc.signalingState&&This.o_pc.signalingState=="have-remote-offer"){This.log.info("start createAnswer(PC: "+This.e_role.s_name+")");This.o_pc.createAnswer(function(o_answer){This.onCreateSdpSuccess(o_answer,This)},function(s_error){This.onCreateSdpError(s_error,This)})}};firefoxWebrtcSession.prototype.onSetRemoteDescriptionError=function(s_error,This){This.log.error("onSetRemoteDescriptionError( PC: "+This.e_role.s_name+" )");This.log.error(s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)};firefoxWebrtcSession.prototype.onIceCandidate=function(o_event,This){This.log.info("onIceCandidate type: "+This.e_role.s_name);var host_ip;var iceState=This.o_pc.iceGatheringState||This.o_pc.iceConnectionState;This.log.info("onIceCandidate: "+iceState);if(this.o_ice_timer==null&&iceState=="gathering"){this.o_ice_timer=setTimeout(function(){This.onIceGatheringCompleted()},15e3)}if(iceState=="completed"||iceState==="complete"||o_event&&!o_event.candidate){This.log.info("onIceCandidate: ICE GATHERING COMPLETED( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}else if(iceState=="failed"){This.log.error("onIceCandidate: ice state is 'failed'");This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role);return}var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");if(s_value=="true"){if(o_event.candidate&&o_event.candidate.candidate.indexOf("9 typ host tcp")>0){return}if(This.o_pc.iceConnectionState=="connected"){return}This.sendInfoForTrickleIce({candidate:o_event.candidate?o_event.candidate.candidate:null,type:This.e_role.s_name})}};firefoxWebrtcSession.prototype.onIceGatheringCompleted=function(){if(!this.o_pc){this.log.error("onIceGatheringCompleted: o_pc is null");this.webrtcJsepError({This:this});return}if(this.o_ice_timer){clearTimeout(this.o_ice_timer);this.o_ice_timer=null}if(!this.b_sdp_lo_pending){if(SipMgr.sendInviteWithoutCandidate()&&this.o_pc.localDescription){var This=this;this.log.warn("addCandidate(trickle ice)");addCandidate(This)}this.log.warn("onIceGatheringCompleted but no local sdp request is pending");return}function addCandidate(This){var as_result=null,as_candidates=null,i_port=null,s_addr=null;var o_hdr_M=This.o_sdp_lo.get_header(tsdp_header_type_e.M);var reg=/a=candidate:[0-9. a-zA-Z\-]*/g;as_result=This.o_pc.localDescription.sdp.match(reg);if(as_result){as_candidates=as_result;o_hdr_M.add_candidates(as_candidates)}reg=/m=(audio|video) (\d+) [^#]*/;as_result=This.o_pc.localDescription.sdp.match(reg);if(as_result){i_port=as_result[as_result.length-1];o_hdr_M.i_port=parseInt(i_port,10)}reg=/c=IN IP4 ([0-9.]+)[^#]*/;as_result=This.o_pc.localDescription.sdp.match(reg);if(as_result){s_addr=as_result[as_result.length-1];o_hdr_M.o_hdr_C.s_addr=s_addr}}this.log.info("onIceGatheringCompleted set b_sdp_lo_pending to false( PC: "+this.e_role.s_name+" )");this.b_sdp_lo_pending=false;var localDescription=this.o_pc.localDescription;if(localDescription){if(!this.o_sdp_lo){this.o_sdp_jsep_lo=localDescription;this.o_sdp_lo=tsdp_message.prototype.Parse(this.o_sdp_jsep_lo.sdp)}if(this.decorateLo()){if(!this.b_sdp_lo_pending){this.log.info("onIceGatheringCompleted( PC: "+this.e_role.s_name+" )");this.getLoSuccess({This:this})}}else{this.log.error("localDescription have no candidates( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}}else{this.log.error("localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};firefoxWebrtcSession.prototype.onSignalingStateChange=function(o_event,This){if(!This.o_pc){This.log.info("PeerConnection is null: unexpected");return}This.log.info("onSignalingStateChange type: "+This.e_role.s_name+", signalingState: "+This.o_pc.signalingState)};firefoxWebrtcSession.prototype.onConnectionStateChange=function(o_event,This){if(!This.o_pc){This.log.error("PeerConnection is null: unexpected");return}This.log.info("onConnectionStateChange type: "+This.e_role.s_name+", connectionState: "+This.o_pc.connectionState)};firefoxWebrtcSession.prototype.decorateLo=function(){this.log.info("decorateLo type: "+this.e_role.s_name);function trimALine(o_hdr_M){o_hdr_M.rebulid_a();o_hdr_M.move_red_ulpfec();o_hdr_M.move_encoder("97")}if(this.o_sdp_lo){var o_hdr_M=this.o_sdp_lo.get_header(tsdp_header_type_e.M);var ao_fingerprint_ice_options=this.o_sdp_lo.get_a_header_by_name("ice-options","fingerprint");o_hdr_M.add_a(ao_fingerprint_ice_options);switch(this.e_role){case tmedia_pc_type_e.AUDIO:break;case tmedia_pc_type_e.MAIN:trimALine(o_hdr_M);break;case tmedia_pc_type_e.SLIDES:trimALine(o_hdr_M);if(this.o_local_streams.o_fake_present_stream&&this.o_local_streams.o_fake_present_stream.getVideoTracks().length>0&&this.o_pc.getSenders().length>0&&this.o_pc.getSenders()[0].track==this.o_local_streams.o_fake_present_stream.getVideoTracks()[0]){o_hdr_M.set_a_holdresume_attr("sendrecv","recvonly")}break;default:this.log.warn("commonDecorateLo: Unknown type");break}}return this.commonDecorateLo(true,this)};firefoxWebrtcSession.prototype.decorateRo=function(){this.log.info("decorateRo type: "+this.e_role.s_name);var This=this;this.commonDecorateRo(false,this);function refreshMainVideo(){if(This.b_main_stream_resolution_change&&This.o_sessions.o_video_main.o_pc.getSenders().length>0){This.log.warn("need negotiate main video media");This.o_sessions.o_video_main.negotiateMainVideoResolution()}}var o_hdr_M=this.o_sdp_ro.get_header(tsdp_header_type_e.M);switch(this.e_role){case tmedia_pc_type_e.AUDIO:refreshMainVideo();break;case tmedia_pc_type_e.MAIN:break;case tmedia_pc_type_e.SLIDES:refreshMainVideo();if(this.o_version.b_48_to_53){o_hdr_M.set_a_holdresume_attr("sendonly","sendrecv");o_hdr_M.set_a_holdresume_attr("recvonly","sendrecv")}break;default:this.log.warn("decorateRo: Unknown type");break}return error_status_e.err_status_ok};firefoxWebrtcSession.prototype.getContentForTrickleIce=function(s_candidates,b_gathering){function getContent(sdp){function generateContent(result){if(!result){return}var s_content;for(var i=0;i<result.length;i++){if(s_content){s_content+=result[i]}else{s_content=result[i]}}return s_content}var result;var s_content="m=audio 9 RTP/AVP 0"+"\r\n"+"a=mid:"+This.getModifiedMid(This.e_role.s_name)+"\r\n";var regs=[/a=ice-ufrag:[\w\/\+\-]+\r\n/,/a=ice-pwd:[\w\/\+\-]+\r\n/];for(var i=0;i<regs.length;i++){result=sdp.match(regs[i]);if(s_content){s_content+=generateContent(result)}else{s_content=generateContent(result)}}if(s_candidates&&s_candidates.length>0){for(var i=0;i<s_candidates.length;i++){s_content+=s_candidates[i]}}if(b_gathering){s_content+="a=end-of-candidates\r\n"}return s_content}this.log.warn("getContentForTrickleIce firefox("+this.e_role.s_name+")");var This=this;var localDescription=this.o_pc.localDescription;if(localDescription){return getContent(localDescription.sdp)}else{this.log.error("getContentForTrickleIce: localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};firefoxWebrtcSession.prototype.dealtWithRo=function(o_sdp,b_is_offer){if(this.o_version.b_48_to_53&&(this.s_action=="presentOn"||this.s_action=="presentOff")&&this.cb_action_callback){this.o_sdp_ro=tsk_other_deep_copy_obj(o_sdp);this.decorateRo();this.cb_action_callback()}};firefoxWebrtcSession.prototype.initApi=function(){this.s_action=null;this.s_holdresume_attr_ro=null;this.o_resolution_up_Actual=null;this.o_resolution_up_sdp=null;this.o_framerate_up_sdp=0;this.o_sdp_ro_bak=null;this.o_video_constraints=null;this.cb_action_callback=null;this.b_pausePresentationSource=false};firefoxWebrtcSession.prototype.audioRefresh=function(){function audioRefreshResult(){This.log.info("audioRefresh succeed");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"audioRefresh",o_dialog:This.o_mgr.o_usr_data})}function audioRefreshAddStream(){This.o_local_stream=This.o_local_streams.o_audio_stream;This.log.info("audioRefresh add stream");if(This.o_pc.getSenders().length>0){console.warn(This.o_pc.getSenders())}else{This.log.warn("audioRefresh add stream: didn't add audio")}if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){This.log.info("audioRefreshAddStream createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}}if(!this.o_local_streams.o_audio_stream){this.log.info("audioRefresh: no stream");SipMgr.removeInviteAction({func_name:"audioRefresh",o_dialog:This.o_mgr.o_usr_data});return}var This=this;this.log.info("firefox audio refresh");this.s_action="audioRefresh";this.cb_action_callback=audioRefreshResult;this.o_mgr.my_set_stream_local(this.o_local_streams.o_audio_stream,this.e_role);if((this.o_local_stream||This.o_local_streams.o_fake_audio_stream)&&this.o_pc.getSenders().length>0){if(this.o_pc.getSenders().length==1){this.o_pc.getSenders()[0].replaceTrack(This.o_local_streams.o_audio_stream.getAudioTracks()[0]);this.o_local_stream=This.o_local_streams.o_audio_stream;if(This.o_local_streams.o_fake_audio_stream){delete This.o_local_streams.o_fake_audio_stream;This.o_local_streams.o_fake_audio_stream=null}audioRefreshResult()}else if(this.o_pc.getSenders().length==0){this.log.warn("sender error: length is 0");if((this.o_pc.iceGatheringState||this.o_pc.iceState)!=="new"){this.log.info("createLocalDescription");this.b_sdp_lo_pending=true;this.createLocalDescription()}}else{this.log.warn("sender error");return}}else{this.cleanSession({b_stop:false,b_retain_lo:false,o_session:This});This.processAddStream(This.o_local_streams.o_audio_stream);audioRefreshAddStream()}return};firefoxWebrtcSession.prototype.videoOn=function(){function videoOnOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;This.log.info("videoOnOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){This.log.info("videoOnOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function videoOnRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;This.log.warn("video on failed, return to normal status");var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");o_hdr_M.set_a_holdresume_attr("sendrecv","recvonly");This.actionResult({o_action:action_type_e.FAILED_TO_VIDEO_ON});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data})}function videoOnResult(){if(This.s_holdresume_attr_ro=="sendrecv"){This.log.info("video On succeed");common_judgment_e.isCameraSharing=true;This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_ON});SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data});This.s_action=null;This.cb_action_callback=null;return}else{This.log.info("video on failed");common_judgment_e.isCameraSharing=false;This.o_pc.onnegotiationneeded=null;This.processRemoveStream(This.o_local_streams.o_video_stream);if(parseInt(sendInviteCseq)===parseInt(recvInvite200okCseq)){videoOnRemoveStreamOnNegotiationNeeded()}else{setTimeout(function(){videoOnRemoveStreamOnNegotiationNeeded()},1e3)}}}if(!this.o_local_streams.o_video_stream){this.log.info("videoOn: no stream");SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:this.o_mgr.o_usr_data});return}var This=this;this.log.info("firefox video on");this.o_local_stream=this.o_local_streams.o_video_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.MAIN);this.s_action="videoOn";this.cb_action_callback=videoOnResult;if(adapter.browserDetails.version>=54){this.o_pc.onnegotiationneeded=null;this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});videoOnOnNegotiationNeeded()}else{this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});this.createPeerConnection()}This.processAddStream(This.o_local_streams.o_video_stream);return};firefoxWebrtcSession.prototype.videoOff=function(){function videoOffOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;This.log.info("videoOffOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){This.log.info("videoOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function videoOffResult(){This.log.info("Video off succeed");common_judgment_e.isCameraSharing=false;This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_OFF});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOff",o_dialog:This.o_mgr.o_usr_data})}var This=this;this.log.info("firefox video off");if(this.o_local_stream){this.s_action="videoOff";this.cb_action_callback=videoOffResult;this.o_mgr.my_set_stream_local(null,this.e_role);this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});This.processRemoveStream(this.o_local_stream);this.o_local_stream=null;videoOffOnNegotiationNeeded()}else{this.log.info("it did not open the camera, just return");this.noNegotiation({o_session:this});return}return};firefoxWebrtcSession.prototype.adjustVideoResolution=function(){function adjustVideoResolutionResult(){This.log.info("adjust video resolution succeed");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}var This=this;this.log.info("firefox adjust video resolution");if(this.attr.o_codec){this.s_action="adjustVideoResolution";this.cb_action_callback=adjustVideoResolutionResult;if((!this.o_local_stream||this.o_version.b_54_to_55)&&(This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});this.log.info("adjustVideoResolution createLocalDescription");this.b_sdp_lo_pending=true;this.createLocalDescription()}else{this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});this.createPeerConnection();This.processAddStream(This.o_local_stream)}}else{this.log.info("adjustVideoResolution: no codec");SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}return null};firefoxWebrtcSession.prototype.presentOn=function(){function presentOnOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("presentOnOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("presentOnOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function presentOnRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("present on failed, return to normal status");var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");o_hdr_M.set_a_holdresume_attr("sendonly","recvonly");This.actionResult({o_action:action_type_e.FAILED_TO_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"presentOn",o_dialog:This.o_mgr.o_usr_data})}function presentOnResult(){if(This.s_holdresume_attr_ro=="recvonly"){tsk_utils_log_info("present On succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;isIamSharingPresentWith_200_ok=true;SipMgr.removeInviteAction({func_name:"presentOn",o_dialog:This.o_mgr.o_usr_data})}else{tsk_utils_log_info("present on failed");if(This.o_local_streams.o_fake_present_stream){This.o_pc.getSenders()[0].replaceTrack(This.o_local_streams.o_fake_present_stream.getVideoTracks()[0])}else{This.o_pc.onnegotiationneeded=null;This.processRemoveStream(This.o_local_stream)}This.o_local_streams.o_present_stream=null;This.o_local_stream=null;This.o_mgr.my_set_stream_local(null,tmedia_pc_type_e.SLIDES);presentOnRemoveStreamOnNegotiationNeeded()}}if(!this.o_local_streams.o_present_stream){this.log.warn("no slides stream");SipMgr.removeInviteAction({func_name:"presentOn",o_dialog:this.o_mgr.o_usr_data});return}var This=this;this.log.info("firefox present on");this.s_action="presentOn";this.cb_action_callback=presentOnResult;this.o_local_stream=this.o_local_streams.o_present_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.SLIDES);if(this.o_version.b_under_48){this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});this.createPeerConnection();This.processAddStream(This.o_local_stream)}else if(this.o_version.b_48_to_53){if(this.o_pc.getSenders().length===1){setTimeout(function(){This.o_pc.getSenders()[0].replaceTrack(This.o_local_stream.getVideoTracks()[0])},1e3)}this.noNegotiation({o_session:this})}else{this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});this.o_pc.onnegotiationneeded=null;This.processAddStream(This.o_local_streams.o_present_stream);presentOnOnNegotiationNeeded()}return};firefoxWebrtcSession.prototype.presentOff=function(){function presentOffOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("presentOffOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("presentOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function presentOffResult(){tsk_utils_log_info("present On succeed");if(firefoxRemotePresentStream!=null){This.log.info("present off succeed, add remote stream saved when joining meeting init");This.o_mgr.my_set_stream_remote(firefoxRemotePresentStream.clone(),This.e_role)}This.actionResult({o_action:action_type_e.SUCCESSED_TO_CLOSE_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"presentOff",o_dialog:This.o_mgr.o_usr_data})}if(!this.o_local_stream){this.log.warn("didn't start share screen");SipMgr.removeInviteAction({func_name:"presentOff",o_dialog:this.o_mgr.o_usr_data});return}else{SipMgr.MuteStream({b_mute:false,type:"present",stream:this.o_local_stream})}var This=this;this.log.info("firefox present off");this.s_action="presentOff";this.cb_action_callback=presentOffResult;if(this.o_version.b_under_48){this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});this.createPeerConnection()}else if(this.o_version.b_48_to_53){if(This.o_pc.getSenders().length===1&&This.o_local_streams.o_fake_present_stream){setTimeout(function(){This.o_pc.getSenders()[0].replaceTrack(This.o_local_streams.o_fake_present_stream.getVideoTracks()[0])},1e3)}this.noNegotiation({o_session:this})}else{this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});this.o_pc.onnegotiationneeded=null;This.processRemoveStream(this.o_local_stream);presentOffOnNegotiationNeeded()}this.o_local_stream=null;this.o_mgr.my_set_stream_local(null,tmedia_pc_type_e.SLIDES)};firefoxWebrtcSession.prototype.switchPresentationSource=function(){this.log.info("firefox switch presentation source");this.o_local_stream=this.o_local_streams.o_present_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.SLIDES);this.o_pc.getSenders()[0].replaceTrack(this.o_local_streams.o_present_stream.getVideoTracks()[0]);if(SipMgr.isPausePresent){SipMgr.MuteStream({b_mute:true,type:"present",stream:this.o_local_stream})}this.actionResult({o_action:action_type_e.SUCCESSED_TO_SWITCH_SCREEN_SHARE});SipMgr.removeInviteAction({func_name:"switchPresentationSource",o_dialog:this.o_mgr.o_usr_data});return};firefoxWebrtcSession.prototype.negotiateMainVideoResolution=function(){function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("onStateChange: invalid argument");return}tsk_utils_log_info("negotiateMainVideoResolution onStateChange: "+o_event.o_state.s_name);if(o_event.o_state==jsep_states_e.SETREMOTE){This.s_action=null;This.cb_action_callback=null}}function negotiateMainVideoResolutionResult(){tsk_utils_log_info("negotiateMainVideoResolution succeed");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"negotiateMainVideoResolution",o_dialog:This.o_mgr.o_usr_data})}var dialog=this.o_mgr.o_usr_data;if(!dialog){tsk_utils_log_error("handleICE: Failed find the invite dialog!");this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);return}if(this.s_action==="negotiateMainVideoResolution"){var This=this;this.cleanSession({b_stop:false,o_session:this});this.cb_action_callback=negotiateMainVideoResolutionResult;return}this.log.info("firefox negotiateMainVideoResolution");this.s_action="negotiateMainVideoResolution";if(this.o_local_stream){if(!this.o_version.b_54_to_55||SipMgr.bUseMACCamera()){var user_data={};user_data.s_action="negotiateMainVideoResolution";dialog.o_session.videoRefresh(user_data)}else{var This=this;this.log.info("negotiateMainVideoResolution: action jsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}}else{this.log.info("negotiateMainVideoResolution: no local stream");return}return null};firefoxWebrtcSession.prototype.handleOffer=function(o_sdp){this.log.info("firefox handle offer");var This=this;var o_hdr_M=o_sdp.get_header_m_by_name("video");this.attr.o_ro_codec=o_hdr_M.get_priority();var o_hdr_A_ro=o_hdr_M.find_a("sendonly");tsk_utils_log_info("common_judgment_e isCameraSharing: "+common_judgment_e.isCameraSharing);if(!common_judgment_e.isCameraSharing||o_hdr_A_ro){this.log.info("handleOffer: webrtc didn't open the camera");this.noNegotiation({o_session:this});return}var resolution=o_hdr_M.get_resolution();var maxResolution=getMaxResolution(resolution);this.log.info("resolution(from current sdp): "+maxResolution.height);this.log.info("resolution(from previous sdp): "+this.o_resolution_up_sdp.height);var o_invite_session=this.o_mgr.o_usr_data.o_session;o_invite_session.__my_set_pc(tmedia_pc_type_e.MAIN);if(maxResolution.height===this.o_resolution_up_sdp.height){this.log.info("handleOffer: resolution is just right");this.noNegotiation({o_session:this});if(send491InviteQueue.length>0&&send491InviteQueue[0].s_action==="doIceRestart"||sendInviteQueue.length>0&&sendInviteQueue[0].s_action==="doIceRestart"){var iceRestartInterval=setInterval(function(){if(parseInt(recvInviteCseq)===parseInt(sendInvite200okCseq)){clearInterval(iceRestartInterval);This.iceConnectFailed()}},500)}}else{tsk_utils_log_info("handleOffer: handle remote sdp");this.o_resolution_up_sdp=maxResolution;this.s_action="handleOffer";this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});this.o_sdp_ro=o_sdp;this.decorateRo();This.applyConstrains();var user_data={};user_data.s_action="handleOffer";user_data.resolution=maxResolution;user_data.sdp=o_sdp;sendInviteQueue.push(user_data)}};firefoxWebrtcSession.prototype.applyConstrains=function(){var This=this;var localVideoTrack=This.o_local_stream.getVideoTracks()[0];var hdr_M_video_ro=This.o_sdp_ro.get_header_m_by_name("video");var resolution=hdr_M_video_ro.get_resolution();var maxResolution=getMaxResolution(resolution);var constraints={frameRate:{max:30,ideal:This.o_framerate_up_sdp||30},aspectRatio:{min:1.777,max:1.778},width:{min:0,ideal:maxResolution.width,max:maxResolution.width},height:{min:0,ideal:maxResolution.height,max:maxResolution.height}};function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("negotiateResolution: invalid argument");return}if(o_event.o_state===jsep_states_e.CREATEOFFER){if(o_event.o_sdp){tsk_utils_log_info("negotiateResolution: createOfferSuccess");This.o_sdp_lo=tsdp_message.prototype.Parse(o_event.o_sdp);This.decorateLo();This.getLoSuccess()}else{tsk_utils_log_info("negotiateResolution: no local sdp");This.webrtcJsepError({This:This})}}else if(o_event.o_state===jsep_states_e.SETREMOTE){tsk_utils_log_info("negotiateResolution: SetRemoteDescriptionSuccess");This.s_action=null;var handleOfferInterval=setInterval(function(){if(parseInt(recvInviteCseq)===parseInt(sendInvite200okCseq)){tsk_utils_log_info("clear handleOffer sendInviteQueue");SipMgr.removeInviteAction({func_name:"handleOffer",o_dialog:This.o_mgr.o_usr_data});clearInterval(handleOfferInterval);handleOfferInterval=null;recvInviteCseq=null;sendInvite200okCseq=null}},1e3)}}localVideoTrack.applyConstraints(constraints).then(function(){tsk_utils_log_warn("applyConstraints succeed"+JSON.stringify(constraints,null,"    "));This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded sessionJsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}}).catch(function(error){tsk_utils_log_warn("Fail to applyConstraints : "+JSON.stringify(constraints,null,"    ")+", the reason is:"+JSON.stringify(error.toString(),null,"    ")+", and retrying new constraints.");constraints.frameRate.max=This.o_framerate_up_sdp*2;localVideoTrack.applyConstraints(constraints).then(function(){tsk_utils_log_warn("re-applyConstraints succeed"+JSON.stringify(constraints,null,"    "));This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded sessionJsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}}).catch(function(error){tsk_utils_log_warn("Fail to applyConstraints : "+JSON.stringify(constraints,null,"    ")+", the reason is:"+JSON.stringify(error.toString(),null,"    ")+", and retrying new constraints.");This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded sessionJsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}})})};firefoxWebrtcSession.prototype.initIce=function(){this.ice={};this.ice.o_failure_num=0;this.ice.b_ice_failed=false;this.b_disconnect=false};firefoxWebrtcSession.prototype.onIceConnectionStateChange=function(o_event,This){if(!This.o_pc){This.log.info("onIceConnectionStateChange: PeerConnection is null");return}if(This.o_pc.iceConnectionState){This.log.info("onIceConnectionStateChange this type: "+This.e_role.s_name+", iceConnectionState: "+This.o_pc.iceConnectionState);var dialog=this.o_mgr.o_usr_data;switch(This.o_pc.iceConnectionState){case"connected":var remoteStream=SipMgr.sipGetStream("video",false);if(This.e_role===tmedia_pc_type_e.MAIN&&This.o_local_stream&&(!This.b_disconnect||videoMainPlayer&&videoMainPlayer.stream&&remoteStream&&videoMainPlayer.stream.id!==remoteStream.id)){This.log.info("update stream remote");This.o_mgr.o_usr_data.signal(tsip_event_code_e.DIALOG_REMOTE_STREM_CHANNGE,"remote stream change","video")}if(sendInviteQueue.length===0&&send491InviteQueue.length>0){for(var i=0;i<send491InviteQueue.length;i++){This.log.info("add inviteQueue to sendInviteQueue",send491InviteQueue[i].s_type);sendInviteQueue.push(send491InviteQueue[i])}send491InviteQueue=[]}if(sendInviteQueue.length>0&&sendInviteQueue[0].s_action=="doIceRestart"){This.iceConnectSuccessed()}else if(This.b_disconnect){This.b_disconnect=false}var s_content=null;if(dialog.o_trickle_ice.length>0&&SipMgr.getConfFromLocalStorage("ice_lite")!="true"){for(var i=0;i<dialog.o_trickle_ice.length;i++){var length=dialog.o_trickle_ice[i].s_contents.length;if(dialog.o_trickle_ice[i].s_type==this.e_role.s_name){var b_commpleted=dialog.o_trickle_ice[i].b_commpleted;if(b_commpleted){s_content=null;break}else{if(dialog.o_trickle_ice[i].s_contents[length-1].indexOf("end-of-candidates")<0){dialog.o_trickle_ice[i].s_contents[length-1]+="a=end-of-candidates\r\n";
}}}if(s_content){s_content+=dialog.o_trickle_ice[i].s_contents[length-1]}else{s_content=dialog.o_trickle_ice[i].s_contents[length-1]}}}if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"){send_info_for_trickle_ice(dialog,s_content)}dialog.b_ready_send_info=false;if(This.cb_action_callback&&This.s_action){This.cb_action_callback()}break;case"disconnected":This.b_disconnect=true;break;case"failed":if(This.b_disconnect){This.b_disconnect=false}This.iceConnectFailed();break;case"closed":if(dialog.o_trickle_ice.length>0){for(var i=0;i<dialog.o_trickle_ice.length;i++){if(dialog.o_trickle_ice[i].s_type==This.e_role.s_name){dialog.o_trickle_ice[i].s_candidates.length=0;dialog.o_trickle_ice[i].s_contents.length=0;dialog.o_trickle_ice[i].b_commpleted=false;break}}}break;default:break}}};firefoxWebrtcSession.prototype.iceConnectSuccessed=function(){this.log.info("iceConnectSuccessed(PC: "+this.e_role.s_name+")");if(SipMgr.correctIceSession(this.e_role)){var This=this;this.ice.b_ice_failed=false;this.ice.o_failure_num=0;this.iceRestartSuccess({o_session:this});SipMgr.removeInviteAction({func_name:"iceConnectSuccessed",o_dialog:This.o_mgr.o_usr_data})}else{checkInviteQueue(1,this)}};firefoxWebrtcSession.prototype.iceConnectFailed=function(b_retransmission){this.o_pc.onnegotiationneeded=null;this.log.warn("iceConnectFailed, o_failure_num: "+this.ice.o_failure_num+"  (PC:"+this.e_role.s_name+")");if(this.ice.o_failure_num>=3){this.log.error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}else{this.ice.b_ice_failed=true;this.handleICE()}if(this.ice.o_failure_num==0){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED_FIRST,this.e_role.s_name)}this.ice.o_failure_num++};firefoxWebrtcSession.prototype.handleICE=function(){var This=this;var dialog=this.o_mgr.o_usr_data;if(!dialog){this.log.error("handleICE: Failed find the invite dialog!");this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);return}this.s_action="doIceRestart";this.log.warn("now "+this.e_role.s_name+" media do ice restart!");checkInviteQueue(0,this);var user_data={};user_data.s_action="doIceRestart";switch(this.e_role){case tmedia_pc_type_e.AUDIO:return dialog.o_session.audioRefresh(user_data);case tmedia_pc_type_e.MAIN:return dialog.o_session.videoRefresh(user_data);case tmedia_pc_type_e.SLIDES:return dialog.o_session.PresntRefresh(user_data);default:break}};firefoxWebrtcSession.prototype.doIceRestart=function(){this.log.info("firefox doIceRestart, type: "+this.e_role.s_name);this.cleanSession({b_stop:true,o_session:this});checkInviteQueue(1,this)};firefoxWebrtcSession.prototype.iceRestartInviteRetransmission=function(){this.log.info("firefox iceRestartInviteRetransmission,  type:"+this.e_role.s_name);if(this.ice.o_failure_num>=3){this.log.error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}this.ice.o_failure_num++;this.getLoSuccess()};function checkInviteQueue(i_index,o_session){function pollingInviteQueue(s_type){for(var i=i_index;i<sendInviteQueue.length;i++){o_session.log.info("checkInviteQueue s_type:"+sendInviteQueue[i].s_type);if(sendInviteQueue[i].s_type==s_type&&sendInviteQueue[i].s_action=="doIceRestart"){o_session.log.warn("remove checkInviteQueue s_type:"+sendInviteQueue[i].s_type+", s_action:"+sendInviteQueue[i].s_action);if(i_index===0){SipMgr.removeInviteAction({func_name:"checkInviteQueue",o_dialog:o_session.o_mgr.o_usr_data})}else{sendInviteQueue.splice(i,1);i--}}}}switch(o_session.e_role){case tmedia_pc_type_e.AUDIO:pollingInviteQueue("audioRefresh");break;case tmedia_pc_type_e.MAIN:pollingInviteQueue("videoRefresh");break;case tmedia_pc_type_e.SLIDES:pollingInviteQueue("presentRefresh");break;default:break}return}firefoxWebrtcSession.prototype.initGUM=function(){this.oConstraints=new Array};firefoxWebrtcSession.prototype.getStreamFromDevice=function(data){var This=this;this.log.info("getStreamFromDevice streamType: "+data.streamType);tsk_utils_log_info("getStreamFromDevice data: ",data);var getStreamSuccess=function(data){if(!data){return}This.log.info("getStreamSuccess o_stream id = "+data.stream.id);if(data.streamType==="video"&&data.deviceId){for(var i=videoInputDevices.length;i--;){if(videoInputDevices[i].deviceId!==data.deviceId){videoInputDevices[i].state=undefined}else{videoInputDevices[i].state="applyed"}}This.oConstraints[data.deviceId]=null;SipMgr.setLocalStream({o_stream:data.stream,e_role:tmedia_pc_type_e.MAIN})}else if(data.streamType=="audio"){SipMgr.setLocalStream({o_stream:data.stream,e_role:tmedia_pc_type_e.AUDIO})}data.codeType=code_type_e.ACTION_SUCCESSED;data.cb(data)};var getStreamFailed=function(data){var s_error=data.s_error;This.log.warn("getStreamFailed: "+s_error.name);var feedback=getGumErrorCode(data.streamType,data.s_error);if(data.streamType==="video"&&(s_error.name==="OverconstrainedError"||s_error.name==="InternalError")){if(This.oConstraints[data.deviceId].video.width.exact===1920){This.oConstraints[data.deviceId].video.width.exact=1280;This.oConstraints[data.deviceId].video.height.exact=720}else if(This.oConstraints[data.deviceId].video.width.exact===1280){This.oConstraints[data.deviceId].video.width.exact=640;This.oConstraints[data.deviceId].video.height.exact=480}else if(This.oConstraints[data.deviceId].video.width.exact===640){This.log.warn("set exact to ideal");This.oConstraints[data.deviceId]={audio:false,video:{width:{ideal:640},height:{ideal:480}}}}else{This.log.warn("Failed to get video stream");data.codeType=feedback;data.cb(data);return}return This.getStreamFromDevice(data)}This.log.info("getStreamFailed feedback: "+feedback);data.codeType=feedback;data.cb(data)};var This=this;this.log.info("getStreamFromDevice streamType: "+data.streamType);if(data.constraints){This.oConstraints=data.constraints}else if(data.deviceId){this.log.info("getStreamFromDevice deviceId: "+data.deviceId);if(data.streamType==="audio"){This.oConstraints={video:false};This.oConstraints.audio={};This.oConstraints.audio.deviceId={};This.oConstraints.audio.deviceId.exact=data.deviceId}else if(data.streamType==="video"){if(!This.oConstraints[data.deviceId]){This.oConstraints[data.deviceId]={audio:false,video:{width:common_judgment_e.b_desktop_pc?{exact:1280,max:1280}:{exact:640,max:1280},height:common_judgment_e.b_desktop_pc?{exact:720,max:720}:{exact:480,max:720}}};This.oConstraints[data.deviceId].video.deviceId={};This.oConstraints[data.deviceId].video.deviceId.exact=data.deviceId}}}else{This.oConstraints={audio:data.streamType==="audio",video:data.streamType==="video"}}if(data.streamType=="video"){var constraints=data.deviceId?This.oConstraints[data.deviceId]:This.oConstraints;constraints=setFacingMode(constraints);this.log.info("getStreamFromDevice oConstraints: \n"+JSON.stringify(constraints,null,"    "));navigator.getUserMedia(constraints,function(o_stream){data.stream=o_stream;getStreamSuccess(data)},function(s_error){data.s_error=s_error;data.This=This;getStreamFailed(data)})}else{this.log.info("getStreamFromDevice oConstraints: \n"+JSON.stringify(This.oConstraints,null,"    "));navigator.getUserMedia(This.oConstraints,function(o_stream){data.stream=o_stream;getStreamSuccess(data)},function(s_error){data.s_error=s_error;data.This=This;getStreamFailed(data)})}};firefoxWebrtcSession.prototype.getStats=function(pc,selector,successCallback,errorCallback){return pc.getStats(selector).then(successCallback).catch(errorCallback)};firefoxWebrtcSession.prototype.processStats=function(report,o_info,b_slides){var rtpInfo=this.o_rtpInfo;report.forEach(function(result){var now=result;if(now.type!=="inboundrtp"&&now.type!=="inbound-rtp"&&now.type!=="remote-inbound-rtp"){return}var current=result;if(current){if(now.type==="inboundrtp"||now.type==="inbound-rtp"||now.type==="remote-inbound-rtp"){if(now.isRemote||now.type==="remote-inbound-rtp"){if(current.mediaType==="video"){if(b_slides){rtpInfo.o_slide_video_out=current}else{rtpInfo.o_video_out=current}}else if(current.mediaType==="audio"){rtpInfo.o_audio_out=current}}else{if(current.mediaType==="video"){if(b_slides){rtpInfo.o_slide_video_in=current}else{rtpInfo.o_video_in=current}}else if(current.mediaType==="audio"){rtpInfo.o_audio_in=current}}}}});if(this.o_mgr){this.o_mgr.set_rtp_info(rtpInfo)}};safariWebrtcSession.prototype=new webrtcSession;function safariWebrtcSession(e_role,o_mgr){webrtcSession.call(this,o_mgr);this.o_pc=null;this.e_role=e_role?e_role:tmedia_pc_type_e.NONE;this.b_cache_stream=false;this.o_sdp_jsep_lo=null;this.o_sdp_lo=null;this.b_sdp_lo_pending=false;this.o_sdp_ro=null;this.b_sdp_ro_pending=false;this.o_local_stream=null;this.o_remote_stream=null;this.o_user_ssrc=null;this.o_ice_timer=null;this.initApi();this.initIce();this.createPeerConnection()}safariWebrtcSession.prototype.createPeerConnection=function(){if(!this.o_pc){var This=this;var iceservers=this.conf.ao_ice_servers;var icetransportpolicy=this.conf.ao_ice_transport_policy;var RTCpeerConnectionOptional=tsk_other_deep_copy_obj(this.conf.ao_RTCpeerConnection_optional);if(undefined==iceservers||null==iceservers||0==iceservers.length){tsk_utils_log_info("iceServers is null ")}if(undefined==icetransportpolicy||null==icetransportpolicy||0==icetransportpolicy.length){icetransportpolicy="all"}if(undefined==RTCpeerConnectionOptional||null==RTCpeerConnectionOptional){RTCpeerConnectionOptional={optional:[{pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false}]}}else if(RTCpeerConnectionOptional&&RTCpeerConnectionOptional.optional&&RTCpeerConnectionOptional.optional.length>0){RTCpeerConnectionOptional.optional.push({pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false})}if(iceservers){this.o_pc=new window.RTCPeerConnection({sdpSemantics:"plan-b",iceServers:iceservers,iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}else{this.o_pc=new window.RTCPeerConnection({sdpSemantics:"plan-b",iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}this.o_pc.onicecandidate=function(o_event){This.onIceCandidate(o_event,This)};this.o_pc.onnegotiationneeded=function(o_event){This.onNegotiationNeeded(o_event,This)};this.o_pc.onsignalingstatechange=function(o_event){This.onSignalingStateChange(o_event,This)};this.o_pc.oniceconnectionstatechange=function(o_event){This.onIceConnectionStateChange(o_event,This)};this.o_pc.onconnectionstatechange=function(o_event){This.onConnectionStateChange(o_event,This)};this.subscribeStreamEvents();if(!this.o_sdp_lo&&!this.b_sdp_lo_pending){this.b_sdp_lo_pending=true;if(this.b_sdp_lo_pending&&this.o_sdp_ro){this.setRemoteDescription(this.o_sdp_ro,true)}this.createLocalDescription()}}};safariWebrtcSession.prototype.subscribeStreamEvents=function(){var This=this;if(this.o_pc){if(adapter.browserDetails.UIVersion>="12.1.1"){this.o_pc.ontrack=function(evt){tsk_utils_log_info("__on_add_track");This.o_mgr.my_set_stream_remote(evt.streams[0],This.e_role);evt.streams[0].onremovetrack=function(evt){tsk_utils_log_info("__on_remove_track");This.o_mgr.my_set_stream_remote(null,This.e_role)}}}else{this.o_pc.onaddstream=function(evt){tsk_utils_log_info("__on_add_stream");This.o_mgr.my_set_stream_remote(evt.stream,This.e_role)};this.o_pc.onremovestream=function(evt){tsk_utils_log_info("__on_remove_stream");This.o_mgr.my_set_stream_remote(null,This.e_role)}}}};safariWebrtcSession.prototype.createLocalDescription=function(){tsk_utils_log_info("create sdp( PC: "+this.e_role.s_name+" )");var sender=this.o_pc.getSenders();var b_has_stream=sender&&sender.length>0&&sender[sender.length-1].track&&sender[sender.length-1].track.readyState==="live";if(this.o_local_stream&&!b_has_stream){var details=adapter.browserDetails;if((details.UIVersion==="11.0.2"||details.UIVersion==="11.1.2")&&this.o_local_stream.getTracks()[0].enabled===false){tsk_utils_log_info("The track is disabled, not add...");this.o_pc.onnegotiationneeded=null}else{tsk_utils_log_info("addStream( PC: "+this.e_role.s_name+" )");this.o_pc.onnegotiationneeded=null;this.processAddStream(this.o_local_stream)}}var b_answer=this.b_sdp_ro_pending&&this.o_sdp_ro;var This=this;if(b_answer){tsk_utils_log_info("createAnswer( PC: "+this.e_role.s_name+" )");this.o_pc.createAnswer(function(o_offer){This.onCreateSdpSuccess(o_offer,This)},function(s_error){This.onCreateSdpError(s_error,This)})}else{var o_media_constraints=null;if(this.e_role==tmedia_pc_type_e.AUDIO){o_media_constraints={offerToReceiveAudio:true,offerToReceiveVideo:false}}else if(this.e_role==tmedia_pc_type_e.MAIN||this.e_role==tmedia_pc_type_e.SLIDES){o_media_constraints={offerToReceiveAudio:false,offerToReceiveVideo:true}}tsk_utils_log_info("createOffer( PC: "+this.e_role.s_name+" )");this.o_pc.createOffer(o_media_constraints).then(function(o_offer){This.onCreateSdpSuccess(o_offer,This)}).catch(function(s_error){This.onCreateSdpError(s_error,This)})}};safariWebrtcSession.prototype.onCreateSdpSuccess=function(o_sdp,This){tsk_utils_log_info("__MyOnCreateSdpSuccess type: "+This.e_role.s_name);if(This.o_pc){if(This.o_pc.getTransceivers()[0].receiver.track.kind==="video"&&This.o_pc.getSenders()&&This.o_pc.getSenders().length>0&&This.o_pc.getSenders()[This.o_pc.getSenders().length-1].track==null){tsk_utils_log_info("No local track, this m line must be recvonly");o_sdp.sdp=o_sdp.sdp.replace(/a=sendrecv/,"a=recvonly")}var details=adapter.browserDetails;var sdpArray=o_sdp.sdp.split("a=ssrc-group:FID");if(details.browser==="safari"&&(details.UIVersion==="11.0.2"||details.UIVersion==="11.1.2")&&sdpArray.length>=3){o_sdp.sdp=sdpArray[0]+"a=ssrc-group:FID"+sdpArray[sdpArray.length-1]}This.o_pc.setLocalDescription(o_sdp,function(o_offer){This.onSetLocalDescriptionSuccess(This)},function(s_error){This.onSetLocalDescriptionError(s_error,This)})}};safariWebrtcSession.prototype.onCreateSdpError=function(s_error,This){tsk_utils_log_info("onCreateSdpError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){tsk_utils_log_error("error:\n"+s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};safariWebrtcSession.prototype.onSetLocalDescriptionSuccess=function(This){var This=This;tsk_utils_log_info("onSetLocalDescriptionSuccess( PC: "+This.e_role.s_name+" )");var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");if((This.o_pc.iceGatheringState||This.o_pc.iceState)==="complete"||s_value=="true"){tsk_utils_log_info("onSetLocalDescriptionSuccess send invite( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}else{if(This.o_ice_timer==null){This.o_ice_timer=setTimeout(function(){This.onIceGatheringCompleted()},3e3)}}};safariWebrtcSession.prototype.onSetLocalDescriptionError=function(s_error,This){tsk_utils_log_error("onSetLocalDescriptionError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){tsk_utils_log_error(s_error.toString());This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};safariWebrtcSession.prototype.setRemoteDescription=function(o_sdp,b_is_offer){function setRo(){var rtcSDP=This.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=This.o_sdp_ro.toString();if(This.o_pc.signalingState==="stable"){tsk_utils_log_warn("Description type incompatible with current signaling state: "+This.o_pc.signalingState);if(sendInviteQueue.length===1&&sendInviteQueue[0].s_action==="adjustVideoResolution"){sendInviteQueue=[]}if(sendInviteQueue.length===0&&send491InviteQueue.length===1&&send491InviteQueue[0].s_action==="adjustVideoResolution"){send491InviteQueue=[]}return}ro_sdp=bitrateControl(ro_sdp,This.e_role.s_name);This.o_pc.setRemoteDescription(new rtcSDP({type:b_is_offer?"offer":"answer",sdp:ro_sdp}),function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}var This=this;This.o_sdp_ro=o_sdp;if(!This.decorateRo()){return}if(This.o_local_stream){setTimeout(setRo,1e3)}else{setRo()}};safariWebrtcSession.prototype.onSetRemoteDescriptionSuccess=function(This){tsk_utils_log_info("onSetRemoteDescriptionSuccess(PC: "+This.e_role.s_name+")");if(This.cb_action_callback){This.cb_action_callback()}};safariWebrtcSession.prototype.onSetRemoteDescriptionError=function(s_error,This){tsk_utils_log_error("onSetRemoteDescriptionError( PC: "+This.e_role.s_name+" )");tsk_utils_log_error(s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)};safariWebrtcSession.prototype.onIceCandidate=function(o_event,This){tsk_utils_log_info("onIceCandidate type: "+this.e_role.s_name);var host_ip;var iceState=This.o_pc.iceGatheringState||This.o_pc.iceConnectionState;if(o_event.candidate&&tsk_string_candidate){if(host_ip=tsk_string_candidate(o_event.candidate.candidate,"host")){tsk_utils_log_info("__MyOnIceCandidate  host type: "+host_ip)}}tsk_utils_log_info("onIceCandidate: "+iceState);if(iceState=="completed"||iceState==="complete"||o_event&&!o_event.candidate){tsk_utils_log_info("__MyOnIceCandidate: ICE GATHERING COMPLETED( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}else if(iceState=="failed"){tsk_utils_log_error("onIceCandidate: ice state is 'failed'");This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role)}var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");if(s_value=="true"){if(o_event.candidate&&o_event.candidate.candidate.indexOf("9 typ host tcp")>0){return}This.sendInfoForTrickleIce({candidate:o_event.candidate?o_event.candidate.candidate:null,type:This.e_role.s_name})}};safariWebrtcSession.prototype.onIceGatheringCompleted=function(){if(!this.o_pc){tsk_utils_log_error("onIceGatheringCompleted: o_pc is null");this.webrtcJsepError({This:this});return}if(this.o_ice_timer){clearTimeout(this.o_ice_timer);this.o_ice_timer=null}if(!this.b_sdp_lo_pending){tsk_utils_log_warn("onIceGatheringCompleted but no local sdp request is pending");return}tsk_utils_log_info("onIceGatheringCompleted set b_sdp_lo_pending to false( PC: "+this.e_role.s_name+" )");this.b_sdp_lo_pending=false;var localDescription=this.o_pc.localDescription;if(localDescription){if(!this.o_sdp_lo){this.o_sdp_jsep_lo=localDescription;this.o_sdp_lo=tsdp_message.prototype.Parse(this.o_sdp_jsep_lo.sdp)}if(this.decorateLo()){if(!this.b_sdp_lo_pending){tsk_utils_log_info("onIceGatheringCompleted( PC: "+this.e_role.s_name+" )");this.getLoSuccess()}}else{tsk_utils_log_error("localDescription have no candidates( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}}else{tsk_utils_log_error("localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};safariWebrtcSession.prototype.onSignalingStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_info("PeerConnection is null: unexpected");return}tsk_utils_log_info("onSignalingStateChange type: "+This.e_role.s_name+", signalingState: "+This.o_pc.signalingState)};safariWebrtcSession.prototype.onConnectionStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_error("PeerConnection is null: unexpected");return}tsk_utils_log_info("onConnectionStateChange type: "+This.e_role.s_name+", connectionState: "+This.o_pc.connectionState)};safariWebrtcSession.prototype.onNegotiationNeeded=function(o_event,This){tsk_utils_log_info("onNegotiationNeeded type: "+This.e_role.s_name)};safariWebrtcSession.prototype.decorateLo=function(){tsk_utils_log_info("decorateLo type: "+this.e_role.s_name);if(this.o_sdp_lo){switch(this.e_role){case tmedia_pc_type_e.AUDIO:break;case tmedia_pc_type_e.MAIN:break;case tmedia_pc_type_e.SLIDES:break;default:tsk_utils_log_warn("decorateLo: Unknown type");break}}return this.commonDecorateLo(true,this)};safariWebrtcSession.prototype.decorateRo=function(){tsk_utils_log_info("decorateRo type: "+this.e_role.s_name);var This=this;this.commonDecorateRo(false,this);function refreshMainVideo(){if(This.b_main_stream_resolution_change&&device.desktop()&&This.o_sessions.o_video_main.o_pc.getSenders().length>0){tsk_utils_log_warn("need negotiate main video");This.o_sessions.o_video_main.negotiateMainVideoResolution()}else{tsk_utils_log_warn("Because donnot open the camera, need not negotiate main video")}}switch(this.e_role){case tmedia_pc_type_e.AUDIO:refreshMainVideo();break;case tmedia_pc_type_e.MAIN:if(this.o_pc.signalingState=="stable"&&this.o_action=="videoOn"){var sender=This.o_pc.getSenders();if(device.desktop()&&sender&&sender.length>0&&sender[sender.length-1].track&&sender[sender.length-1].track.readyState==="live"){tsk_utils_log_warn("handleStream b_again is true!!");return this.handleStream(true)}else{return this.handleStream()}}else if(this.o_action=="adjustVideoResolution"){refreshMainVideo()}break;case tmedia_pc_type_e.SLIDES:refreshMainVideo();break;default:tsk_utils_log_warn("decorateRo: Unknown type");break}return error_status_e.err_status_ok};safariWebrtcSession.prototype.handleStream=function(b_again){tsk_utils_log_info("handleStream type: "+this.e_role.s_name);var This=this;if(this.s_holdresume_attr_ro=="sendrecv"){tsk_utils_log_info("handleStream: video on succeed, and send the next re-invite");var previous_resolution=null;if(this.o_sdp_ro_bak){var o_hdr_M=this.o_sdp_ro_bak.get_header(tsdp_header_type_e.M);previous_resolution=o_hdr_M.get_resolution();this.o_sdp_ro_bak=This.o_sdp_ro}tsk_utils_log_info("handleStream o_resolution_up_sdp: "+this.o_resolution_up_sdp.height);tsk_utils_log_info("handleStream previous_resolution: "+previous_resolution.height);tsk_utils_log_info("handleStream o_resolution_up_Actual: "+this.o_resolution_up_Actual);var right=this.o_resolution_up_sdp&&this.o_resolution_up_sdp.height==previous_resolution.height||this.o_resolution_up_Actual==this.o_resolution_up_sdp.height;right=device.desktop()?right:true;tsk_utils_log_warn("handleStream resolution right",right);var sender=This.o_pc.getSenders();tsk_utils_log_info("handleStream sender:");if(right&&sender&&sender.length>0&&sender[sender.length-1].track&&sender[sender.length-1].track.readyState==="live"){tsk_utils_log_warn("handleStream: The resolution is just right, video on succeed");this.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_ON});SipMgr.removeInviteAction({func_name:"handleStream",o_dialog:This.o_mgr.o_usr_data});this.o_action=null;return error_status_e.err_status_ok}function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("onStateChange: invalid argument");return}if(o_event.o_state==jsep_states_e.CREATEOFFER){if(o_event.o_sdp){tsk_utils_log_info("onStateChange: createOfferSuccess");This.o_sdp_lo=tsdp_message.prototype.Parse(o_event.o_sdp);This.decorateLo()}else{tsk_utils_log_info("onStateChange: no local sdp");This.actionResult({o_action:action_type_e.FAILED_TO_VIDEO_ON})}}else if(o_event.o_state==jsep_states_e.SETREMOTE){tsk_utils_log_info("onStateChange: SetRemoteDescriptionSuccess, send re-invite");if(sendInviteQueue.length<=0&&send491InviteQueue&&send491InviteQueue[0]&&send491InviteQueue[0].s_action==="videoOn"){sendInviteQueue.push(send491InviteQueue[0])}if(sendInviteQueue.length>0){This.cleanSession({b_stop:false,b_retain_lo:true,o_session:This});This.o_mgr.o_usr_data.send_offer(true,sendInviteQueue[0].b_force_sdp,sendInviteQueue[0].s_action);send491InviteQueue=[]}}}function handleStreamOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("handleStreamOnNegotiationNeeded: videoOn succeed, and send the next re-invite");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange});return}function getStream(data){var o_stream=data.o_stream;tsk_utils_log_info("getStreamSuccess, stream id: "+o_stream.id);This.o_pc.onnegotiationneeded=null;This.o_local_stream=o_stream;This.o_local_streams.o_video_stream=o_stream;This.o_mgr.my_set_stream_local(o_stream,This.e_role);This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);This.processAddStream(o_stream,handleStreamOnNegotiationNeeded);return}function closeStream(){SipMgr.closeStream(This.o_local_streams.o_video_stream);This.o_resolution_up_Actual=This.o_resolution_up_sdp.height;tsk_utils_log_info("closeStream o_resolution_up_Actual: "+This.o_resolution_up_Actual);This.getNewStream({callback:getStream,This:This})}if(!This.o_resolution_up_sdp){This.o_resolution_up_sdp=previous_resolution}if(b_again){function onnegotiationneededAgain(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("onnegotiationneededAgain");closeStream()}This.o_pc.onnegotiationneeded=null;This.processRemoveStream(This.o_local_stream);onnegotiationneededAgain()}else{closeStream()}}else{tsk_utils_log_warn("video on failed");var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");o_hdr_M.set_a_holdresume_attr("sendrecv","recvonly");SipMgr.closeStream(This.o_local_streams.o_video_stream);This.o_local_streams.o_video_stream=null;this.actionResult({o_action:action_type_e.FAILED_TO_VIDEO_ON});SipMgr.removeInviteAction({func_name:"handleStream",o_dialog:This.o_mgr.o_usr_data})}return error_status_e.err_status_fail};safariWebrtcSession.prototype.dealtWithRo=function(o_sdp,b_is_offer){};safariWebrtcSession.prototype.getContentForTrickleIce=function(s_candidates,b_gathering){function getContent(sdp){function generateContent(result){if(!result){return}var s_content;for(var i=0;i<result.length;i++){if(s_content){s_content+=result[i]}else{s_content=result[i]}}return s_content}var result;var s_content="m=audio 9 RTP/AVP 0"+"\r\n"+"a=mid:"+This.getModifiedMid(This.e_role.s_name)+"\r\n";var regs=[/a=ice-ufrag:[\w\/\+\-]+\r\n/,/a=ice-pwd:[\w\/\+\-]+\r\n/];for(var i=0;i<regs.length;i++){result=sdp.match(regs[i]);if(s_content){s_content+=generateContent(result)}else{s_content=generateContent(result)}}if(s_candidates&&s_candidates.length>0){for(var i=0;i<s_candidates.length;i++){s_content+=s_candidates[i]}}if(b_gathering){s_content+="a=end-of-candidates\r\n"}return s_content}tsk_utils_log_warn("getContentForTrickleIce safari("+this.e_role.s_name+")");var This=this;var localDescription=this.o_pc.localDescription;if(localDescription){return getContent(localDescription.sdp)}else{tsk_utils_log_error("getContentForTrickleIce: localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};safariWebrtcSession.prototype.initApi=function(){this.o_action=null;this.s_holdresume_attr_ro=null;this.o_resolution_up_Actual=null;this.o_resolution_up_sdp=null;this.o_sdp_ro_bak=null;this.o_video_constraints=null;this.cb_action_callback=null};safariWebrtcSession.prototype.audioRefresh=function(){tsk_utils_log_info("safari audio refresh");this.o_action="audioRefresh";this.cb_action_callback=audioRefreshResult;var This=this;function audioRefreshResult(){tsk_utils_log_info("audioRefresh succeed");This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"audioRefresh",o_dialog:This.o_mgr.o_usr_data})}function audioRefreshAddStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("audioRefresh add stream");if(This.o_pc.getSenders().length>0){This.o_local_stream=This.o_local_streams.o_audio_stream;if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("audioRefreshAddStreamOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}}}function audioRefreshRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("audioRefresh remove stream");This.o_pc.onnegotiationneeded=null;This.processAddStream(This.o_local_streams.o_audio_stream,audioRefreshAddStreamOnNegotiationNeeded)}if(!this.o_local_streams.o_audio_stream){tsk_utils_log_info("audioRefresh: no stream");return}this.cleanSession({b_stop:false,b_retain_lo:false,o_session:This});this.o_mgr.my_set_stream_local(this.o_local_streams.o_audio_stream,this.e_role);var sender=this.o_pc.getSenders();tsk_utils_log_info("audioRefresh sender: \n",sender);if(sender&&sender[sender.length-1].track){This.o_pc.onnegotiationneeded=null;This.processRemoveStream(this.o_local_stream);audioRefreshRemoveStreamOnNegotiationNeeded()}else{This.o_pc.onnegotiationneeded=null;This.processAddStream(this.o_local_streams.o_audio_stream,audioRefreshAddStreamOnNegotiationNeeded)}return null};safariWebrtcSession.prototype.videoOn=function(){tsk_utils_log_info("safari video on");this.o_action="videoOn";var o_hdr_O;if(o_hdr_O=this.o_sdp_lo.get_header(tsdp_header_type_e.O)){o_hdr_O.i_sess_version=this.attr.i_sdp_lo_version;this.attr.i_sdp_lo_version++}this.o_sdp_ro_bak=this.o_sdp_ro;this.cleanSession({b_stop:false,b_retain_lo:true,o_session:this});return null};safariWebrtcSession.prototype.videoOff=function(){var This=this;tsk_utils_log_info("safari video off");function videoOffOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("videoOffOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("videoOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function videoOffResult(){tsk_utils_log_info("Video off succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_OFF});This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOff",o_dialog:This.o_mgr.o_usr_data})}if(this.o_local_stream){this.o_pc.onnegotiationneeded=null;this.processRemoveStream(this.o_local_stream);this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});var sender=This.o_pc.getSenders();tsk_utils_log_info("videoOff sender: \n",sender);videoOffOnNegotiationNeeded()}else{tsk_utils_log_info("It don not video on now, just return");var o_hdr_O;if(o_hdr_O=this.o_sdp_lo.get_header(tsdp_header_type_e.O)){o_hdr_O.i_sess_version=this.attr.i_sdp_lo_version;this.attr.i_sdp_lo_version++}return}this.o_local_stream=null;this.o_action="videoOff";this.cb_action_callback=videoOffResult;return null};safariWebrtcSession.prototype.adjustVideoResolution=function(){var This=this;tsk_utils_log_info("safari adjust video resolution");function adjustVideoResolutionResult(){tsk_utils_log_info("adjust video resolution succeed");This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}if(this.attr.o_codec){this.o_action="adjustVideoResolution";this.cb_action_callback=adjustVideoResolutionResult;this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("videoOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;if(adapter.browserDetails.UIVersion<="12.1"||this.o_pc.getSenders()[0]&&this.o_pc.getSenders()[0].track){This.createLocalDescription()}else{var fakeTrack=this.o_pc.getReceivers()[0].track.clone();fakeTrack.muted=true;this.o_pc.getSenders()[0].replaceTrack(fakeTrack).then(function(){This.createLocalDescription();This.o_pc.getSenders()[0].replaceTrack(null)}).catch(function(error){tsk_utils_log_error(error.name+": "+error.message)})}}}else{tsk_utils_log_info("adjustVideoResolution: no codec");SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}return null};safariWebrtcSession.prototype.negotiateMainVideoResolution=function(){var user_data={};var This=this;user_data.s_action="negotiateMainVideoResolution";tsk_utils_log_info("safari negotiateMainVideoResolution");function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("onStateChange: invalid argument");return}tsk_utils_log_info("negotiateMainVideoResolution onStateChange: "+o_event.o_state.s_name);if(o_event.o_state==jsep_states_e.SETREMOTE){This.o_action=null}}function negotiateMainVideoResolutionOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;
tsk_utils_log_info("negotiateMainVideoResolutionOnNegotiationNeeded: videoOn succeed, and send the next re-invite");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange});return}function getStream(data){var o_stream=data.o_stream;tsk_utils_log_info("negotiateMainVideoResolution getStreamSuccess, stream id: "+o_stream.id);This.o_pc.onnegotiationneeded=null;This.o_local_stream=o_stream;This.o_local_streams.o_video_stream=o_stream;This.o_mgr.my_set_stream_local(o_stream,This.e_role);This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);This.processAddStream(o_stream,negotiateMainVideoResolutionOnNegotiationNeeded);return}if(this.o_local_stream){this.o_pc.onnegotiationneeded=function negotiateMainVideoResolution(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateMainVideoResolution, remove old stream succeed")};this.processRemoveStream(this.o_local_stream);SipMgr.closeStream(this.o_local_stream);This.getNewStream({callback:getStream,This:This})}else{tsk_utils_log_info("toggleMutePresentation: no local stream");return}return null};safariWebrtcSession.prototype.handleOffer=function(o_sdp){tsk_utils_log_info("safari handle offer");var This=this;var o_hdr_M=o_sdp.get_header_m_by_name("video");this.attr.o_ro_codec=o_hdr_M.get_priority();var o_hdr_A_ro=o_hdr_M.find_a("sendonly");tsk_utils_log_info("common_judgment_e isCameraSharing: "+common_judgment_e.isCameraSharing);if(!common_judgment_e.isCameraSharing||o_hdr_A_ro){tsk_utils_log_warn("handleOffer: webrtc didn't open the camera");this.noNegotiation({o_session:this});return}if(send491InviteQueue&&send491InviteQueue[0]&&send491InviteQueue[0].s_action==="videoOff"&&o_hdr_M.find_a("sendrecv")){tsk_utils_log_info("handleOffer: do not handle the offer in addition for user close the camera");o_hdr_M.set_a_holdresume_attr("sendrecv","recvonly");this.noNegotiation({o_session:this});send491InviteQueue=[];return}var resolution=o_hdr_M.get_resolution();var maxResolution=getMaxResolution(resolution);tsk_utils_log_info("resolution(from current sdp): "+maxResolution.height);tsk_utils_log_info("resolution(from previous sdp): "+this.o_resolution_up_sdp.height);if(maxResolution.height===this.o_resolution_up_sdp.height){tsk_utils_log_info("handleOffer: resolution is just right");this.noNegotiation({o_session:this});if(send491InviteQueue.length>0&&send491InviteQueue[0].s_action==="doIceRestart"||sendInviteQueue.length>0&&sendInviteQueue[0].s_action==="doIceRestart"){var iceRestartInterval=setInterval(function(){if(parseInt(recvInviteCseq)===parseInt(sendInvite200okCseq)){tsk_utils_log_info("ice restart interval trigger");clearInterval(iceRestartInterval);This.iceConnectFailed()}},500)}}else{tsk_utils_log_info("handleOffer: handle remote sdp");SipMgr.closeStream(SipMgr.sipGetStream("video",true));this.o_resolution_up_sdp=maxResolution;this.o_action="handleOffer";this.cleanSession({b_stop:false,b_retain_lo:false,o_session:this});this.o_sdp_ro=o_sdp;this.decorateRo();this.getNewStream({callback:This.negotiateResolution,This:this});var user_data={};user_data.s_action="handleOffer";user_data.resolution=maxResolution;user_data.sdp=o_sdp;sendInviteQueue.push(user_data);var invite_session=this.o_mgr.o_usr_data.o_session;invite_session.__my_set_pc(tmedia_pc_type_e.MAIN)}};safariWebrtcSession.prototype.negotiateResolution=function(data){var This=data.o_session;var o_stream=data.o_stream;tsk_utils_log_info("safari negotiate resolution");function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("negotiateResolution: invalid argument");return}if(o_event.o_state==jsep_states_e.CREATEOFFER){if(o_event.o_sdp){tsk_utils_log_info("negotiateResolution: createOfferSuccess");This.o_sdp_lo=tsdp_message.prototype.Parse(o_event.o_sdp);This.decorateLo();This.getLoSuccess()}else{tsk_utils_log_info("negotiateResolution: no local sdp");This.webrtcJsepError({This:This})}}else if(o_event.o_state==jsep_states_e.SETREMOTE){tsk_utils_log_info("negotiateResolution: SetRemoteDescriptionSuccess");SipMgr.removeInviteAction({func_name:"handleOffer",o_dialog:This.o_mgr.o_usr_data})}}function negotiateResolutionOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded sessionJsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}return}var stream=This.o_local_streams.o_video_stream||This.o_local_stream;if(stream){This.o_pc.onnegotiationneeded=null;function negotiateResolutionRemoveStream(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateResolution, remove old stream succeed");This.o_mgr.my_set_stream_local(o_stream,This.e_role);This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);This.o_local_stream=o_stream;This.o_local_streams.o_video_stream=o_stream;This.o_pc.onnegotiationneeded=null;This.processAddStream(This.o_local_stream,negotiateResolutionOnNegotiationNeeded)}This.processRemoveStream(stream);negotiateResolutionRemoveStream()}else{tsk_utils_log_info("negotiateResolution: no local stream");return}return};safariWebrtcSession.prototype.initIce=function(){this.ice={};this.ice.o_failure_num=0;this.ice.b_ice_failed=false};safariWebrtcSession.prototype.onIceConnectionStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_info("onIceConnectionStateChange: PeerConnection is null");return}if(This.o_pc.iceConnectionState){tsk_utils_log_info("onIceConnectionStateChange this type: "+This.e_role.s_name+", iceConnectionState: "+This.o_pc.iceConnectionState);var dialog=this.o_mgr.o_usr_data;switch(This.o_pc.iceConnectionState){case"completed":if(sendInviteQueue.length===0&&send491InviteQueue.length>0){for(var i=0;i<send491InviteQueue.length;i++){tsk_utils_log_info("add inviteQueue to sendInviteQueue"+send491InviteQueue[i].s_type);sendInviteQueue.push(send491InviteQueue[i])}send491InviteQueue=[]}if(sendInviteQueue.length>0&&sendInviteQueue[0].s_action=="doIceRestart"){This.iceConnectSuccessed()}var s_content=null;if(dialog.o_trickle_ice.length>0&&SipMgr.getConfFromLocalStorage("ice_lite")!="true"){for(var i=0;i<dialog.o_trickle_ice.length;i++){var length=dialog.o_trickle_ice[i].s_contents.length;if(dialog.o_trickle_ice[i].s_type==this.e_role.s_name){var b_commpleted=dialog.o_trickle_ice[i].b_commpleted;if(b_commpleted){if(dialog.o_trickle_ice[i].s_contents[length-1].indexOf("end-of-candidates")<0){dialog.o_trickle_ice[i].s_contents[length-1]+="a=end-of-candidates\r\n"}}}if(s_content){s_content+=dialog.o_trickle_ice[i].s_contents[length-1]}else{s_content=dialog.o_trickle_ice[i].s_contents[length-1]}}}if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"){send_info_for_trickle_ice(dialog,s_content)}dialog.b_ready_send_info=false;break;case"failed":This.iceConnectFailed();break;default:break}}};safariWebrtcSession.prototype.iceConnectSuccessed=function(){tsk_utils_log_info("iceConnectSuccessed(PC: "+this.e_role.s_name+")");if(SipMgr.correctIceSession(this.e_role)){var This=this;this.ice.b_ice_failed=false;this.ice.o_failure_num=0;this.iceRestartSuccess({o_session:this});SipMgr.removeInviteAction({func_name:"iceConnectSuccessed",o_dialog:This.o_mgr.o_usr_data})}else{checkInviteQueue(1,this)}};safariWebrtcSession.prototype.iceConnectFailed=function(b_retransmission){this.o_pc.onnegotiationneeded=null;tsk_utils_log_warn("iceConnectFailed, o_failure_num: "+this.ice.o_failure_num+"  (PC:"+this.e_role.s_name+")");if(this.ice.o_failure_num>=3){tsk_utils_log_error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}else{this.ice.b_ice_failed=true;this.handleICE()}if(this.ice.o_failure_num==0){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED_FIRST,this.e_role.s_name)}this.ice.o_failure_num++};safariWebrtcSession.prototype.handleICE=function(){var This=this;var dialog=this.o_mgr.o_usr_data;if(!dialog){tsk_utils_log_error("handleICE: Failed find the invite dialog!");this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);return}if(!This.s_action&&This.cb_action_callback){tsk_utils_log_info("clear the residual cb_action_callback!");This.cb_action_callback=null}this.o_action="doIceRestart";tsk_utils_log_warn("now "+this.e_role.s_name+" media do ice restart!");checkInviteQueue(0,this);var user_data={};user_data.s_action="doIceRestart";switch(this.e_role){case tmedia_pc_type_e.AUDIO:return dialog.o_session.audioRefresh(user_data);case tmedia_pc_type_e.MAIN:return dialog.o_session.videoRefresh(user_data);case tmedia_pc_type_e.SLIDES:return dialog.o_session.PresntRefresh(user_data);default:break}};safariWebrtcSession.prototype.doIceRestart=function(){tsk_utils_log_info("safari doIceRestart, type: "+this.e_role.s_name);this.cleanSession({b_stop:true,o_session:this});checkInviteQueue(1,this)};safariWebrtcSession.prototype.iceRestartInviteRetransmission=function(){tsk_utils_log_info("safari iceRestartInviteRetransmission,  type:"+this.e_role.s_name);if(this.ice.o_failure_num>=3){tsk_utils_log_error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}this.ice.o_failure_num++;this.getLoSuccess()};function checkInviteQueue(i_index,o_session){function pollingInviteQueue(s_type){for(var i=i_index;i<sendInviteQueue.length;i++){log.info("checkInviteQueue s_type:"+sendInviteQueue[i].s_type);if(sendInviteQueue[i].s_type==s_type&&sendInviteQueue[i].s_action=="doIceRestart"){log.warn("remove checkInviteQueue s_type:"+sendInviteQueue[i].s_type);if(i_index===0){SipMgr.removeInviteAction({func_name:"checkInviteQueue",o_dialog:o_session.o_mgr.o_usr_data})}else{sendInviteQueue.splice(i,1);i--}}}}switch(o_session.e_role){case tmedia_pc_type_e.AUDIO:pollingInviteQueue("audioRefresh");break;case tmedia_pc_type_e.MAIN:pollingInviteQueue("videoRefresh");break;case tmedia_pc_type_e.SLIDES:pollingInviteQueue("presentRefresh");break;default:break}return}safariWebrtcSession.prototype.getNewStream=function(data){var This=this;tsk_utils_log_info("getNewStream");var maxResolution=getMaxResolution(This.o_resolution_up_sdp);this.o_video_constraints={audio:false,video:{width:{ideal:maxResolution.width,max:maxResolution.width},height:{ideal:maxResolution.height,max:maxResolution.height}}};if(maxResolution.width===640||!common_judgment_e.b_desktop_pc){if(this.attr.b_mac_pro){tsk_utils_log_info("this pc is MacBook Pro, use 640*480");this.o_video_constraints.video.width.ideal=640;this.o_video_constraints.video.height.ideal=480}else{this.o_video_constraints.video.width.ideal=320;this.o_video_constraints.video.height.ideal=240}}else if(maxResolution.width===1280){this.o_video_constraints.video.width.ideal=640;this.o_video_constraints.video.height.ideal=480}else if(maxResolution.width===1920){this.o_video_constraints.video.width.ideal=1280;this.o_video_constraints.video.height.ideal=720}var deviceId=null,label=null;for(var i=videoInputDevices.length;i--;){if(videoInputDevices[i].state==="applyed"){deviceId=videoInputDevices[i].deviceId;label=videoInputDevices[i].label}}if(deviceId){this.o_video_constraints.video.deviceId={};this.o_video_constraints.video.deviceId.exact=deviceId}this.o_resolution_up_Actual=maxResolution.height;this.o_video_constraints=setFacingMode(this.o_video_constraints);tsk_utils_log_info("getNewStream constraint: \n"+JSON.stringify(this.o_video_constraints,null,"    "));navigator.getUserMedia(this.o_video_constraints,function(o_stream){tsk_utils_log_info("getNewStream get stream succeed");data.callback({o_stream:o_stream,o_session:This})},function(s_error){This.getUserMediaRepeatedly({s_error:s_error,o_session:This,o_contains:This.o_video_constraints,o_success_func:data.callback,o_error_func:This.webrtcJsepError,This:data.This})})};safariWebrtcSession.prototype.getUserMediaRepeatedly=function(data){var This=this;tsk_utils_log_info("getUserMediaRepeatedly s_error: "+data.s_error.name+", o_resolution_up_Actual: "+data.o_session.o_resolution_up_Actual);if(data.o_contains&&data.o_session.o_resolution_up_Actual>=240&&(data.s_error.name==="OverconstrainedError"||data.s_error.name==="TrackStartError"||data.s_error.name==="Error")){var resolution=data.o_contains.video.width.exact?parseInt(data.o_contains.video.width.exact,10):parseInt(data.o_contains.video.width.ideal,10);tsk_utils_log_info("getUserMediaRepeatedly resolution: "+resolution);if(resolution===1920){data.o_contains.video.width.ideal=1280;data.o_contains.video.height.ideal=720;data.o_session.o_resolution_up_Actual=720}else if(resolution===1280){data.o_contains.video.width.exact=640;data.o_contains.video.height.exact=480;data.o_session.o_resolution_up_Actual=360}else if(resolution===640){data.o_contains.video.width.exact=320;data.o_contains.video.height.exact=240;data.o_session.o_resolution_up_Actual=240}else{var hdr_M_video_ro=This.o_sdp_ro.get_header_m_by_name("video");var resolutionOfSdp=hdr_M_video_ro.get_resolution();data.o_contains.video.width=resolutionOfSdp.width;data.o_contains.video.height=resolutionOfSdp.height;data.o_session.o_resolution_up_Actual=resolutionOfSdp.height;This.gumByOtherConstraintsWay({s_error:{name:"Error"},o_session:This,o_contains:This.o_video_constraints,o_success_func:data.o_success_func,o_error_func:data.o_error_func});return}data.o_contains=setFacingMode(data.o_contains);tsk_utils_log_info("getUserMediaRepeatedly o_resolution_up_Actual:"+data.o_session.o_resolution_up_Actual);tsk_utils_log_info("getUserMediaRepeatedly constraint: \n"+JSON.stringify(data.o_contains,null,"    "));navigator.getUserMedia(data.o_contains,function(o_stream){tsk_utils_log_info("getUserMediaRepeatedly get stream succeed");data.o_success_func({o_stream:o_stream,o_session:This})},function(s_error){This.getUserMediaRepeatedly({s_error:s_error,o_session:This,o_contains:This.o_video_constraints,o_success_func:data.o_success_func,o_error_func:data.o_error_func})});return}else{tsk_utils_log_info("getUserMediaRepeatedly getUserMediaError");data.o_error_func({error:data.s_error,This:data.This});return}};safariWebrtcSession.prototype.gumByOtherConstraintsWay=function(data){var This=this;tsk_utils_log_info("gumByOtherConstraintsWay s_error: "+data.s_error.name+", o_resolution_up_Actual: "+data.o_session.o_resolution_up_Actual);if(data.o_contains&&data.o_session.o_resolution_up_Actual>=240&&(data.s_error.name==="OverconstrainedError"||data.s_error.name==="TrackStartError"||data.s_error.name==="Error")){var resolution=parseInt(data.o_contains.video.height);if(resolution===1080){data.o_contains.video.width=1280;data.o_contains.video.height=720;data.o_session.o_resolution_up_Actual=720}else if(resolution===720){data.o_contains.video.width=640;data.o_contains.video.height=480;data.o_session.o_resolution_up_Actual=480}else if(resolution===480){data.o_contains.video.width=640;data.o_contains.video.height=360;data.o_session.o_resolution_up_Actual=360}else if(resolution===360){data.o_contains.video.width=320;data.o_contains.video.height=240;data.o_session.o_resolution_up_Actual=240}else if(resolution===240){data.o_contains.video.width=160;data.o_contains.video.height=120;data.o_session.o_resolution_up_Actual=120}else{tsk_utils_log_info("cannot get stream from the camera");data.o_error_func("getStreamError");return}data.o_contains=setFacingMode(data.o_contains);tsk_utils_log_info("gumByOtherConstraintsWay o_resolution_up_Actual:"+data.o_session.o_resolution_up_Actual);tsk_utils_log_info("gumByOtherConstraintsWay constraint: \n"+JSON.stringify(data.o_contains,null,"    "));navigator.getUserMedia(data.o_contains,function(o_stream){tsk_utils_log_info("gumByOtherConstraintsWay get stream succeed");data.o_success_func({o_stream:o_stream,o_session:This})},function(s_error){This.gumByOtherConstraintsWay({s_error:s_error,o_session:This,o_contains:This.o_video_constraints,o_success_func:data.o_success_func,o_error_func:data.o_error_func})})}else{tsk_utils_log_info("gumByOtherConstraintsWay getUserMediaError");data.o_error_func({error:data.s_error,This:data.This})}};safariWebrtcSession.prototype.getStreamFromDevice=function(data){var This=this;tsk_utils_log_info("getStreamFromDevice streamType: "+data.streamType);tsk_utils_log_info("getStreamFromDevice data: ",data);var getStreamSuccess=function(data){tsk_utils_log_info("getStreamSuccess o_stream id = "+data.stream.id);if(data.streamType=="video"){for(var i=videoInputDevices.length;i--;){if(videoInputDevices[i].deviceId!=data.deviceId){videoInputDevices[i].state=undefined}else{videoInputDevices[i].state="applyed"}}}data.codeType=code_type_e.ACTION_SUCCESSED;data.cb(data)};var getStreamFailed=function(data){var s_error=data.s_error;tsk_utils_log_warn("getStreamFailed: "+s_error.name);var feedback=getGumErrorCode(data.streamType,data.s_error);tsk_utils_log_info("getStreamFailed feedback: "+feedback);data.codeType=feedback;data.cb(data)};var constraint={audio:data.streamType==="audio"?true:false,video:data.streamType==="video"?true:false};if(data.streamType==="audio"&&data.deviceId){constraint.audio={};constraint.audio.deviceId=data.deviceId}else if(data.streamType==="video"){constraint.video={width:{ideal:640,max:640},height:{ideal:480,max:480}};if(data.deviceId){constraint.video.deviceId={};constraint.video.deviceId.exact=data.deviceId}constraint=setFacingMode(constraint)}tsk_utils_log_info("getStreamFromDevice constraint: \n"+JSON.stringify(constraint,null,"    "));navigator.getUserMedia(constraint,function(o_stream){data.stream=o_stream;getStreamSuccess(data)},function(s_error){data.s_error=s_error;data.This=This;getStreamAgainByOtherConstraints(data)});function getStreamAgainByOtherConstraints(data){if(data.streamType==="audio"&&data.deviceId){constraint.audio={};constraint.audio.deviceId=data.deviceId}else if(data.streamType==="video"){constraint.video={width:640,height:480};if(data.deviceId){constraint.video.deviceId={};constraint.video.deviceId.exact=data.deviceId}constraint=setFacingMode(constraint)}tsk_utils_log_info("getStreamFromDevice by other constraint: \n"+JSON.stringify(constraint,null,"    "));navigator.getUserMedia(constraint,function(o_stream){data.stream=o_stream;getStreamSuccess(data)},function(s_error){data.s_error=s_error;data.This=This;getStreamFailed(data)})}};safariWebrtcSession.prototype.getStats=function(pc,selector,successCallback,errorCallback){return pc.getStats(selector,successCallback,errorCallback)};safariWebrtcSession.prototype.processStats=function(report,o_info,b_slides){var This=this;var rtpInfo=This.o_rtpInfo;report.forEach(function(now){if(now.type==="inbound-rtp"||now.type==="inboundrtp"){if(now.id.indexOf("Video")!=-1){if(b_slides){rtpInfo.o_slide_video_in=now}else{rtpInfo.o_video_in=now}}else if(now.id.indexOf("Audio")!=-1){rtpInfo.o_audio_in=now}}else if(now.type==="outbound-rtp"||now.type==="outboundrtp"){if(now.id.indexOf("Video")!=-1){if(b_slides){rtpInfo.o_slide_video_out=now}else{rtpInfo.o_video_out=now}}else if(now.id.indexOf("Audio")!=-1){rtpInfo.o_audio_out=now}}else if(now.type==="track"){if(now.id.indexOf("video")!=-1){if(b_slides){if(now.remoteSource){rtpInfo.o_slide_video_in.frameWidth=now.frameWidth;rtpInfo.o_slide_video_in.frameHeight=now.frameHeight}else{rtpInfo.o_slide_video_out.frameWidth=now.frameWidth;rtpInfo.o_slide_video_out.frameHeight=now.frameHeight}}else{if(now.remoteSource){rtpInfo.o_video_in.frameWidth=now.frameWidth;rtpInfo.o_video_in.frameHeight=now.frameHeight}else{rtpInfo.o_video_out.frameWidth=now.frameWidth;rtpInfo.o_video_out.frameHeight=now.frameHeight}}}else if(now.id.indexOf("audio")!=-1){}}});if(This.o_mgr){This.o_mgr.set_rtp_info(rtpInfo)}};edgeWebrtcSession.prototype=new webrtcSession;function edgeWebrtcSession(e_role,o_mgr){webrtcSession.call(this,o_mgr);this.o_pc=null;this.e_role=e_role?e_role:tmedia_pc_type_e.NONE;this.b_cache_stream=false;this.o_sdp_jsep_lo=null;this.o_sdp_lo=null;this.b_sdp_lo_pending=false;this.o_sdp_ro=null;this.b_sdp_ro_offer=false;this.b_sdp_ro_pending=false;this.o_resolution_contains=null;this.o_local_stream=null;this.o_remote_stream=null;this.o_user_ssrc=null;this.initApi();this.initIce();this.createPeerConnection()}edgeWebrtcSession.prototype.createPeerConnection=function(){if(!this.o_pc){var This=this;var iceservers=this.conf.ao_ice_servers;var icetransportpolicy=this.conf.ao_ice_transport_policy;var RTCpeerConnectionOptional=tsk_other_deep_copy_obj(this.conf.ao_RTCpeerConnection_optional);if(undefined==iceservers||null==iceservers||0==iceservers.length){tsk_utils_log_info("iceServers is null ")}if(undefined==icetransportpolicy||null==icetransportpolicy||0==icetransportpolicy.length){icetransportpolicy="all"}if(undefined==RTCpeerConnectionOptional||null==RTCpeerConnectionOptional){RTCpeerConnectionOptional={optional:[{pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false}]}}else if(RTCpeerConnectionOptional&&RTCpeerConnectionOptional.optional&&RTCpeerConnectionOptional.optional.length>0){RTCpeerConnectionOptional.optional.push({pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false})}if(iceservers){this.o_pc=new window.RTCPeerConnection({iceServers:iceservers,iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}else{this.o_pc=new window.RTCPeerConnection({iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}this.o_pc.onicecandidate=function(o_event){This.onIceCandidate(o_event,This)};this.o_pc.onnegotiationneeded=function(o_event){This.onNegotiationNeeded(o_event,This)};this.o_pc.onsignalingstatechange=function(o_event){This.onSignalingStateChange(o_event,This)};this.o_pc.oniceconnectionstatechange=function(o_event){This.onIceConnectionStateChange(o_event,This)};this.o_pc.onconnectionstatechange=function(o_event){This.onConnectionStateChange(o_event,This)};this.subscribeStreamEvents();if(!this.o_sdp_lo&&!this.b_sdp_lo_pending){this.b_sdp_lo_pending=true;if(this.b_sdp_lo_pending&&this.o_sdp_ro){this.setRemoteDescription(this.o_sdp_ro,true)}else{this.createLocalDescription()}}}};edgeWebrtcSession.prototype.onIceCandidate=function(o_event,This){tsk_utils_log_info("onIceCandidate type: "+this.e_role.s_name);var host_ip;var iceState=This.o_pc.iceGatheringState||This.o_pc.iceConnectionState;if(o_event.candidate&&tsk_string_candidate){if(host_ip=tsk_string_candidate(o_event.candidate.candidate,"host")){tsk_utils_log_info("OnIceCandidate  host type: "+host_ip)}}tsk_utils_log_info("onIceCandidate: "+This.o_pc);if(iceState=="completed"||iceState==="complete"||o_event&&!o_event.candidate){tsk_utils_log_info("OnIceCandidate: ICE GATHERING COMPLETED( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}else if(iceState=="failed"){tsk_utils_log_error("onIceCandidate: ice state is 'failed'");This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role)}var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");if(s_value=="true"){if(o_event.candidate&&o_event.candidate.candidate.indexOf("9 typ host tcp")>0){return}This.sendInfoForTrickleIce({candidate:o_event.candidate?o_event.candidate.candidate:null,type:This.e_role.s_name})}};edgeWebrtcSession.prototype.onNegotiationNeeded=function(o_event,This){tsk_utils_log_info("onNegotiationNeeded type: "+This.e_role.s_name)};edgeWebrtcSession.prototype.onSignalingStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_info("PeerConnection is null: unexpected");return}tsk_utils_log_info("onSignalingStateChange type: "+This.e_role.s_name+", signalingState: "+This.o_pc.signalingState)};edgeWebrtcSession.prototype.onConnectionStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_error("PeerConnection is null: unexpected");return}tsk_utils_log_info("onConnectionStateChange type: "+This.e_role.s_name+", connectionState: "+This.o_pc.connectionState)};edgeWebrtcSession.prototype.subscribeStreamEvents=function(){var This=this;if(This.o_pc){This.o_pc.onaddstream=function(evt){tsk_utils_log_info("__on_add_stream");This.o_mgr.my_set_stream_remote(evt.stream,This.e_role);tsk_utils_log_info("__on_add_stream: edge");This.o_remote_stream=evt.stream;if(This.e_role==tmedia_pc_type_e.MAIN){This.o_remote_stream=null;tsk_utils_log_info("__MyOnIceConnectionStateChange set_stream_remote");This.o_mgr.o_usr_data.signal(tsip_event_code_e.DIALOG_REMOTE_STREM_CHANNGE,"remote stream change","video")}};this.o_pc.onremovestream=function(evt){tsk_utils_log_info("__on_remove_stream")}}};edgeWebrtcSession.prototype.createLocalDescription=function(){tsk_utils_log_info("create sdp( PC: "+this.e_role.s_name+" )");switch(this.e_role){case tmedia_pc_type_e.SLIDES:if(this.o_local_streams.o_present_stream&&this.o_pc.getSenders().length==0){this.o_pc.onnegotiationneeded=null;this.o_pc.addStream(this.o_local_streams.o_present_stream);this.o_local_stream=this.o_local_streams.o_present_stream;this.o_mgr.my_set_stream_local(this.o_local_streams.o_present_stream,this.e_role)}break;case tmedia_pc_type_e.MAIN:if(this.o_local_streams.o_video_stream&&this.o_pc.getSenders().length==0){this.o_pc.onnegotiationneeded=null;this.o_pc.addStream(this.o_local_streams.o_video_stream);this.o_local_stream=this.o_local_streams.o_video_stream;this.o_mgr.my_set_stream_local(this.o_local_streams.o_video_stream,this.e_role)}break;case tmedia_pc_type_e.AUDIO:if(this.o_local_streams.o_audio_stream&&this.o_pc.getSenders().length==0){this.o_pc.onnegotiationneeded=null;this.o_pc.addStream(this.o_local_streams.o_audio_stream);this.o_local_stream=this.o_local_streams.o_audio_stream;this.o_mgr.my_set_stream_local(this.o_local_streams.o_audio_stream,this.e_role)}break}var b_answer=(this.b_sdp_ro_pending||this.b_sdp_ro_offer)&&this.o_sdp_ro;var This=this;if(b_answer){tsk_utils_log_info("createAnswer( PC: "+this.e_role.s_name+" )");this.o_pc.createAnswer(function(o_offer){This.onCreateSdpSuccess(o_offer,This)},function(s_error){This.onCreateSdpError(s_error,This)})}else{var o_media_constraints=null;if(this.e_role==tmedia_pc_type_e.AUDIO){o_media_constraints={offerToReceiveAudio:true,offerToReceiveVideo:false}}else if(this.e_role==tmedia_pc_type_e.MAIN||this.e_role==tmedia_pc_type_e.SLIDES){o_media_constraints={offerToReceiveAudio:false,offerToReceiveVideo:true}}tsk_utils_log_info("createoffer( PC: "+this.e_role.s_name+" )");this.o_pc.createOffer(function(o_offer){This.onCreateSdpSuccess(o_offer,This)},function(s_error){This.onCreateSdpError(s_error,This)},o_media_constraints)}};edgeWebrtcSession.prototype.onCreateSdpSuccess=function(o_sdp,This){tsk_utils_log_info("__MyOnCreateSdpSuccess type: "+This.e_role.s_name);if(This.o_pc){This.o_pc.setLocalDescription(o_sdp,function(o_offer){This.onSetLocalDescriptionSuccess(This)},function(s_error){This.onSetLocalDescriptionError(s_error,This)})}};edgeWebrtcSession.prototype.onCreateSdpError=function(s_error,This){tsk_utils_log_info("onCreateSdpError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){tsk_utils_log_error("error:\n"+s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};edgeWebrtcSession.prototype.onSetLocalDescriptionSuccess=function(This){tsk_utils_log_info("onSetLocalDescriptionSuccess( PC: "+This.e_role.s_name+" )");tsk_utils_log_info("onSetLocalDescriptionSuccess( PC: "+This.o_pc.iceGatheringState||This.o_pc.iceState+" )");var s_value=SipMgr.getConfFromLocalStorage("trickle_ice");tsk_utils_log_warn("trickle_ice:"+s_value);if((This.o_pc.iceGatheringState||This.o_pc.iceState)==="complete"||s_value=="true"){tsk_utils_log_info("onSetLocalDescriptionSuccess send invite( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}};edgeWebrtcSession.prototype.onSetLocalDescriptionError=function(s_error,This){tsk_utils_log_error("onSetLocalDescriptionError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){tsk_utils_log_error(s_error.toString());This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};edgeWebrtcSession.prototype.setRemoteDescription=function(o_sdp,b_is_offer){function setRo(){var rtcSDP=This.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=This.o_sdp_ro.toString();This.o_pc.setRemoteDescription(new rtcSDP({type:b_is_offer?"offer":"answer",sdp:ro_sdp})).then(function(){This.onSetRemoteDescriptionSuccess(This,b_is_offer)}).catch(function(s_error){This.onSetRemoteDescriptionError(s_error,This)})}var This=this;This.o_sdp_ro=o_sdp;This.decorateRo();if(This.o_local_stream){setTimeout(setRo,1e3)}else{setRo()}};edgeWebrtcSession.prototype.onSetRemoteDescriptionSuccess=function(This,b_is_offer){tsk_utils_log_info("onSetRemoteDescriptionSuccess(PC: "+This.e_role.s_name+")");if(b_is_offer){if(This){if(!This.b_sdp_ro_pending&&This.b_sdp_ro_offer)This.o_sdp_lo=null}this.createLocalDescription()}if(This.cb_action_callback){This.cb_action_callback()}};edgeWebrtcSession.prototype.onSetRemoteDescriptionError=function(s_error,This){tsk_utils_log_error("onSetRemoteDescriptionError( PC: "+This.e_role.s_name+" )");tsk_utils_log_error(s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)};edgeWebrtcSession.prototype.onIceGatheringCompleted=function(){if(!this.o_pc){tsk_utils_log_error("onIceGatheringCompleted: o_pc is null");this.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,this.e_role);return}if(!this.b_sdp_lo_pending){tsk_utils_log_warn("onIceGatheringCompleted but no local sdp request is pending");return}tsk_utils_log_info("onIceGatheringCompleted set b_sdp_lo_pending to false( PC: "+this.e_role.s_name+" )");this.b_sdp_lo_pending=false;var localDescription=this.o_pc.localDescription;if(localDescription){if(!this.o_sdp_lo){this.o_sdp_jsep_lo=localDescription;this.o_sdp_lo=tsdp_message.prototype.Parse(this.o_sdp_jsep_lo.sdp)}if(this.decorateLo()){if(!this.b_sdp_lo_pending){tsk_utils_log_info("onIceGatheringCompleted( PC: "+this.e_role.s_name+" )");this.getLoSuccess()}}else{tsk_utils_log_error("localDescription have no candidates( PC: "+this.e_role.s_name+" )");this.webrtcJsepError()}}else{tsk_utils_log_error("localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError()}};edgeWebrtcSession.prototype.decorateLo=function(){var This=this;tsk_utils_log_info("decorateLo type: "+This.e_role.s_name);function get_local_ssrc(hdr_M){var local_ssrc=hdr_M.get_ssrc();if(local_ssrc&&local_ssrc.length>=1){This.o_local_ssrc=local_ssrc[0]}if(local_ssrc&&local_ssrc.length>1){This.o_local_rtx_ssrc=local_ssrc[1]}var local_cname=hdr_M.get_cname();if(local_cname.length>=1){This.o_local_cname=local_cname[0]}}function move_nack_rtx(o_hdr_M){get_local_ssrc(o_hdr_M);if(This.o_local_rtx_ssrc){o_hdr_M.move_ssrc(This.o_local_rtx_ssrc)}o_hdr_M.remove_codecs("rtx");o_hdr_M.move_a("ssrc-group");o_hdr_M.move_nack()}if(This.o_sdp_lo){var o_hdr_M=This.o_sdp_lo.get_header(tsdp_header_type_e.M);if(o_hdr_M.find_a("candidate")){o_hdr_M=This.processDefaultMLineAddrPort(o_hdr_M)}switch(this.e_role){case tmedia_pc_type_e.AUDIO:break;case tmedia_pc_type_e.MAIN:o_hdr_M.remove_codecs("X-H264UC");o_hdr_M.remove_codecs("VP8");o_hdr_M.remove_codecs("x-ulpfecuc");var bDisable_nack_rtx=window.localStorage&&window.localStorage["enable_nack_rtx"]&&window.localStorage["enable_nack_rtx"]=="false";if(bDisable_nack_rtx){move_nack_rtx(o_hdr_M)}break;case tmedia_pc_type_e.SLIDES:o_hdr_M.remove_codecs("X-H264UC");o_hdr_M.remove_codecs("VP8");o_hdr_M.remove_codecs("x-ulpfecuc");var bDisable_nack_rtx=window.localStorage&&window.localStorage["enable_nack_rtx"]&&window.localStorage["enable_nack_rtx"]=="false";if(bDisable_nack_rtx){move_nack_rtx(o_hdr_M)}break;default:tsk_utils_log_warn("commonDecorateLo: Unknown type");break}}return this.commonDecorateLo(true,this)};edgeWebrtcSession.prototype.decorateRo=function(){
tsk_utils_log_info("decorateRo type: "+this.e_role.s_name);this.commonDecorateRo(false,this)};edgeWebrtcSession.prototype.dealtWithRo=function(o_sdp,b_is_offer){};edgeWebrtcSession.prototype.getContentForTrickleIce=function(s_candidates,b_gathering){function getContent(sdp){function generateContent(result){if(!result){return}var s_content;for(var i=0;i<result.length;i++){if(s_content){s_content+=result[i]}else{s_content=result[i]}}return s_content}var result;var s_content="m=audio 9 RTP/AVP 0"+"\r\n"+"a=mid:"+This.getModifiedMid(This.e_role.s_name)+"\r\n";var regs=[/a=ice-ufrag:[\w\/\+\-]+\r\n/,/a=ice-pwd:[\w\/\+\-]+\r\n/];for(var i=0;i<regs.length;i++){result=sdp.match(regs[i]);if(s_content){s_content+=generateContent(result)}else{s_content=generateContent(result)}}if(s_candidates&&s_candidates.length>0){for(var i=0;i<s_candidates.length;i++){s_content+=s_candidates[i]}}if(b_gathering){s_content+="a=end-of-candidates\r\n"}return s_content}tsk_utils_log_warn("getContentForTrickleIce edge("+this.e_role.s_name+")");var This=this;var localDescription=this.o_pc.localDescription;if(localDescription){return getContent(localDescription.sdp)}else{tsk_utils_log_error("getContentForTrickleIce: localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};edgeWebrtcSession.prototype.initApi=function(){this.o_action=null;this.s_holdresume_attr_ro=null;this.o_resolution_up_Actual=null;this.o_resolution_up_sdp=null;this.o_sdp_ro_bak=null;this.o_video_constraints=null;this.cb_action_callback=null;this.b_pausePresentationSource=false};edgeWebrtcSession.prototype.audioRefresh=function(){tsk_utils_log_info("edge audio refresh");this.o_action="audioRefresh";this.cb_action_callback=audioRefreshResult;var This=this;function audioRefreshResult(){tsk_utils_log_info("audioRefresh succeed");This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"audioRefresh",o_dialog:This.o_mgr.o_usr_data})}if(!this.o_local_streams.o_audio_stream){tsk_utils_log_info("audioRefresh: no stream");return}this.o_mgr.my_set_stream_local(this.o_local_streams.o_audio_stream,this.e_role);if(This.o_pc){if(This.o_mgr){This.o_mgr.my_set_stream_remote(null,this.e_role);if(This.o_local_stream){This.o_mgr.my_set_stream_local(null,this.e_role);if(This.o_local_stream.getAudioTracks&&This.o_local_stream.getAudioTracks().length>0){var audioTrackStream=This.o_local_stream.getAudioTracks()[0];audioTrackStream.stop()}try{This.o_pc.removeStream(This.o_local_stream)}catch(e){}}}}This.o_local_stream=null;this.cleanSession({b_stop:true,b_retain_lo:false,o_session:This});return null};edgeWebrtcSession.prototype.videoOn=function(){tsk_utils_log_info("edge video on");var This=this;function videoOnResult(){if(This.s_holdresume_attr_ro=="sendrecv"){tsk_utils_log_info("video On succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_ON});This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data})}else{tsk_utils_log_info("video on failed");var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");o_hdr_M.set_a_holdresume_attr("sendrecv","recvonly");SipMgr.closeStream(This.o_local_streams.o_video_stream);This.o_local_streams.o_video_stream=null;this.actionResult({o_action:action_type_e.FAILED_TO_VIDEO_ON});This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOn",o_dialog:This.o_mgr.o_usr_data})}}this.o_action="videoOn";this.cb_action_callback=videoOnResult;if(This.o_pc){if(This.o_mgr){This.o_mgr.my_set_stream_remote(null,This.e_role)}}This.o_local_stream=null;This.cleanSession({b_stop:true,b_retain_lo:false,o_session:This});return};edgeWebrtcSession.prototype.videoOff=function(){var This=this;tsk_utils_log_info("edge video off");function videoOffOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("videoOffOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("videoOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function videoOffResult(){tsk_utils_log_info("Video off succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_VIDEO_OFF});This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"videoOff",o_dialog:This.o_mgr.o_usr_data})}if(this.o_local_stream){This.o_pc.onnegotiationneeded=videoOffOnNegotiationNeeded;This.o_pc.removeStream(this.o_local_stream);This.o_local_stream=null}else{tsk_utils_log_info("It don not video on now, just return");var o_hdr_O;if(o_hdr_O=this.o_sdp_lo.get_header(tsdp_header_type_e.O)){o_hdr_O.i_sess_version=this.attr.i_sdp_lo_version;this.attr.i_sdp_lo_version++}return}this.o_action="videoOff";this.cb_action_callback=videoOffResult;this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});return null};edgeWebrtcSession.prototype.adjustVideoResolution=function(){var This=this;tsk_utils_log_info("edge adjust video resolution");function adjustVideoResolutionResult(){tsk_utils_log_info("adjust video resolution succeed");This.o_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}var hdr_M_video_ro=this.o_sdp_ro.get_header_m_by_name("video");var previous_codec=hdr_M_video_ro.get_priority();if(previous_codec&&this.attr.o_codec){this.o_action="adjustVideoResolution";this.cb_action_callback=adjustVideoResolutionResult;if(This.o_pc){if(This.o_mgr){This.o_mgr.my_set_stream_remote(null,This.e_role)}}this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});tsk_utils_log_info("edge handle stream: recv "+This.e_role.s_name+" stream")}else{tsk_utils_log_info("adjustVideoResolution: no codec");SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}return null};edgeWebrtcSession.prototype.presentOn=function(){var This=this;tsk_utils_log_info("edge present on");function presentOnOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("presentOnOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("presentOnOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}function presentOnRemoveStreamOnNegotiationNeeded(){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("present on failed, and remove stream");var o_hdr_M=This.o_sdp_lo.get_header_m_by_name("video");o_hdr_M.set_a_holdresume_attr("sendonly","recvonly");This.actionResult({o_action:action_type_e.FAILED_TO_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"presentOn",o_dialog:This.o_mgr.o_usr_data})}function presentOnResult(){if(This.s_holdresume_attr_ro=="recvonly"){tsk_utils_log_info("present On succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"presentOn",o_dialog:This.o_mgr.o_usr_data})}else{tsk_utils_log_info("present on failed");This.o_pc.onnegotiationneeded=presentOnRemoveStreamOnNegotiationNeeded;This.o_pc.removeStream(This.o_local_stream);This.o_local_streams.o_present_stream=null;This.o_local_stream=null;This.o_mgr.my_set_stream_local(null,tmedia_pc_type_e.SLIDES)}}if(this.o_local_streams.o_present_stream){this.o_pc.onnegotiationneeded=presentOnOnNegotiationNeeded;this.o_local_stream=this.o_local_streams.o_present_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.SLIDES);this.o_pc.addStream(this.o_local_streams.o_present_stream)}this.s_action="presentOn";this.cb_action_callback=presentOnResult;this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});return null};edgeWebrtcSession.prototype.presentOff=function(){var This=this;var timer;tsk_utils_log_info("edge present off");function presentOffResult(){tsk_utils_log_info("present Off succeed");This.actionResult({o_action:action_type_e.SUCCESSED_TO_CLOSE_SCREEN_SHARE});This.s_action=null;This.cb_action_callback=null;This.b_pausePresentationSource=false;SipMgr.removeInviteAction({func_name:"presentOff",o_dialog:This.o_mgr.o_usr_data})}if(this.o_local_stream&&this.o_pc.getSenders().length>0){this.o_pc.removeStream(this.o_local_stream);SipMgr.closeStream(this.o_local_stream);this.o_local_stream=null}else{tsk_utils_log_info("presentOff: no local stream");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("presentOffOnNegotiationNeeded createLocalDescription");This.b_sdp_lo_pending=true;This.createLocalDescription()}return}this.s_action="presentOff";this.cb_action_callback=presentOffResult;this.cleanSession({b_stop:true,b_retain_lo:false,o_session:this});return null};edgeWebrtcSession.prototype.switchPresentationSource=function(){this.log.info("edge switch presentation source");this.o_local_stream=this.o_local_streams.o_present_stream;this.o_mgr.my_set_stream_local(this.o_local_stream,tmedia_pc_type_e.SLIDES);this.o_pc.getSenders()[0].replaceTrack(this.o_local_streams.o_present_stream.getVideoTracks()[0]);if(SipMgr.isPausePresent){SipMgr.MuteStream({b_mute:true,type:"present",stream:this.o_local_stream})}this.actionResult({o_action:action_type_e.SUCCESSED_TO_SWITCH_SCREEN_SHARE});SipMgr.removeInviteAction({func_name:"switchPresentationSource",o_dialog:this.o_mgr.o_usr_data});return};edgeWebrtcSession.prototype.toggleMutePresentation=function(b_mute){var This=this;tsk_utils_log_info("edge toggle Mute Presentation");if(this.o_local_stream){this.b_pausePresentationSource=b_mute;for(var i=0;i<this.o_local_stream.getVideoTracks().length;i++){if(b_mute){if(this.o_local_stream.getVideoTracks()[i].enabled==true){tsk_utils_log_info("edge mute present");this.o_local_stream.getVideoTracks()[i].enabled=false}}else{if(this.o_local_stream.getVideoTracks()[i].enabled==false){tsk_utils_log_info("edge unmute present");this.o_local_stream.getVideoTracks()[i].enabled=true}}}}else{tsk_utils_log_info("toggleMutePresentation: no local stream");return}this.s_action="toggleMutePresentation";return null};edgeWebrtcSession.prototype.handleOffer=function(o_sdp,b_had_ro_sdp){tsk_utils_log_info("edge handle offer");var This=this;var o_hdr_M=o_sdp.get_header_m_by_name("video");this.attr.o_ro_codec=o_hdr_M.get_priority();var o_hdr_A_ro=o_hdr_M.find_a("sendonly");tsk_utils_log_info("common_judgment_e isCameraSharing: "+common_judgment_e.isCameraSharing);if(!common_judgment_e.isCameraSharing||o_hdr_A_ro){tsk_utils_log_info("handleOffer: webrtc didn't open the camera");this.noNegotiation({o_session:this});return}var resolution=o_hdr_M.get_resolution();tsk_utils_log_info("resolution(from previous sdp): "+this.o_resolution_up_sdp.height);tsk_utils_log_info("resolution(webrtc actually sent): "+this.o_resolution_up_Actual);if(!resolution||resolution.height==this.o_resolution_up_sdp.height||resolution.height==this.o_resolution_up_Actual){tsk_utils_log_info("handleOffer: resolution is just right");this.noNegotiation({o_session:this});return}tsk_utils_log_info("resolution(from current sdp): "+resolution.height);this.o_resolution_contains={audio:false,video:{frameRate:{max:15},aspectRatio:{min:1.777,max:1.778},width:{exact:640},height:{exact:480}}};this.o_resolution_contains.video.width.exact=resolution.width;this.o_resolution_contains.video.height.exact=resolution.height;tsk_utils_log_info("handleOffer: handle remote sdp");this.cleanSession({b_stop:false,b_retain_lo:true,o_session:this});this.o_resolution_up_sdp=resolution;this.o_action="handleOffer";this.o_sdp_ro=o_sdp;this.b_sdp_ro_offer=true;var invite_session=this.o_mgr.o_usr_data.o_session;invite_session.__my_set_pc(tmedia_pc_type_e.MAIN);this.__my_set_ro(o_sdp,true)};edgeWebrtcSession.prototype.negotiateResolution=function(data){var This=data.o_session;var o_stream=data.o_stream;tsk_utils_log_info("edge negotiate resolution");function onStateChange(o_event){if(!o_event||!o_event.o_state){tsk_utils_log_info("negotiateResolution: invalid argument");return}if(o_event.o_state==jsep_states_e.CREATEOFFER){if(o_event.o_sdp){tsk_utils_log_info("negotiateResolution: createOfferSuccess");This.o_sdp_lo=tsdp_message.prototype.Parse(o_event.o_sdp);This.decorateLo();This.getLoSuccess()}else{tsk_utils_log_info("negotiateResolution: no local sdp");This.webrtcJsepError()}}else if(o_event.o_state==jsep_states_e.SETREMOTE){tsk_utils_log_info("negotiateResolution: SetRemoteDescriptionSuccess");sendInviteQueue.shift();tsk_utils_log_info("sendInviteQueue length: "+sendInviteQueue.length+"(negotiateResolution)");if(sendInviteQueue.length>0){setTimeout(function(){This.o_mgr.o_usr_data.prepare_send_invite()},1)}}}function negotiateResolutionOnNegotiationNeeded(o_event){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded iceGatheringState: "+This.o_pc.iceGatheringState+"( PC:"+This.e_role.s_name+")");if((This.o_pc.iceGatheringState||This.o_pc.iceState)!=="new"){tsk_utils_log_info("negotiateResolutionOnNegotiationNeeded sessionJsep");This.sessionJsep({b_audio:false,o_session:This,onState:onStateChange})}return}var stream=This.o_local_streams.o_video_stream||This.o_local_stream;if(stream){This.o_pc.onnegotiationneeded=null;tsk_utils_log_info("negotiateResolution, remove old stream succeed");This.o_mgr.my_set_stream_local(o_stream,This.e_role);This.o_mgr.callback(tmedia_session_events_e.STREAM_LOCAL_CHANGE,This.e_role);This.o_local_stream=o_stream;This.o_local_streams.o_video_stream=o_stream;This.o_pc.addStream(This.o_local_stream)}else{tsk_utils_log_info("negotiateResolution: no local stream");return}return};edgeWebrtcSession.prototype.initIce=function(){this.ice={};this.ice.o_failure_num=0;this.ice.b_ice_failed=false};edgeWebrtcSession.prototype.onIceConnectionStateChange=function(o_event,This){if(!This.o_pc){tsk_utils_log_info("onIceConnectionStateChange: PeerConnection is null");return}if(This.o_pc.iceConnectionState){tsk_utils_log_info("onIceConnectionStateChange this type: "+This.e_role.s_name+", iceConnectionState: "+This.o_pc.iceConnectionState);if(This.o_pc.iceConnectionState=="connected"&&This.e_role==tmedia_pc_type_e.MAIN){if(This.o_remote_stream){tsk_utils_log_info("onIceConnectionStateChange set_stream_remote");This.o_mgr.o_usr_data.signal(tsip_event_code_e.DIALOG_REMOTE_STREM_CHANNGE,"remote stream change","video");This.o_remote_stream=null}}var dialog=this.o_mgr.o_usr_data;switch(This.o_pc.iceConnectionState){case"completed":if(sendInviteQueue.length>0&&sendInviteQueue[0].s_action=="doIceRestart"){This.iceConnectSuccessed()}var s_content=null;if(dialog.o_trickle_ice.length>0&&SipMgr.getConfFromLocalStorage("ice_lite")!="true"){for(var i=0;i<dialog.o_trickle_ice.length;i++){var length=dialog.o_trickle_ice[i].s_contents.length;if(dialog.o_trickle_ice[i].s_type==this.e_role.s_name){var b_commpleted=dialog.o_trickle_ice[i].b_commpleted;if(b_commpleted){if(dialog.o_trickle_ice[i].s_contents[length-1].indexOf("end-of-candidates")<0){dialog.o_trickle_ice[i].s_contents[length-1]+="a=end-of-candidates\r\n"}}}if(s_content){s_content+=dialog.o_trickle_ice[i].s_contents[length-1]}else{s_content=dialog.o_trickle_ice[i].s_contents[length-1]}}}if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"){send_info_for_trickle_ice(dialog,s_content)}dialog.b_ready_send_info=false;break;case"disconnected":case"failed":This.iceConnectFailed();break;default:break}}};edgeWebrtcSession.prototype.iceConnectSuccessed=function(){if(SipMgr.correctIceSession(this.e_role)){var This=this;this.ice.b_ice_failed=false;this.ice.o_failure_num=0;this.iceRestartSuccess({o_session:this});SipMgr.removeInviteAction({func_name:"iceConnectSuccessed",o_dialog:This.o_mgr.o_usr_data})}else{checkInviteQueue(1,this)}};edgeWebrtcSession.prototype.iceConnectFailed=function(){this.o_pc.onnegotiationneeded=null;tsk_utils_log_warn("iceConnectFailed, o_failure_num: "+this.ice.o_failure_num+"  (PC:"+this.e_role.s_name+")");if(this.ice.o_failure_num>=3){tsk_utils_log_error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}else{this.ice.b_ice_failed=true;this.handleICE()}if(this.ice.o_failure_num==0){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED_FIRST,this.e_role.s_name)}this.ice.o_failure_num++};edgeWebrtcSession.prototype.handleICE=function(){var This=this;var dialog=this.o_mgr.o_usr_data;if(!dialog){tsk_utils_log_error("handleICE: Failed find the invite dialog!");this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);return}this.o_action="doIceRestart";tsk_utils_log_warn("now "+this.e_role.s_name+" media do ice restart!");checkInviteQueue(0,this);var user_data={};user_data.s_action="doIceRestart";switch(this.e_role){case tmedia_pc_type_e.AUDIO:return dialog.o_session.audioRefresh(user_data);case tmedia_pc_type_e.MAIN:return dialog.o_session.videoRefresh(user_data);case tmedia_pc_type_e.SLIDES:return dialog.o_session.PresntRefresh(user_data);default:break}};edgeWebrtcSession.prototype.doIceRestart=function(){tsk_utils_log_info("edge doIceRestart, type: "+this.e_role.s_name);this.cleanSession({b_stop:true,o_session:this});checkInviteQueue(1,this)};edgeWebrtcSession.prototype.iceRestartInviteRetransmission=function(){tsk_utils_log_info("edge iceRestartInviteRetransmission,  type:"+this.e_role.s_name);if(this.ice.o_failure_num>=3){tsk_utils_log_error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}this.ice.o_failure_num++;this.getLoSuccess()};function checkInviteQueue(i_index,o_session){function pollingInviteQueue(s_type){for(var i=i_index;i<sendInviteQueue.length;i++){tsk_utils_log_info("checkInviteQueue s_type:"+sendInviteQueue[i].s_type);if(sendInviteQueue[i].s_type==s_type&&sendInviteQueue[i].s_action=="doIceRestart"){tsk_utils_log_info("remove checkInviteQueue s_type:"+sendInviteQueue[i].s_type);if(i_index===0){SipMgr.removeInviteAction({func_name:"checkInviteQueue",o_dialog:o_session.o_mgr.o_usr_data})}else{sendInviteQueue.splice(i,1);i--}}}}switch(o_session.e_role){case tmedia_pc_type_e.AUDIO:pollingInviteQueue("audioRefresh");break;case tmedia_pc_type_e.MAIN:pollingInviteQueue("videoRefresh");break;case tmedia_pc_type_e.SLIDES:pollingInviteQueue("presentRefresh");break;default:break}return}edgeWebrtcSession.prototype.getStreamFromDevice=function(data){var This=this;tsk_utils_log_info("getStreamFromDevice streamType: "+data.streamType);var getStreamSuccess=function(data){if(!data){return}tsk_utils_log_info("getStreamSuccess o_stream id = "+data.stream.id);if(data.streamType=="video"){for(var i=videoInputDevices.length;i--;){if(videoInputDevices[i].deviceId!=data.deviceId){videoInputDevices[i].state=undefined}else{videoInputDevices[i].state="applyed"}}}data.codeType=code_type_e.ACTION_SUCCESSED;data.cb(data)};var getStreamFailed=function(data){var s_error=data.s_error;var feedback=getGumErrorCode(data.streamType,data.s_error);tsk_utils_log_warn("getStreamFailed: "+s_error.name);tsk_utils_log_info("getStreamFailed feedback: "+feedback);data.codeType=feedback;data.cb(data)};var This=this;tsk_utils_log_info("getStreamFromDevice streamType: "+data.streamType);This.oConstraints={audio:data.streamType==="audio",video:data.streamType==="video"};tsk_utils_log_info("getStreamFromDevice deviceId: "+data.deviceId);if(data.streamType==="audio"&&data.deviceId){This.oConstraints.audio={};This.oConstraints.audio.deviceId={};This.oConstraints.audio.deviceId.exact=data.deviceId}else if(data.streamType==="video"){var currentOpenedCam=common_judgment_e.currcamcount;this.log.warn("currentOpenedCam:"+currentOpenedCam);if(currentOpenedCam>=4){This.oConstraints.video={facingMode:"user",frameRate:{ideal:15},width:{exact:320},height:{exact:240}}}else{This.oConstraints.video={facingMode:"user",frameRate:{ideal:15},width:{ideal:640,max:1280},height:{ideal:480,max:720}}}if(data.deviceId){This.oConstraints.video.deviceId={};This.oConstraints.video.deviceId.exact=data.deviceId}This.oConstraints=setFacingMode(This.oConstraints)}this.log.info("getStreamFromDevice oConstraints: \n"+JSON.stringify(This.oConstraints,null,"    "));navigator.getUserMedia(This.oConstraints,function(o_stream){data.stream=o_stream;getStreamSuccess(data)},function(s_error){data.s_error=s_error;data.This=This;getStreamFailed(data)})};webrtcPluginWebrtcSession.prototype=new webrtcSession;function webrtcPluginWebrtcSession(e_role,o_mgr){webrtcSession.call(this,o_mgr);this.o_pc=null;this.e_role=e_role?e_role:tmedia_pc_type_e.NONE;this.o_sdp_jsep_lo=null;this.o_sdp_lo=null;this.b_sdp_lo_pending=false;this.o_sdp_ro=null;this.b_sdp_ro_pending=false;this.o_local_stream=null;this.o_remote_stream=null;this.o_remote_ssrc=null;this.o_local_ssrc=null;this.o_ice_timer=null;this.initApi();this.initIce();this.initGUM();this.createPeerConnection()}webrtcPluginWebrtcSession.prototype.createPeerConnection=function(){if(!this.o_pc){var This=this;var iceservers=this.conf.ao_ice_servers;var icetransportpolicy=this.conf.ao_ice_transport_policy;var RTCpeerConnectionOptional=tsk_other_deep_copy_obj(this.conf.ao_RTCpeerConnection_optional);if(undefined==iceservers||null==iceservers||0==iceservers.length){this.log.info("iceServers is null ")}if(undefined==icetransportpolicy||null==icetransportpolicy||0==icetransportpolicy.length){icetransportpolicy="all"}if(undefined==RTCpeerConnectionOptional||null==RTCpeerConnectionOptional){RTCpeerConnectionOptional={optional:[{pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false}]}}else if(RTCpeerConnectionOptional&&RTCpeerConnectionOptional.optional&&RTCpeerConnectionOptional.optional.length>0){RTCpeerConnectionOptional.optional.push({pcName:"PC_"+this.e_role.s_name+"_"+Math.random().toString(36).substr(2)},{googDscp:true},{googIPv6:false})}if(iceservers){this.o_pc=new window.RTCPeerConnection({iceServers:iceservers,iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}else{this.o_pc=new window.RTCPeerConnection({iceTransportPolicy:icetransportpolicy},RTCpeerConnectionOptional)}this.o_pc.onicecandidate=function(o_event){This.onIceCandidate(o_event,This)};this.o_pc.onsignalingstatechange=function(o_event){This.onSignalingStateChange(o_event,This)};this.o_pc.oniceconnectionstatechange=function(o_event){This.onIceConnectionStateChange(o_event,This)};this.subscribeStreamEvents();if(!this.o_sdp_lo&&!this.b_sdp_lo_pending){this.b_sdp_lo_pending=true;if(this.b_sdp_lo_pending&&this.o_sdp_ro){this.setRemoteDescription(this.o_sdp_ro,true)}this.createLocalDescription()}}};webrtcPluginWebrtcSession.prototype.subscribeStreamEvents=function(){var This=this;if(this.o_pc){this.o_pc.onaddstream=function(evt){This.log.info("__on_add_stream");This.o_mgr.my_set_stream_remote(evt.stream,This.e_role)};this.o_pc.onremovestream=function(evt){This.log.info("__on_remove_stream");This.o_mgr.my_set_stream_remote(null,This.e_role)}}};webrtcPluginWebrtcSession.prototype.createLocalDescription=function(){var This=this;if(This.e_role.s_name=="audio"&&isAudioCreateOffer==true||This.e_role.s_name=="main"&&isVideoCreateOffer==true||This.e_role.s_name=="slides"&&isSlideCreateOffer==true){this.log.info("After the "+This.e_role.s_name+" channel createOffer has not been setLocalDescription, can not createOffer again!");return}this.log.info("create sdp( PC: "+this.e_role.s_name+" )");if(this.o_local_stream){this.log.info("addStream, id:"+this.o_local_stream.id);this.o_pc.addStream(this.o_local_stream)}var b_answer=this.b_sdp_ro_pending&&this.o_sdp_ro;if(b_answer){this.log.info("createAnswer( PC: "+this.e_role.s_name+" )");this.o_pc.createAnswer(function(o_answer){This.onCreateSdpSuccess(o_answer,This)},function(s_error){This.onCreateSdpError(s_error,This)})}else{var o_media_constraints;if(this.e_role==tmedia_pc_type_e.AUDIO){o_media_constraints={optional:[],mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:false}}}if(this.e_role==tmedia_pc_type_e.MAIN||this.e_role==tmedia_pc_type_e.SLIDES){o_media_constraints={optional:[],mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:true}}}this.log.info("createOffer( PC: "+this.e_role.s_name+" )");if(This.e_role.s_name=="audio"){isAudioCreateOffer=true}else if(This.e_role.s_name=="main"){isVideoCreateOffer=true}else if(This.e_role.s_name=="slides"){isSlideCreateOffer=true}this.o_pc.createOffer(function(o_offer){This.onCreateSdpSuccess(o_offer,This)},function(s_error){This.onCreateSdpError(s_error,This)},o_media_constraints)}};webrtcPluginWebrtcSession.prototype.onCreateSdpSuccess=function(o_sdp,This){This.log.info("onCreateSdpSuccess type: "+This.e_role.s_name);if(This.o_pc){This.o_pc.setLocalDescription(o_sdp,function(o_offer){This.onSetLocalDescriptionSuccess(This)},function(s_error){This.onSetLocalDescriptionError(s_error,This)});if(This.e_role.s_name=="audio"){isAudioCreateOffer=false}else if(This.e_role.s_name=="main"){isVideoCreateOffer=false}else if(This.e_role.s_name=="slides"){isSlideCreateOffer=false}}};webrtcPluginWebrtcSession.prototype.onCreateSdpError=function(s_error,This){This.log.info("onCreateSdpError( PC: "+This.e_role.s_name+" )");if(This.e_role.s_name=="audio"){isAudioCreateOffer=false}else if(This.e_role.s_name=="main"){isVideoCreateOffer=false}else if(This.e_role.s_name=="slides"){isSlideCreateOffer=false}if(This.o_mgr){tsk_utils_log_error("error:\n"+s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};webrtcPluginWebrtcSession.prototype.onSetLocalDescriptionSuccess=function(This){This.log.info("onSetLocalDescriptionSuccess( PC: "+This.e_role.s_name+" )");if((This.o_pc.iceGatheringState||This.o_pc.iceState)==="complete"){This.log.info("onSetLocalDescriptionSuccess send invite( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}};webrtcPluginWebrtcSession.prototype.onSetLocalDescriptionError=function(s_error,This){tsk_utils_log_error("onSetLocalDescriptionError( PC: "+This.e_role.s_name+" )");if(This.o_mgr){tsk_utils_log_error(s_error.toString());This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)}};webrtcPluginWebrtcSession.prototype.setRemoteDescription=function(o_sdp,b_is_offer){var This=this;This.o_sdp_ro=o_sdp;if(!this.decorateRo()){return}var rtcSDP=This.o_pc.RTCSessionDescription||window.RTCSessionDescription;var ro_sdp=This.o_sdp_ro.toString();ro_sdp=bitrateControl(ro_sdp,This.e_role.s_name);var ro_rtcSDP=new rtcSDP({type:b_is_offer?"offer":"answer",sdp:ro_sdp});This.o_pc.setRemoteDescription(ro_rtcSDP,function(o_offer){This.onSetRemoteDescriptionSuccess(This)},function(s_error){This.onSetRemoteDescriptionError(s_error,This)})};webrtcPluginWebrtcSession.prototype.onSetRemoteDescriptionSuccess=function(This){This.log.info("onSetRemoteDescriptionSuccess(PC: "+This.e_role.s_name+")");if(This.cb_action_callback&&This.s_action){This.cb_action_callback()}if(This.o_pc.signalingState&&This.o_pc.signalingState=="have-remote-offer"){This.log.info("start createAnswer(PC: "+This.e_role.s_name+")");This.o_pc.createAnswer(function(o_answer){This.onCreateSdpSuccess(o_answer,This)},function(s_error){This.onCreateSdpError(s_error,This)})}};webrtcPluginWebrtcSession.prototype.onSetRemoteDescriptionError=function(s_error,This){tsk_utils_log_error("onSetRemoteDescriptionError( PC: "+This.e_role.s_name+" )");tsk_utils_log_error(s_error);This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role,s_error)};webrtcPluginWebrtcSession.prototype.onIceCandidate=function(o_event,This){This.log.info("onIceCandidate type: "+This.e_role.s_name);var host_ip;var iceState=This.o_pc.iceGatheringState||This.o_pc.iceConnectionState;This.log.info("onIceCandidate: "+iceState);if(this.o_ice_timer==null&&iceState=="gathering"){this.o_ice_timer=setTimeout(function(){This.onIceGatheringCompleted()},15e3)}if(iceState=="completed"||iceState==="complete"||o_event&&!o_event.candidate){This.log.info("onIceCandidate: ICE GATHERING COMPLETED( PC: "+This.e_role.s_name+" )");This.onIceGatheringCompleted()}else if(iceState=="failed"){tsk_utils_log_error("onIceCandidate: ice state is 'failed'");This.o_mgr.callback(tmedia_session_events_e.GET_LO_FAILED,This.e_role);return}};webrtcPluginWebrtcSession.prototype.onIceGatheringCompleted=function(){if(!this.o_pc){tsk_utils_log_error("onIceGatheringCompleted: o_pc is null");this.webrtcJsepError({This:this});return}if(this.o_ice_timer){clearTimeout(this.o_ice_timer);this.o_ice_timer=null}if(!this.b_sdp_lo_pending){tsk_utils_log_warn("onIceGatheringCompleted but no local sdp request is pending");return}this.log.info("onIceGatheringCompleted set b_sdp_lo_pending to false( PC: "+this.e_role.s_name+" )");this.b_sdp_lo_pending=false;var localDescription=this.o_pc.localDescription;if(localDescription){if(!this.o_sdp_lo){this.o_sdp_jsep_lo=localDescription;this.o_sdp_lo=tsdp_message.prototype.Parse(this.o_sdp_jsep_lo.sdp)}if(this.decorateLo()){if(!this.b_sdp_lo_pending){this.log.info("onIceGatheringCompleted( PC: "+this.e_role.s_name+" )");this.getLoSuccess({This:this})}}else{tsk_utils_log_error("localDescription have no candidates( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}}else{tsk_utils_log_error("localDescription is null( PC: "+this.e_role.s_name+" )");this.webrtcJsepError({This:this})}};webrtcPluginWebrtcSession.prototype.onSignalingStateChange=function(o_event,This){if(!This.o_pc){This.log.info("PeerConnection is null: unexpected");return}This.log.info("onSignalingStateChange type: "+This.e_role.s_name+", signalingState: "+This.o_pc.signalingState)};webrtcPluginWebrtcSession.prototype.decorateLo=function(){this.log.info("decorateLo type: "+this.e_role.s_name);function trimALine(o_hdr_M){o_hdr_M.rebulid_a();o_hdr_M.move_red_ulpfec();o_hdr_M.move_encoder("97")}if(this.o_sdp_lo){var o_hdr_M=this.o_sdp_lo.get_header(tsdp_header_type_e.M);switch(this.e_role){case tmedia_pc_type_e.AUDIO:break;case tmedia_pc_type_e.MAIN:trimALine(o_hdr_M);break;case tmedia_pc_type_e.SLIDES:trimALine(o_hdr_M);break;default:tsk_utils_log_warn("commonDecorateLo: Unknown type");break}}return this.commonDecorateLo(true,this)};webrtcPluginWebrtcSession.prototype.decorateRo=function(){this.log.info("decorateRo type: "+this.e_role.s_name);var This=this;this.commonDecorateRo(false,this);var o_hdr_M=this.o_sdp_ro.get_header(tsdp_header_type_e.M);switch(this.e_role){case tmedia_pc_type_e.AUDIO:break;case tmedia_pc_type_e.MAIN:break;case tmedia_pc_type_e.SLIDES:break;default:tsk_utils_log_warn("decorateRo: Unknown type");break}return error_status_e.err_status_ok};webrtcPluginWebrtcSession.prototype.dealtWithRo=function(o_sdp,b_is_offer){if(this.s_action=="adjustVideoResolution"&&this.cb_action_callback){this.o_sdp_ro=tsk_other_deep_copy_obj(o_sdp);this.decorateRo();this.cb_action_callback()}};webrtcPluginWebrtcSession.prototype.initApi=function(){this.s_action=null;this.cb_action_callback=null};webrtcPluginWebrtcSession.prototype.audioRefresh=function(){function audioRefreshResult(){This.log.info("audioRefresh succeed");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"audioRefresh",o_dialog:This.o_mgr.o_usr_data})}if(!this.o_local_streams.o_audio_stream){this.log.info("audioRefresh: no stream");SipMgr.removeInviteAction({func_name:"audioRefresh",o_dialog:This.o_mgr.o_usr_data});return}var This=this;this.log.info("webrtcPlugin audio refresh");this.s_action="audioRefresh";this.cb_action_callback=audioRefreshResult;this.o_mgr.my_set_stream_local(this.o_local_streams.o_audio_stream,this.e_role);this.cleanSession({b_stop:true,o_session:this});this.o_local_stream=this.o_local_streams.o_audio_stream;
return};webrtcPluginWebrtcSession.prototype.adjustVideoResolution=function(){function adjustVideoResolutionResult(){This.log.info("adjust video resolution succeed");This.s_action=null;This.cb_action_callback=null;SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}var This=this;this.log.info("webrtcPlugin adjust video resolution");if(this.attr.o_codec){this.s_action="adjustVideoResolution";this.cb_action_callback=adjustVideoResolutionResult;var o_hdr_M=this.o_sdp_lo.get_header(tsdp_header_type_e.M);var s_width,s_height;switch(this.attr.o_video_current_recv_resolution){case"1080":s_width="1920";s_height="1080";break;case"720":s_width="1280";s_height="720";break;case"480":s_width="848";s_height="480";break;default:tsk_utils_log_warn("adjustVideoResolution: Unknown resolution");break}o_hdr_M.set_resolution(s_width,s_height);this.noNegotiation({o_session:this})}else{this.log.info("adjustVideoResolution: no codec");SipMgr.removeInviteAction({func_name:"adjustVideoResolution",o_dialog:This.o_mgr.o_usr_data})}return null};webrtcPluginWebrtcSession.prototype.initIce=function(){this.ice={};this.ice.o_failure_num=0;this.ice.b_ice_failed=false};webrtcPluginWebrtcSession.prototype.onIceConnectionStateChange=function(o_event,This){if(!This.o_pc){This.log.info("onIceConnectionStateChange: PeerConnection is null");return}if(This.o_pc.iceConnectionState){This.log.info("onIceConnectionStateChange this type: "+This.e_role.s_name+", iceConnectionState: "+This.o_pc.iceConnectionState);var dialog=this.o_mgr.o_usr_data;switch(This.o_pc.iceConnectionState){case"connected":case"completed":if(sendInviteQueue.length>0&&sendInviteQueue[0].s_action=="doIceRestart"){This.iceConnectSuccessed()}if(dialog.o_trickle_ice.length>0){for(var i=0;i<dialog.o_trickle_ice.length;i++){if(dialog.o_trickle_ice[i].s_type==this.e_role.s_name){dialog.o_trickle_ice.splice(i,1);break}}}else{dialog.b_ready_send_info=false}if(This.e_role==tmedia_pc_type_e.MAIN){This.log.info("update stream remote");This.o_mgr.o_usr_data.signal(tsip_event_code_e.DIALOG_REMOTE_STREM_CHANNGE,"remote stream change","video")}if(This.cb_action_callback&&This.s_action){This.cb_action_callback()}break;case"failed":case"disconnected":This.iceConnectFailed();break;default:break}}};webrtcPluginWebrtcSession.prototype.iceConnectSuccessed=function(){this.log.info("iceConnectSuccessed(PC: "+this.e_role.s_name+")");if(SipMgr.correctIceSession(this.e_role)){var This=this;this.ice.b_ice_failed=false;this.ice.o_failure_num=0;this.iceRestartSuccess({o_session:this});SipMgr.removeInviteAction({func_name:"iceConnectSuccessed",o_dialog:This.o_mgr.o_usr_data})}else{checkInviteQueue(1,this)}};webrtcPluginWebrtcSession.prototype.iceConnectFailed=function(b_retransmission){this.o_pc.onnegotiationneeded=null;this.log.warn("iceConnectFailed, o_failure_num: "+this.ice.o_failure_num+"  (PC:"+this.e_role.s_name+")");if(this.ice.o_failure_num>=3){this.log.error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}else{this.ice.b_ice_failed=true;this.handleICE()}if(this.ice.o_failure_num==0){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED_FIRST,this.e_role.s_name)}this.ice.o_failure_num++};webrtcPluginWebrtcSession.prototype.handleICE=function(){var This=this;var dialog=this.o_mgr.o_usr_data;if(!dialog){this.log.error("handleICE: Failed find the invite dialog!");this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);return}this.o_action="doIceRestart";this.log.warn("now "+this.e_role.s_name+" media do ice restart!");checkInviteQueue(0,this);var user_data={};user_data.s_action="doIceRestart";switch(this.e_role){case tmedia_pc_type_e.AUDIO:return dialog.o_session.audioRefresh(user_data);case tmedia_pc_type_e.MAIN:return dialog.o_session.videoRefresh(user_data);case tmedia_pc_type_e.SLIDES:return dialog.o_session.PresntRefresh(user_data);default:break}};webrtcPluginWebrtcSession.prototype.doIceRestart=function(){this.log.info("webrtcPlugin doIceRestart, type: "+this.e_role.s_name);this.cleanSession({b_stop:true,o_session:this});checkInviteQueue(1,this)};webrtcPluginWebrtcSession.prototype.iceRestartInviteRetransmission=function(){this.log.info("webrtcPlugin iceRestartInviteRetransmission,  type:"+this.e_role.s_name);if(this.ice.o_failure_num>=3){this.log.error("Failed to do ice restart(PC: "+this.e_type.s_name+")");if(!this.b_ICE_has_failed){this.o_mgr.callback(tmedia_session_events_e.ICE_CONNECTIONG_FAILED,this.e_role);this.b_ICE_has_failed=true}}this.ice.o_failure_num++;this.getLoSuccess()};function checkInviteQueue(i_index,o_session){function pollingInviteQueue(s_type){for(var i=i_index;i<sendInviteQueue.length;i++){o_session.log.info("checkInviteQueue s_type:"+sendInviteQueue[i].s_type);if(sendInviteQueue[i].s_type==s_type&&sendInviteQueue[i].s_action=="doIceRestart"){o_session.log.warn("remove checkInviteQueue s_type:"+sendInviteQueue[i].s_type+", s_action:"+sendInviteQueue[i].s_action);if(i_index===0){SipMgr.removeInviteAction({func_name:"checkInviteQueue",o_dialog:o_session.o_mgr.o_usr_data})}else{sendInviteQueue.splice(i,1);i--}}}}switch(o_session.e_role){case tmedia_pc_type_e.AUDIO:pollingInviteQueue("audioRefresh");break;case tmedia_pc_type_e.MAIN:pollingInviteQueue("videoRefresh");break;case tmedia_pc_type_e.SLIDES:pollingInviteQueue("presentRefresh");break;default:break}return}webrtcPluginWebrtcSession.prototype.initGUM=function(){this.oConstraints=new Array};webrtcPluginWebrtcSession.prototype.getStreamFromDevice=function(data){var This=this;this.log.info("getStreamFromDevice streamType: "+data.streamType);var getStreamSuccess=function(data){This.log.info("getStreamSuccess o_stream id = "+data.stream.id);data.codeType=code_type_e.ACTION_SUCCESSED;data.cb(data)};var getStreamFailed=function(data){var s_error=data.s_error;This.log.warn("getStreamFailed: "+s_error.name);var feedback=getGumErrorCode(data.streamType,data.s_error);This.log.info("getStreamFailed feedback: "+feedback);data.codeType=feedback;data.cb(data)};var This=this;this.log.info("getStreamFromDevice streamType: "+data.streamType);if(data.constraints){This.oConstraints=data.constraints;This.oConstraints=setFacingMode(This.oConstraints)}else{This.oConstraints={audio:data.streamType==="audio",video:data.streamType==="video"}}this.log.info("getStreamFromDevice oConstraints: \n"+JSON.stringify(This.oConstraints,null,"    "));navigator.getUserMedia(This.oConstraints,function(o_stream){data.stream=o_stream;getStreamSuccess(data)},function(s_error){data.s_error=s_error;data.This=This;getStreamFailed(data)})};webrtcPluginWebrtcSession.prototype.getStats=function(pc,selector,successCallback,errorCallback){return new Promise(function(resolve,reject){pc.getStats(function(response){var standardReport={};var results=response.result();results.forEach(function(report){var standardStats=new Object;standardStats.id=report.id;standardStats.type=report.type;var names=report.names();names.forEach(function(name){standardStats[name]=report.stat(name)});standardReport[standardStats.id]=standardStats;if(report.removeArrayNPObjectProperty){report.removeArrayNPObjectProperty(names)}});resolve(standardReport);if(response.removeArrayNPObjectProperty){response.removeArrayNPObjectProperty(results)}results=null},selector,reject)})};webrtcPluginWebrtcSession.prototype.processStats=function(report,o_info,b_slides){var This=this;var rtpInfo=This.o_rtpInfo;for(var i in report){var now=report[i];if(now.type!="ssrc")continue;var current=report[now.id];if(current){if(now.type==="ssrc"){if((now.mediaType==="audio"||!!now.audioInputLevel)&&now.id.match(/_send/i)){rtpInfo.o_audio_out=current}else if((now.mediaType==="audio"||!!now.audioOutputLevel)&&now.id.match(/_recv/i)&&o_info.o_remote_ssrc==now.ssrc){rtpInfo.o_audio_in=current}else if((now.mediaType==="video"||!!now.googPlisReceived)&&now.id.match(/_send/i)){if(b_slides){rtpInfo.o_slide_video_out=current}else{rtpInfo.o_video_out=current}}else if((now.mediaType==="video"||!!now.googPlisSent)&&now.id.match(/_recv/i)&&o_info.o_remote_ssrc==now.ssrc){if(b_slides){rtpInfo.o_slide_video_in=current}else{rtpInfo.o_video_in=current}}}}}if(This.o_mgr){This.o_mgr.set_rtp_info(rtpInfo)}};var tsdp_header_type_e={NONE:{i_rank:-1,c_name:null},A:{i_rank:13,c_name:"a"},B:{i_rank:8,c_name:"b"},C:{i_rank:7,c_name:"c"},DUMMY:{i_rank:255,c_name:"*"},E:{i_rank:5,c_name:"e"},I:{i_rank:3,c_name:"i"},K:{i_rank:12,c_name:"k"},M:{i_rank:14,c_name:"m"},O:{i_rank:1,c_name:"o"},P:{i_rank:6,c_name:"p"},R:{i_rank:10,c_name:"r"},S:{i_rank:2,c_name:"s"},T:{i_rank:9,c_name:"t"},U:{i_rank:4,c_name:"u"},V:{i_rank:0,c_name:"v"},Z:{i_rank:11,c_name:"z"}};function tsdp_header(e_type){this.e_type=e_type}tsdp_header.prototype.tostring_full=function(b_without_crlf,s_endline){return tsk_string_format("{0}={1}{2}",this.get_name(),this.toString(s_endline),b_without_crlf?"":s_endline?s_endline:"\r\n")};tsdp_header.prototype.get_name=function(){if(this.e_type==tsdp_header_type_e.DUMMY){return this.c_name}return this.e_type.c_name};function tsdp_header_compare_by_rank(o_hdr_1,o_hdr_2){if(o_hdr_1&&o_hdr_2){return o_hdr_1.e_type.i_rank-o_hdr_2.e_type.i_rank}return-1}tsdp_header_A.prototype=Object.create(tsdp_header.prototype);_tsdp_machine_parser_header_A_actions=[0,1,0,1,1,1,2,2,0,2];_tsdp_machine_parser_header_A_key_offsets=[0,0,1,3,18,19,35,35,38];_tsdp_machine_parser_header_A_trans_keys=[97,32,61,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,13,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,13,0,65535,13,0,65535,0];_tsdp_machine_parser_header_A_single_lengths=[0,1,2,5,1,6,0,1,1];_tsdp_machine_parser_header_A_range_lengths=[0,0,0,5,0,5,0,1,1];_tsdp_machine_parser_header_A_index_offsets=[0,0,2,5,16,18,30,31,34];_tsdp_machine_parser_header_A_indicies=[0,1,0,2,1,2,3,3,3,3,3,3,3,3,3,1,4,1,5,6,6,6,7,6,6,6,6,6,6,1,1,9,8,1,11,10,1,0];_tsdp_machine_parser_header_A_trans_targs=[2,0,3,5,6,4,5,7,8,4,8,4];_tsdp_machine_parser_header_A_trans_actions=[0,0,0,1,0,3,0,3,1,7,0,5];_tsdp_machine_parser_header_A_eof_actions=[0,0,0,0,0,3,0,7,5];tsdp_machine_parser_header_A_start=1;tsdp_machine_parser_header_A_first_final=5;tsdp_machine_parser_header_A_error=0;tsdp_machine_parser_header_A_en_main=1;function tsdp_header_A(s_field,s_value){tsdp_header.call(this,tsdp_header_type_e.A);this.s_field=s_field;this.s_value=s_value}tsdp_header_A.prototype.toString=function(){return tsk_string_format("{0}{1}{2}",this.s_field,this.s_value?":":"",this.s_value?this.s_value:"")};tsdp_header_A.prototype.RemoveAllByField=function(ao_headers,s_field){var o_hdr_A;if(!ao_headers||!s_field){tsk_utils_log_error("Invalid parameter");return-1}for(i=0;i<ao_headers.length;){o_hdr_A=ao_headers[i];if(tsk_string_iequals(s_field,o_hdr_A.s_field)){ao_headers.splice(i,1);continue}++i}return 0};tsdp_header_A.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_A=new tsdp_header_A(null,null);{cs=tsdp_machine_parser_header_A_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsdp_machine_parser_header_A_key_offsets[cs];_trans=_tsdp_machine_parser_header_A_index_offsets[cs];_klen=_tsdp_machine_parser_header_A_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsdp_machine_parser_header_A_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsdp_machine_parser_header_A_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsdp_machine_parser_header_A_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsdp_machine_parser_header_A_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsdp_machine_parser_header_A_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsdp_machine_parser_header_A_indicies[_trans];cs=_tsdp_machine_parser_header_A_trans_targs[_trans];if(_tsdp_machine_parser_header_A_trans_actions[_trans]!=0){_acts=_tsdp_machine_parser_header_A_trans_actions[_trans];_nacts=_tsdp_machine_parser_header_A_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsdp_machine_parser_header_A_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_A.s_field=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 2:hdr_A.s_value=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_tsdp_machine_parser_header_A_eof_actions[cs];__nacts=_tsdp_machine_parser_header_A_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_tsdp_machine_parser_header_A_actions[__acts-1]){case 0:i_tag_start=p;break;case 1:hdr_A.s_field=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 2:hdr_A.s_value=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}if(cs<5){tsk_utils_log_error('Failed to parse "a=" header: '+s_str);return null}return hdr_A};tsdp_header_C.prototype=Object.create(tsdp_header.prototype);_tsdp_machine_parser_header_C_actions=[0,1,0,1,1,1,2,1,3,2,0,2,2,0,3];_tsdp_machine_parser_header_C_key_offsets=[0,0,1,3,6,9,12,15,16,19,22];_tsdp_machine_parser_header_C_trans_keys=[99,32,61,32,0,65535,32,0,65535,32,0,65535,32,0,65535,10,13,0,65535,13,0,65535,0];_tsdp_machine_parser_header_C_single_lengths=[0,1,2,1,1,1,1,1,1,1,0];_tsdp_machine_parser_header_C_range_lengths=[0,0,0,1,1,1,1,0,1,1,0];_tsdp_machine_parser_header_C_index_offsets=[0,0,2,5,8,11,14,17,19,22,25];_tsdp_machine_parser_header_C_trans_targs=[2,0,2,3,0,3,4,0,5,4,0,8,6,0,8,6,0,10,0,7,9,0,7,9,0,0,0];_tsdp_machine_parser_header_C_trans_actions=[0,0,0,0,0,0,1,0,3,0,0,9,1,0,5,0,0,0,0,12,1,0,7,0,0,0,0];_tsdp_machine_parser_header_C_eof_actions=[0,0,0,0,0,0,0,0,12,7,0];tsdp_machine_parser_header_C_start=1;tsdp_machine_parser_header_C_first_final=8;tsdp_machine_parser_header_C_error=0;tsdp_machine_parser_header_C_en_main=1;function tsdp_header_C(s_nettype,s_addrtype,s_addr){tsdp_header.call(this,tsdp_header_type_e.C);this.s_nettype=s_nettype;this.s_addrtype=s_addrtype;this.s_addr=s_addr}tsdp_header_C.prototype.toString=function(){return tsk_string_format("{0} {1} {2}",this.s_nettype,this.s_addrtype,this.s_addr)};tsdp_header_C.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_C=new tsdp_header_C(null,null,null);{cs=tsdp_machine_parser_header_C_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsdp_machine_parser_header_C_key_offsets[cs];_trans=_tsdp_machine_parser_header_C_index_offsets[cs];_klen=_tsdp_machine_parser_header_C_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsdp_machine_parser_header_C_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsdp_machine_parser_header_C_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsdp_machine_parser_header_C_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsdp_machine_parser_header_C_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsdp_machine_parser_header_C_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);cs=_tsdp_machine_parser_header_C_trans_targs[_trans];if(_tsdp_machine_parser_header_C_trans_actions[_trans]!=0){_acts=_tsdp_machine_parser_header_C_trans_actions[_trans];_nacts=_tsdp_machine_parser_header_C_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsdp_machine_parser_header_C_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_C.s_nettype=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 2:hdr_C.s_addrtype=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 3:hdr_C.s_addr=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_tsdp_machine_parser_header_C_eof_actions[cs];__nacts=_tsdp_machine_parser_header_C_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_tsdp_machine_parser_header_C_actions[__acts-1]){case 0:i_tag_start=p;break;case 3:hdr_C.s_addr=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}if(cs<8){tsk_utils_log_error('Failed to parse "c=" header: '+s_str);return null}return hdr_C};tsdp_header_M.prototype=Object.create(tsdp_header.prototype);_tsdp_machine_parser_header_M_actions=[0,1,0,1,1,1,2,1,3,1,4];_tsdp_machine_parser_header_M_key_offsets=[0,0,1,3,18,33,35,39,53,54,68,70,73,88,88,103];_tsdp_machine_parser_header_M_trans_keys=[109,32,61,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,48,57,32,47,48,57,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,33,37,39,126,42,43,45,46,48,57,65,90,95,122,48,57,32,48,57,13,32,33,37,39,47,126,42,43,45,57,65,90,95,122,13,33,37,39,126,42,43,45,46,48,57,65,90,95,122,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,0];_tsdp_machine_parser_header_M_single_lengths=[0,1,2,5,5,0,2,4,1,4,0,1,7,0,5,6];_tsdp_machine_parser_header_M_range_lengths=[0,0,0,5,5,1,1,5,0,5,1,1,4,0,5,5];_tsdp_machine_parser_header_M_index_offsets=[0,0,2,5,16,27,29,33,43,45,55,57,60,72,73,84];_tsdp_machine_parser_header_M_indicies=[0,1,0,2,1,2,3,3,3,3,3,3,3,3,3,1,4,5,5,5,5,5,5,5,5,5,1,6,1,7,8,9,1,10,10,10,10,10,10,10,10,10,1,11,1,12,12,12,12,12,12,12,12,12,1,13,1,7,14,1,15,16,12,12,12,17,12,12,12,12,12,1,1,18,19,19,19,19,19,19,19,19,19,1,20,21,22,22,22,22,22,22,22,22,22,1,0];_tsdp_machine_parser_header_M_trans_targs=[2,0,3,4,5,4,6,7,10,6,12,13,12,11,11,8,14,9,8,15,8,14,15];_tsdp_machine_parser_header_M_trans_actions=[0,0,0,1,3,0,1,5,5,0,1,0,0,1,0,7,7,0,0,1,9,9,0];_tsdp_machine_parser_header_M_eof_actions=[0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,9];tsdp_machine_parser_header_M_start=1;tsdp_machine_parser_header_M_first_final=12;tsdp_machine_parser_header_M_error=0;tsdp_machine_parser_header_M_en_main=1;function tsdp_header_M(s_media,i_port,s_proto){tsdp_header.call(this,tsdp_header_type_e.M);this.s_media=s_media;this.i_port=i_port;this.i_nports=0;this.s_proto=s_proto;this.as_fmt=new Array;this.o_hdr_I=null;this.o_hdr_C=null;this.ao_hdr_B=new Array;this.o_hdr_K=null;this.ao_hdr_A=new Array;this.ao_hdr_Dummy=new Array}tsdp_header_M.prototype.toString=function(s_endline){if(!s_endline){s_endline="\r\n"}var s_str=tsk_string_format("{0} {1}{2}{3} {4}",this.s_media,this.i_port,this.i_nports?"/":"",this.i_nports?this.i_nports:"",this.s_proto);for(var i=0;i<this.as_fmt.length;++i){s_str+=" "+this.as_fmt[i]}var b_single_line=!this.o_hdr_I&&!this.o_hdr_C&&this.ao_hdr_B.length==0&&!this.o_hdr_K&&this.ao_hdr_A.length.length==0;if(b_single_line){return s_str}s_str+=s_endline;if(this.o_hdr_I){s_str+=this.o_hdr_I.tostring_full(false,s_endline)}if(this.o_hdr_C){s_str+=this.o_hdr_C.tostring_full(false,s_endline)}for(var i=0;i<this.ao_hdr_B.length;++i){s_str+=this.ao_hdr_B[i].tostring_full(false,s_endline)}if(this.o_hdr_K){s_str+=this.o_hdr_K.tostring_full(false,s_endline)}for(var i=0;i<this.ao_hdr_A.length;++i){s_str+=this.ao_hdr_A[i].tostring_full(false,s_endline)}for(var i=0;i<this.ao_hdr_Dummy.length;++i){s_str+=this.ao_hdr_Dummy[i].tostring_full(false,s_endline)}return s_str.substring(0,s_str.length-s_endline.length)};tsdp_header_M.prototype.remove_header=function(e_type){switch(e_type){case tsdp_header_type_e.I:this.o_hdr_I=null;break;case tsdp_header_type_e.C:this.o_hdr_C=null;break;case tsdp_header_type_e.B:this.ao_hdr_B.splice(0,this.ao_hdr_B.length);break;case tsdp_header_type_e.K:this.o_hdr_K=null;break}return 0};tsdp_header_M.prototype.add_header=function(o_header){if(!o_header){tsk_utils_log_error("add_header: Invalid argument");return-1}switch(o_header.e_type){case tsdp_header_type_e.I:this.o_hdr_I=o_header;break;case tsdp_header_type_e.C:this.o_hdr_C=o_header;break;case tsdp_header_type_e.B:this.ao_hdr_B.push(o_header);break;case tsdp_header_type_e.K:this.o_hdr_K=o_header;break;case tsdp_header_type_e.A:this.ao_hdr_A.push(o_header);break}return 0};tsdp_header_M.prototype.add_header_by_index=function(o_header,index){if(!o_header||index<0){tsk_utils_log_error("Invalid argument");return-1}switch(o_header.e_type){case tsdp_header_type_e.B:this.ao_hdr_B.splice(index,0,o_header);break;case tsdp_header_type_e.A:this.ao_hdr_A.splice(index,0,o_header);break;default:tsk_utils_log_warn("Invalid header type")}return 0};tsdp_header_M.prototype.custom_rtpmap=function(ao_header_A){var index=0;var a_pt=new Array(len);var len=ao_header_A.length;for(var i=0;i<len;i++){var pt=this.have_encoder(ao_header_A[i]);if(pt){a_pt[i]=pt}}for(var i=0;i<this.as_fmt.length;i++){var b_no_exist=true;for(var j=0;j<len;j++){if(a_pt[j]&&a_pt[j]==this.as_fmt[i]){b_no_exist=false;break}}if(b_no_exist){this.as_fmt.splice(i,1);--i}}for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtpmap"||this.ao_hdr_A[i].s_field=="fmtp"||this.ao_hdr_A[i].s_field=="rtcp-fb"){var b_no_exist=true;var payload=this.ao_hdr_A[i].s_value.slice(0,this.ao_hdr_A[i].s_value.indexOf(" "));for(var j=0;j<this.as_fmt.length;j++){if(this.as_fmt[j]==payload){b_no_exist=false;break}}if(b_no_exist){this.ao_hdr_A.splice(i,1);--i}}}};tsdp_header_M.prototype.rebulid_a=function(){var rtcp_fb_vp=new Array;var rtcp_fb_h=new Array;var i,j,k;var pt_vp8,pt_h264;pt_vp8=this.have_encoder("VP8");pt_h264=this.have_encoder("H264");for(i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="fmtp"){if(this.ao_hdr_A[i].s_value.indexOf(pt_vp8)>=0){rtcp_fb_vp.push(this.ao_hdr_A[i]);this.ao_hdr_A.splice(i,1);i--}else if(this.ao_hdr_A[i].s_value.indexOf(pt_h264)>=0){rtcp_fb_h.push(this.ao_hdr_A[i]);this.ao_hdr_A.splice(i,1);i--}}}for(i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtpmap"){if(this.ao_hdr_A[i].s_value.indexOf("VP8")>=0){for(j=0;j<rtcp_fb_vp.length;j++){i++;this.ao_hdr_A.splice(i,0,rtcp_fb_vp[j])}}else if(this.ao_hdr_A[i].s_value.indexOf("H264")>=0&&this.ao_hdr_A[i].s_value.indexOf(pt_h264)>=0){for(k=0;k<rtcp_fb_h.length;k++){i++;this.ao_hdr_A.splice(i,0,rtcp_fb_h[k])}}}}};tsdp_header_M.prototype.add_a=function(ao_headers){if(!ao_headers||ao_headers&&ao_headers.length==0){tsk_utils_log_warn("add_a: invalid argument");return}for(i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="ice-ufrag"){for(var j=0;j<ao_headers.length;j++){this.ao_hdr_A.splice(++i,0,new tsdp_header_A(ao_headers[j].s_field,ao_headers[j].s_value))}return}}};tsdp_header_M.prototype.new_a=function(field,value){if(!field||!value){tsk_utils_log_warn("new_a: invalid argument");return}this.ao_hdr_A.splice(this.ao_hdr_A.length,0,new tsdp_header_A(field,value))};tsdp_header_M.prototype.get_setup=function(){for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="setup"){return this.ao_hdr_A[i].s_value}}};tsdp_header_M.prototype.move_encoder=function(payload){if(!payload){tsk_utils_log_info("move_encoder: invalid argument");return}var fmtp_pt=null;for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtpmap"||this.ao_hdr_A[i].s_field=="rtcp-fb"||this.ao_hdr_A[i].s_field=="fmtp"){var payload_falg=this.ao_hdr_A[i].s_value.indexOf(payload);var apt_falg=this.ao_hdr_A[i].s_value.indexOf("apt");if(payload_falg==0){this.ao_hdr_A.splice(i,1);--i}if(payload_falg>0&&apt_falg>0){var reg;reg=/[0-9]*[1-9][0-9]*/;fmtp_pt=reg.exec(this.ao_hdr_A[i].s_value);this.ao_hdr_A.splice(i,1);--i}}}if(fmtp_pt){for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtpmap"){var payload_falg=this.ao_hdr_A[i].s_value.indexOf(fmtp_pt);if(payload_falg>=0){this.ao_hdr_A.splice(i,1);--i}}}}for(var i=0;i<this.as_fmt.length;++i){if(this.as_fmt[i]==payload||this.as_fmt[i]==fmtp_pt){this.as_fmt.splice(i,1);--i}}};tsdp_header_M.prototype.remove_codecs=function(encoder){if(!encoder){tsk_utils_log_info("trim_codec: invalid argument");return}var a_pt=this.have_encoders(encoder);for(var i=0;i<a_pt.length;i++){this.move_encoder(a_pt[i])}};tsdp_header_M.prototype.trim_codec=function(encoder){if(!encoder){tsk_utils_log_info("trim_codec: invalid argument");return}var a_pt=this.have_encoders(encoder);for(var i=1;i<a_pt.length;i++){this.move_encoder(a_pt[i])}};tsdp_header_M.prototype.move_red_ulpfec=function(){var red_pt=this.have_encoder("red");var ulpfec_pt=this.have_encoder("ulpfec");var apt_pt;for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtpmap"||this.ao_hdr_A[i].s_field=="rtcp-fb"||this.ao_hdr_A[i].s_field=="fmtp"){var red_falg=this.ao_hdr_A[i].s_value.indexOf(red_pt);var ulpfec_falg=this.ao_hdr_A[i].s_value.indexOf(ulpfec_pt);if(ulpfec_falg==0||red_falg==0){this.ao_hdr_A.splice(i,1);--i}if(ulpfec_falg>0||red_falg>0){var vp8_falg=this.ao_hdr_A[i].s_value.indexOf("120");if(vp8_falg<0){var reg;reg=/[0-9]*[1-9][0-9]*/;apt_pt=reg.exec(this.ao_hdr_A[i].s_value);this.ao_hdr_A.splice(i,1);--i}}}}if(apt_pt){for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtpmap"){var payload_falg=this.ao_hdr_A[i].s_value.indexOf(apt_pt);if(payload_falg>=0){this.ao_hdr_A.splice(i,1);--i}}}}for(var i=0;i<this.as_fmt.length;++i){if(this.as_fmt[i]==apt_pt||this.as_fmt[i]==red_pt||this.as_fmt[i]==ulpfec_pt){this.as_fmt.splice(i,1);--i}}};tsdp_header_M.prototype.move_nack_rtx=function(){var rtx_pt_array=this.have_encoders("rtx");var reg_rtx="("+rtx_pt_array.toString().replace(/,/g,"|")+")";for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtcp-fb"&&this.ao_hdr_A[i].s_value.match(" nack")!=null){this.ao_hdr_A.splice(i,1);--i}else if(this.ao_hdr_A[i].s_field=="rtpmap"||this.ao_hdr_A[i].s_field=="fmtp"){if(this.ao_hdr_A[i].s_value.match(reg_rtx)!=null){this.ao_hdr_A.splice(i,1);--i}}}for(var i=0;i<this.as_fmt.length;++i){for(var j=0;j<rtx_pt_array.length;++j){if(this.as_fmt[i]==rtx_pt_array[j]){this.as_fmt.splice(i,1);--i}}}};tsdp_header_M.prototype.move_nack=function(){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="rtcp-fb"&&/^\d+[ ]nack$/.test(this.ao_hdr_A[i].s_value)){this.ao_hdr_A.splice(i,1);--i}}};tsdp_header_M.prototype.get_priority=function(){if(this.as_fmt.length==0){tsk_utils_log_info("get_priority: have no codec.");return}var pt=this.as_fmt[0];for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="rtpmap"){var n_encoder=this.ao_hdr_A[i].s_value.indexOf(pt);if(n_encoder>=0){var index=this.ao_hdr_A[i].s_value.indexOf(" ");var codec;var b_h264="";b_h264=this.ao_hdr_A[i].s_value.substring(index+1,index+2);if(b_h264=="V"){codec=this.ao_hdr_A[i].s_value.substring(index+1,index+4)}else if(b_h264=="H"){codec=this.ao_hdr_A[i].s_value.substring(index+1,index+5)}return codec}}}};tsdp_header_M.prototype.change_pt=function(s_pt,d_pt){if(!s_pt||!d_pt||typeof s_pt=="undefined"||typeof d_pt=="undefined"){return}var i;for(i=0;i<this.as_fmt.length;i++){if(s_pt==this.as_fmt[i]){this.as_fmt[i]=d_pt;break}}for(i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="rtpmap"||this.ao_hdr_A[i].s_field=="rtcp-fb"||this.ao_hdr_A[i].s_field=="fmtp"){var payload_falg=this.ao_hdr_A[i].s_value.indexOf(s_pt);if(payload_falg==0){this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value.replace(/([0-9]+)/,d_pt)}else if(this.ao_hdr_A[i].s_value.indexOf("apt="+s_pt)>0){this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value.replace(/apt=([0-9]+)/,"apt="+d_pt)}}}};tsdp_header_M.prototype.have_encoder=function(encoder){if(!encoder||typeof encoder=="undefined")return null;for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="rtpmap"){var n_encoder=this.ao_hdr_A[i].s_value.indexOf(encoder);if(n_encoder>=0){var pt=this.ao_hdr_A[i].s_value.substring(0,n_encoder-1);return pt}}}return null};tsdp_header_M.prototype.have_encoders=function(encoder){var pt_array=new Array;if(!encoder||typeof encoder=="undefined"){return null}for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field=="rtpmap"){var n_encoder=this.ao_hdr_A[i].s_value.indexOf(encoder);if(n_encoder>=0){var pt=this.ao_hdr_A[i].s_value.substring(0,n_encoder-1);pt_array.push(pt)}}}return pt_array};tsdp_header_M.prototype.change_priority=function(pt){if(!pt||typeof pt=="undefined"){return}var i;var nPtindexInM=-1;var bHasPt=false;for(i=0;i<this.as_fmt.length;i++){if(pt==this.as_fmt[i]){bHasPt=true;if(0==i){return}nPtindexInM=i;break}}if(false==bHasPt){return}for(i=nPtindexInM;i>0;--i){this.as_fmt[i]=this.as_fmt[i-1]}this.as_fmt[0]=pt;var nFrist=-1;var bFrist=true;var arrayPt=new Array;for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="rtpmap"||this.ao_hdr_A[i].s_field=="rtcp-fb"||this.ao_hdr_A[i].s_field=="fmtp"){if(bFrist){nFrist=i;bFrist=false}var payload_falg=this.ao_hdr_A[i].s_value.indexOf(pt);if(payload_falg==0){arrayPt.push(this.ao_hdr_A[i]);this.ao_hdr_A.splice(i,1);i--}}}if(nFrist==-1||arrayPt.length==0){return}for(i=0;i<arrayPt.length;i++){this.ao_hdr_A.splice(nFrist,0,arrayPt[i]);nFrist++}};tsdp_header_M.prototype.get_resolution=function(){var This=this;var args=arguments;function notMaintainResolution(){if(args.length>0&&args[0].maintainResolution)return false;return true}function calculate_priority(codec,num){var value,resolution={};if(codec=="H264"){value=parseInt(num,16);if(adapter.browserDetails.browser==="firefox"&&notMaintainResolution()){var version=parseInt(adapter.browserDetails.version,10);if(version>55&&value==40){tsk_utils_log_info("firefox 56 do not support 1080P.");value=31;This.set_resolution("1280","720")}}switch(value){case 21:resolution.width=480;resolution.height=272;break;case 22:resolution.width=640;resolution.height=360;break;case 30:resolution.width=848;resolution.height=480;break;case 31:resolution.width=1280;resolution.height=720;break;case 40:resolution.width=1920;resolution.height=1080;break;default:resolution.width=640;resolution.height=360;tsk_utils_log_info("get_h264_resolution: The value is out of the range or invalid!"+num);break}return resolution}if(codec=="VP8"){value=parseInt(num);if(adapter.browserDetails.browser==="firefox"&&notMaintainResolution()){var version=parseInt(adapter.browserDetails.version,10);if(version>55&&(value==8160||value==8100)){tsk_utils_log_info("firefox 56 do not support 1080P.");value=3600;This.set_resolution("1280","720")}}switch(value){case 520:resolution.width=480;resolution.height=272;break;case 920:case 900:resolution.width=640;resolution.height=360;break;case 1596:resolution.width=848;resolution.height=480;break;case 3600:resolution.width=1280;resolution.height=720;break;case 8160:case 8100:resolution.width=1920;resolution.height=1080;break;default:resolution.width=640;resolution.height=360;tsk_utils_log_warn("get_vp8_resolution: The value is out of the range or invalid!"+num);
break}return resolution}}var codec=this.get_priority();if(codec=="H264"){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="fmtp"){var resolution_index=this.ao_hdr_A[i].s_value.indexOf("profile-level-id");if(resolution_index>=0){var index=resolution_index+21;var num=this.ao_hdr_A[i].s_value.substr(index,2);return calculate_priority("H264",num)}}}}if(codec=="VP8"){var pt=this.have_encoder("VP8");for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="fmtp"||this.ao_hdr_A[i].s_field=="rmtp"){var pt_index=this.ao_hdr_A[i].s_value.indexOf(pt);var resolution_index=this.ao_hdr_A[i].s_value.indexOf("max-fs");if(resolution_index>0&&pt_index==0){var index=resolution_index+7;var num=this.ao_hdr_A[i].s_value.substr(index);return calculate_priority("VP8",num)}}}}};tsdp_header_M.prototype.get_framerate=function(){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="framerate"){return parseInt(this.ao_hdr_A[i].s_value)}if(this.ao_hdr_A[i].s_field=="fmtp"){var pos_max_fr=this.ao_hdr_A[i].s_value.indexOf("max-fr");if(pos_max_fr>=0){var max_fr=this.ao_hdr_A[i].s_value.substring(pos_max_fr+7);var end=max_fr.indexOf(";");if(end>=0){max_fr=max_fr.substring(0,end)}return parseInt(max_fr)}}}return 0};tsdp_header_M.prototype.set_h264_resolution=function(o_resolution){if(!o_resolution){return}for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="fmtp"){var resolution_index=this.ao_hdr_A[i].s_value.indexOf("profile-level-id");if(resolution_index>=0){var str=this.ao_hdr_A[i].s_value.substr(resolution_index,21);var replacement=str+o_resolution;this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value.replace(/profile-level-id=([a-zA-Z0-9]{6})/,replacement)}}}};tsdp_header_M.prototype.set_a_str=function(o_vp8,o_h264){var i_index=0;if(!o_vp8||!o_h264){tsk_utils_log_error("Invalid argument");return null}var vp8={b_exist:false};var h264={b_exist:false};vp8.pt=this.have_encoder("VP8");h264.pt=this.have_encoder("H264");var i_pos=0;var index=0;for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="rtpmap"){if(this.ao_hdr_A[i].s_value.indexOf("VP8")>=0){vp8.index=i}if(this.ao_hdr_A[i].s_value.indexOf("H264")>=0){h264.index=i}}if(this.ao_hdr_A[i].s_field=="fmtp"){if(i_pos++>=i_index){var remote_pt=this.ao_hdr_A[i].s_value.slice(0,3).trim();if(vp8.pt&&remote_pt==vp8.pt){vp8.b_exist=true;this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value+o_vp8.fmtp_exist}else if(h264.pt&&o_h264.fmtp_exist&&remote_pt==h264.pt){h264.b_exist=true;if(this.ao_hdr_A[i].s_value.indexOf("max-fs")>=0){this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value.replace(/max-fs=([a-zA-Z0-9]{3,5})/,"")}}}}}if(vp8.pt&&vp8.b_exist==false){var vp8_fmtp=vp8.pt+o_vp8.fmtp_inexistence;this.add_header_by_index(new tsdp_header_A("fmtp",vp8_fmtp),vp8.index+1)}if(h264.pt&&o_h264.fmtp_inexistence&&h264.b_exist==false){var h264_fmtp=h264.pt+o_h264.fmtp_inexistence;this.add_header_by_index(new tsdp_header_A("fmtp",h264_fmtp),h264.index+1)}};tsdp_header_M.prototype.add_candidates=function(as_candidates){if(!as_candidates||as_candidates&&as_candidates.length==0){tsk_utils_log_warn("add_candidates: invalid arguments");return}function addHeaders(index){This.move_a("candidate");for(var i=0;i<as_candidates.length;i++){if(as_candidates[i].indexOf("9 typ host tcp")>0){continue}This.add_header_by_index(new tsdp_header_A("candidate",as_candidates[i].split(":")[1]),index)}}var This=this;var i_rtcp=null;i_candidate=null;i_ice_ufrag=null;for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="rtcp:"){i_rtcp=i}else if(this.ao_hdr_A[i].s_field=="candidate"){i_candidate=i}else if(this.ao_hdr_A[i].s_field=="ice-ufrag"){i_ice_ufrag=i}}if(i_candidate){addHeaders(i_candidate+1)}else if(i_rtcp){addHeaders(i_rtcp+1)}else if(i_ice_ufrag){addHeaders(i_ice_ufrag)}};tsdp_header_M.prototype.add_candidates_end_flag=function(){var index;var b_exist=false;for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="candidate"){index=i}else if(this.ao_hdr_A[i].s_field=="end-of-candidates"){b_exist=true}}if(!b_exist){this.add_header_by_index(new tsdp_header_A("end-of-candidates"),index+1)}};tsdp_header_M.prototype.set_bitRate=function(s_bitRate){if(!s_bitRate){tsk_utils_log_error("Invalid argument");return null}this.remove_header(tsdp_header_type_e.B);var b_line;if(adapter.browserDetails.browser=="firefox"){b_line="TIAS:"+s_bitRate*1e3}else{b_line="AS:"+s_bitRate}this.add_header(new tsdp_header_B(b_line))};tsdp_header_M.prototype.set_frameRate=function(s_frameRate,s_width,s_height,b_local){var i_index=0;if(!s_frameRate||i_index<0){tsk_utils_log_error("Invalid argument");return null}var max_fs;if(b_local)max_fs=parseInt(s_width,10)*parseInt(s_height,10)/256;else{var mb_width=(parseInt(s_width,10)+15)/16;var mb_height=(parseInt(s_height,10)+15)/16;max_fs=Math.floor(mb_width)*Math.floor(mb_height)}var max_mbps=max_fs*parseInt(s_frameRate,10);var o_vp8={};var o_h264={};o_vp8.fmtp_exist=";max-fr="+s_frameRate;o_vp8.fmtp_inexistence=" max-fr="+s_frameRate;o_h264.fmtp_exist=";max-mbps="+max_mbps;o_h264.fmtp_inexistence=" max-mbps="+max_mbps;this.set_a_str(o_vp8,o_h264)};tsdp_header_M.prototype.add_rid=function(){var o_hdr_A=this.find_a("sendrecv");if(!o_hdr_A){return}for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="sendrecv"){if(i==this.ao_hdr_A.length-1){this.ao_hdr_A.push(new tsdp_header_A("rid","2 recv max-fps=15"));this.ao_hdr_A.push(new tsdp_header_A("simulcast","recv rid=2"))}else{this.ao_hdr_A.splice(i,0,new tsdp_header_A("rid","2 recv max-fps=15"));i++;this.ao_hdr_A.splice(i,0,new tsdp_header_A("simulcast","recv rid=2"));i++}return}}};tsdp_header_M.prototype.set_resolution=function(s_width,s_height){var i_index=0;var This=this;if(!s_width||!s_height||i_index<0){tsk_utils_log_error("Invalid argument");return null}var level_id=null;if(s_height=="1080"){level_id="28"}else if(s_height=="720"){level_id="1f"}else if(s_height=="480"){level_id="1e"}this.set_h264_resolution(level_id);var resolution;var mb_width=(parseInt(s_width,10)+15)/16;var mb_height=(parseInt(s_height,10)+15)/16;resolution=Math.floor(mb_width)*Math.floor(mb_height);function set_vp8_resolution(This){for(i=0;i<This.ao_hdr_A.length;i++){if(This.ao_hdr_A[i].s_field=="fmtp"){var vp8_pt=This.have_encoder("VP8");var fs_falg=This.ao_hdr_A[i].s_value.indexOf("max-fs");var pt_falg=This.ao_hdr_A[i].s_value.indexOf(vp8_pt);if(fs_falg>=0&&pt_falg>=0){var replacement="max-fs="+resolution;This.ao_hdr_A[i].s_value=This.ao_hdr_A[i].s_value.replace(/max-fs=([a-zA-Z0-9]{3,5})/,replacement);return true}}}return false}var b_exist=set_vp8_resolution(This);if(!b_exist){var o_vp8={};var o_h264={};o_vp8.fmtp_exist=";max-fs="+resolution;o_vp8.fmtp_inexistence=" max-fs="+resolution;o_h264.fmtp_exist=";max-fs="+resolution;o_h264.fmtp_inexistence=" max-fs="+resolution;this.set_a_str(o_vp8,o_h264)}};tsdp_header_M.prototype.set_start_bitrate=function(){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="fmtp"){var pt=this.have_encoder("H264");var pt_index=this.ao_hdr_A[i].s_value.indexOf(pt);if(pt_index>=0){this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value+";x-google-min-bitrate=1024;x-google-start-bitrate=1536;x-google-max-bitrate=2048";return}}}};tsdp_header_M.prototype.add_level_id=function(){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="fmtp"){var pt=this.have_encoder("H264");var pt_index=this.ao_hdr_A[i].s_value.indexOf(pt);if(pt_index==0){var level_id=this.ao_hdr_A[i].s_value.indexOf("profile-level-id");if(level_id<0){this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value+";profile-level-id=42e028";return}}}}};tsdp_header_M.prototype.get_ssrc=function(){var ssrc=[];for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="ssrc"){var b_index=this.ao_hdr_A[i].s_value.indexOf("msid");if(b_index>=0){var reg,result;reg=/[0-9]*[1-9][0-9]*/;result=reg.exec(this.ao_hdr_A[i].s_value);if(result){ssrc.push(result)}}}}return ssrc};tsdp_header_M.prototype.move_ssrc=function(ssrc){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="ssrc"){var b_index=this.ao_hdr_A[i].s_value.indexOf(ssrc);if(b_index>=0){this.ao_hdr_A.splice(i,1);i--}}}return};tsdp_header_M.prototype.set_ssrc=function(ssrc){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="ssrc"){var reg,result;reg=/[0-9]*[1-9][0-9]*/;this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value.replace(reg,ssrc)}}return};tsdp_header_M.prototype.add_ssrc=function(ssrc){for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="ssrc"){var b_index=this.ao_hdr_A[i].s_value.indexOf("ssrc");if(b_index>=0){this.ao_hdr_A.splice(i,1)}}}return};tsdp_header_M.prototype.get_cname=function(){var cname=[];for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field=="ssrc"){var b_index=this.ao_hdr_A[i].s_value.indexOf("cname");if(b_index>=0){var reg,result;reg=/cname:([^\r]+)/;result=reg.exec(this.ao_hdr_A[i].s_value);if(result){cname.push(result[1])}}}}return cname};tsdp_header_M.prototype.set_a=function(s_field,s_value){var i_index=0;if(!s_field||i_index<0){tsk_utils_log_error("Invalid argument");return null}var i_pos=0;for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field==s_field){if(i_pos++>=i_index){this.ao_hdr_A[i].s_value=s_value;return true}}}return false};tsdp_header_M.prototype.add_fmt=function(s_fmt){if(s_fmt){this.as_fmt.push(s_fmt)}};tsdp_header_M.prototype.add_headers=function(){for(var i=0;i<arguments.length;i++){if(arguments[i]){this.add_header(arguments[i])}}};tsdp_header_M.prototype.find_a_at=function(s_field,i_index){if(!s_field||i_index<0){tsk_utils_log_error("Invalid argument");return null}var i_pos=0;for(var i=0;i<this.ao_hdr_A.length;i++){if(this.ao_hdr_A[i].s_field&&this.ao_hdr_A[i].s_field==s_field){if(i_pos++>=i_index){return this.ao_hdr_A[i]}}}return null};tsdp_header_M.prototype.move_a_at=function(s_field,i_index,option_tag){if(!s_field||i_index<0){tsk_utils_log_error("Invalid argument");return null}for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field==s_field){if(option_tag!=undefined){if(this.ao_hdr_A[i].s_value==option_tag){this.ao_hdr_A.splice(i,1)}else{this.ao_hdr_A[i].s_value=this.ao_hdr_A[i].s_value.split(" ").filter(function(item){return item!=option_tag}).join(" ")}}else{this.ao_hdr_A.splice(i,1)}}}return};tsdp_header_M.prototype.set_a_holdresume_attr=function(s_src_value,s_dst_value){var i_index=0;if(!s_src_value||!s_dst_value){tsk_utils_log_error("Invalid argument");return null}var i_pos=0;for(var i=0;i<this.ao_hdr_A.length;++i){if(this.ao_hdr_A[i].s_field==s_src_value){if(i_pos++>=i_index){this.ao_hdr_A[i].s_field=s_dst_value}}}return false};tsdp_header_M.prototype.find_a=function(s_field){return this.find_a_at(s_field,0)};tsdp_header_M.prototype.move_a=function(s_field,option_tag){return this.move_a_at(s_field,0,option_tag)};tsdp_header_M.prototype.get_all_codec=function(){var codec=[];for(var i=0;i<local_codec.length;i++){var pt=this.have_encoder(local_codec[i]);if(pt)codec.push(local_codec[i])}return codec};tsdp_header_M.prototype.move_other_codec=function(codec){if(!codec){tsk_utils_log_info("move_other_codec: invalid argument");return}function isArray(object){return object&&typeof object==="object"&&typeof object.length==="number"&&typeof object.splice==="function"&&!object.propertyIsEnumerable("length")}if(isArray(codec)){var temporary_codec=local_codec.slice(0);for(var i=0;i<local_codec.length;i++){for(var j=0;j<temporary_codec.length;j++){if(codec[i]==temporary_codec[j]){temporary_codec.splice(j,1);--j}}}for(var i=0;i<temporary_codec.length;i++){var pt=this.have_encoders(temporary_codec[i]);for(var j=0;j<pt.length;j++){if(pt[j]){this.move_encoder(pt[j])}}}}else{for(var i=0;i<local_codec.length;i++){if(codec!=local_codec[i]){var pt=this.have_encoders(local_codec[i]);for(var j=0;j<pt.length;j++){if(pt[j]){this.move_encoder(pt[j])}}}}}return codec};tsdp_header_M.prototype.get_rtpmap=function(s_fmt){var i_fmt_len=s_fmt?s_fmt.length:0;if(i_fmt_len<=0||i_fmt_len>3){tsk_utils_log_error("Invalid argument");return null}var s_rtpmap=null;var i_A_len,i_index=0;var i_indexof;var o_hdr_A;while(o_hdr_A=this.find_a_at(i_index++)){if((i_A_len=o_hdr_A.s_value?o_hdr_A.s_value.length:0)<i_fmt_len+1){continue}if((i_indexof=tsk_string_index_of(o_hdr_A.s_value,i_A_len,s_fmt))==0&&o_hdr_A.s_value[i_fmt_len]==" "){s_rtpmap=o_hdr_A.s_value.substring(i_fmt_len+1,A_len);break}}return s_rtpmap};tsdp_header_M.prototype.get_fmtp=function(s_fmt){var i_fmt_len=s_fmt?s_fmt.length:0;if(i_fmt_len<=0||i_fmt_len>3){tsk_utils_log_error("Invalid argument");return null}var s_fmtp=null;var i_A_len,i_index=0;var i_indexof;var o_hdr_A;while(o_hdr_A=this.find_a_at(i_index++)){if((i_A_len=o_hdr_A.s_value?o_hdr_A.s_value.length:0)<i_fmt_len+1){continue}if((i_indexof=tsk_string_index_of(o_hdr_A.s_value,i_A_len,s_fmt))==0&&o_hdr_A.s_value[i_fmt_len]==" "){s_fmtp=o_hdr_A.s_value.substring(i_fmt_len+1,A_len);break}}return s_fmtp};tsdp_header_M.prototype.hold=function(b_local){var o_hdr_A;if(o_hdr_A=this.find_a(b_local?"recvonly":"sendonly")){o_hdr_A.s_field=b_local?"inactive":"recvonly"}else if(o_hdr_A=this.find_a("sendrecv")){o_hdr_A.s_field=b_local?"sendonly":"recvonly"}else{if(!(o_hdr_A=this.find_a(b_local?"sendonly":"recvonly"))&&!(o_hdr_A=this.find_a("inactive"))){var o_hdr_newA;if(o_hdr_newA=new tsdp_header_A(b_local?"sendonly":"recvonly",null)){this.add_header(o_hdr_newA)}}}return 0};tsdp_header_M.prototype.set_holdresume_att=function(b_lo_held,b_ro_held){var o_hdr_A;var hold_resume_atts=[["sendrecv","recvonly"],["sendonly","inactive"]];if((o_hdr_A=this.find_a("sendrecv"))||(o_hdr_A=this.find_a("sendonly"))||(o_hdr_A=this.find_a("recvonly"))||(o_hdr_A=this.find_a("inactive"))){o_hdr_A.s_field=hold_resume_atts[b_lo_held?1:0][b_ro_held?1:0]}else{var o_hdr_newA;if(o_hdr_newA=new tsdp_header_A(hold_resume_atts[b_lo_held?1:0][b_ro_held?1:0],null)){this.add_headers(o_hdr_newA)}}return 0};tsdp_header_M.prototype.is_held=function(b_local){if(this.find_a("inactive")){return true}if(b_local){return this.find_a("recvonly")?true:false}else{return this.find_a("sendonly")?true:false}};tsdp_header_M.prototype.resume=function(b_local){var o_hdr_A;if(o_hdr_A=this.find_a("inactive")){o_hdr_A.s_field=b_local?"recvonly":"sendonly"}else if(o_hdr_A=this.find_a(b_local?"sendonly":"recvonly")){o_hdr_A.s_field="sendrecv"}return 0};tsdp_header_M.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_M=new tsdp_header_M(null,0,null);{cs=tsdp_machine_parser_header_M_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsdp_machine_parser_header_M_key_offsets[cs];_trans=_tsdp_machine_parser_header_M_index_offsets[cs];_klen=_tsdp_machine_parser_header_M_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsdp_machine_parser_header_M_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsdp_machine_parser_header_M_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsdp_machine_parser_header_M_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsdp_machine_parser_header_M_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsdp_machine_parser_header_M_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsdp_machine_parser_header_M_indicies[_trans];cs=_tsdp_machine_parser_header_M_trans_targs[_trans];if(_tsdp_machine_parser_header_M_trans_actions[_trans]!=0){_acts=_tsdp_machine_parser_header_M_trans_actions[_trans];_nacts=_tsdp_machine_parser_header_M_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsdp_machine_parser_header_M_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_M.s_media=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 2:hdr_M.i_port=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 3:hdr_M.s_proto=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 4:tsk_ragel_parser_add_string(s_str,p,i_tag_start,hdr_M.as_fmt);break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_tsdp_machine_parser_header_M_eof_actions[cs];__nacts=_tsdp_machine_parser_header_M_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_tsdp_machine_parser_header_M_actions[__acts-1]){case 3:hdr_M.s_proto=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 4:tsk_ragel_parser_add_string(s_str,p,i_tag_start,hdr_M.as_fmt);break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}if(cs<12){tsk_utils_log_error('Failed to parse "m=" header: '+s_str);return null}return hdr_M};tsdp_header_O.prototype=Object.create(tsdp_header.prototype);_tsdp_machine_parser_header_O_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,2,0,4,2,0,5,2,0,6];_tsdp_machine_parser_header_O_key_offsets=[0,0,1,3,6,9,11,14,16,19,22,25,28,31,32,35,38];_tsdp_machine_parser_header_O_trans_keys=[111,32,61,32,0,65535,32,0,65535,48,57,32,48,57,48,57,32,48,57,32,0,65535,32,0,65535,32,0,65535,32,0,65535,10,13,0,65535,13,0,65535,0];_tsdp_machine_parser_header_O_single_lengths=[0,1,2,1,1,0,1,0,1,1,1,1,1,1,1,1,0];_tsdp_machine_parser_header_O_range_lengths=[0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0];_tsdp_machine_parser_header_O_index_offsets=[0,0,2,5,8,11,13,16,18,21,24,27,30,33,35,38,41];_tsdp_machine_parser_header_O_trans_targs=[2,0,2,3,0,3,4,0,5,4,0,6,0,7,6,0,8,0,9,8,0,11,10,0,11,10,0,14,12,0,14,12,0,16,0,13,15,0,13,15,0,0,0];_tsdp_machine_parser_header_O_trans_actions=[0,0,0,0,0,0,1,0,3,0,0,1,0,5,0,0,1,0,7,0,0,15,1,0,9,0,0,18,1,0,11,0,0,0,0,21,1,0,13,0,0,0,0];_tsdp_machine_parser_header_O_eof_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,13,0];tsdp_machine_parser_header_O_start=1;tsdp_machine_parser_header_O_first_final=14;tsdp_machine_parser_header_O_error=0;tsdp_machine_parser_header_O_en_main=1;function tsdp_header_O(s_username,i_sess_id,i_sess_version,s_nettype,s_addrtype,s_addr){tsdp_header.call(this,tsdp_header_type_e.O);this.s_username=s_username;this.i_sess_id=i_sess_id;this.i_sess_version=i_sess_version;this.s_nettype=s_nettype;this.s_addrtype=s_addrtype;this.s_addr=s_addr}tsdp_header_O.prototype.toString=function(){return tsk_string_format("{0} {1} {2} {3} {4} {5}",this.s_username,this.i_sess_id,this.i_sess_version,this.s_nettype,this.s_addrtype,this.s_addr)};tsdp_header_O.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_O=new tsdp_header_O(null,0,0,null,null,null);{cs=tsdp_machine_parser_header_O_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsdp_machine_parser_header_O_key_offsets[cs];_trans=_tsdp_machine_parser_header_O_index_offsets[cs];_klen=_tsdp_machine_parser_header_O_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsdp_machine_parser_header_O_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsdp_machine_parser_header_O_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsdp_machine_parser_header_O_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsdp_machine_parser_header_O_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsdp_machine_parser_header_O_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);cs=_tsdp_machine_parser_header_O_trans_targs[_trans];if(_tsdp_machine_parser_header_O_trans_actions[_trans]!=0){_acts=_tsdp_machine_parser_header_O_trans_actions[_trans];_nacts=_tsdp_machine_parser_header_O_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsdp_machine_parser_header_O_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_O.s_username=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 2:hdr_O.i_sess_id=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 3:hdr_O.i_sess_version=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 4:hdr_O.s_nettype=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 5:hdr_O.s_addrtype=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 6:hdr_O.s_addr=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_tsdp_machine_parser_header_O_eof_actions[cs];__nacts=_tsdp_machine_parser_header_O_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_tsdp_machine_parser_header_O_actions[__acts-1]){case 0:i_tag_start=p;break;case 6:hdr_O.s_addr=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}if(cs<14){tsk_utils_log_error('Failed to parse "o=" header: '+s_str);return null}return hdr_O};tsdp_header_Str.prototype=Object.create(tsdp_header.prototype);tsdp_header_B.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_E.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_I.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_K.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_P.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_R.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_S.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_T.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_U.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_Z.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_Dummy.prototype=Object.create(tsdp_header_Str.prototype);tsdp_header_Str.prototype.s_value=null;_tsdp_machine_parser_header_Str_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,2,0,12];_tsdp_machine_parser_header_Str_key_offsets=[0,0,14,16,18,19,21,23,25,27,29,31,33,35,37,39,43,46];_tsdp_machine_parser_header_Str_trans_keys=[98,101,105,107,112,114,115,116,117,122,65,90,97,121,32,61,32,61,10,32,61,32,61,32,61,32,61,32,61,32,61,32,61,32,61,32,61,32,61,13,32,0,65535,13,0,65535,0];_tsdp_machine_parser_header_Str_single_lengths=[0,10,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,0];_tsdp_machine_parser_header_Str_range_lengths=[0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0];_tsdp_machine_parser_header_Str_index_offsets=[0,0,13,16,19,21,24,27,30,33,36,39,42,45,48,51,55,58];_tsdp_machine_parser_header_Str_trans_targs=[5,6,7,8,9,10,11,12,13,14,2,2,0,3,15,0,3,15,0,17,0,3,15,0,3,15,0,3,15,0,3,15,0,3,15,0,3,15,0,3,15,0,3,15,0,3,15,0,3,15,0,4,15,16,0,4,16,0,0,0];_tsdp_machine_parser_header_Str_trans_actions=[0,0,0,0,0,0,0,0,0,0,1,1,0,23,23,0,0,0,0,0,0,3,3,0,5,5,0,7,7,0,9,9,0,11,11,0,13,13,0,15,15,0,17,17,0,19,19,0,21,21,0,27,0,1,0,25,0,0,0,0];_tsdp_machine_parser_header_Str_eof_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,25,0];tsdp_machine_parser_header_Str_start=1;tsdp_machine_parser_header_Str_first_final=15;tsdp_machine_parser_header_Str_error=0;tsdp_machine_parser_header_Str_en_main=1;function tsdp_header_Str(e_type,s_value){tsdp_header.call(this,e_type);this.s_value=s_value}tsdp_header_Str.prototype.toString=function(){return this.s_value};tsdp_header_Str.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var o_hdr=null;{cs=tsdp_machine_parser_header_Str_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsdp_machine_parser_header_Str_key_offsets[cs];_trans=_tsdp_machine_parser_header_Str_index_offsets[cs];_klen=_tsdp_machine_parser_header_Str_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsdp_machine_parser_header_Str_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsdp_machine_parser_header_Str_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsdp_machine_parser_header_Str_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsdp_machine_parser_header_Str_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsdp_machine_parser_header_Str_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);cs=_tsdp_machine_parser_header_Str_trans_targs[_trans];if(_tsdp_machine_parser_header_Str_trans_actions[_trans]!=0){_acts=_tsdp_machine_parser_header_Str_trans_actions[_trans];_nacts=_tsdp_machine_parser_header_Str_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsdp_machine_parser_header_Str_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:o_hdr=new tsdp_header_B;break;case 2:o_hdr=new tsdp_header_E;break;case 3:o_hdr=new tsdp_header_I;break;case 4:o_hdr=new tsdp_header_K;break;case 5:o_hdr=new tsdp_header_P;break;case 6:o_hdr=new tsdp_header_R;break;case 7:o_hdr=new tsdp_header_S;break;case 8:o_hdr=new tsdp_header_T;break;case 9:o_hdr=new tsdp_header_U;break;case 10:o_hdr=new tsdp_header_Z;break;case 11:o_hdr=new tsdp_header_Dummy;o_hdr.c_name=tsk_ragel_parser_get_string(s_str,p,i_tag_start)[0];break;case 12:if(o_hdr){o_hdr.s_value=tsk_ragel_parser_get_string(s_str,p,i_tag_start)}break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_tsdp_machine_parser_header_Str_eof_actions[cs];__nacts=_tsdp_machine_parser_header_Str_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_tsdp_machine_parser_header_Str_actions[__acts-1]){case 0:i_tag_start=p;break;case 12:if(o_hdr){o_hdr.s_value=tsk_ragel_parser_get_string(s_str,p,i_tag_start)}break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}if(cs<15){tsk_utils_log_error("Failed to parse header: "+s_str);return null}return o_hdr};function tsdp_header_B(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.B,s_value)}function tsdp_header_E(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.E,s_value)}function tsdp_header_I(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.I,s_value)}function tsdp_header_K(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.K,s_value)}function tsdp_header_P(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.P,s_value)}function tsdp_header_R(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.R,s_value)}function tsdp_header_S(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.S,s_value)}function tsdp_header_T(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.T,s_value)}function tsdp_header_U(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.U,s_value)}function tsdp_header_Z(s_value){tsdp_header_Str.call(this,tsdp_header_type_e.Z,s_value)}function tsdp_header_Dummy(s_name,s_value){tsdp_header_Str.call(this,tsdp_header_type_e.DUMMY,s_value);this.s_name=s_name}tsdp_header_V.prototype=Object.create(tsdp_header.prototype);_tsdp_machine_parser_header_V_actions=[0,1,0,1,1];_tsdp_machine_parser_header_V_key_offsets=[0,0,1,3,6,7,10];_tsdp_machine_parser_header_V_trans_keys=[118,32,61,32,48,57,10,13,48,57,0];_tsdp_machine_parser_header_V_single_lengths=[0,1,2,1,1,1,0];_tsdp_machine_parser_header_V_range_lengths=[0,0,0,1,0,1,0];_tsdp_machine_parser_header_V_index_offsets=[0,0,2,5,8,10,13];_tsdp_machine_parser_header_V_trans_targs=[2,0,2,3,0,3,5,0,6,0,4,5,0,0,0];_tsdp_machine_parser_header_V_trans_actions=[0,0,0,0,0,0,1,0,0,0,3,0,0,0,0];_tsdp_machine_parser_header_V_eof_actions=[0,0,0,0,0,3,0];tsdp_machine_parser_header_V_start=1;tsdp_machine_parser_header_V_first_final=5;tsdp_machine_parser_header_V_error=0;tsdp_machine_parser_header_V_en_main=1;function tsdp_header_V(i_version){tsdp_header.call(this,tsdp_header_type_e.V);this.i_version=i_version;this.toString=function(){return this.i_version.toString()}}tsdp_header_V.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_V=new tsdp_header_V(0);{cs=tsdp_machine_parser_header_V_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsdp_machine_parser_header_V_key_offsets[cs];_trans=_tsdp_machine_parser_header_V_index_offsets[cs];_klen=_tsdp_machine_parser_header_V_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsdp_machine_parser_header_V_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsdp_machine_parser_header_V_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsdp_machine_parser_header_V_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsdp_machine_parser_header_V_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsdp_machine_parser_header_V_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);cs=_tsdp_machine_parser_header_V_trans_targs[_trans];if(_tsdp_machine_parser_header_V_trans_actions[_trans]!=0){_acts=_tsdp_machine_parser_header_V_trans_actions[_trans];_nacts=_tsdp_machine_parser_header_V_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsdp_machine_parser_header_V_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_V.i_version=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_tsdp_machine_parser_header_V_eof_actions[cs];__nacts=_tsdp_machine_parser_header_V_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_tsdp_machine_parser_header_V_actions[__acts-1]){case 1:hdr_V.i_version=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}if(cs<5){tsk_utils_log_error('Failed to parse "v=" header: '+s_str);return null}return hdr_V};tsdp_message.prototype.__s_o_username_default="webrtc";
tsdp_message.prototype.__i_o_session_ver_default=2301;tsdp_message.prototype.__i_o_session_id_default=1983;tsdp_message.prototype.__s_s_value_default="-";function tsdp_message(s_addr,b_ipv6,i_version){this.ao_headers=new Array;if(s_addr){this.add_headers(new tsdp_header_V(0),new tsdp_header_O(tsdp_message.prototype.__s_o_username_default,tsdp_message.prototype.__i_o_session_id_default,i_version,"IN",b_ipv6?"IP6":"IP4",s_addr));this.add_headers(new tsdp_header_S(tsdp_message.prototype.__s_s_value_default));this.add_headers(new tsdp_header_T(0,0))}}tsdp_message.prototype.get_media_type=function(){var b_audio=this.has_media("audio");var b_video=this.has_media("video");var b_msrp=this.has_media("message");if(b_audio&&b_video){return tmedia_type_e.AUDIO_VIDEO}else if(b_audio){return tmedia_type_e.AUDIO}else if(b_video){return tmedia_type_e.VIDEO}else if(b_msrp){return tmedia_type_e.MSRP}return tmedia_type_e.NONE};tsdp_message.prototype.add_headers=function(){for(var i=0;i<arguments.length;++i){if(arguments[i]){this.ao_headers.push(arguments[i])}}this.ao_headers.sort(tsdp_header_compare_by_rank)};tsdp_message.prototype.add_header=function(o_header){this.add_headers(o_header)};tsdp_message.prototype.remove_header=function(e_type){for(var i_index=0;i_index<this.ao_headers.length;){if(this.ao_headers[i_index].e_type==e_type){this.ao_headers.splice(i_index,1);continue}++i_index}};tsdp_message.prototype.get_header_at=function(e_type,i_index){var i_pos=0;for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==e_type){if(i_pos++>=i_index){return this.ao_headers[i]}}}return null};tsdp_message.prototype.get_header=function(e_type){return this.get_header_at(e_type,0)};tsdp_message.prototype.get_header_by_name=function(c_name){for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].get_name()==c_name){return c_name}}return null};tsdp_message.prototype.get_a_header_by_name=function(){if(arguments&&arguments.length>0){}else{tsk_utils_log_info("get_a_header_by_name: invalid argument");return}var ao_headers=new Array;var length=arguments.length;for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].get_name()=="a"){for(var j=0;j<length;++j){if(arguments[j]==this.ao_headers[i].s_field){ao_headers.push(this.ao_headers[i]);this.ao_headers.splice(i,1);i--}}}}return ao_headers};tsdp_message.prototype.get_header_a_at=function(s_field,i_index){if(!s_field||i_index<0){tsk_utils_log_error("Invalid argument");return null}var i_pos=0;for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.A&&this.ao_headers[i].s_field==s_field){if(i_pos++>=i_index){return this.ao_headers[i]}}}return null};tsdp_message.prototype.remove_header_a_at=function(s_field,i_index,option_tag){if(!s_field||i_index<0){tsk_utils_log_error("Invalid argument");return null}for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.A&&this.ao_headers[i].s_field==s_field){if(option_tag!=undefined){if(this.ao_headers[i].s_value==option_tag){this.ao_headers.splice(i,1)}else{this.ao_headers[i].s_value=this.ao_headers[i].s_value.split(" ").filter(function(item){return item!=option_tag}).join(" ")}}else{this.ao_headers.splice(i,1)}return true}}return false};tsdp_message.prototype.get_header_a=function(s_field){return this.get_header_a_at(s_field,0)};tsdp_message.prototype.support_ice_lite=function(){for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.A&&this.ao_headers[i].s_field=="ice-lite"){return error_status_e.err_status_ok}}return error_status_e.err_status_fail};tsdp_message.prototype.remove_header_a=function(s_field,option_tag){return this.remove_header_a_at(s_field,0,option_tag)};tsdp_message.prototype.remove_header_b=function(){var i_index=0;var i_pos=0;for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.B){if(i_pos++>=i_index){this.ao_headers.splice(i,1);return true}}}};tsdp_message.prototype.add_media=function(s_media,i_port,s_proto){this.add_headers(new tsdp_header_M(s_media,i_port,s_proto))};tsdp_message.prototype.remove_audio=function(){for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.M){if(this.ao_headers[i].s_media=="audio"){this.ao_headers.splice(i,1)}}}};tsdp_message.prototype.remove_main_video=function(s_media){var num=new Array;var j=0;for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.M){if(this.ao_headers[i].s_media==s_media){num[j++]=i}}}if(num.length==2){this.ao_headers.splice(num[0],1)}};tsdp_message.prototype.remove_slides_video=function(s_media){var num=new Array;var j=0;for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.M){if(this.ao_headers[i].s_media==s_media){num[j++]=i}}}if(num.length==2){this.ao_headers.splice(num[1],1)}};tsdp_message.prototype.remove_media_all=function(s_media){for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.M){if(this.ao_headers[i].s_media==s_media){this.ao_headers.splice(i,2)}}}};tsdp_message.prototype.get_header_not_m=function(){var ao_headers=new Array;for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type!==tsdp_header_type_e.M){ao_headers.unshift(this.ao_headers[i])}}return ao_headers};tsdp_message.prototype.get_header_m_by_name=function(s_media){if(!s_media){tsk_utils_log_error("Invalid argument");return null}for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.M){if(tsk_string_iequals(this.ao_headers[i].s_media,s_media)){return this.ao_headers[i]}}}return null};tsdp_message.prototype.get_header_m_slides_by_name=function(s_media){if(!s_media){tsk_utils_log_error("Invalid argument");return null}for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==tsdp_header_type_e.M){if(tsk_string_iequals(this.ao_headers[i].s_media,s_media)){return this.ao_headers[++i]}}}return null};tsdp_message.prototype.has_media=function(s_media){return this.get_header_m_by_name(s_media)!=null};tsdp_message.prototype.hold=function(s_media){if(!s_media){tsk_utils_log_error("Invalid argument");return-1}var o_hdr_M=this.get_header_m_by_name(s_media);if(o_hdr_M){o_hdr_M.hold(true)}return 0};tsdp_message.prototype.resume=function(s_media){if(!s_media){tsk_utils_log_error("Invalid argument");return-1}var o_hdr_M=this.get_header_m_by_name(s_media);if(o_hdr_M){o_hdr_M.resume(true)}return 0};tsdp_message.prototype.toString=function(s_endline){var s_str="";if(!s_endline){s_endline="\r\n"}for(var i=0;i<this.ao_headers.length;++i){s_str+=this.ao_headers[i].tostring_full(false,s_endline)}return s_str};_tsdp_machine_message_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,1,13,1,14,1,15,1,16];_tsdp_machine_message_key_offsets=[0,0,2,5,6,8,11,13,16,18,21,23,26,28,31,33,36,38,41,43,46,48,51,53,56,58,61,63,66,68,71,73,76,78,81];_tsdp_machine_message_trans_keys=[32,61,13,0,65535,10,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,32,61,13,0,65535,65,66,67,69,73,75,77,79,80,82,83,84,85,86,90,97,98,99,101,105,107,109,111,112,114,115,116,117,118,122,68,89,100,121,0];_tsdp_machine_message_single_lengths=[0,2,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,30];_tsdp_machine_message_range_lengths=[0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2];_tsdp_machine_message_index_offsets=[0,0,3,6,8,11,14,17,20,23,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86,89,92,95,98];_tsdp_machine_message_trans_targs=[1,2,0,3,2,0,34,0,4,5,0,3,5,0,6,7,0,3,7,0,8,9,0,3,9,0,10,11,0,3,11,0,12,13,0,3,13,0,14,15,0,3,15,0,16,17,0,3,17,0,18,19,0,3,19,0,20,21,0,3,21,0,22,23,0,3,23,0,24,25,0,3,25,0,26,27,0,3,27,0,28,29,0,3,29,0,30,31,0,3,31,0,32,33,0,3,33,0,1,4,6,10,12,14,16,18,20,22,24,26,28,30,32,1,4,6,10,12,14,16,18,20,22,24,26,28,30,32,8,8,0,0];_tsdp_machine_message_trans_actions=[0,0,0,3,0,0,0,0,0,0,0,5,0,0,0,0,0,7,0,0,0,0,0,9,0,0,0,0,0,11,0,0,0,0,0,13,0,0,0,0,0,15,0,0,0,0,0,17,0,0,0,0,0,19,0,0,0,0,0,21,0,0,0,0,0,23,0,0,0,0,0,25,0,0,0,0,0,27,0,0,0,0,0,29,0,0,0,0,0,31,0,0,0,0,0,33,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0];tsdp_machine_message_start=34;tsdp_machine_message_first_final=34;tsdp_machine_message_error=0;tsdp_machine_message_en_main=34;tsdp_message.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var sdp_msg=new tsdp_message;var header=null;var hdr_T=null;var hdr_M=null;{cs=tsdp_machine_message_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsdp_machine_message_key_offsets[cs];_trans=_tsdp_machine_message_index_offsets[cs];_klen=_tsdp_machine_message_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsdp_machine_message_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsdp_machine_message_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsdp_machine_message_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsdp_machine_message_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsdp_machine_message_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);cs=_tsdp_machine_message_trans_targs[_trans];if(_tsdp_machine_message_trans_actions[_trans]!=0){_acts=_tsdp_machine_message_trans_actions[_trans];_nacts=_tsdp_machine_message_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsdp_machine_message_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:if(hdr_M){if(header=tsdp_header_A.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){candidate=new Array;if(header.s_field=="candidate"){candidate=header.s_value.split(":");candidate_tcp=header.s_value.split("tcp");if(candidate.length==1&&candidate_tcp.length==1){hdr_M.ao_hdr_A.push(header)}else{}}else{hdr_M.ao_hdr_A.push(header)}}}else if(header=tsdp_header_A.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 2:if(hdr_M){if(header=tsdp_header_B.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){hdr_M.ao_hdr_B.push(header)}}else if(header=tsdp_header_B.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 3:if(hdr_M&&!hdr_M.o_hdr_C){hdr_M.o_hdr_C=tsdp_header_C.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))}else if(header=tsdp_header_C.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 4:if(header=tsdp_header_Dummy.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){if(hdr_M){hdr_M.ao_hdr_Dummy.push(header)}else{sdp_msg.add_header(header)}}break;case 5:if(header=tsdp_header_E.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 6:if(hdr_M&&!hdr_M.o_hdr_I){hdr_M.o_hdr_I=tsdp_header_I.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))}else if(header=tsdp_header_I.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 7:if(hdr_M&&!hdr_M.o_hdr_K){hdr_M.o_hdr_K=tsdp_header_K.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))}else if(header=tsdp_header_K.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 8:if(hdr_M=tsdp_header_M.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(hdr_M)}break;case 9:if(header=tsdp_header_O.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 10:if(header=tsdp_header_P.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 11:if(header=tsdp_header_R.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){if(hdr_T){hdr_T.ao_hdr_R.push(header)}else{sdp_msg.add_header(header)}}break;case 12:if(header=tsdp_header_S.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 13:if(hdr_T=tsdp_header_T.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(hdr_T);hdr_T=null}break;case 14:if(header=tsdp_header_U.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 15:if(header=tsdp_header_V.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break;case 16:if(header=tsdp_header_Z.prototype.Parse(tsk_ragel_parser_get_string(s_str,p,i_tag_start))){sdp_msg.add_header(header)}break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<34){tsk_utils_log_error("Failed to parse sdp message: "+s_str);return null}return sdp_msg};var tsip_action_type_common_e={ACCEPT:1e3,CANCEL:1001,HANGUP:1002,REJECT:1002,SHUTDOWN:1003};var tsip_action_type_e={NONE:-1,CONFIG:0,DTMF_SEND:1,REGISTER:10,UNREGISTER:tsip_action_type_common_e.HANGUP,SUBSCRIBE:20,UNSUBSCRIBE:tsip_action_type_common_e.HANGUP,MESSAGE:30,INFO:40,PUBLISH:50,UNPUBLISH:tsip_action_type_common_e.HANGUP,OPTIONS:60,INVITE:70,HOLD:71,RESUME:72,ECT:73,ECT_ACCEPT:74,ECT_REJECT:75,ECT_NOTIFY:76,LARGE_MESSAGE:77,AUDIO_REFRESH:78,VIDEO_REFRESH:79,PRESENT_REFRESH:80,NOTIFY:100,ACCEPT:tsip_action_type_common_e.ACCEPT,CANCEL:tsip_action_type_common_e.CANCEL,HANGUP:tsip_action_type_common_e.HANGUP,REJECT:tsip_action_type_common_e.REJECT,SHUTDOWN:tsip_action_type_common_e.SHUTDOWN};function tsip_action(e_type){this.e_type=e_type;this.ao_headers=new Array;this.o_content=null;this.line_resp={};this.line_resp.i_code=0;this.line_resp.s_phrase=null;this.media={};this.media.e_type=tmedia_type_e.NONE;this.media.ao_params=new Array;this.dtmf={};this.dtmf.i_volume=-1;this.dtmf.i_event=-1;this.ect={};this.ect.s_to=null;this.o_user_data={}}tsip_action.prototype.set_line_resp=function(i_code,s_phrase){this.line_resp.i_code=i_code;this.line_resp.s_phrase=s_phrase};tsip_action.prototype.set_content=function(o_content){this.o_content=o_content};tsip_action.prototype.get_content=function(){return this.o_content};tsip_action.prototype.add_headers=function(){for(var i=0;i<arguments.length;++i){if(arguments[i]){this.ao_headers.push(arguments[i])}}};var tsip_event_type_e={NONE:-1,INVITE:0,MESSAGE:1,INFO:2,OPTIONS:3,PUBLISH:4,REGISTER:5,SUBSCRIBE:6,NOTIFY:7,DIALOG:20,STACK:21};var tsip_event_code_e={DIALOG_TRANSPORT_ERROR:702,DIALOG_GLOBAL_ERROR:703,DIALOG_MESSAGE_ERROR:704,DIALOG_WEBRTC_ERROR:705,DIALOG_GET_LO_TIMEOUT:706,DIALOG_VIDEO_ON_TIMEOUT:707,DIALOG_PRESENT_ON_SUCESS:708,DIALOG_PRESENT_ON_FAIL:709,DIALOG_ICE_CONNECTION_FAIL:710,DIALOG_ICE_CONNECTION_FAIL_FIRST:711,DIALOG_VIDEO_ON_SUCESS:712,DIALOG_ICE_RESTART:713,DIALOG_REMOTE_STREM_CHANNGE:714,DIALOG_REQUEST_INCOMING:800,DIALOG_REQUEST_OUTGOING:802,DIALOG_REQUEST_CANCELLED:803,DIALOG_REQUEST_SENT:804,DIALOG_MEDIA_ADDED:805,DIALOG_MEDIA_REMOVED:806,DIALOG_MEDIA_LOCAL_REQUESTED:807,DIALOG_MEDIA_LOCAL_ACCEPTED:808,DIALOG_MEDIA_LOCAL_REFUSED:809,DIALOG_MEDIA_LOCAL_VIDEO_REQUESTED:810,DIALOG_MEDIA_LOCAL_CHANGE:811,DIALOG_CONNECTING:900,DIALOG_CONNECTED:901,DIALOG_TERMINATING:902,DIALOG_TERMINATED:903,STACK_STARTING:950,STACK_STARTED:951,STACK_STOPPING:952,STACK_STOPPED:953,STACK_FAILED_TO_START:954,STACK_FAILED_TO_STOP:955,RECV_SLIDES_VIDEO:956,RECV_MAIN_VIDEO:957,SOME_ERROR_HAPPENED:1001,NOT_SIP_MESSAGE:1002,ACTION_RESULT:1003};function tsip_event(o_session,i_code,s_phrase,o_message,e_type){this.init(o_session,i_code,s_phrase,o_message,e_type)}tsip_event.prototype.init=function(o_session,i_code,s_phrase,o_message,e_type){this.o_session=o_session;this.o_usr_data=null;this.i_code=i_code;this.s_phrase=s_phrase;this.o_message=o_message;this.e_type=e_type;return 0};tsip_event.prototype.get_session=function(){return this.o_session};tsip_event.prototype.get_message=function(){return this.o_message};tsip_event.prototype.get_code=function(){return this.i_code};tsip_event.prototype.get_phrase=function(){return this.s_phrase};tsip_event.prototype.set_usr_data=function(o_usr_data){this.o_usr_data=o_usr_data};tsip_event.prototype.is_type_session=function(){switch(this.e_type){case tsip_event_type_e.INVITE:case tsip_event_type_e.NOTIFY:case tsip_event_type_e.MESSAGE:case tsip_event_type_e.INFO:case tsip_event_type_e.OPTIONS:case tsip_event_type_e.PUBLISH:case tsip_event_type_e.REGISTER:case tsip_event_type_e.SUBSCRIBE:case tsip_event_type_e.DIALOG:{return true}}return false};tsip_event.prototype.is_type_stack=function(){return this.e_type==tsip_event_type_e.STACK};tsip_event.prototype.signal=function(){var This=this;if(this&&this.o_session&&this.o_session.on_event&&this.is_type_session()){setTimeout(function(){This.o_session.on_event(This)},1)}switch(this.e_type){case tsip_event_type_e.DIALOG:{if(This.o_session.o_stack.on_event_dialog){setTimeout(function(){This.o_session.o_stack.on_event_dialog(This)},1)}break}case tsip_event_type_e.STACK:{if(This.o_session.o_stack.on_event_stack){setTimeout(function(){This.o_session.o_stack.on_event_stack(This)},1)}}case tsip_event_type_e.INVITE:{if(This.o_session.o_stack.on_event_invite){setTimeout(function(){This.o_session.o_stack.on_event_invite(This)},1)}break}case tsip_event_type_e.MESSAGE:{if(This.o_session.o_stack.on_event_message){setTimeout(function(){This.o_session.o_stack.on_event_message(This)},1)}break}case tsip_event_type_e.REGISTER:{if(This.o_session.o_stack.on_event_register){setTimeout(function(){This.o_session.o_stack.on_event_register(This)},1)}break}case tsip_event_type_e.PUBLISH:{if(This.o_session.o_stack.on_event_publish){setTimeout(function(){This.o_session.o_stack.on_event_publish(This)},1)}break}case tsip_event_type_e.INFO:{if(This.o_session.o_stack.on_event_info){setTimeout(function(){This.o_session.o_stack.on_event_info(This)},1)}break}case tsip_event_type_e.SUBSCRIBE:{if(This.o_session.o_stack.on_event_subscribe){setTimeout(function(){This.o_session.o_stack.on_event_subscribe(This)},1)}break}case tsip_event_type_e.NOTIFY:{if(This.o_session.o_stack.on_event_notify){setTimeout(function(){This.o_session.o_stack.on_event_notify(This)},1)}break}}return 0};tsip_event.prototype.Signal=function(e_type,o_session,i_code,s_phrase,o_message){if(!o_session||!o_session.o_stack){tsk_utils_log_error("Invalid argument");return-1}var o_event=new tsip_event(o_session,i_code,s_phrase,o_message,e_type);return o_event.signal()};tsip_response.prototype=Object.create(tsip_message.prototype);tsip_request.prototype=Object.create(tsip_message.prototype);tsip_message.prototype.__s_version_10="SIP/1.0";tsip_message.prototype.__s_version_20="SIP/2.0";tsip_message.prototype.__s_version_default=tsip_message.prototype.__s_version_20;var tsip_message_type_e={UNKNOWN:0,REQUEST:1,RESPONSE:2};var tsip_request_type_e={NONE:{i_id:-1,s_name:"NONE"},ACK:{i_id:0,s_name:"ACK"},BYE:{i_id:1,s_name:"BYE"},CANCEL:{i_id:2,s_name:"CANCEL"},INVITE:{i_id:3,s_name:"INVITE"},OPTIONS:{i_id:4,s_name:"OPTIONS"},REGISTER:{i_id:5,s_name:"REGISTER"},SUBSCRIBE:{i_id:6,s_name:"SUBSCRIBE"},NOTIFY:{i_id:7,s_name:"NOTIFY"},REFER:{i_id:8,s_name:"REFER"},INFO:{i_id:9,s_name:"INFO"},UPDATE:{i_id:10,s_name:"UPDATE"},MESSAGE:{i_id:11,s_name:"MESSAGE"},PUBLISH:{i_id:12,s_name:"PUBLISH"},PRACK:{i_id:13,s_name:"PRACK"}};function tsip_message(e_type){this.s_version=tsip_message.prototype.__s_version_default;this.e_type=e_type;this.line={request:{},response:{}};this.o_hdr_firstVia=null;this.o_hdr_From=null;this.o_hdr_To=null;this.o_hdr_Contact=null;this.o_hdr_Call_ID=null;this.o_hdr_CSeq=null;this.o_hdr_Expires=null;this.o_hdr_Content_Type=null;this.o_hdr_Content_Length=null;this.o_content=null;this.ao_headers=new Array;this.s_sigcomp_id=null;this.o_socket=null;this.o_remote_addr=null;this.b_update=false}function tsip_response(i_status_code,s_reason_phrase,o_request){if(!s_reason_phrase||!o_request){tsk_utils_log_error("Invalid argument");return null}tsip_message.call(this,tsip_message_type_e.RESPONSE);this.line.response.i_status_code=i_status_code;this.line.response.s_reason_phrase=s_reason_phrase;this.o_socket=o_request.o_socket;this.o_remote_addr=o_request.o_remote_addr;this.o_hdr_From=o_request.o_hdr_From;this.o_hdr_Call_ID=o_request.o_hdr_Call_ID;this.o_hdr_CSeq=o_request.o_hdr_CSeq;this.o_hdr_firstVia=o_request.o_hdr_firstVia;if(this.o_hdr_firstVia){var i_index=1;var o_hdr_via;while(o_hdr_via=o_request.get_header_at(tsip_header_type_e.Via,i_index++)){this.add_header(o_hdr_via)}}{var i_index=0;var o_hdr_record_route;while(o_hdr_record_route=o_request.get_header_at(tsip_header_type_e.Record_Route,i_index++)){this.add_header(o_hdr_record_route)}}this.o_hdr_To=o_request.o_hdr_To;this.add_header(new tsip_header_Content_Length(0))}function tsip_request(s_method,o_uri_request,o_uri_from,o_uri_to,s_call_id,i_cseq){if(!s_method||!o_uri_request||!s_call_id){tsk_utils_log_error("Invalid argument");return null}tsip_message.call(this,tsip_message_type_e.REQUEST);this.line.request.s_method=s_method;this.line.request.o_uri=o_uri_request;this.line.request.e_type=tsip_message.prototype.GetRequestType(s_method);this.add_headers(new tsip_header_CSeq(i_cseq,s_method),new tsip_header_Call_ID(s_call_id),new tsip_header_Max_Forwards(TSIP_HEADER_MAX_FORWARDS_DEFAULT),new tsip_header_Content_Length(0));if(o_uri_to){this.add_headers(new tsip_header_To(o_uri_to,null))}if(o_uri_from){this.add_headers(new tsip_header_From(o_uri_from,null))}}tsip_message.prototype.add_header=function(o_hdr,b_top){if(!o_hdr){tsk_utils_log_error("Invalid argument");return-1}switch(o_hdr.e_type){case tsip_header_type_e.Via:{if(!this.o_hdr_firstVia){this.o_hdr_firstVia=o_hdr;return 0}break}case tsip_header_type_e.From:{if(!this.o_hdr_From){this.o_hdr_From=o_hdr;return 0}break}case tsip_header_type_e.To:{if(!this.o_hdr_To){this.o_hdr_To=o_hdr;return 0}break}case tsip_header_type_e.Contact:{if(!this.o_hdr_Contact){this.o_hdr_Contact=o_hdr;return 0}break}case tsip_header_type_e.Call_ID:{if(!this.o_hdr_Call_ID){this.o_hdr_Call_ID=o_hdr;return 0}break}case tsip_header_type_e.CSeq:{if(!this.o_hdr_CSeq){this.o_hdr_CSeq=o_hdr;return 0}break}case tsip_header_type_e.Expires:{if(!this.o_hdr_Expires){this.o_hdr_Expires=o_hdr;return 0}break}case tsip_header_type_e.Content_Type:{if(!this.o_hdr_Content_Type){this.o_hdr_Content_Type=o_hdr;return 0}break}case tsip_header_type_e.Content_Length:{if(!this.o_hdr_Content_Length){this.o_hdr_Content_Length=o_hdr;return 0}break}}if(b_top){this.ao_headers.unshift(o_hdr)}else{this.ao_headers.push(o_hdr)}return 0};tsip_message.prototype.add_headers=function(){for(var i=0;i<arguments.length;++i){if(arguments[i]){this.add_header(arguments[i])}}return 0};tsip_message.prototype.get_header_at=function(e_hdr_type,i_index){var i_pos=0;switch(e_hdr_type){case tsip_header_type_e.Via:{if(i_index==0){return this.o_hdr_firstVia}++i_pos;break}case tsip_header_type_e.From:{if(i_index==0){return this.o_hdr_From}++i_pos;break}case tsip_header_type_e.To:{if(i_index==0){return this.o_hdr_To}++i_pos;break}case tsip_header_type_e.Contact:{if(i_index==0){return this.o_hdr_Contact}++i_pos;break}case tsip_header_type_e.Call_ID:{if(i_index==0){return this.o_hdr_Call_ID}++i_pos;break}case tsip_header_type_e.CSeq:{if(i_index==0){return this.o_hdr_CSeq}++i_pos;break}case tsip_header_type_e.Expires:{if(i_index==0){return this.o_hdr_Expires}++i_pos;break}case tsip_header_type_e.Content_Type:{if(i_index==0){return this.o_hdr_Content_Type}++i_pos;break}case tsip_header_type_e.Content_Length:{if(i_index==0){return this.o_hdr_Content_Length}++i_pos;break}}for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].e_type==e_hdr_type){if(i_pos++>=i_index){return this.ao_headers[i]}}}return null};tsip_message.prototype.get_cause_reason=function(){var ao_reason=this.get_x_gs_speical_head("Reason");if(ao_reason){var code_index=ao_reason.s_value.indexOf("cause=");if(code_index>0){var reg=/cause\=([0-9]*[1-9][0-9]*)/;var cause=ao_reason.s_value.match(reg);tsk_utils_log_warn("get_cause_reason casue: "+cause[1]);return cause[1]}}return null};tsip_message.prototype.get_x_gs_speical_head=function(header){for(var i=0;i<this.ao_headers.length;++i){if(this.ao_headers[i].s_name==header){return this.ao_headers[i]}}return null};tsip_message.prototype.parse_reason_head=function(){var o_reason={};var ao_reason=this.get_x_gs_speical_head("Reason");if(ao_reason){var code_index=ao_reason.s_value.indexOf("cause=");var id_index=ao_reason.s_value.indexOf("meetingid=");if(code_index>=0&&id_index>=0){var reg=/cause\=([0-9]*[1-9][0-9]*)/;var a_xEcode=ao_reason.s_value.match(reg);tsk_utils_log_warn("parse_reason_head casue: "+a_xEcode[1]);o_reason.xEcode=a_xEcode[1];o_reason.code=a_xEcode[1];o_reason.meetingid=ao_reason.s_value.slice(id_index+10,ao_reason.s_value.length);return o_reason}}return null};tsip_message.prototype.get_response_cseq=function(){return this.is_response()?this.o_hdr_CSeq:0};tsip_message.prototype.get_header=function(e_hdr_type){return this.get_header_at(e_hdr_type,0)};tsip_message.prototype.get_response_code=function(){return this.is_response()?this.line.response.i_status_code:0};tsip_message.prototype.get_response_phrase=function(){return this.is_response()?this.line.response.s_reason_phrase:null};tsip_message.prototype.is_allowed=function(s_method){if(!s_method){tsk_utils_log_error("Invalid argument");return false}var o_hdr_allow;var i_index=0;while(o_hdr_allow=this.get_header_at(tsip_header_type_e.Allow,i_index++)){if(o_hdr_allow.has_value(s_method)){return true}}return false};tsip_message.prototype.is_supported=function(s_option){if(!s_option){tsk_utils_log_error("Invalid argument");return false}var o_hdr_supported;var i_index=0;while(o_hdr_supported=this.get_header_at(tsip_header_type_e.Supported,i_index++)){if(o_hdr_supported.has_value(s_option)){return true}}return false};tsip_message.prototype.is_required=function(s_option){if(!s_option){tsk_utils_log_error("Invalid argument");return false}var o_hdr_require;var i_index=0;while(o_hdr_require=this.get_header_at(tsip_header_type_e.Require,i_index++)){if(o_hdr_require.has_value(s_option)){return true}}return false};tsip_message.prototype.get_expires=function(){if(this.o_hdr_Expires){return this.o_hdr_Expires.i_value}if(this.o_hdr_Contact){return this.o_hdr_Contact.i_expires}return-1};tsip_message.prototype.has_content=function(){return this.get_content_length()>0&&this.o_content};tsip_message.prototype.get_content_length=function(){return this.o_hdr_Content_Length?this.o_hdr_Content_Length.i_value:0};tsip_message.prototype.get_content_type=function(){return this.o_hdr_Content_Type?this.o_hdr_Content_Type.s_type:null};tsip_message.prototype.get_content=function(){return this.o_content};tsip_message.prototype.get_content_as_string=function(){if(this.o_content){if(this.o_content instanceof Array){return tsk_buff_u8b2utf8(this.o_content)}}return this.o_content?this.o_content.toString():null};tsip_message.prototype.add_content=function(o_content,s_content_type,i_length){if(s_content_type){this.o_hdr_Content_Type=new tsip_header_Content_Type(s_content_type)}if(o_content&&typeof i_length=="undefined"){if(o_content instanceof String||typeof o_content=="string"){i_length=unescape(encodeURIComponent(o_content)).length}else if(o_content.byteLength){i_length=o_content.byteLength}else if(o_content.length){i_length=o_content.length}else{tsk_utils_log_error("cannot stat content-length");i_length=0}}this.o_hdr_Content_Length=new tsip_header_Content_Length(i_length);this.o_content=o_content};tsip_message.prototype.toString=function(){var s_str=null;if(this.e_type==tsip_message_type_e.REQUEST){s_str=tsk_string_format("{0} {1} {2}\r\n",this.line.request.s_method,tsip_uri_tostring(this.line.request.o_uri,true,false),this.s_version)}else{s_str=tsk_string_format("{0} {1} {2}\r\n",this.s_version,this.line.response.i_status_code,this.line.response.s_reason_phrase)}if(this.o_hdr_firstVia){s_str+=this.o_hdr_firstVia.tostring_full()}if(this.o_hdr_From){s_str+=this.o_hdr_From.tostring_full()}if(this.o_hdr_To){s_str+=this.o_hdr_To.tostring_full()}if(this.o_hdr_Contact){s_str+=this.o_hdr_Contact.tostring_full()}if(this.o_hdr_Call_ID){s_str+=this.o_hdr_Call_ID.tostring_full()}if(this.o_hdr_CSeq){s_str+=this.o_hdr_CSeq.tostring_full()}if(this.o_hdr_Expires){s_str+=this.o_hdr_Expires.tostring_full()}if(this.o_hdr_Content_Type){s_str+=this.o_hdr_Content_Type.tostring_full()}if(this.o_hdr_Content_Length){s_str+=this.o_hdr_Content_Length.tostring_full()}for(var i=0;i<this.ao_headers.length;++i){s_str+=this.ao_headers[i].tostring_full()}s_str+="\r\n";if(this.has_content()){s_str+=this.get_content_as_string()}return s_str};tsip_message.prototype.is_request=function(){return this.e_type==tsip_message_type_e.REQUEST};tsip_message.prototype.is_response=function(){return this.e_type==tsip_message_type_e.RESPONSE};tsip_message.prototype.is_req_type=function(e_type){return this.is_request()&&this.line.request.e_type==e_type};tsip_message.prototype.is_ack=function(){return this.is_req_type(tsip_request_type_e.ACK)};tsip_message.prototype.is_bye=function(){return this.is_req_type(tsip_request_type_e.BYE)};tsip_message.prototype.is_cancel=function(){return this.is_req_type(tsip_request_type_e.CANCEL)};tsip_message.prototype.is_invite=function(){return this.is_req_type(tsip_request_type_e.INVITE)};tsip_message.prototype.is_options=function(){return this.is_req_type(tsip_request_type_e.OPTIONS)};tsip_message.prototype.is_register=function(){return this.is_req_type(tsip_request_type_e.REGISTER)};tsip_message.prototype.is_subscribe=function(){return this.is_req_type(tsip_request_type_e.SUBSCRIBE)};tsip_message.prototype.is_notify=function(){return this.is_req_type(tsip_request_type_e.NOTIFY)};tsip_message.prototype.is_update=function(){return this.is_req_type(tsip_request_type_e.UPDATE)};tsip_message.prototype.is_message=function(){return this.is_req_type(tsip_request_type_e.MESSAGE)};tsip_message.prototype.is_publish=function(){return this.is_req_type(tsip_request_type_e.PUBLISH)};tsip_message.prototype.is_prack=function(){return this.is_req_type(tsip_request_type_e.PRACK)};tsip_message.prototype.is_refer=function(){return this.is_req_type(tsip_request_type_e.REFER)};tsip_message.prototype.is_info=function(){return this.is_req_type(tsip_request_type_e.INFO)};tsip_message.prototype.is_response_to=function(e_req_type){return this.is_response()&&this.o_hdr_CSeq&&this.o_hdr_CSeq.e_req_type==e_req_type};tsip_message.prototype.is_response_to_ack=function(){return this.is_response_to(tsip_request_type_e.ACK)};tsip_message.prototype.is_response_to_bye=function(){return this.is_response_to(tsip_request_type_e.BYE)};tsip_message.prototype.is_response_to_cancel=function(){return this.is_response_to(tsip_request_type_e.CANCEL)};tsip_message.prototype.is_response_to_invite=function(){return this.is_response_to(tsip_request_type_e.INVITE)};tsip_message.prototype.is_response_to_options=function(){return this.is_response_to(tsip_request_type_e.OPTIONS)};tsip_message.prototype.is_response_to_register=function(){return this.is_response_to(tsip_request_type_e.REGISTER)};tsip_message.prototype.is_response_to_subscribe=function(){
return this.is_response_to(tsip_request_type_e.SUBSCRIBE)};tsip_message.prototype.is_response_to_notify=function(){return this.is_response_to(tsip_request_type_e.NOTIFY)};tsip_message.prototype.is_response_to_update=function(){return this.is_response_to(tsip_request_type_e.UPDATE)};tsip_message.prototype.is_response_to_message=function(){return this.is_response_to(tsip_request_type_e.MESSAGE)};tsip_message.prototype.is_response_to_publish=function(){return this.is_response_to(tsip_request_type_e.PUBLISH)};tsip_message.prototype.is_response_to_prack=function(){return this.is_response_to(tsip_request_type_e.PRACK)};tsip_message.prototype.is_response_to_refer=function(){return this.is_response_to(tsip_request_type_e.REFER)};tsip_message.prototype.is_response_to_info=function(){return this.is_response_to(tsip_request_type_e.INFO)};tsip_message.prototype.is_response_nxx=function(i_n){return this.is_response()&&(i_n*100<=this.get_response_code()&&this.get_response_code()<=i_n*100+99)};tsip_message.prototype.is_response_xxx=function(i_xxx){return this.is_response()&&this.get_response_code()==i_xxx};tsip_message.prototype.is_1xx=function(){return this.is_response_nxx(1)};tsip_message.prototype.is_2xx=function(){return this.is_response_nxx(2)};tsip_message.prototype.is_3xx=function(){return this.is_response_nxx(3)};tsip_message.prototype.is_4xx=function(){return this.is_response_nxx(4)};tsip_message.prototype.is_5xx=function(){return this.is_response_nxx(5)};tsip_message.prototype.is_6xx=function(){return this.is_response_nxx(6)};tsip_message.prototype.is_23456=function(){return this.is_response()&&(200<=this.get_response_code()&&this.get_response_code()<=699)};tsip_message.prototype.is_3456=function(){return this.is_response()&&(300<=this.get_response_code()&&this.get_response_code()<=699)};tsip_message.prototype.GetRequestType=function(s_method){if(s_method){var s_method_i=s_method.toUpperCase();if(s_method_i==tsip_request_type_e.ACK.s_name){return tsip_request_type_e.ACK}else if(s_method_i==tsip_request_type_e.BYE.s_name){return tsip_request_type_e.BYE}else if(s_method_i==tsip_request_type_e.CANCEL.s_name){return tsip_request_type_e.CANCEL}else if(s_method_i==tsip_request_type_e.INVITE.s_name){return tsip_request_type_e.INVITE}else if(s_method_i==tsip_request_type_e.OPTIONS.s_name){return tsip_request_type_e.OPTIONS}else if(s_method_i==tsip_request_type_e.REGISTER.s_name){return tsip_request_type_e.REGISTER}else if(s_method_i==tsip_request_type_e.SUBSCRIBE.s_name){return tsip_request_type_e.SUBSCRIBE}else if(s_method_i==tsip_request_type_e.NOTIFY.s_name){return tsip_request_type_e.NOTIFY}else if(s_method_i==tsip_request_type_e.REFER.s_name){return tsip_request_type_e.REFER}else if(s_method_i==tsip_request_type_e.INFO.s_name){return tsip_request_type_e.INFO}else if(s_method_i==tsip_request_type_e.UPDATE.s_name){return tsip_request_type_e.UPDATE}else if(s_method_i==tsip_request_type_e.MESSAGE.s_name){return tsip_request_type_e.MESSAGE}else if(s_method_i==tsip_request_type_e.PUBLISH.s_name){return tsip_request_type_e.PUBLISH}else if(s_method_i==tsip_request_type_e.PRACK.s_name){return tsip_request_type_e.PRACK}}return tsip_request_type_e.NONE};function prev_not_comma(o_ragel_state,i_p){return o_ragel_state.i_pe<=i_p||o_ragel_state.o_data[i_p-1]!=","}_tsip_machine_parser_message_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,2,0,5,2,6,0];_tsip_machine_parser_message_key_offsets=[0,0,16,31,35,47,50,52,55,57,59,61,62,64,67,69,72,73,88,89,106,109,114,117,121,142,146,147,149,166,183,197,199,202,204,207,209,211,213,214,230,246,252,258,260,281,284,288];_tsip_machine_parser_message_trans_keys=[33,37,39,83,115,126,42,43,45,46,48,57,65,90,95,122,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,65,90,97,122,9,32,43,58,45,46,48,57,65,90,97,122,9,32,58,0,65535,32,0,65535,83,115,73,105,80,112,47,48,57,46,48,57,48,57,13,48,57,10,13,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,13,0,65535,13,33,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,0,65535,10,9,32,32,33,37,39,73,105,126,42,43,45,46,48,57,65,90,95,122,32,33,37,39,80,112,126,42,43,45,46,48,57,65,90,95,122,32,33,37,39,47,126,42,43,45,57,65,90,95,122,48,57,46,48,57,48,57,32,48,57,48,57,48,57,48,57,32,9,13,37,61,95,126,32,33,36,59,63,90,97,122,128,255,9,13,37,61,95,126,32,33,36,59,63,90,97,122,128,255,48,57,65,70,97,102,48,57,65,70,97,102,0,65535,13,33,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,13,0,65535,10,13,0,65535,10,13,0,65535,0];_tsip_machine_parser_message_single_lengths=[0,6,5,0,4,3,0,1,2,2,2,1,0,1,0,1,1,5,1,7,3,3,1,2,7,2,1,2,7,7,6,0,1,0,1,0,0,0,1,6,6,0,0,0,7,1,2,2];_tsip_machine_parser_message_range_lengths=[0,5,5,2,4,0,1,1,0,0,0,0,1,1,1,1,0,5,0,5,0,1,1,1,7,1,0,0,5,5,4,1,1,1,1,1,1,1,0,5,5,3,3,1,7,1,1,1];_tsip_machine_parser_message_index_offsets=[0,0,12,23,26,35,39,41,44,47,50,53,55,57,60,62,65,67,78,80,93,97,102,105,109,124,128,130,133,146,159,170,172,175,177,180,182,184,186,188,200,212,216,220,222,237,240,244];_tsip_machine_parser_message_indicies=[0,0,0,2,2,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,1,5,5,1,6,6,7,8,7,7,7,7,1,6,6,8,1,9,1,10,9,1,11,11,1,12,12,1,13,13,1,14,1,15,1,16,15,1,17,1,18,17,1,19,1,20,21,21,21,21,21,21,21,21,21,1,22,1,23,23,24,24,24,25,24,24,24,24,24,24,1,23,23,25,1,25,27,25,26,1,28,26,1,29,28,26,1,30,31,31,31,26,26,31,26,31,26,31,26,31,26,1,32,28,26,1,33,1,26,26,1,3,4,4,4,34,34,4,4,4,4,4,4,1,3,4,4,4,35,35,4,4,4,4,4,4,1,3,4,4,4,36,4,4,4,4,4,1,37,1,38,37,1,39,1,40,39,1,41,1,42,1,43,1,44,1,45,46,47,45,45,45,45,45,45,45,45,1,48,49,50,48,48,48,48,48,48,48,48,1,51,51,51,1,48,48,48,1,52,1,54,55,55,55,53,53,55,53,55,53,55,53,55,53,1,56,53,1,57,56,53,1,32,56,53,1,0];_tsip_machine_parser_message_trans_targs=[2,0,28,3,2,4,5,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,43,20,19,21,22,26,23,24,25,22,44,27,29,30,31,32,33,34,35,36,37,38,39,40,16,41,40,16,41,42,43,45,47,45,46,44];_tsip_machine_parser_message_trans_actions=[1,0,1,3,0,1,0,0,0,0,5,1,0,0,0,0,0,0,7,0,0,1,15,0,0,0,0,0,0,0,13,20,15,0,0,0,0,0,0,0,7,1,0,0,9,1,17,1,0,11,0,0,0,0,13,20,0,0];tsip_machine_parser_message_start=1;tsip_machine_parser_message_first_final=43;tsip_machine_parser_message_error=0;tsip_machine_parser_message_en_main=1;function tsip_message_parser_init(o_ragel_state){var cs=0;{cs=tsip_machine_parser_message_start}o_ragel_state.i_cs=cs}function tsip_message_parser_execute(o_ragel_state,o_msg,b_extract_content){var cs=o_ragel_state.i_cs;var p=o_ragel_state.i_p;var pe=o_ragel_state.i_pe;var eof=o_ragel_state.i_eof;var data=o_ragel_state.o_data;{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_message_key_offsets[cs];_trans=_tsip_machine_parser_message_index_offsets[cs];_klen=_tsip_machine_parser_message_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_message_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_message_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_message_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_message_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_message_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_message_indicies[_trans];cs=_tsip_machine_parser_message_trans_targs[_trans];if(_tsip_machine_parser_message_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_message_trans_actions[_trans];_nacts=_tsip_machine_parser_message_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_message_actions[_acts-1]){case 0:o_ragel_state.i_tag_start=p;break;case 1:o_ragel_state.i_tag_end=p;if(o_msg.e_type==tsip_message_type_e.UNKNOWN){o_msg.e_type=tsip_message_type_e.REQUEST;if(!o_msg.line.request.s_method){o_msg.line.request.s_method=tsk_ragel_parser_get_string(o_ragel_state.s_data,p,o_ragel_state.i_tag_start);o_msg.line.request.e_type=tsip_message.prototype.GetRequestType(o_msg.line.request.s_method)}}else{o_ragel_state.cs=tsip_machine_parser_message_error}break;case 2:o_ragel_state.i_tag_end=p;if(!o_msg.line.request.o_uri){var s_uri=tsk_ragel_parser_get_string(o_ragel_state.s_data,p,o_ragel_state.i_tag_start);o_msg.line.request.o_uri=tsip_uri.prototype.Parse(s_uri)}break;case 3:o_ragel_state.i_tag_end=p;o_msg.s_version=tsk_ragel_parser_get_string(o_ragel_state.s_data,p,o_ragel_state.i_tag_start);break;case 4:o_ragel_state.i_tag_end=p;if(o_msg.e_type==tsip_message_type_e.UNKNOWN){o_msg.e_type=tsip_message_type_e.RESPONSE;var s_status_code=tsk_ragel_parser_get_string(o_ragel_state.s_data,p,o_ragel_state.i_tag_start);o_msg.line.response.i_status_code=parseInt(s_status_code)}else{o_ragel_state.i_cs=tsip_machine_parser_message_error}break;case 5:o_ragel_state.i_tag_end=p;if(!o_msg.line.response.s_reason_phrase){o_msg.line.response.s_reason_phrase=tsk_ragel_parser_get_string(o_ragel_state.s_data,p,o_ragel_state.i_tag_start)}break;case 6:o_ragel_state.i_tag_end=p;tsip_header_parse(o_ragel_state,o_msg);break;case 7:o_ragel_state.i_cs=cs;o_ragel_state.i_p=p;o_ragel_state.i_pe=pe;o_ragel_state.i_eof=eof;tsip_message_parser_eoh(o_ragel_state,o_msg,b_extract_content);cs=o_ragel_state.i_cs;p=o_ragel_state.i_p;pe=o_ragel_state.i_pe;eof=o_ragel_state.i_eof;break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}o_ragel_state.i_cs=cs;o_ragel_state.i_p=p;o_ragel_state.i_pe=pe;o_ragel_state.i_eof=eof}function tsip_message_parser_eoh(o_ragel_state,o_msg,b_extract_content){if(o_msg&&b_extract_content){var i_clen=o_ragel_state.i_pe-o_ragel_state.i_p-1;if(o_ragel_state.i_p+i_clen<o_ragel_state.i_pe&&!o_msg.o_content){var i_start=o_ragel_state.i_p+1;var i_end=i_start+i_clen;o_msg.o_content=new Array(i_end-i_start);for(var i=i_start,j=0;i<i_end;++i,++j){o_msg.o_content[j]=o_ragel_state.o_data[i]}o_ragel_state.i_p+=i_clen}else{o_ragel_state.i_p=o_ragel_state.i_pe-1}}}tsip_message.prototype.Parse=function(o_ragel_state,b_extract_content){var o_msg=null;if(!o_ragel_state||!o_ragel_state.o_data){return null}o_msg=new tsip_message(tsip_message_type_e.UNKNOWN);tsip_message_parser_init(o_ragel_state);tsip_message_parser_execute(o_ragel_state,o_msg,b_extract_content);if(o_ragel_state.i_cs<43){tsk_utils_log_error("Failed to parse message: "+o_ragel_state.s_data);return null}return o_msg};tsip_session.prototype.__i_expires_default=18e5;tsip_session.prototype.__i_session_id=0;tsip_session.prototype.__i_session_id_invalid=-1;tsip_session.prototype.on_event=null;var tsip_session_param_type_e={HEADER:0,CAPS:1,USR_DATA:2,TO_STR:3,from_STR:3,TO_URI:4,FROM_URI:5,NO_CONTACT:6,EXPIRES:7,SILENT_HANGUP:8,SIGCOMP_ID:9,PARENT_ID:10,BANDWIDTH:20,VIDEO_SIZE:21,INITIAL_MSG:50,MEDIA:100};function tsip_session(o_stack){if(!o_stack){tsk_utils_log_error("Invalid argument");return null}this.i_id=++tsip_session.prototype.__i_session_id;this.i_id_parent=tsip_session.prototype.__i_session_id_invalid;this.b_server=false;this.o_stack=o_stack;this.o_usr_data=null;this.ao_caps=new Array;this.ao_headers=new Array;this.o_uri_from=o_stack.identity.o_uri_impu;this.o_uri_to=null;this.i_expires=tsip_session.prototype.__i_expires_default;this.b_silent_hangup=false;this.b_no_contact=false;this.media={};this.media.e_type=tmedia_type_e.NONE;this.media.b_100rel=false;this.media.o_bandwidth=o_stack.media.o_bandwidth;this.media.o_video_size=o_stack.media.o_video_size;this.media.timers={};this.media.timers.s_refresher="uac";this.media.timers.i_timeout=14400;this.media.qos={};this.media.qos.e_type=tmedia_qos_stype_e.NONE;this.media.qos.e_strength=tmedia_qos_strength_e.NONE;this.media.msrp={};this.media.msrp.fn_callback=null}tsip_session.prototype.get_id=function(){return this.i_id};tsip_session.prototype.set=function(){return this.__set(arguments)};tsip_session.prototype.get_stack=function(){return this.o_stack};tsip_session.prototype.is_connected=function(){var o_dialog;if(o_dialog=this.o_stack.o_layer_dialog.find_by_ss(this)){return o_dialog.e_state==tsip_dialog_state_e.ESTABLISHED}return false};tsip_session.prototype.__set=function(ao_params){var o_curr;for(var i=0;i<ao_params.length;++i){o_curr=ao_params[i];if(!o_curr){continue}switch(o_curr.e_type){case tsip_session_param_type_e.HEADER:{this.ao_headers.push(new tsip_header_Dummy(o_curr.ao_values[0],o_curr.ao_values[1]));break}case tsip_session_param_type_e.CAPS:{this.ao_caps.push(tsk_param_create(o_curr.ao_values[0],o_curr.ao_values[1]));break}case tsip_session_param_type_e.USR_DATA:{this.o_usr_data=o_curr.ao_values[0];break}case tsip_session_param_type_e.TO_STR:{this.o_uri_to=tsip_uri_make_valid(o_curr.ao_values[0],this.o_stack.network.o_uri_realm.s_host);break}case tsip_session_param_type_e.FROM_STR:{this.o_uri_from=tsip_uri_make_valid(o_curr.ao_values[0],this.o_stack.network.o_uri_realm.s_host);break}case tsip_session_param_type_e.TO_URI:{if(!o_curr.ao_values[0]||o_curr.ao_values[0]instanceof tsip_uri){this.o_uri_to=o_curr.ao_values[0]}else{tsk_utils_log_error("Not a valid uri object")}break}case tsip_session_param_type_e.FROM_URI:{if(!o_curr.ao_values[0]||o_curr.ao_values[0]instanceof tsip_uri){this.o_uri_from=o_curr.ao_values[0]}else{tsk_utils_log_error("Not a valid uri object")}break}case tsip_session_param_type_e.NO_CONTACT:{this.b_no_contact=o_curr.ao_values[0];break}case tsip_session_param_type_e.EXPIRES:{this.i_expires=o_curr.ao_values[0]*1e3;break}case tsip_session_param_type_e.SILENT_HANGUP:{break}case tsip_session_param_type_e.SIGCOMP_ID:{break}case tsip_session_param_type_e.PARENT_ID:{break}case tsip_session_param_type_e.BANDWIDTH:{this.media.o_bandwidth=o_curr.ao_values[0];break}case tsip_session_param_type_e.VIDEO_SIZE:{this.media.o_video_size=o_curr.ao_values[0];break}case tsip_session_param_type_e.INITIAL_MSG:{var o_message;if(o_message=o_curr.ao_values[0]){if(o_message.o_hdr_From&&o_message.o_hdr_From.o_uri){this.o_uri_from=o_message.o_hdr_From.o_uri.clone(false,false);this.o_uri_from.s_display_name=o_message.o_hdr_From.s_display_name}if(o_message.o_hdr_To&&o_message.o_hdr_To.o_uri){this.o_uri_to=o_message.o_hdr_To.o_uri.clone(false,false)}this.b_server=true}break}}}};tsip_session.prototype.SetHeader=function(s_name,s_value){return tsip_session.prototype.SetAny(tsip_session_param_type_e.HEADER,s_name,s_value)};tsip_session.prototype.SetExpires=function(i_expires){return tsip_session.prototype.SetAny(tsip_session_param_type_e.EXPIRES,i_expires)};tsip_session.prototype.SetUsrData=function(o_usr_data){return tsip_session.prototype.SetAny(tsip_session_param_type_e.USR_DATA,o_usr_data)};tsip_session.prototype.SetCaps=function(s_name,s_value){return tsip_session.prototype.SetAny(tsip_session_param_type_e.CAPS,s_name,s_value)};tsip_session.prototype.SetToStr=function(s_to){return tsip_session.prototype.SetAny(tsip_session_param_type_e.TO_STR,s_to)};tsip_session.prototype.SetToUri=function(o_to){return tsip_session.prototype.SetAny(tsip_session_param_type_e.TO_URI,o_to)};tsip_session.prototype.SetFromStr=function(s_from){return tsip_session.prototype.SetAny(tsip_session_param_type_e.FROM_STR,s_from)};tsip_session.prototype.SetInitialMessage=function(o_sip_message){return tsip_session.prototype.SetAny(tsip_session_param_type_e.INITIAL_MSG,o_sip_message)};tsip_session.prototype.SetBandwidth=function(o_bandwidth){return tsip_session.prototype.SetAny(tsip_session_param_type_e.BANDWIDTH,o_bandwidth)};tsip_session.prototype.SetVideoSize=function(o_video_size){return tsip_session.prototype.SetAny(tsip_session_param_type_e.VIDEO_SIZE,o_video_size)};tsip_session.prototype.SetInitialMessage=function(o_sip_message){return tsip_session.prototype.SetAny(tsip_session_param_type_e.INITIAL_MSG,o_sip_message)};tsip_session.prototype.SetAny=function(e_type){var obj=new Object;obj.e_type=e_type;obj.ao_values=Array.prototype.slice.call(arguments,1);return obj};tsip_session.prototype.__action_handle=function(o_action){var i_ret=-1;if(this.o_stack&&o_action){var o_dialog;if(o_dialog=this.o_stack.o_layer_dialog.find_by_ss(this)){switch(o_action.e_type){case tsip_action_type_e.HANGUP:{i_ret=o_dialog.hangup(o_action);break}default:{i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action);break}}}else{tsk_utils_log_error("Failed to find dialog with this opid ["+this.i_id+"]")}}else{tsk_utils_log_error("Invalid argument")}return i_ret};tsip_session.prototype.__action_any=function(e_action_type){if(!this.o_stack){tsk_utils_log_error("Invalid stack");return-1}if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var o_action=new tsip_action(e_action_type);return this.__action_handle(o_action)};tsip_session.prototype.reject=function(){return this.__action_any(tsip_action_type_e.REJECT)};tsip_session.prototype.hangup=function(){return this.__action_any(tsip_action_type_e.HANGUP)};tsip_session.prototype.accept=function(){return this.__action_any(tsip_action_type_e.ACCEPT)};tsip_session.prototype.cancel=function(){return this.__action_any(tsip_action_type_e.CANCEL)};tsip_session_info.prototype=Object.create(tsip_session.prototype);var tsip_event_info_type_e={I_INFO:0,AO_INFO:1,I_NOTIFY:10,AO_NOTIFY:11};function tsip_session_info(o_stack){tsip_session.call(this,o_stack);this.__set(Array.prototype.slice.call(arguments,1))}function tsip_event_info(o_sip_session,i_code,s_phrase,o_sip_message,e_info_type){this.__proto__=new tsip_event(o_sip_session,i_code,s_phrase,o_sip_message,tsip_event_type_e.INFO);this.e_info_type=e_info_type}tsip_session_info.prototype.info=function(){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.INFO);if(o_action){var o_dialog=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.INFO,this);if(o_dialog){if((i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action))==0){}}}return i_ret};tsip_session_invite.prototype=Object.create(tsip_session.prototype);tsip_event_invite.prototype=Object.create(tsip_event.prototype);tsip_session_invite.prototype.o_stream_local=null;tsip_session_invite.prototype.o_stream_remote_=null;var tsip_event_invite_type_e={I_NEW_CALL:0,I_REQUEST:100,I_AO_REQUEST:101,O_ECT_TRYING:200,O_ECT_ACCEPTED:201,O_ECT_COMPLETED:202,O_ECT_FAILED:203,O_ECT_NOTIFY:204,I_ECT_REQUESTED:205,I_ECT_NEW_CALL:206,I_ECT_COMPLETED:207,I_ECT_FAILED:208,I_ECT_NOTIFY:209,M_EARLY_MEDIA:300,M_UPDATING:301,M_UPDATED:302,M_STREAM_CONNECTING:303,M_STREAM_CONNECTED:304,M_STREAM_LOCAL_REQUESTED:305,M_STREAM_LOCAL_ACCEPTED:306,M_STREAM_LOCAL_REFUSED:307,M_STREAM_LOCAL_ADDED:308,M_STREAM_LOCAL_REMOVED:309,M_STREAM_REMOTE_ADDED:310,M_STREAM_REMOTE_REMOVED:311,M_STREAM_ERROR_HAPPENED:312,M_STREAM_LOCAL_VIDEO_REQUESTED:313,M_STREAM_LOCAL_CHANGE:314,M_LOCAL_HOLD_OK:400,M_LOCAL_HOLD_NOK:401,M_LOCAL_RESUME_OK:402,M_LOCAL_RESUME_NOK:403,M_REMOTE_HOLD:404,M_REMOTE_RESUME:405,M_ICE_CONNECTION_FAILED:500,M_ICE_CONNECTION_FAILED_FIRST:501,M_ICE_RESTART:502,O_ACTION_RESULT:503};function tsip_session_invite(o_stack){tsip_session.call(this,o_stack);this.__set(Array.prototype.slice.call(arguments,1));this.o_url_local=null;this.o_url_remote=null;this.o_url_audio_local=null;this.o_url_audio_remote=null;this.o_url_video_local=null;this.o_url_video_remote=null;this.o_url_present_local=null;this.o_url_present_remote=null;this.o_stream_audio_local=null;this.o_stream_audio_remote=null;this.o_stream_video_local=null;this.o_stream_video_remote=null;this.o_stream_present_local=null;this.o_stream_present_remote=null;this.o_rtp_info=null;this.b_audio_pc=false;this.b_main_video_pc=false;this.b_slide_video_pc=false}function tsip_event_invite(o_session,i_code,s_phrase,o_sip_message,e_invite_type){tsip_event.call(this,o_session,i_code,s_phrase,o_sip_message,tsip_event_type_e.INVITE);this.e_invite_type=e_invite_type}tsip_session_invite.prototype.get_url_local=function(){return this.o_url_local};tsip_session_invite.prototype.get_stream_local=function(){return this.o_stream_local};tsip_session_invite.prototype.get_url_remote=function(){return this.o_url_remote};tsip_session_invite.prototype.get_stream_remote=function(){return this.o_stream_remote};tsip_session_invite.prototype.my_get_url_local=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_url_audio_local;case tmedia_pc_type_e.MAIN:return this.o_url_video_local;case tmedia_pc_type_e.SLIDES:return this.o_url_present_local;default:tsk_utils_log_info("my_get_url_local :  stream type is none. ");break}return null};tsip_session_invite.prototype.my_get_url_remote=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_url_audio_remote;case tmedia_pc_type_e.MAIN:return this.o_url_video_remote;case tmedia_pc_type_e.SLIDES:return this.o_url_present_remote;default:tsk_utils_log_info("my_get_url_remote:  stream type is none. ");break}return null};tsip_session_invite.prototype.my_get_stream_local=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_stream_audio_local;case tmedia_pc_type_e.MAIN:return this.o_stream_video_local;case tmedia_pc_type_e.SLIDES:return this.o_stream_present_local;default:tsk_utils_log_info("tsip_session_invite.my_get_stream_local :  stream type is none. ");break}return null};tsip_session_invite.prototype.my_get_stream_remote=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:return this.o_stream_audio_remote;case tmedia_pc_type_e.MAIN:return this.o_stream_video_remote;case tmedia_pc_type_e.SLIDES:return this.o_stream_present_remote;default:tsk_utils_log_info("tsip_session_invite.my_get_stream_remote:  stream type is none. ");break}return null};tsip_session_invite.prototype.__my_set_stream_local=function(o_stream,e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:if(o_stream!=null)tsk_utils_log_info("tsip_session_invite.__my_set_stream_local: audio stream id = "+o_stream.id);this.o_stream_audio_local=o_stream;break;case tmedia_pc_type_e.MAIN:if(o_stream!=null)tsk_utils_log_info("tsip_session_invite.__my_set_stream_local: video stream id = "+o_stream.id);this.o_stream_video_local=o_stream;break;case tmedia_pc_type_e.SLIDES:if(o_stream!=null)tsk_utils_log_info("tsip_session_invite.__my_set_stream_local: present stream id = "+o_stream.id);this.o_stream_present_local=o_stream;break;default:tsk_utils_log_info("tsip_session_invite.__my_set_stream_local:  stream type is none. ");break}SipMgr.setLocalStream({o_stream:o_stream,e_role:e_role});return null};tsip_session_invite.prototype.__my_set_stream_remote=function(o_stream,e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:if(o_stream!=null)tsk_utils_log_info("tsip_session_invite.my_set_stream_remote: audio stream id = "+o_stream.id);this.o_stream_audio_remote=o_stream;if(adapter.browserDetails.isWebRTCPluginInstalled===true){this.o_url_audio_remote=o_stream}else{this.o_url_audio_remote=o_stream?URL.createObjectURL(o_stream):undefined}break;case tmedia_pc_type_e.MAIN:if(o_stream!=null)tsk_utils_log_info("tsip_session_invite.my_set_stream_remote: video stream id = "+o_stream.id);this.o_stream_video_remote=o_stream;if(adapter.browserDetails.isWebRTCPluginInstalled===true){this.o_url_video_remote=o_stream}else{this.o_url_video_remote=o_stream?URL.createObjectURL(o_stream):undefined}break;case tmedia_pc_type_e.SLIDES:if(o_stream!=null)tsk_utils_log_info("tsip_session_invite.my_set_stream_remote: present stream id = "+o_stream.id);this.o_stream_present_remote=o_stream;if(adapter.browserDetails.isWebRTCPluginInstalled===true){this.o_url_present_remote=o_stream}else{this.o_url_present_remote=o_stream?URL.createObjectURL(o_stream):undefined}break;default:tsk_utils_log_info("tsip_session_invite.__my_set_stream_remote:  stream type is none. ");break}return null};tsip_session_invite.prototype.__my_set_pc=function(e_role){switch(e_role){case tmedia_pc_type_e.AUDIO:tsk_utils_log_info("__my_set_pc -> audio peerconnnection");this.b_audio_pc=true;this.b_main_video_pc=false;this.b_slide_video_pc=false;break;case tmedia_pc_type_e.MAIN:tsk_utils_log_info("__my_set_pc -> main video peerconnnection");this.b_main_video_pc=true;this.b_audio_pc=false;this.b_slide_video_pc=false;break;case tmedia_pc_type_e.SLIDES:tsk_utils_log_info("__my_set_pc -> slide video peerconnnection");this.b_slide_video_pc=true;this.b_main_video_pc=false;this.b_audio_pc=false;break;default:tsk_utils_log_info("tsip_session_invite.__my_set_stream_local:  stream type is none. ");break}return null};tsip_session_invite.prototype.__my_set_rtp_info=function(o_rtpinfo){this.o_rtp_info=o_rtpinfo};tsip_session_invite.prototype.__my_get_rtp_info=function(){return this.o_rtp_info};tsip_session_invite.prototype.deleteExistHeader=function(){for(var i=0;i<this.ao_headers.length;i++){if(this.ao_headers[i].s_name==="X-GS-Conf-Control"||this.ao_headers[i].s_name==="X-GS-Sender"||this.ao_headers[i].s_name==="X-GS-Users"||this.ao_headers[i].s_name==="X-GS-Message-Users"||this.ao_headers[i].s_name==="Accept-Encoding"||this.ao_headers[i].s_name==="X-IPVT-Client-Info"){this.ao_headers.splice(i,1);i--}}};tsip_session_invite.prototype.call=function(e_media_type){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.INVITE);if(o_action){var b_new_dialog=false;o_action.media.e_type=e_media_type;var o_dialog=this.o_stack.o_layer_dialog.find_by_ss(this);if(!o_dialog){b_new_dialog=true;o_dialog=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.INVITE,this)}if((i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action))==0){if(b_new_dialog){this.media.e_type=e_media_type}}}this.__my_set_pc(tmedia_pc_type_e.AUDIO);return i_ret};tsip_session_invite.prototype.audioRefresh=function(user_data){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.AUDIO_REFRESH);{o_action.o_user_data=user_data}if(o_action){this.deleteExistHeader();i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.videoRefresh=function(user_data){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.VIDEO_REFRESH);{o_action.o_user_data=user_data}if(o_action){this.deleteExistHeader();i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.PresntRefresh=function(user_data){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.PRESENT_REFRESH);{o_action.o_user_data=user_data}if(o_action){this.deleteExistHeader();i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.hold=function(e_media_type){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.HOLD);if(o_action){o_action.media.e_type=e_media_type;i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.resume=function(e_media_type){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.RESUME);if(o_action){o_action.media.e_type=e_media_type;i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.info=function(o_content,s_content_type){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.INFO);if(o_action){if(s_content_type){o_action.add_headers(new tsip_header_Content_Type(s_content_type))}o_action.set_content(o_content);i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.message=function(o_content,s_content_type){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.MESSAGE);if(o_action){if(s_content_type){o_action.add_headers(new tsip_header_Content_Type(s_content_type))}o_action.set_content(o_content);i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.dtmf=function(c_digit){if(!c_digit){tsk_utils_log_error("Invalid parameter");return-1}return this.info(tsk_string_format("Signal={0}\r\nDuration={1}",c_digit,120),"application/dtmf-relay")};tsip_session_invite.prototype.transfer=function(s_to){if(!s_to){tsk_utils_log_error("Invalid parameter");return-1}if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var o_uri_to=tsip_uri_make_valid(s_to,this.o_stack.network.o_uri_realm.s_host);if(!o_uri_to){tsk_utils_log_error("%s is not a valid SIP Uri",s_to);return-3}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.ECT);if(o_action){o_action.ect.s_to=tsip_uri_tostring(o_uri_to,false,false);i_ret=this.__action_handle(o_action)}return i_ret};tsip_session_invite.prototype.transfer_accept=function(){return this.__action_any(tsip_action_type_e.ECT_ACCEPT)};tsip_session_invite.prototype.transfer_reject=function(){return this.__action_any(tsip_action_type_e.ECT_REJECT)};tsip_session_message.prototype=Object.create(tsip_session.prototype);var tsip_event_message_type_e={I_MESSAGE:0,AO_MESSAGE:1};function tsip_event_message(o_sip_session,i_code,s_phrase,o_message,e_message_type){this.__proto__=new tsip_event(o_sip_session,i_code,s_phrase,o_message,tsip_event_type_e.MESSAGE);this.e_message_type=e_message_type}function tsip_session_message(o_stack){tsip_session.call(this,o_stack);this.__set(Array.prototype.slice.call(arguments,1))}tsip_session_message.prototype.send=function(o_content,s_content_type){if(!o_content){tsk_utils_log_error("Invalid argument");return-1}if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.MESSAGE);if(o_action){var o_dialog=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.MESSAGE,this);if(o_dialog){o_action.set_content(o_content);if(s_content_type){o_action.add_headers(new tsip_header_Content_Type(s_content_type))}if((i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action))==0){}}}return i_ret};var tsip_event_options_type_e={I_OPTIONS:0,AO_OPTIONS:1};function tsip_event_options(o_sip_session,i_code,s_phrase,o_sip_message,e_options_type){this.__proto__=new tsip_event(o_sip_session,i_code,s_phrase,o_sip_message,tsip_event_type_e.OPTIONS);this.e_type=e_options_type}tsip_session_publish.prototype=Object.create(tsip_session.prototype);tsip_event_publish.prototype=Object.create(tsip_event.prototype);var tsip_event_publish_type_e={I_PUBLISH:0,AO_PUBLISH:1,I_UNPUBLISH:10,AO_UNPUBLISH:11};function tsip_event_publish(o_sip_session,i_code,s_phrase,o_sip_message,e_publish_type){tsip_event.call(this,o_sip_session,i_code,s_phrase,o_sip_message,tsip_event_type_e.PUBLISH);this.e_publish_type=e_publish_type}function tsip_session_publish(o_stack){tsip_session.call(this,o_stack);this.__set(Array.prototype.slice.call(arguments,1))}tsip_session_publish.prototype.publish=function(o_content,s_content_type){
if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.PUBLISH);if(o_action){var o_dialog=this.o_stack.o_layer_dialog.find_by_ss(this);if(!o_dialog){o_dialog=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.PUBLISH,this)}o_action.set_content(o_content);if(s_content_type){o_action.add_headers(new tsip_header_Content_Type(s_content_type))}i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action)}return i_ret};tsip_session_publish.prototype.unpublish=function(){return this.__action_any(tsip_action_type_e.UNPUBLISH)};tsip_session_register.prototype=Object.create(tsip_session.prototype);tsip_event_register.prototype=Object.create(tsip_event.prototype);var tsip_event_register_type_e={I_NEW_REGISTER:0,I_REGISTER:10,AO_REGISTER:11,I_UNREGISTER:20,AO_UNREGISTER:21};function tsip_session_register(o_stack){tsip_session.call(this,o_stack);this.__set(Array.prototype.slice.call(arguments,1))}function tsip_event_register(o_session,i_code,s_phrase,o_sip_message,e_register_type){tsip_event.call(this,o_session,i_code,s_phrase,o_sip_message,tsip_event_type_e.REGISTER);this.e_register_type=e_register_type}tsip_session_register.prototype.register=function(){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.REGISTER);if(o_action){var o_dialog=this.o_stack.o_layer_dialog.find_by_ss(this);if(!o_dialog){o_dialog=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.REGISTER,this)}i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action)}return i_ret};tsip_session_register.prototype.unregister=function(){return this.__action_any(tsip_action_type_e.UNREGISTER)};tsip_session_subscribe.prototype=Object.create(tsip_session.prototype);tsip_event_subscribe.prototype=Object.create(tsip_event.prototype);var tsip_event_subscribe_type_e={I_SUBSCRIBE:0,AO_SUBSCRIBE:1,I_UNSUBSRIBE:10,AO_UNSUBSCRIBE:11,I_NOTIFY:20,AO_NOTIFY:21};function tsip_event_subscribe(o_sip_session,i_code,s_phrase,o_sip_message,e_subscribe_type){tsip_event.call(this,o_sip_session,i_code,s_phrase,o_sip_message,tsip_event_type_e.SUBSCRIBE);this.e_subscribe_type=e_subscribe_type}function tsip_session_subscribe(o_stack){tsip_session.call(this,o_stack);this.__set(Array.prototype.slice.call(arguments,1))}tsip_session_subscribe.prototype.subscribe=function(){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.SUBSCRIBE);if(o_action){var o_dialog=this.o_stack.o_layer_dialog.find_by_ss(this);if(!o_dialog){o_dialog=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.SUBSCRIBE,this)}i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action)}return i_ret};tsip_session_subscribe.prototype.unsubscribe=function(){return this.__action_any(tsip_action_type_e.UNSUBSCRIBE)};tsip_event_notify.prototype=Object.create(tsip_event.prototype);tsip_session_notify.prototype=Object.create(tsip_session.prototype);var tsip_event_notify_type_e={I_NOTIFY:0,AO_NOTIFY:1};function tsip_event_notify(o_sip_session,i_code,s_phrase,o_sip_message,e_notify_type){this.__proto__=new tsip_event(o_sip_session,i_code,s_phrase,o_sip_message,tsip_event_type_e.NOTIFY);this.e_notify_type=e_notify_type}function tsip_session_notify(o_stack){tsip_session.call(this,o_stack);this.__set(Array.prototype.slice.call(arguments,1))}tsip_event_notify.prototype.notify=function(){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return-2}var i_ret=-1;var o_action=new tsip_action(tsip_action_type_e.NOTIFY);if(o_action){var o_dialog=this.o_stack.o_layer_dialog.find_by_ss(this);if(!o_dialog){o_dialog=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.NOTIFY,this)}i_ret=o_dialog.fsm_act(o_action.e_type,null,o_action)}return i_ret};tsip_stack.prototype.on_event_stack=null;tsip_stack.prototype.on_event_dialog=null;tsip_stack.prototype.on_event_invite=null;tsip_stack.prototype.on_event_message=null;tsip_stack.prototype.on_event_publish=null;tsip_stack.prototype.on_event_info=null;tsip_stack.prototype.on_event_subscribe=null;tsip_stack.prototype.on_event_notify=null;var tsip_stack_param_type_e={DISPLAY_NAME:0,IMPU:1,PREFERRED_ID:2,IMPI:3,PASSWORD:4,ROLECODE:5,SIGCOMP:10,SIGCOMP_ADD_COMPARTMENT:11,SIGCOMP_REMOVE_COMPARTMENT:12,REALM:20,LOCAL_IP:21,LOCAL_PORT:22,AOR:23,DISCOVERY_NAPTR:24,DISCOVERY_DHCP:25,PROXY_CSCF:26,DNSSERVER:27,MODE_SERVER:28,PROXY_OUTBOUND:30,WEBSOCKET_SERVER_URL:31,ICE_SERVERS:32,ENABLE_RTCWEB_BREAKER:33,ENABLE_CLICK2CALL:34,ENABLE_SECURE_TRANSPORT:35,ICE_TRANSPORT_POLICY:36,RTCPEERCONNECTION_OPTIONAL:37,EARLY_IMS:40,SECAGREE_IPSEC:41,SECAGREE_TLS:42,AMF:43,OPERATOR_ID:44,TLS_CERTS:45,IPSEC_PARAMS:46,HEADER:50,STUN_SERVER:60,STUN_CRED:61,CACHE_MEDIA_STREAM:70,BANDWIDTH:71,VIDEO_SIZE:72,USERDATA:80};var tsip_transport_state_e={NONE:-1,STARTING:0,STARTED:1,STOPPING:3,STOPPED:4};function tsip_stack(s_realm,s_impi,s_impu_uri,s_proxy_cscf_host,i_proxy_cscf_port){if(!s_realm||!s_impi||!s_impu_uri){tsk_utils_log_error("Invalid argument");return null}var o_uri_impu=tsip_uri.prototype.Parse(s_impu_uri);if(!o_uri_impu){tsk_utils_log_error("'"+s_impu_uri+"' is not a valid IMPU Uri");return null}if(tsk_string_index_of(s_realm,s_realm.length,"sip:")!=0&&tsk_string_index_of(s_realm,s_realm.length,"sips:")!=0){s_realm=tsk_string_format("sip:{0}",s_realm)}var o_uri_realm=tsip_uri.prototype.Parse(s_realm);if(!o_uri_realm){tsk_utils_log_error("'"+s_realm+"' is not a valid realm");return null}this.e_state=tsip_transport_state_e.NONE;this.identity={};this.identity.s_display_name=o_uri_impu.s_user_name;this.identity.o_uri_impu=o_uri_impu;this.identity.o_uri_pref=null;this.identity.s_impi=s_impi;this.identity.s_password=null;this.identity.s_rolecode=null;this.network={};this.network.o_transport=null;this.network.s_transport="ws";this.network.s_local_ip=null;this.network.i_local_port=0;this.network.s_proxy_cscf_host=s_proxy_cscf_host;this.network.i_proxy_cscf_port=i_proxy_cscf_port;this.network.e_proxy_cscf_type=tsk_utils_have_webrtc4all()?tsip_transport_type_e.UDP:tsip_transport_type_e.WS;this.network.o_uri_realm=o_uri_realm;this.network.s_proxy_outbound_host=null;this.network.i_proxy_outbound_port=5060;this.network.e_proxy_outbound_type=this.network.e_proxy_cscf_type;this.network.s_websocket_server_url=null;this.network.ao_ice_servers=null;this.network.ao_ice_transport_policy=null;this.network.ao_RTCpeerConnection_optional=null;this.network.b_rtcweb_enabled=false;this.network.b_click2call_enabled=false;this.network.aor={};this.network.aor.s_ip=null;this.network.aor.i_port=0;this.security={};this.security.b_earlyIMS=true;this.security.tls={};this.security.tls.s_ca=null;this.security.tls.s_pbk=null;this.security.tls.s_pvk=null;this.natt={};this.natt.stun={};this.natt.stun.s_ip=null;this.natt.stun.i_port=0;this.natt.stun.s_login=null;this.natt.stun.s_pwd=null;this.media={};this.media.b_cache_stream=false;this.media.o_bandwidth={audio:undefined,video:undefined};this.media.o_video_size={minWidth:undefined,minHeight:undefined,maxWidth:undefined,maxHeight:undefined};this.media.e_video_src=video_src_e.NONE;this.o_timers=new tsip_timers;this.ao_sessions=new Array;this.ao_headers=new Array;this.o_usr_data=null;this.ao_uri_paths=new Array;this.ao_uri_service_routes=new Array;this.ao_uri_associated_uris=new Array;this.o_layer_dialog=new tsip_dialog_layer(this);this.o_layer_transac=new tsip_transac_layer(this);this.o_layer_transport=new tsip_transport_layer(this);this.__set(Array.prototype.slice.call(arguments,5))}tsip_stack.prototype.start=function(){if(this.e_state==tsip_transport_state_e.STARTED){tsk_utils_log_warn("Already started");return 0}else if(this.e_state==tsip_transport_state_e.STARTING){this.stop()}if(!this.network.s_proxy_cscf_host){tsk_utils_log_error("'"+this.network.s_proxy_cscf_host+"' not valid as proxy host");return-2}common_judgment_e.meSipAccount=this.identity.s_impi;tsk_utils_log_info("SIP stack start: proxy='"+this.network.s_proxy_cscf_host+":"+this.network.i_proxy_cscf_port+"', realm='"+this.network.o_uri_realm+"', impi='"+this.identity.s_impi+"', impu='"+this.identity.o_uri_impu+"'");this.network.o_transport=this.o_layer_transport.transport_new(this.network.e_proxy_cscf_type,this.network.s_proxy_cscf_host,this.network.i_proxy_cscf_port,"SIP Transport",__tsip_stack_transport_callback);if(!this.network.o_transport){tsk_utils_log_error("Failed to create transport with type= "+this.network.e_proxy_cscf_type);return-2}this.e_state=tsip_transport_state_e.STARTING;this.signal(tsip_event_code_e.STACK_STARTING,"Stack starting");return this.network.o_transport.start()};tsip_stack.prototype.stop=function(i_timeout){var This=this;setTimeout(function(){switch(This.e_state){case tsip_transport_state_e.STOPPED:case tsip_transport_state_e.STOPPING:case tsip_transport_state_e.NONE:return 0;default:break}if(typeof i_timeout=="undefined"){i_timeout=tsip_dialog.prototype.__i_timer_shutdown}var i_register_dialogs_count=0;var b_has_non_register_dialogs=false;var b_register_shutdown_sent=false;var i_ret;var i_timeout_non_register=(i_timeout<<1)/3;var o_date_start=o_date_start=new Date;for(var i=0;i<This.o_layer_dialog.ao_dialogs.length;++i){if(This.o_layer_dialog.ao_dialogs[i].e_type==tsip_dialog_type_e.REGISTER||This.o_layer_dialog.ao_dialogs[i].e_type==tsip_dialog_type_e.INVITE){++i_register_dialogs_count;continue}if((i_ret=This.o_layer_dialog.ao_dialogs[i].shutdown())==0){b_has_non_register_dialogs=true}}var func_shutdown_non_register=function(){if(b_has_non_register_dialogs){do{if(This.o_layer_dialog.ao_dialogs.length<=i_register_dialogs_count){setTimeout(func_shutdown_register,1);return}if(new Date-o_date_start>=i_timeout_non_register){setTimeout(func_shutdown_register,1);return}}while(false)}setTimeout(func_shutdown_non_register,1)};var func_shutdown_register=function(){if(!b_register_shutdown_sent){if(i_register_dialogs_count>0){i_register_dialogs_count=0;for(var i=0;i<This.o_layer_dialog.ao_dialogs.length;++i){if(This.o_layer_dialog.ao_dialogs[i].e_type==tsip_dialog_type_e.REGISTER){if((i_ret=This.o_layer_dialog.ao_dialogs[i].shutdown())==0){++i_register_dialogs_count}}}}b_register_shutdown_sent=true}do{if(This.o_layer_dialog.ao_dialogs.length==0||new Date-o_date_start>=i_timeout){setTimeout(func_shutdown_transport,1);return}}while(false);setTimeout(func_shutdown_register,1)};var func_shutdown_transport=function(){if(This.o_layer_transport){This.o_layer_transport.stop();This.o_layer_transport=null}This.signal(tsip_event_code_e.STACK_STOPPED,"Stack stopped")};if(b_has_non_register_dialogs){func_shutdown_non_register()}else if(i_register_dialogs_count){func_shutdown_register()}else{func_shutdown_transport()}},1);return 0};tsip_stack.prototype.set=function(){return this.__set(arguments)};tsip_stack.prototype.SetDisplayName=function(s_display_name){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.DISPLAY_NAME,s_display_name)};tsip_stack.prototype.SetPassword=function(s_password){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.PASSWORD,s_password)};tsip_stack.prototype.SetRolecode=function(s_rolecode){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.ROLECODE,s_rolecode)};tsip_stack.prototype.SetProxyCSCF=function(s_proxy_host,i_proxy_port,e_proxy_type){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.PROXY_CSCF,s_proxy_host,i_proxy_port,e_proxy_type)};tsip_stack.prototype.SetProxyOutBound=function(s_proxy_host,i_proxy_port,e_proxy_type){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.PROXY_OUTBOUND,s_proxy_host,i_proxy_port,e_proxy_type)};tsip_stack.prototype.SetProxyOutBoundUrl=function(s_url){if(!s_url){return tsip_stack.prototype.SetProxyOutBound(null,5060,tsip_transport_type_e.UDP)}var ao_params=tsk_string_parse_url(s_url);if(!ao_params||ao_params.length<3){tsk_utils_log_error(s_url+" not valid as outbound proxy url");return null}var e_tranport;switch(ao_params[0]){case"udp":default:e_tranport=tsip_transport_type_e.UDP;break;case"tcp":e_tranport=tsip_transport_type_e.TCP;break;case"tls":e_tranport=tsip_transport_type_e.TLS;break;case"dtls":e_tranport=tsip_transport_type_e.DTLS;break;case"sctp":e_tranport=tsip_transport_type_e.SCTP;break;case"ws":e_tranport=tsip_transport_type_e.WS;break;case"wss":e_tranport=tsip_transport_type_e.WSS;break}return tsip_stack.prototype.SetProxyOutBound(ao_params[1],ao_params[2],e_tranport)};tsip_stack.prototype.SetWebsocketServerUrl=function(s_websocket_server_url){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.WEBSOCKET_SERVER_URL,s_websocket_server_url)};tsip_stack.prototype.SetIceServers=function(x_ice_server_urls){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.ICE_SERVERS,x_ice_server_urls)};tsip_stack.prototype.SetIceTransportPolicy=function(x_ice_transport_policy){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.ICE_TRANSPORT_POLICY,x_ice_transport_policy)};tsip_stack.prototype.SetRTCpeerConnectionOptional=function(x_RTCpeerconnection_optional){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.RTCPEERCONNECTION_OPTIONAL,x_RTCpeerconnection_optional)};tsip_stack.prototype.SetMediaStreamCacheEnabled=function(b_cache_media_stream){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.CACHE_MEDIA_STREAM,b_cache_media_stream)};tsip_stack.prototype.SetBandwidth=function(o_bandwidth){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.BANDWIDTH,o_bandwidth)};tsip_stack.prototype.SetVideoSize=function(o_video_size){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.VIDEO_SIZE,o_video_size)};tsip_stack.prototype.SetRTCWebBreakerEnabled=function(b_enabled){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.ENABLE_RTCWEB_BREAKER,b_enabled)};tsip_stack.prototype.SetClick2CallEnabled=function(b_enabled){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.ENABLE_CLICK2CALL,b_enabled)};tsip_stack.prototype.SetSecureTransportEnabled=function(b_enabled){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.ENABLE_SECURE_TRANSPORT,b_enabled)};tsip_stack.prototype.SetEarlyIMSEnabled=function(b_enabled){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.EARLY_IMS,b_enabled)};tsip_stack.prototype.SetHeader=function(s_name,s_value){return tsip_stack.prototype.SetAny(tsip_stack_param_type_e.HEADER,s_name,s_value)};tsip_stack.prototype.__set=function(ao_params){var o_curr;for(var i=0;i<ao_params.length;++i){o_curr=ao_params[i];if(!o_curr){continue}switch(o_curr.e_type){case tsip_stack_param_type_e.DISPLAY_NAME:{this.identity.s_display_name=o_curr.ao_values[0];if(this.identity.o_uri_impu){this.identity.o_uri_impu.s_display_name=this.identity.s_display_name}break}case tsip_stack_param_type_e.PASSWORD:{this.identity.s_password=o_curr.ao_values[0];break}case tsip_stack_param_type_e.ROLECODE:{this.identity.s_rolecode=o_curr.ao_values[0];break}case tsip_stack_param_type_e.PROXY_CSCF:{this.network.s_proxy_cscf_host=o_curr.ao_values[0];this.network.i_proxy_cscf_port=o_curr.ao_values[1];this.network.e_proxy_cscf_type=o_curr.ao_values[2];break}case tsip_stack_param_type_e.PROXY_OUTBOUND:{this.network.s_proxy_outbound_host=o_curr.ao_values[0];this.network.i_proxy_outbound_port=o_curr.ao_values[1];this.network.e_proxy_outbound_type=o_curr.ao_values[2];break}case tsip_stack_param_type_e.WEBSOCKET_SERVER_URL:{this.network.s_websocket_server_url=o_curr.ao_values[0];if(this.network.s_websocket_server_url){if(this.network.s_websocket_server_url.indexOf("wss://")==0){this.network.e_proxy_cscf_type=tsip_transport_type_e.WSS}else if(this.network.s_websocket_server_url.indexOf("ws://")==0){this.network.e_proxy_cscf_type=tsip_transport_type_e.WS}}break}case tsip_stack_param_type_e.ICE_SERVERS:{if(!tsk_string_is_null_or_empty(o_curr.ao_values[0])){try{if(o_curr.ao_values[0]instanceof String||typeof o_curr.ao_values[0]=="string"){eval("this.network.ao_ice_servers = "+o_curr.ao_values[0]+";")}else if(o_curr.ao_values[0]instanceof Array||typeof o_curr.ao_values[0]=="array"){this.network.ao_ice_servers=o_curr.ao_values[0]}else{tsk_utils_log_warn(o_curr.ao_values[0]+" not valid as ICE servers")}}catch(e){tsk_utils_log_error("Failed to set ICE servers:"+e)}}break}case tsip_stack_param_type_e.ICE_TRANSPORT_POLICY:{this.network.ao_ice_transport_policy=o_curr.ao_values[0];break}case tsip_stack_param_type_e.RTCPEERCONNECTION_OPTIONAL:{this.network.ao_RTCpeerConnection_optional=o_curr.ao_values[0]}case tsip_stack_param_type_e.ENABLE_RTCWEB_BREAKER:{this.network.b_rtcweb_enabled=!!o_curr.ao_values[0];break}case tsip_stack_param_type_e.ENABLE_CLICK2CALL:{this.network.b_click2call_enabled=!!o_curr.ao_values[0];break}case tsip_stack_param_type_e.ENABLE_SECURE_TRANSPORT:{if(o_curr.ao_values[0]&&this.network.e_proxy_cscf_type==tsip_transport_type_e.WS){this.network.e_proxy_cscf_type=tsip_transport_type_e.WSS}break}case tsip_stack_param_type_e.EARLY_IMS:{this.security.b_earlyIMS=!!o_curr.ao_values[0];break}case tsip_stack_param_type_e.CACHE_MEDIA_STREAM:{this.media.b_cache_stream=!!o_curr.ao_values[0];break}case tsip_stack_param_type_e.BANDWIDTH:{this.media.o_bandwidth=o_curr.ao_values[0];break}case tsip_stack_param_type_e.VIDEO_SIZE:{this.media.o_video_size=o_curr.ao_values[0];break}case tsip_stack_param_type_e.HEADER:{if(o_curr.ao_values[1]){this.ao_headers.push(new tsip_header_Dummy(o_curr.ao_values[0],o_curr.ao_values[1]))}else{var i_index=tsip_header.prototype.IndexOfByName(this.ao_headers,o_curr.ao_values[0]);if(i_index!=-1){this.ao_headers.splice(i_index,1)}}break}}}return 0};tsip_stack.prototype.__get_contact_uri=function(s_protocol){for(var i=0;i<this.o_layer_transport.ao_transports.length;++i){var o_uri=this.o_layer_transport.ao_transports[i].get_uri(false);if(o_uri){o_uri.s_user_name=this.identity.o_uri_impu.s_user_name;return o_uri}}return null};tsip_stack.prototype.__get_proxy_outbound_uri_string=function(){if(this.network.s_proxy_outbound_host){var s_tansport;switch(this.network.e_proxy_outbound_type){case tsip_transport_type_e.TCP:s_tansport="tcp";break;case tsip_transport_type_e.TLS:s_tansport="tls";break;case tsip_transport_type_e.SCTP:s_tansport="sctp";break;case tsip_transport_type_e.DTLS:s_tansport="dtls";break;case tsip_transport_type_e.WS:s_tansport="ws";break;case tsip_transport_type_e.WSS:s_tansport="wss";break;case tsip_transport_type_e.UDP:default:s_tansport="udp";break}return tsk_string_format("<sip:{0}:{1};lr;sipml5-outbound;transport={2}>",this.network.s_proxy_outbound_host,this.network.i_proxy_outbound_port,s_tansport)}return null};tsip_stack.prototype.SetAny=function(e_type){var obj=new Object;obj.e_type=e_type;obj.ao_values=Array.prototype.slice.call(arguments,1);return obj};tsip_stack.prototype.signal=function(i_code,s_phrase,o_data){if(this.on_event_stack){var on_event=this.on_event_stack;var o_event=new tsip_event(null,i_code,s_phrase,o_data?o_data:null,tsip_event_type_e.STACK);o_event.o_stack=this;setTimeout(function(){on_event(o_event)},1)}return 0};function __tsip_stack_transport_callback(evt){var o_stack=evt.o_transport.o_stack;switch(evt.e_type){case tsip_transport_event_type_e.STARTED:{o_stack.e_state=tsip_transport_state_e.STARTED;o_stack.signal(tsip_event_code_e.STACK_STARTED,"Stack started");break}case tsip_transport_event_type_e.STOPPED:{if(o_stack.e_state==tsip_transport_state_e.STARTING){o_stack.signal(tsip_event_code_e.STACK_FAILED_TO_START,"Failed to connet to the server")}else{o_stack.signal(tsip_event_code_e.STACK_STOPPED,"Stack stopped")}o_stack.e_state=tsip_transport_state_e.STOPPED;o_stack.o_layer_transport.transport_remove(evt.o_transport);break}case tsip_transport_event_type_e.ERROR:{tsk_utils_log_info("tsip_transport_event_type_e.ERROR: "+evt.s_description);if(evt.s_description=="ws_connect_timeout"){o_stack.signal(tsip_event_code_e.SOME_ERROR_HAPPENED,"Websocket connec timeout")}break}case tsip_transport_event_type_e.NOTSIPMESSAGE:{tsk_utils_log_info("tsip_transport_event_type_e.NEWMESSAGE: "+evt.s_description);if(evt.s_description=="recv_not_sip_message"){o_stack.signal(tsip_event_code_e.NOT_SIP_MESSAGE,"recv not-sip message",evt.o_data)}break}}return 0}tsip_timers.prototype.TIMER_T1=500;tsip_timers.prototype.TIMER_T4=5e3;var tsip_timers_e={T1:tsip_timers.prototype.TIMER_T1,T2:4e3,T4:tsip_timers.prototype.TIMER_T4,A:tsip_timers.prototype.TIMER_T1,B:64*tsip_timers.prototype.TIMER_T1,C:5*6e4,D:5e4,E:tsip_timers.prototype.TIMER_T1,F:64*tsip_timers.prototype.TIMER_T1,G:tsip_timers.prototype.TIMER_T1,H:64*tsip_timers.prototype.TIMER_T1,I:tsip_timers.prototype.TIMER_T4,J:64*tsip_timers.prototype.TIMER_T1,K:tsip_timers.prototype.TIMER_T4,L:64*tsip_timers.prototype.TIMER_T1,M:64*tsip_timers.prototype.TIMER_T1};function tsip_timers(){this.T1=tsip_timers_e.T1;this.T2=tsip_timers_e.T2;this.T4=tsip_timers_e.T4;this.A=tsip_timers_e.A;this.B=tsip_timers_e.B;this.C=tsip_timers_e.C;this.D=tsip_timers_e.D;this.E=tsip_timers_e.E;this.F=tsip_timers_e.F;this.G=tsip_timers_e.G;this.H=tsip_timers_e.H;this.I=tsip_timers_e.I;this.J=tsip_timers_e.J;this.K=tsip_timers_e.K;this.L=tsip_timers_e.L;this.M=tsip_timers_e.M}tsip_timers.prototype.getA=function(){return this.A};tsip_timers.prototype.getB=function(){return this.B};tsip_timers.prototype.getC=function(){return this.C};tsip_timers.prototype.getD=function(){return this.D};tsip_timers.prototype.getE=function(){return this.E};tsip_timers.prototype.getF=function(){return this.F};tsip_timers.prototype.getG=function(){return this.G};tsip_timers.prototype.getH=function(){return this.H};tsip_timers.prototype.getI=function(){return this.I};tsip_timers.prototype.getJ=function(){return this.J};tsip_timers.prototype.getK=function(){return this.K};tsip_timers.prototype.getL=function(){return this.L};tsip_timers.prototype.getM=function(){return this.M};tsip_timers.prototype.getT1=function(){return this.T1};tsip_timers.prototype.getT2=function(){return this.T2};tsip_timers.prototype.getT4=function(){return this.T4};tsip_timers.prototype.setT1=function(i_t1){this.T1=i_t1;this.A=this.E=this.G=this.T1;this.B=this.F=this.H=this.J=this.T1*64};tsip_timers.prototype.setT2=function(i_t2){this.T2=i_t2};tsip_timers.prototype.setT4=function(i_t4){this.T4=i_t4;this.I=this.K=this.T4};tsip_timers.prototype.setA=function(i_a){this.A=i_a};tsip_timers.prototype.setB=function(i_b){if(this){this.B=i_b}};tsip_timers.prototype.setC=function(i_c){this.C=i_c};tsip_timers.prototype.setD=function(i_d){this.D=i_d};tsip_timers.prototype.setE=function(i_e){this.E=i_e};tsip_timers.prototype.setF=function(i_f){this.F=i_f};tsip_timers.prototype.setG=function(i_g){this.G=i_g};function tsip_timers_setH(i_h){this.H=i_h}tsip_timers.prototype.setI=function(i_i){this.I=i_i};tsip_timers.prototype.setJ=function(i_j){this.J=i_j};tsip_timers.prototype.setK=function(i_k){this.K=i_k};tsip_timers.prototype.setL=function(i_l){this.L=i_l};tsip_timers.prototype.setM=function(i_m){this.M=i_m};var tsip_uri_type_e={unknown:{i_id:0,s_scheme:"unknown"},sip:{i_id:1,s_scheme:"sip"},sips:{i_id:2,s_scheme:"sips"},tel:{i_id:3,s_scheme:"tel"}};var tsip_host_type_e={unknown:{i_id:0,s_name:"unknown"},hostname:{i_id:1,s_name:"hostname"},ipv4:{i_id:2,s_name:"ipv4"},ipv6:{i_id:3,s_name:"ipv6"}};function tsip_uri(e_type){this.e_type=e_type;this.s_scheme=null;this.s_host=null;this.e_host_type=tsip_host_type_e.unknown;this.i_port=0;this.s_user_name=null;this.s_password=null;this.s_display_name=null;this.ao_params=new Array;this.toString=function(){return tsip_uri_tostring(this,true,true)}}tsip_uri.prototype.tostring=function(b_with_params,b_quote){return tsip_uri_tostring(this,b_with_params,b_quote)};tsip_uri.prototype.compare=function(o_uri){var s_str=tsip_uri_compare(this,o_uri)};tsip_uri.prototype.clone=function(b_with_params,b_quote){var s_str=tsip_uri_tostring(this,b_with_params,b_quote);if(s_str){return tsip_uri.prototype.Parse(s_str)}return null};function tsip_uri_make_valid(s_uri,s_domain){if(!s_uri||!s_domain){tsk_utils_log_error("Invalid argument");return null}if(tsk_string_index_of(s_uri,s_uri.length,'"')==0||tsk_string_index_of(s_uri,s_uri.length,"<")==0){return tsip_uri.prototype.Parse(s_uri)}var b_teluri=tsk_string_index_of(s_uri,s_uri.length,"tel:")==0;if(tsk_string_index_of(s_uri,s_uri.length,"sip:")!=0&&tsk_string_index_of(s_uri,s_uri.length,"sips:")!=0&&!b_teluri){s_uri="sip:"+s_uri}if(!b_teluri&&tsk_string_index_of(s_uri,s_uri.length,"@")==-1){s_uri+="@"+s_domain}return tsip_uri.prototype.Parse(s_uri)}function __tsip_uri_tostring(o_self,b_with_params){var s_uri=tsk_string_format("{0}:{1}{2}{3}{4}{5}{6}{7}{8}{9}",o_self.s_scheme?o_self.s_scheme:"sip",o_self.s_user_name?o_self.s_user_name:"",o_self.s_password?":":"",o_self.s_password?o_self.s_password:"",o_self.s_host?o_self.s_user_name?"@":"":"",o_self.e_host_type==tsip_host_type_e.ipv6?"[":"",o_self.s_host?o_self.s_host:"",o_self.e_host_type==tsip_host_type_e.ipv6?"]":"",o_self.i_port>0?":":"",o_self.i_port>0?o_self.i_port:"");if(s_uri&&b_with_params&&o_self.ao_params.length>0){s_uri+=tsk_string_format(";{0}",tsk_params_tostring(o_self.ao_params,";"))}return s_uri}function tsip_uri_tostring(o_self,b_with_params,b_quote){if(o_self){if(b_quote){var s_str="";if(o_self.s_display_name){s_str+=tsk_string_format('"{0}"',o_self.s_display_name)}s_str+=tsk_string_format("<{0}>",__tsip_uri_tostring(o_self,b_with_params));return s_str}else{return __tsip_uri_tostring(o_self,b_with_params)}}else{tsk_utils_log_error("Invalid argument");return null}}function tsip_uri_strcmp(s_s1,s_s2,b_case_sensitive){if(s_s1&&s_s2){var b_s1_is_encoded=false;var b_s2_is_encoded=false;if(tsk_string_contains(s_s1,s_s1.length,"%")){b_s1_is_encoded=true;s_s1=decodeURIComponent(s_s1)}if(tsk_string_contains(s_s2,s_s2.length,"%")){b_s2_is_encoded=true;s_s2=decodeURIComponent(s_s2)}return b_case_sensitive?s_s1.localeCompare(s_s2):s_s1.toLowerCase().localeCompare(s_s2.toLowerCase())}return-1}function tsip_uri_strequals(s_s1,s_s2){return tsip_uri_strcmp(s_s1,s_s2,true)==0}function tsip_uri_striequals(s_s1,s_s2){return tsip_uri_strcmp(s_s1,s_s2,false)==0}function tsip_uri_compare_parameter(o_uri_1,o_uri_2,s_pname){var o_param_1=tsk_param_get_by_name(o_uri_1.ao_params,s_pname);var o_param_2=tsk_param_get_by_name(o_uri_2.ao_params,s_pname);if((o_param_1||o_param_2)&&(o_param_1&&!o_param_2||!o_param_1&&o_param_2||!tsip_uri_striequals(o_param_1.s_value,o_param_2.s_value))){return-3}return 0}function tsip_uri_compare(o_uri_1,o_uri_2){if(o_uri_1&&o_uri_2){var o_param_1;var o_param_2;var i_ret;if(!tsk_string_equals(o_uri_1.s_scheme,o_uri_2.s_scheme)||!tsip_uri_strequals(o_uri_1.s_user_name,o_uri_2.s_user_name)||!tsip_uri_strequals(o_uri_1.s_host,o_uri_2.s_host)||!tsk_string_equals(o_uri_1.s_password,o_uri_2.s_password)||o_uri_1.i_port!=o_uri_2.i_port){return-2}if(!o_uri_1.ao_params&&!o_uri_2.ao_params||o_uri_1.ao_params.length==0&&o_uri_2.ao_params.length==0){return 0}if((i_ret=tsip_uri_compare_parameter(o_uri_1,o_uri_2,"transport"))!=0){return i_ret}if((i_ret=tsip_uri_compare_parameter(o_uri_1,o_uri_2,"ttl"))!=0){return i_ret}if((i_ret=tsip_uri_compare_parameter(o_uri_1,o_uri_2,"user"))!=0){return i_ret}if((i_ret=tsip_uri_compare_parameter(o_uri_1,o_uri_2,"method"))!=0){return i_ret}if((i_ret=tsip_uri_compare_parameter(o_uri_1,o_uri_2,"maddr"))!=0){return i_ret}for(var i=0;i<o_uri_1.ao_params.length;++i){o_param_1=o_uri_1.ao_params[i];if(o_param_2=tsk_param_get_by_name(o_uri_2.ao_params,o_param_1.s_name)){if(!tsip_uri_striequals(o_param_1.s_value,o_param_2.s_value)){return-4}}}for(var i=0;i<o_uri_2.ao_params.length;++i){o_param_2=o_uri_2.ao_params[i];if(o_param_1=tsk_param_get_by_name(o_uri_1.ao_params,o_param_2.s_name)){if(!tsip_uri_striequals(o_param_1.s_value,o_param_2.s_value)){return-4}}}return 0}else{return!o_uri_1&&!o_uri_2?0:-1}}_tsip_machine_parser_uri_actions=[0,1,0,1,5,1,7,1,9,1,11,1,12,1,13,1,14,1,17,1,18,1,20,1,21,1,22,1,23,2,1,15,2,2,15,2,4,6,2,7,10,2,7,16,2,8,10,2,9,16,2,9,19,2,13,0,2,13,6,3,0,8,10,3,13,0,6,3,13,3,0];_tsip_machine_parser_uri_key_offsets=[0,0,7,15,22,28,34,40,53,66,72,78,80,93,99,105,118,124,130,143,156,162,168,182,196,202,208,229,231,247,262,278,292,300,306,320,336,350,366,380,388,396,404,420,436,452,468,484,500,506,508,525,540,554,568,582,592,602,613,613,622,622,632,642,651,654,669,683,698,714,730,746,750,765,782,788,795,801,808,814,821,828,831,838,841,848,851,868,885,901,917,933,949,953,967,984,1001,1018,1024,1031,1038,1041,1044];_tsip_machine_parser_uri_trans_keys=[45,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,48,57,65,90,97,122,48,57,65,90,97,122,48,57,65,70,97,102,48,57,65,70,97,102,33,37,93,95,126,36,43,45,58,65,91,97,122,33,37,93,95,126,36,43,45,58,65,91,97,122,48,57,65,70,97,102,48,57,65,70,97,102,0,65535,33,37,93,95,126,36,43,45,58,65,91,97,122,48,57,65,70,97,102,48,57,65,70,97,102,33,37,93,95,126,36,43,45,58,65,91,97,122,48,57,65,70,97,102,48,57,65,70,97,102,33,37,59,61,63,95,126,36,57,65,90,97,122,33,37,58,61,64,95,126,36,59,63,90,97,122,48,57,65,70,97,102,48,57,65,70,97,102,33,37,61,64,95,126,36,46,48,57,65,90,97,122,33,37,61,64,95,126,36,46,48,57,65,90,97,122,48,57,65,70,97,102,48,57,65,70,97,102,58,59,83,84,91,115,116,0,47,48,57,60,64,65,90,92,96,97,122,123,65535,0,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,48,57,65,90,97,122,48,57,65,90,97,122,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,45,46,0,47,48,57,58,64,65,90,91,96,97,122,123,65535,0,47,48,57,58,65535,48,57,33,37,44,92,94,96,126,0,35,36,58,59,64,65,122,123,65535,33,37,59,61,93,95,126,36,43,45,58,65,91,97,122,33,37,59,93,95,126,36,43,45,58,65,91,97,122,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,45,46,73,105,48,57,65,90,97,122,45,46,80,112,48,57,65,90,97,122,45,46,58,83,115,48,57,65,90,97,122,45,46,58,48,57,65,90,97,122,45,46,69,101,48,57,65,90,97,122,45,46,76,108,48,57,65,90,97,122,45,46,58,48,57,65,90,97,122,59,0,65535,33,37,59,61,93,95,126,36,43,45,58,65,91,97,122,33,37,59,93,95,126,36,43,45,58,65,91,97,122,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,65535,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,0,47,48,57,58,65535,46,0,47,48,57,58,65535,0,47,48,57,58,65535,46,0,47,48,57,58,65535,0,47,48,57,58,65535,93,0,47,48,57,58,65535,93,0,47,48,57,58,65535,93,0,65535,46,0,47,48,57,58,65535,46,0,65535,46,0,47,48,57,58,65535,46,0,65535,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,58,93,0,65535,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,0,47,48,57,58,65535,46,0,47,48,57,58,65535,46,0,47,48,57,58,65535,46,0,65535,58,0,65535,0];_tsip_machine_parser_uri_single_lengths=[0,1,2,1,0,0,0,5,5,0,0,0,5,0,0,5,0,0,7,7,0,0,6,6,0,0,7,0,2,1,2,0,2,0,0,2,0,2,0,2,2,2,2,2,2,2,2,2,0,0,7,7,6,0,0,4,4,5,0,3,0,4,4,3,1,7,6,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,0];
_tsip_machine_parser_uri_range_lengths=[0,3,3,3,3,3,3,4,4,3,3,1,4,3,3,4,3,3,3,3,3,3,4,4,3,3,7,1,7,7,7,7,3,3,7,7,7,7,7,3,3,3,7,7,7,7,7,7,3,1,5,4,4,7,7,3,3,3,0,3,0,3,3,3,1,4,4,7,7,7,7,1,7,7,3,3,3,3,3,3,3,1,3,1,3,1,7,7,7,7,7,7,1,7,7,7,7,3,3,3,1,1,0];_tsip_machine_parser_uri_index_offsets=[0,0,5,11,16,20,24,28,38,48,52,56,58,68,72,76,86,90,94,105,116,120,124,135,146,150,154,169,171,181,190,200,208,214,218,226,236,244,254,262,268,274,280,290,300,310,320,330,340,344,346,359,371,382,390,398,406,414,423,424,431,432,440,448,455,458,470,481,490,500,510,520,524,533,544,548,553,557,562,566,571,576,579,584,587,592,595,606,617,627,637,647,657,661,669,680,691,702,706,711,716,719,722];_tsip_machine_parser_uri_indicies=[1,2,2,2,0,3,4,5,5,5,0,3,5,5,5,0,5,2,2,0,7,7,7,6,8,8,8,6,9,10,9,9,9,9,9,9,9,6,11,12,11,11,11,11,11,11,11,6,13,13,13,6,11,11,11,6,14,0,16,17,16,16,16,16,16,16,16,15,18,18,18,15,19,19,19,15,20,21,20,20,20,20,20,20,20,15,22,22,22,15,20,20,20,15,23,25,23,23,23,23,23,23,23,23,24,26,27,28,26,29,26,26,26,26,26,24,30,30,30,24,26,26,26,24,31,32,31,33,31,31,31,31,31,31,24,34,35,34,36,34,34,34,34,34,34,24,37,37,37,24,34,34,34,24,40,41,43,44,45,43,44,38,39,38,42,38,42,38,24,38,46,47,48,38,49,38,50,38,50,38,46,47,38,50,38,50,38,50,38,46,47,51,38,50,38,50,38,50,38,46,38,50,38,2,38,2,38,46,1,53,2,2,2,52,5,2,2,52,38,54,38,2,38,2,38,46,47,55,38,56,38,50,38,50,38,46,38,57,38,2,38,2,38,46,47,58,38,59,38,50,38,50,38,46,38,60,38,2,38,2,38,46,3,4,61,5,5,52,3,4,62,5,5,52,3,4,5,5,5,52,47,58,38,63,38,50,38,50,38,46,47,58,38,50,38,50,38,50,38,46,47,55,38,64,38,50,38,50,38,46,47,55,38,50,38,50,38,50,38,46,47,48,38,65,38,50,38,50,38,46,47,48,38,50,38,50,38,50,38,46,38,66,38,46,66,67,9,68,38,38,38,38,9,38,9,38,9,38,46,8,70,71,72,8,8,8,8,8,8,8,69,11,12,71,11,11,11,11,11,11,11,69,38,73,38,73,38,73,38,46,38,8,38,8,38,8,38,46,1,53,74,74,2,2,2,52,1,53,75,75,2,2,2,52,1,53,76,77,77,2,2,2,52,78,1,53,79,2,2,2,52,80,1,53,81,81,2,2,2,52,1,53,82,82,2,2,2,52,1,53,83,2,2,2,52,86,85,84,19,88,89,90,19,19,19,19,19,19,19,87,20,21,89,20,20,20,20,20,20,20,87,92,38,91,38,91,38,91,38,46,94,95,38,93,38,93,38,93,38,46,94,95,38,96,38,96,38,96,38,46,94,95,38,97,38,97,38,97,38,46,94,95,38,46,99,38,98,38,91,38,91,38,46,100,94,95,38,101,38,93,38,93,38,46,38,102,38,46,103,38,104,38,46,38,105,38,46,106,38,107,38,46,38,108,38,46,95,38,109,38,46,95,38,110,38,46,95,38,46,106,38,111,38,46,106,38,46,103,38,112,38,46,103,38,46,100,94,95,38,113,38,96,38,96,38,46,100,94,95,38,97,38,97,38,97,38,46,115,95,38,114,38,114,38,114,38,46,117,95,38,116,38,116,38,116,38,46,117,95,38,118,38,118,38,118,38,46,117,95,38,119,38,119,38,119,38,46,117,95,38,46,38,120,38,114,38,114,38,46,100,117,95,38,121,38,116,38,116,38,46,100,117,95,38,122,38,118,38,118,38,46,100,117,95,38,119,38,119,38,119,38,46,38,123,38,46,100,38,124,38,46,100,38,125,38,46,100,38,46,99,38,46,24,0];_tsip_machine_parser_uri_trans_targs=[26,1,32,3,4,2,26,6,51,51,5,52,9,10,64,26,65,13,14,65,66,16,17,19,0,20,19,20,22,102,21,23,24,102,23,24,102,25,27,28,48,50,32,55,61,67,26,29,34,46,30,31,26,33,35,36,44,37,38,42,39,40,41,43,45,47,49,26,53,26,5,7,8,54,56,57,58,59,26,60,26,62,63,11,26,64,12,26,13,12,15,68,101,69,72,26,70,71,73,88,74,86,75,76,84,77,78,82,79,80,81,83,85,87,89,97,90,93,91,92,94,95,96,98,99,100];_tsip_machine_parser_uri_trans_actions=[25,0,13,0,0,0,27,0,13,53,1,13,0,0,67,23,53,1,0,13,13,0,0,1,0,1,0,0,5,38,0,1,1,59,0,0,44,0,0,35,0,0,56,63,56,3,21,0,0,0,0,0,17,13,0,0,0,0,0,0,13,13,13,0,0,0,0,19,1,50,0,7,0,0,13,13,0,13,29,0,32,13,13,0,41,13,5,47,0,7,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_uri_to_state_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_uri_from_state_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_uri_eof_trans=[0,1,1,1,1,7,7,7,7,7,7,1,16,16,16,16,16,16,0,0,0,0,0,0,0,0,0,47,47,47,47,47,53,53,47,47,47,47,47,53,53,53,47,47,47,47,47,47,47,68,47,70,70,47,47,53,53,53,79,53,81,53,53,53,85,88,88,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,0];tsip_machine_parser_uri_start=26;tsip_machine_parser_uri_first_final=26;tsip_machine_parser_uri_error=0;tsip_machine_parser_uri_en_sip_usrinfo=18;tsip_machine_parser_uri_en_main=26;tsip_uri.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var uri=new tsip_uri(tsip_uri_type_e.unknown);{cs=tsip_machine_parser_uri_start;ts=null;te=null;act=0}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_acts=_tsip_machine_parser_uri_from_state_actions[cs];_nacts=_tsip_machine_parser_uri_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_uri_actions[_acts-1]){case 12:ts=p;break}}if(_trigger_goto){continue}_keys=_tsip_machine_parser_uri_key_offsets[cs];_trans=_tsip_machine_parser_uri_index_offsets[cs];_klen=_tsip_machine_parser_uri_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_uri_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_uri_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_uri_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_uri_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_uri_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_uri_indicies[_trans]}if(_goto_level<=_eof_trans){cs=_tsip_machine_parser_uri_trans_targs[_trans];if(_tsip_machine_parser_uri_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_uri_trans_actions[_trans];_nacts=_tsip_machine_parser_uri_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_uri_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:uri.e_type=tsip_uri_type_e.sip;uri.s_scheme=uri.e_type.s_scheme;break;case 2:uri.e_type=tsip_uri_type_e.sips;uri.s_scheme=uri.e_type.s_scheme;break;case 3:uri.e_type=tsip_uri_type_e.tel;uri.s_scheme=uri.e_type.s_scheme;break;case 4:uri.e_host_type=tsip_host_type_e.ipv4;break;case 5:uri.e_host_type=tsip_host_type_e.ipv6;break;case 6:uri.e_host_type=tsip_host_type_e.hostname;break;case 7:uri.s_user_name=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 8:uri.s_password=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 9:var o_param=tsk_ragel_parser_get_param(s_str,p,i_tag_start);if(o_param){uri.ao_params.push(o_param)}break;case 10:{cs=26;_trigger_goto=true;_goto_level=_again;break}break;case 13:te=p+1;break;case 14:te=p+1;{uri.s_host=tsk_ragel_scanner_get_string(s_str,ts,te);if(uri.e_host_type.i_id==tsip_host_type_e.ipv6.i_id){uri.s_host=tsk_string_unquote(uri.s_host,"[","]")}}break;case 15:te=p;p=p-1;{if(tsk_string_contains(s_str.substring(te),pe-te,"@")){{cs=18;_trigger_goto=true;_goto_level=_again;break}}}break;case 16:te=p;p=p-1;{}break;case 17:te=p;p=p-1;{uri.s_host=tsk_ragel_scanner_get_string(s_str,ts,te);if(uri.e_host_type.i_id==tsip_host_type_e.ipv6.i_id){uri.s_host=tsk_string_unquote(uri.s_host,"[","]")}}break;case 18:te=p;p=p-1;{ts++;uri.i_port=tsk_ragel_scanner_get_int(s_str,ts,te)}break;case 19:te=p;p=p-1;{}break;case 20:te=p;p=p-1;{}break;case 21:{p=te-1}{}break;case 22:{p=te-1}{uri.s_host=tsk_ragel_scanner_get_string(s_str,ts,te);if(uri.e_host_type.i_id==tsip_host_type_e.ipv6.i_id){uri.s_host=tsk_string_unquote(uri.s_host,"[","]")}}break;case 23:{p=te-1}{}break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){_acts=_tsip_machine_parser_uri_to_state_actions[cs];_nacts=_tsip_machine_parser_uri_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_uri_actions[_acts-1]){case 11:ts=null;break}}if(_trigger_goto){continue}if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){if(_tsip_machine_parser_uri_eof_trans[cs]>0){_trans=_tsip_machine_parser_uri_eof_trans[cs]-1;_goto_level=_eof_trans;continue}}}if(_goto_level<=_out){break}}}if(cs<26){tsk_utils_log_error("Failed to parse SIP/SIPS/TEL URI: "+s_str);return null}return uri};function tsip_auth_basic_response(s_userid,s_password){return Base64.encode(tsk_string_format("{0}:{1}",s_userid,s_password))}function tsip_auth_digest_HA1(s_username,s_realm,s_password){return MD5.hexdigest(tsk_string_format("{0}:{1}:{2}",s_username,s_realm,s_password))}function tsip_auth_digest_HA1sess(s_username,s_realm,s_password,s_nonce,s_cnonce){return MD5.hexdigest(tsk_string_format("{0}:{1}:{2}:{3}:{4}",s_username,s_realm,s_password,s_nonce,s_cnonce))}function tsip_auth_digest_HA2(s_method,s_url,o_entity_body,s_qop){var s_a2=null;if(tsk_string_is_null_or_empty(s_qop)||tsk_string_iequals(s_qop,"auth")){s_a2=tsk_string_format("{0}:{1}",s_method,s_url)}else if(tsk_string_iequals(s_qop,"auth-int")){if(o_entity_body){var s_hEntity=MD5.hash(o_entity_body);s_a2=tsk_string_format("{0}:{1}:{2}",s_method,s_url,s_hEntity)}else{s_a2=tsk_string_format("{0}:{1}:{2}",s_method,s_url,"d41d8cd98f00b204e9800998ecf8427e")}}return MD5.hexdigest(s_a2)}function tsip_auth_digest_response(s_ha1,s_nonce,s_noncecount,s_cnonce,s_qop,s_ha2){if(tsk_string_iequals(s_qop,"auth")||tsk_string_iequals(s_qop,"auth-int")){return MD5.hexdigest(tsk_string_format("{0}:{1}:{2}:{3}:{4}:{5}",s_ha1,s_nonce,s_noncecount,s_cnonce,s_qop,s_ha2))}else{return MD5.hexdigest(tsk_string_format("{0}:{1}:{2}",s_ha1,s_nonce,s_ha2))}}function tsip_challenge(o_stack,b_isproxy,s_scheme,s_realm,s_nonce,s_opaque,s_algorithm,s_qop){this.o_stack=o_stack;this.b_isproxy=b_isproxy;this.s_scheme=s_scheme;this.s_realm=s_realm;this.s_nonce=s_nonce;this.s_opaque=s_opaque;this.s_algorithm=s_algorithm;this.s_cnonce=null;this.i_nc=0;if(s_qop){this.s_qop=tsk_string_contains(s_qop,s_qop.length,"auth-int")?"auth-int":tsk_string_contains(s_qop,s_qop.length,"auth")?"auth":null;this.reset_cnonce()}}tsip_challenge.prototype.get_username=function(){return this.o_stack.identity.s_impi};tsip_challenge.prototype.get_password=function(){return this.o_stack.identity.s_password};tsip_challenge.prototype.reset_cnonce=function(){if(this.s_qop){this.s_cnonce=MD5.hexdigest(tsk_string_random(21));this.i_nc=1}};tsip_challenge.prototype.get_response=function(s_method,s_uristring,o_entity_body){if(tsk_string_iequals(this.s_scheme,"Digest")){var s_nc="";var s_ha1=tsip_auth_digest_HA1(this.get_username(),this.s_realm,this.get_password());var s_ha2=tsip_auth_digest_HA2(s_method,s_uristring,o_entity_body,this.s_qop);if(this.i_nc){s_nc=tsip_challenge.prototype.Ncount2String(this.i_nc)}var s_md5_response=tsip_auth_digest_response(s_ha1,this.s_nonce,s_nc,this.s_cnonce,this.s_qop,s_ha2);if(this.s_qop){++this.i_nc}return s_md5_response}return null};tsip_challenge.prototype.update=function(s_scheme,s_realm,s_nonce,s_opaque,s_algorithm,s_qop){var b_noncechanged=!tsk_string_iequals(this.s_nonce,s_nonce);this.s_scheme=s_scheme;this.s_realm=s_realm;this.s_nonce=s_nonce;this.s_opaque=s_opaque;this.s_algorithm=s_algorithm;if(s_qop){this.s_qop=tsk_string_contains(s_qop,s_qop.length,"auth-int")?"auth-int":tsk_string_contains(s_qop,s_qop.length,"auth")?"auth":null}if(b_noncechanged&&this.s_qop){this.reset_cnonce()}return 0};tsip_challenge.prototype.create_header_authorization=function(o_request){var s_nc=null;var s_uristring=null;var o_header=null;if(!(s_uristring=tsip_uri_tostring(o_request.line.request.o_uri,true,false))){tsk_utils_log_error("Failed to parse URI: "+o_request.line.request.o_uri);return null}if(this.i_nc){s_nc=tsip_challenge.prototype.Ncount2String(this.i_nc)}var s_response=this.get_response(o_request.line.request.s_method,s_uristring,o_request.o_content);o_header=new tsip_header_Authorization;o_header.e_type=this.b_isproxy?tsip_header_type_e.Proxy_Authorization:tsip_header_type_e.Authorization;o_header.s_scheme=this.s_scheme;o_header.s_username=this.get_username();o_header.s_realm=this.s_realm;o_header.s_nonce=this.s_nonce;o_header.s_uri=s_uristring;o_header.s_response=s_response;o_header.s_algorithm=this.s_algorithm?this.s_algorithm:"MD5";o_header.s_cnonce=this.i_nc?this.s_cnonce:null;o_header.s_opaque=this.s_opaque;o_header.s_qop=this.s_qop;o_header.s_nc=s_nc;return o_header};tsip_challenge.prototype.CreateEmptyHeaderAuthorization=function(s_username,s_realm,s_uristring){var o_header=new tsip_header_Authorization;if(o_header){o_header.e_type=tsip_header_type_e.Authorization;o_header.s_scheme="Digest";o_header.s_username=s_username;o_header.s_realm=s_realm;o_header.s_nonce="";o_header.s_response="";o_header.s_uri=s_uristring}return o_header};tsip_challenge.prototype.Ncount2String=function(i_nc){var i=7;var s_nc="";do{s_nc+="0123456789abcdef"[i_nc>>i*4&15]}while(i--);return s_nc};tsip_dialog.prototype.__i_timer_shutdown=3e3;tsip_dialog.prototype.__reg_call_id=null;tsip_dialog.prototype.b_recv_main_video=false;tsip_dialog.prototype.b_video_on_succ=false;tsip_dialog.prototype.b_recv_slides_video=false;tsip_dialog.prototype.b_present_on_succ=false;var tsip_dialog_type_e={UNKNOWN:{i_id:0,s_name:"Unknown"},INVITE:{i_id:1,s_name:"INVITE"},MESSAGE:{i_id:2,s_name:"MESSAGE"},INFO:{i_id:3,s_name:"INFO"},OPTIONS:{i_id:4,s_name:"OPTIONS"},PUBLISH:{i_id:5,s_name:"PUBLISH"},REGISTER:{i_id:6,s_name:"REGISTER"},SUBSCRIBE:{i_id:7,s_name:"SUBSCRIBE"},NOTIFY:{i_id:8,s_name:"NOTIFY"}};var tsip_dialog_state_e={INITIAL:{i_id:0,s_name:"Initial"},EARLY:{i_id:1,s_name:"Early"},ESTABLISHED:{i_id:2,s_name:"Established"},TERMINATED:{i_id:3,s_name:"Terminated"}};var tsip_dialog_event_type_e={I_MSG:{i_id:0,s_name:"I_MSG"},O_MSG:{i_id:1,s_name:"O_MSG"},TRANSAC_OK:{i_id:2,s_name:"TRANSAC_OK"},CANCELED:{i_id:3,s_name:"CANCELED"},TERMINATED:{i_id:4,s_name:"TERMINATED"},TIMEDOUT:{i_id:5,s_name:"TIMEDOUT"},ERROR:{i_id:6,s_name:"ERROR"},TRANSPORT_ERROR:{i_id:7,s_name:"TRANSPORT_ERROR"}};function tsip_dialog(){this.e_type=tsip_dialog_type_e.UNKNOWN;this.o_fsm=null;this.o_session=null;this.o_action_curr=null;this.o_action_curr_info=null;this.o_action_curr_message=null;this.e_state=tsip_dialog_state_e.INITIAL;this.b_initialized=false;this.b_running=false;this.last_error={};this.last_error.s_phrase=null;this.last_error.i_code=0;this.last_error.o_message=null;this.s_tag_local=null;this.o_uri_local=null;this.s_tag_remote=null;this.o_uri_remote=null;this.o_uri_remote_target=null;this.i_cseq_value=0;this.s_cseq_method=null;this.i_expires=0;this.s_callid=null;this.ao_hdr_record_routes=null;this.ao_challenges=null;this.fn_callback=null}tsip_dialog.prototype.init=function(e_type,s_callid,o_session,i_fsm_state_curr,i_fsm_state_term){if(this.b_initialized){tsk_utils_log_error("Dialog already initialized");return-2}this.e_state=tsip_dialog_state_e.INITIAL;this.e_type=e_type;this.ao_hdr_record_routes=new Array;this.ao_challenges=new Array;this.i_expires=tsip_session.prototype.__i_expires_default;var b_svr_side=!tsk_string_is_null_or_empty(s_callid);this.s_callid=b_svr_side?s_callid:tsk_string_random_uuid();if(e_type==tsip_dialog_type_e.REGISTER){tsip_dialog.prototype.__reg_call_id=this.s_callid}if(this.o_session=o_session){this.i_expires=o_session.i_expires;if(e_type==tsip_dialog_type_e.REGISTER)this.o_uri_local=o_session.o_uri_from;else this.o_uri_local=b_svr_side?o_session.o_uri_to:o_session.o_uri_from;if(o_session.o_uri_to){this.o_uri_remote=o_session.o_uri_to;this.o_uri_remote_target=o_session.o_uri_to}else{this.o_uri_remote=o_session.o_uri_from;this.o_uri_remote_target=o_session.o_stack.network.o_uri_realm}}this.s_tag_local=tsk_string_random(20);this.s_tag_remote=null;this.i_cseq_value=Math.floor(Math.random()*65535);this.o_fsm=new tsk_fsm(i_fsm_state_curr,i_fsm_state_term,null,this);this.b_initialized=true;return 0};tsip_dialog.prototype.__my_get_invite_callid=function(){return this.s_callid};tsip_dialog.prototype.deinit=function(){tsk_utils_log_info("tsip_dialog --- >> deinit "+this.e_type.s_name);this.get_layer_dialog().dialog_remove(this);this.get_layer_transac().cancel_by_dialog(this);this.b_initialized=false;return 0};tsip_dialog.prototype.compare=function(o_dialog){return tsip_dialog_compare(this,o_dialog)};tsip_dialog.prototype.request_new=function(s_method){if(!this.o_session||!this.o_session.o_stack||!s_method){tsk_utils_log_error("Invalid argument");return null}var o_request=null;var o_uri_to=null;var o_uri_from=null;var o_uri_request=null;var i_copy_routes_start=-1;var s_callid=null;var o_session=this.o_session;var o_stack=o_session.o_stack;s_callid=this.s_callid;o_uri_to=this.o_uri_remote;o_uri_from=this.o_uri_local;if(!this.ao_hdr_record_routes||this.ao_hdr_record_routes.length==0){o_uri_request=this.o_uri_remote_target}else{o_uri_first_route=this.ao_hdr_record_routes[0].o_uri;if(tsk_params_have_param(o_uri_first_route.ao_params,"lr")){o_uri_request=this.o_uri_remote_target;i_copy_routes_start=0}else{o_uri_request=o_uri_first_route;i_copy_routes_start=1}}o_request=new tsip_request(s_method,o_uri_request,o_uri_from,o_uri_to,s_callid,this.i_cseq_value);o_request.o_hdr_To.s_tag=this.s_tag_remote;o_request.o_hdr_From.s_tag=this.s_tag_local;o_request.b_update=true;switch(o_request.line.request.e_type){case tsip_request_type_e.PUBLISH:case tsip_request_type_e.BYE:{if(o_request.line.request.e_type==tsip_request_type_e.PUBLISH){o_request.add_header(new tsip_header_Expires(this.i_expires/1e3))}for(var i=0;i<this.o_session.ao_caps.length;++i){var s_value=tsk_string_format("*;{0}",tsk_param_tostring(this.o_session.ao_caps[i]));if(s_value){o_request.add_header(new tsip_header_Dummy("Accept-Contact",s_value))}}break}default:{var s_contact=null;var ao_hdr_contacts=null;if(o_request.line.request.e_type==tsip_request_type_e.OPTIONS||o_request.line.request.e_type==tsip_request_type_e.PUBLISH||o_request.line.request.e_type==tsip_request_type_e.REGISTER){s_contact=tsk_string_format('m: "{1}"<{0}:{2}@{3}:{4};rtcweb-breaker={5}>;click2call={6};expires={7}\r\n',"sip",o_stack.identity.s_display_name,o_uri_from.s_user_name,"127.0.0.1",5060,o_stack.network.b_rtcweb_enabled?"yes":"no",o_stack.network.b_click2call_enabled?"yes":"no",Math.floor(this.i_expires/1e3))}else{if(o_request.line.request.e_type==tsip_request_type_e.SUBSCRIBE){o_request.add_header(new tsip_header_Expires(this.i_expires/1e3))}s_contact=tsk_string_format('m: "{1}"<{0}:{2}@{3}:{4};rtcweb-breaker={5};click2call={6}>',"sip",o_stack.identity.s_display_name,o_uri_from.s_user_name,"127.0.0.1",5060,o_stack.network.b_rtcweb_enabled?"yes":"no",o_stack.network.b_click2call_enabled?"yes":"no");if(o_request.line.request.e_type==tsip_request_type_e.INVITE&&o_stack.network.b_rtcweb_enabled){s_contact+=";impi="+encodeURIComponent(o_stack.identity.s_impi);s_contact+=";ha1="+tsip_auth_digest_HA1(o_stack.identity.s_impi,o_stack.network.o_uri_realm.s_host,o_stack.identity.s_password)}s_contact+="\r\n"}ao_hdr_contacts=tsip_header_Contact.prototype.Parse(s_contact);if(ao_hdr_contacts&&ao_hdr_contacts.length>0){o_request.o_hdr_Contact=ao_hdr_contacts[0]}if(o_request.o_hdr_Contact){for(var i=0;i<this.o_session.ao_caps.length;++i){tsk_params_add_param(o_request.o_hdr_Contact.ao_params,this.o_session.ao_caps[i])}}break}}if(this.e_state==tsip_dialog_state_e.INITIAL&&this.ao_challenges.length==0){if(o_request.is_register()&&!o_stack.security.b_earlyIMS){var s_realm=o_stack.network.o_uri_realm?o_stack.network.o_uri_realm.s_host:"(null)";var s_uri_request=tsip_uri_tostring(o_request.line.request.o_uri,false,false);var hdr_auth=tsip_challenge.prototype.CreateEmptyHeaderAuthorization(o_stack.identity.s_impi,s_realm,s_uri_request);o_request.add_header(hdr_auth)}}else if(this.ao_challenges.length>0){for(var i=0;i<this.ao_challenges.length;++i){var o_hdr_auth=this.ao_challenges[i].create_header_authorization(o_request);if(o_hdr_auth){o_request.add_header(o_hdr_auth)}}}if(!o_request.is_ack()&&!o_request.is_cancel()){o_request.o_hdr_CSeq.i_seq=++this.i_cseq_value}if(!o_request.is_register()){if(i_copy_routes_start!=-1){if(this.e_state==tsip_dialog_state_e.EARLY||this.e_state==tsip_dialog_state_e.ESTABLISHED){var hdr_route=null;if(hdr_route=new tsip_header_Route(o_stack.ao_uri_paths[1])){o_request.add_header(hdr_route)}if(hdr_route=new tsip_header_Route(o_stack.ao_uri_paths[0])){o_request.add_header(hdr_route)}this.ao_hdr_record_routes[2].o_uri.s_host="127.0.0.1";if(hdr_route=new tsip_header_Route(this.ao_hdr_record_routes[2].o_uri)){for(var j=0;j<this.ao_hdr_record_routes[2].ao_params.length;j++){hdr_route.ao_params.push(this.ao_hdr_record_routes[2].ao_params[j])}o_request.add_header(hdr_route)}}}else{if(this.e_state==tsip_dialog_state_e.INITIAL||this.e_state==tsip_dialog_state_e.EARLY){for(var i=0;i<o_stack.ao_uri_service_routes.length;++i){o_request.add_header(new tsip_header_Service_Route(o_stack.ao_uri_service_routes[i]))}}}}if(o_stack.network.e_proxy_cscf_type==tsip_transport_type_e.WS||o_stack.network.e_proxy_cscf_type==tsip_transport_type_e.WSS){var s_proxy_outbound=o_stack.__get_proxy_outbound_uri_string();if(s_proxy_outbound){o_request.add_header(new tsip_header_Dummy("Route",s_proxy_outbound),true)}}if(o_request.line.request.e_type!=tsip_request_type_e.UPDATE){for(var i=0;i<o_session.ao_headers.length;++i){if(o_request.line.request.e_type!=tsip_request_type_e.ACK||o_session.ao_headers[i].s_name!="X-IPVT-Client-Info"){o_request.add_header(o_session.ao_headers[i])}}}for(var i=0;i<o_stack.ao_headers.length;++i){o_request.add_header(o_stack.ao_headers[i])}this.add_common_headers(o_request);if(o_session.s_sigcomp_id){o_request.s_sigcomp_id=o_session.s_sigcomp_id}return o_request};tsip_dialog.prototype.response_new=function(i_status,s_phrase,o_request){var o_response;if(o_response=new tsip_response(i_status,s_phrase,o_request)){switch(o_request.line.request.e_type){case tsip_request_type_e.MESSAGE:case tsip_request_type_e.PUBLISH:break;default:if(o_response.o_hdr_To&&!o_response.o_hdr_To.s_tag){o_response.o_hdr_To.s_tag=this.s_tag_local}if(this.o_uri_local&&i_status>=101&&i_status<=299){var ao_hdr_contacts;var s_contact=tsk_string_format("m: <{0}:{1}@{2}:{3}>\r\n","sip",this.o_uri_local.s_user_name,"127.0.0.1",5060);var ao_hdr_contacts=tsip_header_Contact.prototype.Parse(s_contact);if(ao_hdr_contacts!=null&&ao_hdr_contacts.length>0){o_response.o_hdr_Contact=ao_hdr_contacts[0];o_response.b_update=true}}break}if(this.get_session().s_sigcomp_id){o_response.s_sigcomp_id=this.get_session().s_sigcomp_id}}return o_response};tsip_dialog.prototype.response_send=function(o_response){var i_ret=-1;var o_layer_transac=this.get_layer_transac();if(o_layer_transac){var o_transac=o_layer_transac.find_server(o_response);if(o_transac){setTimeout(function(){o_transac.callback(tsip_transac_event_type_e.OUTGOING_MSG,o_response)},1);i_ret=0}else{tsk_utils_log_error("Failed to find associated server transaction.")}}else{tsk_utils_log_error("Invalid parameter")}return i_ret};tsip_dialog.prototype.get_session=function(){return this.o_session};tsip_dialog.prototype.get_stack=function(){if(this.o_session){return this.o_session.o_stack}return null};tsip_dialog.prototype.get_layer_transac=function(){var o_stack=this.get_stack();if(o_stack){return o_stack.o_layer_transac}return null};tsip_dialog.prototype.get_layer_dialog=function(){var o_stack=this.get_stack();if(o_stack){return o_stack.o_layer_dialog}return null};tsip_dialog.prototype.get_layer_transport=function(){var o_stack=this.get_stack();if(o_stack){return o_stack.o_layer_transport}return null};tsip_dialog.prototype.request_send=function(o_request){if(!o_request){tsk_utils_log_error("Invalid argument");return-1}if(o_request.is_ack()){if(this.get_layer_transport().send(null,o_request)>0){return 0}return-2}var o_layer_transac=this.get_layer_transac();if(!o_layer_transac){tsk_utils_log_error("Invalid transac layer");return-1}var i_ret=-1;var o_transac=o_layer_transac.transac_new(true,o_request,this);if(o_transac){switch(o_transac.e_type){case tsip_transac_type_e.ICT:case tsip_transac_type_e.NICT:{i_ret=o_transac.start(o_request);break}}}return i_ret};tsip_dialog.prototype.add_common_headers=function(o_request){var b_earlyIMS=false;var o_uri_preferred_identity=null;var s_netinfo=null;var o_stack=this.get_stack();if(!o_request||!o_stack){tsk_utils_log_error("Invalid argument");return-1}b_earlyIMS=o_stack.security.b_earlyIMS;o_uri_preferred_identity=o_stack.identity.o_uri_pref;if(o_uri_preferred_identity){switch(o_request.line.request.e_type){case tsip_request_type_e.BYE:case tsip_request_type_e.INVITE:case tsip_request_type_e.OPTIONS:case tsip_request_type_e.SUBSCRIBE:case tsip_request_type_e.NOTIFY:case tsip_request_type_e.REFER:case tsip_request_type_e.MESSAGE:case tsip_request_type_e.PUBLISH:case tsip_request_type_e.REGISTER:{if(!b_earlyIMS||b_earlyIMS&&o_request.is_register()){o_request.add_header(new tsip_header_P_Preferred_Identity(o_uri_preferred_identity))}break}}}if(s_netinfo){switch(o_request.line.request.e_type){case tsip_request_type_e.BYE:case tsip_request_type_e.INVITE:case tsip_request_type_e.OPTIONS:case tsip_request_type_e.REGISTER:case tsip_request_type_e.SUBSCRIBE:case tsip_request_type_e.NOTIFY:case tsip_request_type_e.PRACK:case tsip_request_type_e.INFO:case tsip_request_type_e.UPDATE:case tsip_request_type_e.REFER:case tsip_request_type_e.MESSAGE:case tsip_request_type_e.PUBLISH:{o_request.add_header(new tsip_header_P_Access_Network_Info(s_netinfo));break}}}return 0};tsip_dialog.prototype.get_action_curr=function(){return this.o_action_curr};tsip_dialog.prototype.set_action_curr=function(o_action){this.o_action_curr=o_action;return 0};tsip_dialog.prototype.set_last_error=function(i_code,s_phrase,o_message){this.last_error.i_code=i_code;this.last_error.s_phrase=s_phrase;this.last_error.o_message=o_message;return 0};tsip_dialog.prototype.signal=function(i_code,s_phrase,o_message){return tsip_event.prototype.Signal(tsip_event_type_e.DIALOG,this.o_session,i_code,s_phrase,o_message)};tsip_dialog.prototype.timer_schedule=function(T,N){this.timer_cancel(N);var This=this;var s_code=tsk_string_format("This.o_timer{1} = setTimeout(function(){ __tsip_dialog_{0}_timer_callback(This, This.o_timer{1})}, This.i_timer{1});",T,N);eval(s_code)};tsip_dialog.prototype.timer_cancel=function(N){var s_code=tsk_string_format("if(this.o_timer{0}) { clearTimeout(this.o_timer{0}); this.o_timer{0} = null; }",N);eval(s_code)};tsip_dialog.prototype.action_implement=function(s_action){var This=this;var s_code=tsk_string_format("This.o_msession_mgr.{0}();",s_action);tsk_utils_log_warn(s_code);eval(s_code)};tsip_dialog.prototype.callback=function(e_event_type,o_message){if(this.fn_callback){return this.fn_callback(this,e_event_type,o_message)}tsk_utils_log_error("Invalid callback function");return-1};tsip_dialog.prototype.set_callback=function(fn_callback){this.fn_callback=fn_callback};tsip_dialog.prototype.fsm_act=function(i_action,o_message,o_action){if(!this.o_fsm){tsk_utils_log_error("Invalid argument");return-1}return this.o_fsm.act(i_action,this.o_fsm.get_usr_data(),o_message,this.o_fsm.get_usr_data(),o_message,o_action)};tsip_dialog.prototype.hangup=function(o_action){if(this.e_state==tsip_dialog_state_e.ESTABLISHED||this.o_session&&this.o_session.b_server&&this.e_state==tsip_dialog_state_e.EARLY||this.e_type!=tsip_dialog_type_e.INVITE){return this.fsm_act(tsip_action_type_e.HANGUP,null,o_action)}else{return this.fsm_act(tsip_action_type_e.CANCEL,null,o_action)}};tsip_dialog.prototype.shutdown=function(o_action){return this.fsm_act(tsip_action_type_e.SHUTDOWN,null,o_action)};tsip_dialog.prototype.update_with_response=function(o_response){if(!o_response||!o_response.is_response()||!o_response.o_hdr_To){tsk_utils_log_error("Invalid argument");return-1}var i_code=o_response.get_response_code();var s_tag=o_response.o_hdr_To.s_tag;if(i_code==401||i_code==407||i_code==421||i_code==494){var b_acceptNewVector;b_acceptNewVector=o_response.is_response_to_register()&&this.e_state==tsip_dialog_state_e.ESTABLISHED;return this.update_challenges(o_response,b_acceptNewVector)}else if(100<i_code&&i_code<300){var e_state=this.e_state;if(i_code<=199){if(tsk_string_is_null_or_empty(o_response.o_hdr_To.s_tag)){tsk_utils_log_error("Invalid tag  parameter");return-1}e_state=tsip_dialog_state_e.EARLY}else{e_state=tsip_dialog_state_e.ESTABLISHED}{if(!o_response.is_response_to_register()&&o_response.o_hdr_Contact&&o_response.o_hdr_Contact.o_uri){this.o_uri_remote_target=tsip_uri.prototype.Parse(tsip_uri_tostring(o_response.o_hdr_Contact.o_uri,true,false))}}{var i_index;var o_hdr_recordRoute;this.ao_hdr_record_routes.splice(0,this.ao_hdr_record_routes.length);for(i_index=0;o_hdr_recordRoute=o_response.get_header_at(tsip_header_type_e.Record_Route,i_index);++i_index){this.ao_hdr_record_routes.push(o_hdr_recordRoute)}this.ao_hdr_record_routes.reverse()}if(this.e_state==tsip_dialog_state_e.ESTABLISHED&&tsk_string_iequals(this.s_tag_remote,s_tag)){return 0}else{if(!o_response.is_response_to_register()&&!o_response.is_response_to_publish()){this.s_tag_remote=s_tag}}this.e_state=e_state;return 0}return 0};tsip_dialog.prototype.update_with_invite=function(o_invite){if(!o_invite){tsk_utils_log_error("Invalid parameter");return-1}if(o_invite.o_hdr_Contact&&o_invite.o_hdr_Contact.o_uri){this.o_uri_remote_target=tsip_uri.prototype.Parse(tsip_uri_tostring(o_invite.o_hdr_Contact.o_uri,true,false))}this.s_tag_remote=o_invite.o_hdr_From?o_invite.o_hdr_From.s_tag:"tag_doubango";if(o_invite.o_hdr_From&&o_invite.o_hdr_From.o_uri){this.o_uri_remote=o_invite.o_hdr_From.o_uri}{var i_index;var o_hdr_recordRoute;this.ao_hdr_record_routes.splice(0,this.ao_hdr_record_routes.length);for(i_index=0;o_hdr_recordRoute=o_invite.get_header_at(tsip_header_type_e.Record_Route,i_index);++i_index){this.ao_hdr_record_routes.push(o_hdr_recordRoute)}}this.e_state=tsip_dialog_state_e.EARLY;return 0};tsip_dialog.prototype.update_challenges=function(o_response,b_acceptNewVector){var i_ret=-1;var o_challenge;var o_hdr_WWW_Authenticate;var o_hdr_Proxy_Authenticate;for(var i=0;o_hdr_WWW_Authenticate=o_response.get_header_at(tsip_header_type_e.WWW_Authenticate,i);i++){var b_isnew=true;for(var j=0;j<this.ao_challenges.length;++j){o_challenge=this.ao_challenges[j];if(o_challenge.b_isproxy)continue;if(tsk_string_iequals(o_challenge.s_realm,o_hdr_WWW_Authenticate.s_realm)&&(o_hdr_WWW_Authenticate.b_stale||b_acceptNewVector)){if(i_ret=o_challenge.update(o_hdr_WWW_Authenticate.s_scheme,o_hdr_WWW_Authenticate.s_realm,o_hdr_WWW_Authenticate.s_nonce,o_hdr_WWW_Authenticate.s_opaque,o_hdr_WWW_Authenticate.s_algorithm,o_hdr_WWW_Authenticate.s_qop)){return i_ret}else{b_isnew=false;continue}}else{tsk_utils_log_error("Failed to handle new challenge");return-1}}if(b_isnew){if(o_challenge=new tsip_challenge(this.get_stack(),false,o_hdr_WWW_Authenticate.s_scheme,o_hdr_WWW_Authenticate.s_realm,o_hdr_WWW_Authenticate.s_nonce,o_hdr_WWW_Authenticate.s_opaque,o_hdr_WWW_Authenticate.s_algorithm,o_hdr_WWW_Authenticate.s_qop)){this.ao_challenges.push(o_challenge)}else{tsk_utils_log_error("Failed to handle new challenge");return-1}}}for(var i=0;o_hdr_Proxy_Authenticate=o_response.get_header_at(tsip_header_type_e.Proxy_Authenticate,i);i++){var b_isnew=true;for(var j=0;j<this.ao_challenges.length;++j){
o_challenge=this.ao_challenges[j];if(!o_challenge.b_isproxy)continue;if(tsk_string_iequals(o_challenge.s_realm,o_hdr_Proxy_Authenticate.s_realm)&&(o_hdr_Proxy_Authenticate.b_stale||b_acceptNewVector)){if(i_ret=o_challenge.update(o_hdr_Proxy_Authenticate.s_scheme,o_hdr_Proxy_Authenticate.s_realm,o_hdr_Proxy_Authenticate.s_nonce,o_hdr_Proxy_Authenticate.s_opaque,o_hdr_Proxy_Authenticate.s_algorithm,o_hdr_Proxy_Authenticate.s_qop)){return i_ret}else{b_isnew=false;continue}}else{tsk_utils_log_error("Failed to handle new challenge");return-1}}if(b_isnew){if(o_challenge=new tsip_challenge(this.get_stack(),true,o_hdr_Proxy_Authenticate.s_scheme,o_hdr_Proxy_Authenticate.s_realm,o_hdr_Proxy_Authenticate.s_nonce,o_hdr_Proxy_Authenticate.s_opaque,o_hdr_Proxy_Authenticate.s_algorithm,o_hdr_Proxy_Authenticate.s_qop)){this.ao_challenges.push(o_challenge)}else{tsk_utils_log_error("Failed to handle new challenge");return-1}}}return 0};tsip_dialog.prototype.get_newdelay=function(o_message){var i_expires=this.i_expires/1e3;var i_newdelay=i_expires;var o_hdr;var i_index;var b_found=false;if(o_message.is_notify()){var o_hdr_state;if(o_hdr_state=o_message.get_header(tsip_header_type_e.Subscription_State)){if(o_hdr_state.i_expires>0){i_expires=o_hdr_state.i_expires;b_found=true}}}if(!b_found&&(o_hdr=o_message.get_header(tsip_header_type_e.Expires))){i_expires=o_hdr.i_value;b_found=true}for(i_index=0;!b_found&&(o_hdr=o_message.get_header_at(tsip_header_type_e.Contact,i_index));++i_index){var o_hdr_contact=o_hdr;if(o_hdr_contact.o_uri){var s_transport=tsk_param_get_value_by_name(o_hdr_contact.o_uri.ao_params,"transport");var o_contactUri=this.get_stack().__get_contact_uri(s_transport?s_transport:"udp");if(o_contactUri){if(tsk_string_equals(o_hdr_contact.o_uri.s_user_name,o_contactUri.s_user_name)&&tsk_string_equals(o_hdr_contact.o_uri.s_host,o_contactUri.s_host)&&o_hdr_contact.o_uri.i_port==o_contactUri.i_port){if(o_hdr_contact.i_expires>=0){i_expires=o_hdr_contact.i_expires;b_found=false;break}}}}}i_newdelay=i_expires>1200?i_expires-600:i_expires>>1;tsk_utils_log_info("get register timer "+i_newdelay);return i_newdelay*1e3};tsip_dialog.prototype.ApplyAction=function(o_message,o_action){if(!o_message||!o_action){tsk_utils_log_error("Invalid argument");return-1}for(var i=0;i<o_action.ao_headers.length;++i){o_message.add_header(o_action.ao_headers[i])}if(o_action.line_resp.i_code&&o_action.line_resp.s_phrase&&o_message.is_response()){o_message.line.response.i_status_code=o_action.line_resp.i_code;o_message.line.response.s_reason_phrase=o_action.line_resp.s_phrase}if(o_action.o_content){o_message.add_content(o_action.o_content)}return 0};function tsip_dialog_compare(o_d1,o_d2){if(o_d1&&o_d2){if(o_d1.s_callid==o_d2.s_callid&&o_d1.s_tag_local==o_d2.s_tag_local&&o_d1.s_tag_remote==o_d2.s_tag_remote){return 0}}return-1}tsip_dialog_generic.prototype=Object.create(tsip_dialog.prototype);tsip_dialog_generic.prototype.__b_debug_state_machine=true;var tsip_dialog_generic_actions_e={ACCEPT:tsip_action_type_e.ACCEPT,REJECT:tsip_action_type_e.REJECT,HANGUP:tsip_action_type_e.HANGUP,CANCEL:tsip_action_type_e.CANCEL,SHUTDOWN:tsip_action_type_e.SHUTDOWN,O_SUBSCRIBE:tsip_action_type_e.SUBSCRIBE,O_OPTIONS:tsip_action_type_e.OPTIONS,O_MESSAGE:tsip_action_type_e.MESSAGE,O_INFO:tsip_action_type_e.INFO,O_PUBLISH:tsip_action_type_e.PUBLISH,O_UNPUBLISH:tsip_action_type_e.UNPUBLISH,I_SUBSCRIBE:1e4,I_MESSAGE:10001,I_OPTIONS:10002,I_INFO:10003,I_PUBLISH:10004,I_NOTIFY:10005,I_1XX:5e4,I_2XX:50001,I_401_407_421_494:50002,I_423:50003,I_300_to_699:50004,SHUTDOWN_TIMEDOUT:6e4,TRANSPORT_ERROR:60002,ERROR:60003};var tsip_dialog_generic_states_e={STARTED:0,INPROGRESS:1,INCOMING:2,CONNECTED:3,TERMINATED:4};function tsip_dialog_generic(e_type,o_session,s_call_id){tsip_dialog.call(this);this.b_disconnecting=false;this.o_last_iMessage=null;this.o_timerRefresh=null;this.o_timerShutdown=null;this.i_timerShutdown=(tsip_dialog.prototype.__i_timer_shutdown<<1)/3;this.init(e_type,s_call_id,o_session,tsip_dialog_generic_states_e.STARTED,tsip_dialog_generic_states_e.TERMINATED);this.set_callback(__tsip_dialog_generic_event_callback);this.o_fsm.set_debug_enabled(tsip_dialog_generic.prototype.__b_debug_state_machine);this.o_fsm.set_onterm_callback(__tsip_dialog_generic_onterm,this);this.init_message();this.init_publish();this.init_subscribe();this.init_info();this.init_notify();this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.I_1XX,tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_InProgress_2_InProgress_X_1xx,"tsip_dialog_generic_InProgress_2_InProgress_X_1xx"),tsk_fsm_entry.prototype.Create(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.I_2XX,__tsip_dialog_generic_cond_is_dialogless,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_InProgress_2_Terminated_X_2xx,"tsip_dialog_generic_InProgress_2_Terminated_X_2xx"),tsk_fsm_entry.prototype.Create(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.I_2XX,__tsip_dialog_generic_cond_is_disconnecting,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_InProgress_2_Terminated_X_2xx,"tsip_dialog_generic_InProgress_2_Terminated_X_2xx"),tsk_fsm_entry.prototype.Create(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.I_2XX,__tsip_dialog_generic_cond_is_dialogfull,tsip_dialog_generic_states_e.CONNECTED,tsip_dialog_generic_InProgress_2_Connected_X_2xx,"tsip_dialog_generic_InProgress_2_Connected_X_2xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.I_401_407_421_494,tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_InProgress_2_InProgress_X_401_407_421_494,"tsip_dialog_generic_InProgress_2_InProgress_X_401_407_421_494"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.I_300_to_699,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_InProgress_2_Terminated_X_300_to_699,"tsip_dialog_generic_InProgress_2_Terminated_X_300_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.CANCEL,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_InProgress_2_Terminated_X_cancel,"tsip_dialog_generic_InProgress_2_Terminated_X_cancel"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_actions_e.SHUTDOWN,tsip_dialog_generic_states_e.TERMINATED,null,"tsip_dialog_generic_InProgress_2_Terminated_X_shutdown"),tsk_fsm_entry.prototype.Create(tsip_dialog_generic_states_e.INCOMING,tsip_dialog_generic_actions_e.ACCEPT,__tsip_dialog_generic_cond_is_dialogless,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_Incoming_2_Terminated_X_accept,"tsip_dialog_generic_Incoming_2_Terminated_X_accept"),tsk_fsm_entry.prototype.Create(tsip_dialog_generic_states_e.INCOMING,tsip_dialog_generic_actions_e.ACCEPT,__tsip_dialog_generic_cond_is_dialogfull,tsip_dialog_generic_states_e.CONNECTED,tsip_dialog_generic_Incoming_2_Connected_X_accept,"tsip_dialog_generic_Incoming_2_Connected_X_accept"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.INCOMING,tsip_dialog_generic_actions_e.REJECT,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_Incoming_2_Terminated_X_reject,"tsip_dialog_generic_Incoming_2_Terminated_X_reject"),tsk_fsm_entry.prototype.CreateAlwaysNothing(tsip_dialog_generic_states_e.INCOMING,"tsip_dialog_generic_Incoming_2_Incoming_X_any"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.HANGUP,__tsip_dialog_generic_cond_not_silent_hangup,tsip_dialog_generic_states_e.INPROGRESS,__tsip_dialog_generic_Any_2_InProgress_X_hangup,"tsip_dialog_generic_Any_2_InProgress_X_hangup"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.HANGUP,__tsip_dialog_generic_cond_silent_hangup,tsip_dialog_generic_states_e.TERMINATED,null,"tsip_dialog_generic_Any_2_InProgress_X_silenthangup"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.SHUTDOWN,__tsip_dialog_generic_cond_not_silent_shutdown,tsip_dialog_generic_states_e.INPROGRESS,__tsip_dialog_generic_Any_2_InProgress_X_shutdown,"tsip_dialog_generic_Any_2_InProgress_X_shutdown"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.SHUTDOWN,__tsip_dialog_generic_cond_silent_shutdown,tsip_dialog_generic_states_e.TERMINATED,null,"tsip_dialog_generic_Any_2_InProgress_X_silentshutdown"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.SHUTDOWN_TIMEDOUT,tsip_dialog_generic_states_e.TERMINATED,null,"tsip_dialog_generic_shutdown_timedout"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.TRANSPORT_ERROR,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_Any_2_Terminated_X_transportError,"tsip_dialog_generic_Any_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.ERROR,tsip_dialog_generic_states_e.TERMINATED,tsip_dialog_generic_Any_2_Terminated_X_Error,"tsip_dialog_generic_Any_2_Terminated_X_Error"))}tsip_dialog_generic.prototype.signal_ao=function(i_code,s_phrase,o_response){var o_event;switch(this.e_type){case tsip_dialog_type_e.MESSAGE:{var o_event=new tsip_event_message(this.get_session(),i_code,s_phrase,o_response,tsip_event_message_type_e.AO_MESSAGE);return o_event.signal()}case tsip_dialog_type_e.PUBLISH:{var o_event=new tsip_event_publish(this.get_session(),i_code,s_phrase,o_response,tsip_event_publish_type_e.AO_PUBLISH);return o_event.signal()}case tsip_dialog_type_e.SUBSCRIBE:{var o_event=new tsip_event_subscribe(this.get_session(),i_code,s_phrase,o_response,tsip_event_subscribe_type_e.AO_SUBSCRIBE);return o_event.signal()}case tsip_dialog_type_e.INFO:{var o_event=new tsip_event_info(this.get_session(),i_code,s_phrase,o_response,tsip_event_info_type_e.AO_INFO);return o_event.signal()}case tsip_dialog_type_e.NOTIFY:{var o_event=new tsip_event_notify(this.get_session(),i_code,s_phrase,o_response,tsip_event_notify_type_e.AO_NOTIFY);return o_event.signal()}}tsk_utils_log_error("not implemented");return-1};tsip_dialog_generic.prototype.signal_i=function(i_code,s_phrase,o_request){var o_event;switch(this.e_type){case tsip_dialog_type_e.MESSAGE:{if(o_request.is_message()){var o_event=new tsip_event_message(this.get_session(),i_code,s_phrase,o_request,tsip_event_message_type_e.I_MESSAGE);return o_event.signal()}break}case tsip_dialog_type_e.SUBSCRIBE:{if(o_request.is_notify()){var o_event=new tsip_event_subscribe(this.get_session(),i_code,s_phrase,o_request,tsip_event_subscribe_type_e.I_NOTIFY);return o_event.signal()}break}case tsip_dialog_type_e.INFO:{if(o_request.is_notify()){var o_event=new tsip_event_info(this.get_session(),i_code,s_phrase,o_request,tsip_event_subscribe_type_e.I_NOTIFY);return o_event.signal()}break}case tsip_dialog_type_e.NOTIFY:{if(o_request.is_notify()){var o_event=new tsip_event_notify(this.get_session(),i_code,s_phrase,o_request,tsip_event_notify_type_e.I_NOTIFY);return o_event.signal()}break}}tsk_utils_log_error("not implemented");return-1};function __tsip_dialog_generic_timer_callback(o_self,o_timer){var i_ret=-1;if(o_self){if(o_self.o_timerRefresh==o_timer){switch(o_self.e_type){case tsip_dialog_type_e.PUBLISH:i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.O_PUBLISH,null,null);break;case tsip_dialog_type_e.SUBSCRIBE:i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.O_SUBSCRIBE,null,null);break}}else if(o_self.o_timerShutdown==o_timer){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.SHUTDOWN,null,null)}}return i_ret}function __tsip_dialog_generic_event_callback(o_self,e_type,o_message){var i_ret=-1;switch(e_type){case tsip_dialog_event_type_e.I_MSG:{if(o_message){if(o_message.is_response()){if(o_message.is_1xx()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_1XX,o_message,null)}else if(o_message.is_2xx()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_2XX,o_message,null)}else if(o_message.is_response_xxx(401)||o_message.is_response_xxx(407)||o_message.is_response_xxx(421)||o_message.is_response_xxx(494)){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_401_407_421_494,o_message,null)}else if(o_message.is_response_xxx(423)){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_423,o_message,null)}else if(o_message.is_3456()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_300_to_699,o_message,null)}else{i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.ERROR,o_message,null)}}else{if(o_message.is_message()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_MESSAGE,o_message,null)}else if(o_message.is_options()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_OPTIONS,o_message,null)}else if(o_message.is_notify()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_NOTIFY,o_message,null)}else if(o_message.is_subscribe()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_SUBSCRIBE,o_message,null)}else if(o_message.is_info()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_INFO,o_message,null)}else if(o_message.is_publish()){i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.I_PUBLISH,o_message,null)}}}break}case tsip_dialog_event_type_e.CANCELED:{i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.CANCEL,o_message,null);break}case tsip_dialog_event_type_e.TERMINATED:case tsip_dialog_event_type_e.TIMEDOUT:case tsip_dialog_event_type_e.ERROR:case tsip_dialog_event_type_e.TRANSPORT_ERROR:{i_ret=o_self.fsm_act(tsip_dialog_generic_actions_e.TRANSPORT_ERROR,o_message,null);break}}return i_ret}function __tsip_dialog_generic_cond_is_dialogless(o_dialog,o_message){switch(o_dialog.e_type){case tsip_dialog_type_e.INFO:case tsip_dialog_type_e.MESSAGE:case tsip_dialog_type_e.OPTIONS:return true;default:return false}}function __tsip_dialog_generic_cond_is_dialogfull(o_dialog,o_message){return!__tsip_dialog_generic_cond_is_dialogless(o_dialog,o_message)}function __tsip_dialog_generic_cond_is_resp2message(o_dialog,o_message){return o_message.is_response_to_message()}function __tsip_dialog_generic_cond_is_message(o_dialog,o_message){return o_message.is_message()}function __tsip_dialog_generic_cond_is_disconnecting(o_dialog,o_message){return o_dialog.b_disconnecting}function __tsip_dialog_generic_cond_is_connecting(o_dialog,o_message){return!__tsip_dialog_generic_cond_is_disconnecting(o_dialog,o_message)}function __tsip_dialog_generic_cond_silent_hangup(o_dialog,o_message){return o_dialog.o_session.b_silent_hangup}function __tsip_dialog_generic_cond_not_silent_hangup(o_dialog,o_message){return!__tsip_dialog_generic_cond_silent_hangup(o_dialog,o_message)}function __tsip_dialog_generic_cond_silent_shutdown(o_dialog,o_message){return __tsip_dialog_generic_cond_silent_hangup(o_dialog,o_message)}function __tsip_dialog_generic_cond_not_silent_shutdown(o_dialog,o_message){return!__tsip_dialog_generic_cond_silent_shutdown(o_dialog,o_message)}function tsip_dialog_generic_InProgress_2_InProgress_X_1xx(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];return o_dialog.signal_ao(o_response.get_response_code(),o_response.get_response_phrase(),o_response)}function tsip_dialog_generic_InProgress_2_Terminated_X_2xx(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];return o_dialog.signal_ao(o_response.get_response_code(),o_response.get_response_phrase(),o_response)}function tsip_dialog_generic_InProgress_2_Connected_X_2xx(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var b_first_time_to_connect=o_dialog.e_state==tsip_dialog_state_e.INITIAL;if((i_ret=o_dialog.update_with_response(o_response))!=0){return i_ret}if(o_dialog.e_type==tsip_dialog_type_e.PUBLISH){var o_hdr_etag;if(o_hdr_etag=o_response.get_header(tsip_header_type_e.SIP_ETag)){if(o_hdr_etag.s_value){o_dialog.s_etag=o_hdr_etag.s_value}else{tsk_utils_log_warn("SIP-ETag header without value: Is it a bug?")}}}o_dialog.set_action_curr(null);o_dialog.i_timerRefresh=o_dialog.get_newdelay(o_response);o_dialog.timer_schedule("generic","Refresh");o_dialog.signal_ao(o_response.get_response_code(),o_response.get_response_phrase(),o_response);if(b_first_time_to_connect){o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTED,"Connected")}return 0}function tsip_dialog_generic_InProgress_2_InProgress_X_401_407_421_494(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret;if(i_ret=o_dialog.update_with_response(o_response)){o_dialog.signal_ao(o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);return i_ret}switch(o_dialog.e_type){case tsip_dialog_type_e.MESSAGE:{return o_dialog.send_message()}case tsip_dialog_type_e.PUBLISH:{return o_dialog.send_publish()}case tsip_dialog_type_e.INFO:{return o_dialog.send_info()}case tsip_dialog_type_e.SUBSCRIBE:{return o_dialog.send_subscribe()}}return 0}function tsip_dialog_generic_InProgress_2_Terminated_X_300_to_699(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);return o_dialog.signal_ao(o_response.get_response_code(),o_response.get_response_phrase(),o_response)}function tsip_dialog_generic_InProgress_2_Terminated_X_cancel(ao_args){tsk_utils_log_error("Not implemented");return 0}function tsip_dialog_generic_Incoming_2_Terminated_X_accept(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];if(!o_dialog.o_last_iMessage){tsk_utils_log_error("Invalid state")}else{var o_response;var i_ret=-1;o_dialog.set_action_curr(o_action);if(o_response=o_dialog.response_new(200,"OK",o_dialog.o_last_iMessage)){if((i_ret=tsip_dialog.prototype.ApplyAction(o_response,o_action))==0){if(i_ret=o_dialog.response_send(o_response)){tsk_utils_log_error("Failed to send SIP response.");return i_ret}}}else{tsk_utils_log_error("Failed to create SIP response.");return-1}}return 0}function tsip_dialog_generic_Incoming_2_Connected_X_accept(ao_args){tsk_utils_log_error("Not implemented");return 0}function tsip_dialog_generic_Incoming_2_Terminated_X_reject(ao_args){tsk_utils_log_error("Not implemented");return 0}function __tsip_dialog_generic_Any_2_InProgress_X_hangup(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];o_dialog.set_action_curr(o_action);o_dialog.signal(tsip_event_code_e.DIALOG_TERMINATING,"Disconnecting...");o_dialog.b_disconnecting=true;switch(o_dialog.e_type){case tsip_dialog_type_e.PUBLISH:{return o_dialog.send_publish()}case tsip_dialog_type_e.SUBSCRIBE:{return o_dialog.send_subscribe()}}return 0}function __tsip_dialog_generic_Any_2_InProgress_X_shutdown(ao_args){var o_dialog=ao_args[0];o_dialog.timer_schedule("generic","Shutdown");o_dialog.signal(tsip_event_code_e.DIALOG_TERMINATING,"Disconnecting...");o_dialog.b_disconnecting=true;switch(o_dialog.e_type){case tsip_dialog_type_e.PUBLISH:{return o_dialog.send_publish()}case tsip_dialog_type_e.SUBSCRIBE:{return o_dialog.send_subscribe()}}return 0}function tsip_dialog_generic_Any_2_Terminated_X_transportError(ao_args){var o_dialog=ao_args[0];o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport Error...");return 0}function tsip_dialog_generic_Any_2_Terminated_X_Error(ao_args){tsk_utils_log_error("Not implemented");return 0}function __tsip_dialog_generic_onterm(o_self){tsk_utils_log_info("=== "+o_self.e_type.s_name+" Dialog terminated ===");var str=o_self.e_type.s_name+" Dialog terminated";o_self.timer_cancel("Refresh");o_self.timer_cancel("Shutdown");o_self.signal(tsip_event_code_e.DIALOG_TERMINATED,o_self.last_error.s_phrase?o_self.last_error.s_phrase:str,o_self.last_error.o_message);return o_self.deinit()}tsip_dialog_generic.prototype.init_message=function(){this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.STARTED,tsip_dialog_generic_actions_e.O_MESSAGE,tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_Started_2_InProgress_X_oMessage,"tsip_dialog_generic_Started_2_InProgress_X_oMessage"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_generic_states_e.STARTED,tsip_dialog_generic_actions_e.I_MESSAGE,tsip_dialog_generic_states_e.INCOMING,tsip_dialog_generic_Started_2_Incoming_X_iMessage,"tsip_dialog_generic_Started_2_Incoming_X_iMessage"))};tsip_dialog_generic.prototype.send_message=function(){var o_request;var i_ret=-1;if(o_request=this.request_new("MESSAGE")){if(this.get_action_curr()){if((i_ret=tsip_dialog.prototype.ApplyAction(o_request,this.get_action_curr()))==0){i_ret=this.request_send(o_request)}}}return i_ret};function tsip_dialog_generic_Started_2_InProgress_X_oMessage(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];o_dialog.b_running=true;o_dialog.set_action_curr(o_action);return o_dialog.send_message()}function tsip_dialog_generic_Started_2_Incoming_X_iMessage(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];o_dialog.signal_i(tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);o_dialog.o_last_iMessage=o_request;return 0}tsip_dialog_generic.prototype.init_publish=function(){this.s_etag=null;this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.O_PUBLISH,tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_Any_2_InProgress_X_oPublish,"tsip_dialog_generic_Any_2_InProgress_X_oPublish"))};tsip_dialog_generic.prototype.send_publish=function(){var o_request;var i_ret=-1;if(this.b_disconnecting){this.i_expires=0}if(o_request=this.request_new("PUBLISH")){var o_action=this.get_action_curr();if(o_action&&(i_ret=tsip_dialog.prototype.ApplyAction(o_request,o_action))){return i_ret}if(this.s_etag){o_request.add_header(new tsip_header_SIP_If_Match(this.s_etag))}i_ret=this.request_send(o_request)}return i_ret};function tsip_dialog_generic_Any_2_InProgress_X_oPublish(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];if(!o_dialog.b_running){o_dialog.b_running=true}o_dialog.set_action_curr(o_action);if(o_dialog.e_state==tsip_dialog_state_e.INITIAL){o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTING,"Connecting...")}return o_dialog.send_publish()}tsip_dialog_generic.prototype.init_subscribe=function(){this.s_etag=null;this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.O_SUBSCRIBE,tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_Any_2_InProgress_X_oSubscribe,"tsip_dialog_generic_Any_2_InProgress_X_oSubscribe"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.I_NOTIFY,tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_Any_2_Any_X_iNotify,"tsip_dialog_generic_Any_2_Any_X_iNotify"))};tsip_dialog_generic.prototype.send_subscribe=function(){var o_request;var i_ret=-1;if(this.b_disconnecting){this.i_expires=0}if(o_request=this.request_new("SUBSCRIBE")){var o_action=this.get_action_curr();if(o_action&&(i_ret=tsip_dialog.prototype.ApplyAction(o_request,o_action))){return i_ret}i_ret=this.request_send(o_request)}return i_ret};function tsip_dialog_generic_Any_2_InProgress_X_oSubscribe(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];if(!o_dialog.b_running){o_dialog.b_running=true}o_dialog.set_action_curr(o_action);if(o_dialog.e_state==tsip_dialog_state_e.INITIAL){o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTING,"Connecting...")}return o_dialog.send_subscribe()}function tsip_dialog_generic_Any_2_Any_X_iNotify(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var o_response;var i_ret=-1;if(o_response=o_dialog.response_new(200,"OK",o_request)){i_ret=o_dialog.response_send(o_response)}o_dialog.i_timerRefresh=o_dialog.get_newdelay(o_request);o_dialog.timer_schedule("generic","Refresh");o_dialog.signal_i(tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming NOTIFY",o_request);return i_ret}tsip_dialog_generic.prototype.init_info=function(){this.s_etag=null;this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.O_INFO,tsip_dialog_generic_states_e.INPROGRESS,tsip_dialog_generic_Any_2_InProgress_X_oInfo,"tsip_dialog_generic_Any_2_InProgress_X_oInfo"))};tsip_dialog_generic.prototype.send_info=function(){var o_request;var i_ret=-1;if(this.b_disconnecting){this.i_expires=0}if(o_request=this.request_new("INFO")){var o_action=this.get_action_curr();if(o_action&&(i_ret=tsip_dialog.prototype.ApplyAction(o_request,o_action))){return i_ret}if(this.s_etag){o_request.add_header(new tsip_header_SIP_If_Match(this.s_etag))}i_ret=this.request_send(o_request)}return i_ret};function tsip_dialog_generic_Any_2_InProgress_X_oInfo(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];if(!o_dialog.b_running){o_dialog.b_running=true}o_dialog.set_action_curr(o_action);if(o_dialog.e_state==tsip_dialog_state_e.INITIAL){o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTING,"Connecting...")}return o_dialog.send_info()}tsip_dialog_generic.prototype.init_notify=function(){this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_actions_e.I_NOTIFY,tsk_fsm.prototype.__i_state_any,tsip_dialog_generic_Any_2_Any_X_iNotify,"tsip_dialog_generic_Any_2_Any_X_iNotify"))};tsip_dialog_generic.prototype.send_notify=function(){var o_request;var i_ret=-1;return i_ret};function tsip_dialog_generic_Any_2_Any_X_iNotify(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var o_response;var i_ret=-1;if(o_response=o_dialog.response_new(200,"OK",o_request)){i_ret=o_dialog.response_send(o_response)}o_dialog.i_timerRefresh=o_dialog.get_newdelay(o_request);o_dialog.timer_schedule("generic","Refresh");o_dialog.signal_i(tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming NOTIFY",o_request);return i_ret}tsip_dialog_invite.prototype=Object.create(tsip_dialog.prototype);tsip_dialog_invite.prototype.__b_debug_state_machine=true;tsip_dialog_invite.prototype.__i_lo_sdp_request_timeout=6e4;tsip_dialog_invite.prototype.__i_video_on_request_timeout=3e4;tsip_dialog_invite.prototype.__rtp_timer=null;var tsip_dialog_invite_next_offer_type_e={NONE:0,INVITE:1,UPDATE:2,SUCCESS:3};var tsip_dialog_invite_actions_e={ACCEPT:tsip_action_type_e.ACCEPT,REJECT:tsip_action_type_e.HANGUP,DTMF_SEND:tsip_action_type_e.DTMF_SEND,MSRP_SEND_MSG:tsip_action_type_e.LARGE_MESSAGE,O_INVITE:tsip_action_type_e.INVITE,O_CANCEL:tsip_action_type_e.CANCEL,O_HOLD:tsip_action_type_e.HOLD,O_RESUME:tsip_action_type_e.RESUME,O_ECT:tsip_action_type_e.ECT,I_ECT_ACCEPT:tsip_action_type_e.ECT_ACCEPT,I_ECT_REJECT:tsip_action_type_e.ECT_REJECT,I_ECT_LNOTIFY:tsip_action_type_e.ECT_NOTIFY,O_INFO:tsip_action_type_e.INFO,O_MESSAGE:tsip_action_type_e.MESSAGE,O_BYE:tsip_action_type_e.HANGUP,O_SHUTDOWN:tsip_action_type_e.SHUTDOWN,O_AUDIO_REFRESH:tsip_action_type_e.AUDIO_REFRESH,O_VIDEO_REFRESH:tsip_action_type_e.VIDEO_REFRESH,O_PRESENT_REFRESH:tsip_action_type_e.PRESENT_REFRESH,O_STOP_PRESENT:tsip_action_type_e.STOP_PRESENT,I_INVITE:10001,O_UPDATE:10002,I_UPDATE:10003,I_CANCEL:10004,I_PRACK:10005,O_PRACK:10006,I_ACK:10007,O_ACK:10008,I_OPTIONS:10009,O_OPTIONS:10010,I_BYE:10011,I_REFER:10012,I_INFO:10013,I_NOTIFY:10014,I_MESSAGE:10015,TIMER_100REL:20001,TIMER_REFRESH:20002,TIMER_RSVP:20003,TIMER_LO_SDP_REQUEST:20004,TIMER_VIDEO_ON_REQUEST:20005,I_1XX:30001,I_2XX:30002,I_300_to_699:30003,I_401_407:30004,I_422:30005,I_491:30006,SHUTDOWN_TIMEDOUT:40001,TIMEDOUT:40002,TRANSPORT_ERROR:40003,ERROR:40004,SEND_REQUEST_FAILED:40005};var tsip_dialog_invite_states_e={STARTED:1,OUTGOING:2,INCOMING:3,TRYING:4,RINGING:5,CANCELLING:6,INPROGRESS:7,HOLDING:20,RESUMING:21,O_ECT_INPROGRESS:40,I_ECT_INPROGRESS:41,I_ECT_REQUESTED:42,CONNECTED:60,TERMINATED:61};function tsip_dialog_invite(o_session,s_call_id){tsip_dialog.call(this);this.o_last_oInvite=null;this.o_last_i200ok=null;this.o_wait_oMessage=null;this.o_wait_oInvite=null;this.o_last_iOffer=null;this.o_last_iRefer=null;this.o_ss_transf=null;this.e_next_offer_type=tsip_dialog_invite_next_offer_type_e.NONE;this.i_rseq=0;this.b_support_update=false;this.supported={};this.supported.b_100rel=o_session.media.b_100rel;this.supported.b_norefsub=true;this.supported.b_refer_sub=true;this.supported.b_timer=o_session.media.timers.i_timeout>0;this.require={};this.require.b_100rel=false;this.require.b_norefsub=false;this.require.b_timer=false;this.hold={};this.hold.b_local=false;this.hold.b_remote=false;this.init(tsip_dialog_type_e.INVITE,s_call_id,o_session,tsip_dialog_invite_states_e.STARTED,tsip_dialog_invite_states_e.TERMINATED);this.set_callback(__tsip_dialog_invite_event_callback);this.o_fsm.set_debug_enabled(tsip_dialog_invite.prototype.__b_debug_state_machine);this.o_fsm.set_onterm_callback(__tsip_dialog_invite_onterm,this);this.o_trickle_ice=new Array;this.b_ready_send_info=false;this.o_msession_mgr=null;this.b_is_client=false;this.b_is_transf=false;this.o_timerShutdown=null;this.i_timerShutdown=tsip_dialog.prototype.__i_timer_shutdown>>1;this.stimers={};this.stimers.i_timeout=o_session.media.timers.i_timeout;this.stimers.s_refresher=null;this.stimers.i_minse=0;this.stimers.b_is_refresher=false;this.o_timer100Rel=null;this.i_timer100Rel=0;this.o_timerSession=null;this.i_timerSession=0;this.o_timerShutdown=null;this.i_timerShutdown=tsip_dialog.prototype.__i_timer_shutdown;this.o_timerLoSdpRequest=null;this.i_timerLoSdpRequest=tsip_dialog_invite.prototype.__i_lo_sdp_request_timeout;this.o_timerVideoOnRequest=null;this.i_timerVideoOnRequest=tsip_dialog_invite.prototype.__i_video_on_request_timeout;this.o_timerReSendInvite=null;this.t_retry=null;this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlwaysNothing(tsip_dialog_invite_states_e.STARTED,"tsip_dialog_invite_Started_2_Started_X_any"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.DTMF_SEND,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_oDTMF,"x0000_Connected_2_Connected_X_oDTMF"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.MSRP_SEND_MSG,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_oLMessage,"x0000_Connected_2_Connected_X_oLMessage"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.I_ACK,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_iACK,"x0000_Connected_2_Connected_X_iACK"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.I_INVITE,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_iINVITEorUPDATE,"x0000_Connected_2_Connected_X_iINVITE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.I_UPDATE,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_iINVITEorUPDATE,"x0000_Connected_2_Connected_X_iUPDATE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.O_INVITE,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_oINVITE,"x0000_Connected_2_Connected_X_oINVITE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.TIMER_REFRESH,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_oTimerRefresh,"x0000_Connected_2_Connected_X_oTimerRefresh"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.O_AUDIO_REFRESH,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_oAudioRefresh,"x0000_Connected_2_Connected_X_oAudioRefresh"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.O_VIDEO_REFRESH,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_oVideoRefresh,"x0000_Connected_2_Connected_X_oVideoRefresh"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.O_PRESENT_REFRESH,tsip_dialog_invite_states_e.CONNECTED,x0000_Connected_2_Connected_X_oPresentRefresh,"x0000_Connected_2_Connected_X_oPresentRefresh"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.O_BYE,tsip_dialog_invite_states_e.TRYING,x0000_Any_2_Trying_X_oBYE,"x0000_Any_2_Trying_X_oBYE"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_BYE,tsip_dialog_invite_states_e.TERMINATED,x0000_Any_2_Terminated_X_iBYE,"x0000_Any_2_Terminated_X_iBYE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2bye,tsip_dialog_invite_states_e.TERMINATED,null,"x0000_Any_2_Terminated_X_i3xxTOi6xxBYE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2bye,tsip_dialog_invite_states_e.TERMINATED,null,"x0000_Any_2_Terminated_X_i2xxBYE"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.O_SHUTDOWN,tsip_dialog_invite_states_e.TRYING,x0000_Any_2_Trying_X_shutdown,"x0000_Any_2_Trying_X_shutdown"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.SHUTDOWN_TIMEDOUT,tsip_dialog_invite_states_e.TERMINATED,null,"tsip_dialog_invite_shutdown_timedout"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_1XX,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i1xx,"x0000_Any_2_Any_X_i1xx"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.O_INFO,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_oINFO,"x0000_Any_2_Any_X_oINFO"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_INFO,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_iINFO,"x0000_Any_2_Any_X_iINFO"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.O_MESSAGE,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_oMESSAGE,"x0000_Any_2_Any_X_oMESSAGE"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_MESSAGE,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_iMESSAGE,"x0000_Any_2_Any_X_iMESSAGE"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_PRACK,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_iPRACK,"x0000_Any_2_Any_X_iPRACK"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_OPTIONS,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_iOPTIONS,"x0000_Any_2_Any_X_iOPTIONS"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2invite,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i2xxINVITEorUPDATE,"x0000_Any_2_Any_X_i2xxINVITE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2update,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i2xxINVITEorUPDATE,"x0000_Any_2_Any_X_i2xxUPDATE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_422,__tsip_dialog_invite_cond_is_resp2invite,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i422_INVITE,"x0000_Any_2_Any_X_i422_INVITE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_401_407,__tsip_dialog_invite_con_is_resp2invite_or_updata_or_info_or_message,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i401_407_INVITEorUPDATEorINFOorMESSAGE,"x0000_Any_2_Any_X_i401_407_INVITEorUPDATEorINFOorMESSAGE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_491,__tsip_dialog_invite_cond_is_resp2invite,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i491_INVITE,"x0000_Any_2_Any_X_i491_INVITE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2prack,tsk_fsm.prototype.__i_state_any,null,"x0000_Any_2_Any_X_i2xxPRACK"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2info,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i2xxINFO,"x0000_Any_2_Any_X_i2xxINFO"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2info,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i300_to_i699INFO,"x0000_Any_2_Any_X_i300_to_i699INFO"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_con_is_resp2message,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i2xxMESSAGE,"x0000_Any_2_Any_X_i2xxMESSAGE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_con_is_resp2message,tsk_fsm.prototype.__i_state_any,x0000_Any_2_Any_X_i300_to_i699MESSAGE,"x0000_Any_2_Any_X_i300_to_i699MESSAGE"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.TIMER_VIDEO_ON_REQUEST,tsk_fsm.prototype.__i_state_any,x9996_Any_2_Any_X_VideoOnRequestTimerout,"x9996_Any_2_Any_X_VideoOnRequestTimerout"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.TIMER_LO_SDP_REQUEST,tsip_dialog_invite_states_e.TERMINATED,x9997_Any_2_Any_X_LoSdpRequestTimeout,"x9997_Any_2_Any_X_LoSdpRequestTimeout"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.SEND_REQUEST_FAILED,tsip_dialog_invite_states_e.CONNECTED,x9998_Any_2_Connected_X_SendRequestFailed,"x9998_Any_2_Connected_X_SendRequestFailed"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.TIMEDOUT,tsip_dialog_invite_states_e.CONNECTED,x9998_Any_2_Connected_X_timeout,"x9998_Any_2_Connected_X_timeout"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.TRANSPORT_ERROR,__tsip_dialog_invite_con_is_ice_restart,tsip_dialog_invite_states_e.CONNECTED,x9998_Any_2_Terminated_X_transportError_iceRestart,"x9998_Any_2_Terminated_X_transportError_iceRestart"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.TRANSPORT_ERROR,__tsip_dialog_invite_con_is_not_ice_restart,tsip_dialog_invite_states_e.TERMINATED,x9998_Any_2_Terminated_X_transportError,"x9998_Any_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.ERROR,tsip_dialog_invite_states_e.TERMINATED,x9999_Any_2_Terminated_X_Error,"x9999_Any_2_Terminated_X_Error"));
this.init_client();this.init_server();this.init_hold();this.init_ect()}tsip_dialog_invite.prototype.signal_invite=function(e_invite_type,i_code,s_phrase,o_message){var o_event=new tsip_event_invite(this.get_session(),i_code,s_phrase,o_message,e_invite_type);return o_event.signal()};tsip_dialog_invite.prototype.send_invite=function(b_force_sdp,user_data){if(user_data){user_data.b_force_sdp=b_force_sdp;user_data.o_self=this;sendInviteQueue.push(user_data);tsk_utils_log_info("sendInviteQueue length: "+sendInviteQueue.length+" ( send_invite )");if(sendInviteQueue.length==1){return this.prepare_send_invite()}}else{return this.send_offer(true,b_force_sdp)}};tsip_dialog_invite.prototype.prepare_send_invite=function(){var o_session=this.o_msession_mgr.ao_sessions[0];var o_filter=["s_type","b_force_sdp","o_self"];var o_dst=[o_session];tsk_other_assign(sendInviteQueue[0],o_dst,o_filter,s_filter);this.action_implement(sendInviteQueue[0].s_action);if(sendInviteQueue.length==0){tsk_utils_log_warn("needn't send invite");return 0}var e_role=tmedia_pc_type_e.NONE;switch(sendInviteQueue[0].s_type){case"audioRefresh":e_role=tmedia_pc_type_e.AUDIO;break;case"videoRefresh":e_role=tmedia_pc_type_e.MAIN;break;case"presentRefresh":e_role=tmedia_pc_type_e.SLIDES;break;default:break}this.o_session.__my_set_pc(e_role);return this.send_offer(true,sendInviteQueue[0].b_force_sdp,sendInviteQueue[0].s_action)};tsip_dialog_invite.prototype.send_update=function(b_force_sdp){return this.send_offer(false,b_force_sdp)};tsip_dialog_invite.prototype.send_offer=function(b_is_invite,b_force_sdp,s_action){var i_ret=-1;var o_request=null;var b_wait4lo=false;if(!b_is_invite&&b_force_sdp){tsk_utils_log_warn("ACK is need to ensure the media session")}if(o_request=this.request_new(b_is_invite?"INVITE":"UPDATE")){if(this.o_action_curr){tsip_dialog.prototype.ApplyAction(o_request,this.o_action_curr)}if(b_force_sdp||b_is_invite||(this.o_msession_mgr&&this.o_msession_mgr.b_state_changed||this.e_state==tsip_dialog_state_e.INITIAL)){if(!this.o_action_curr||!this.o_action_curr.o_payload){var o_sdp_lo=null;var b_is_video_on;o_sdp_lo=this.o_msession_mgr.get_lo(null);b_wait4lo=o_sdp_lo==null;if(o_sdp_lo){var s_sdp_lo=o_sdp_lo.toString();o_request.add_content(new String(s_sdp_lo),"application/sdp")}}}if(this.stimers.i_timeout){if(this.require.b_timer){o_request.add_headers(new tsip_header_Session_Expires(this.stimers.i_timeout,(!this.stimers.b_is_refresher)),new tsip_header_Require("timer"))}else if(this.supported.b_timer){o_request.add_headers(new tsip_header_Session_Expires(this.stimers.i_timeout,(!this.stimers.b_is_refresher)),new tsip_header_Supported("timer"))}}if(this.stimers.i_minse){o_request.add_headers(new tsip_header_Min_SE(this.stimers.i_minse))}if(this.require.b_100rel){o_request.add_headers(new tsip_header_Require("100rel"))}else if(this.supported.b_100rel){o_request.add_headers(new tsip_header_Supported("100rel"))}if(s_action){var e_type="o_"+s_action;var cseq=o_request.o_hdr_CSeq.i_seq;if(adapter.browserDetails.browser=="firefox"&&(s_action=="presentOn"||s_action=="switchPresentationSource")){preCseqForFirefox=cseq}for(var key in SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(key==e_type){var o_attr=SipMgr.sipApi.sip_stack_e.oSipSessionCall[key];o_attr.i_cseq=cseq;break}}}if(b_wait4lo){tsk_utils_log_info("send_offer: b_wait4lo is true !");i_ret=0;this.o_wait_oMessage=o_request;this.o_wait_oInvite=o_request;this.timer_schedule("invite","LoSdpRequest")}else{tsk_utils_log_info("send_offer: b_wait4lo is false !");this.o_wait_oInvite=o_request;i_ret=this.request_send(o_request);if(b_is_invite&&i_ret==0){this.o_last_oInvite=o_request}}}return i_ret};tsip_dialog_invite.prototype.stimers_handle=function(o_message){if(!o_message||!o_message.o_hdr_To){tsk_utils_log_error("Invalid argument");return-1}if(this.stimers.b_is_refresher){var i_session_expires=0;for(var i=0;i<o_message.ao_headers.length;i++){if(o_message.ao_headers[i].e_type==tsip_header_type_e.Session_Expires){i_session_expires=o_message.ao_headers[i].i_delta_seconds;break}}if(i_session_expires<90){i_session_expires=this.stimers.i_timeout;this.stimers.i_minse=this.stimers.i_timeout}else{i_session_expires=i_session_expires>this.stimers.i_timeout?this.stimers.i_timeout:i_session_expires;this.stimers.i_timeout=i_session_expires}i_session_expires=i_session_expires>>1;tsk_utils_log_info("Get Seesion Timer "+i_session_expires);this.i_timerSession=i_session_expires*1e3;if(o_message.is_supported("timer")){tsk_utils_log_info("update timerSession.");this.timer_schedule("invite","Session")}else{tsk_utils_log_info("clean o_timerSession.");this.o_timerSession=null}}};tsip_dialog_invite.prototype.send_ack=function(o_response){var i_ret=-1;var o_request=null;var b_wait4lo=false;if(o_request=this.request_new("ACK")){if(this.b_is_client&&(this.o_last_oInvite&&!this.o_last_oInvite.has_content())){var o_sdp_lo=this.o_msession_mgr.get_lo();b_wait4lo=o_sdp_lo==null;if(o_sdp_lo){var s_sdp_lo=o_sdp_lo.toString();o_request.add_content(new String(s_sdp_lo),"application/sdp")}if(!this.o_msession_mgr.is_started()&&(this.o_msession_mgr.has_lo()&&this.o_msession_mgr.has_ro())){i_ret=this.o_msession_mgr.start()}}o_request.o_hdr_CSeq.i_seq=o_response.o_hdr_CSeq.i_seq;if(b_wait4lo){this.o_wait_oMessage=o_request;tsk_utils_log_info("send_ack: send ack later.");this.timer_schedule("invite","LoSdpRequest");return 0}else{return this.request_send(o_request)}}return i_ret};tsip_dialog_invite.prototype.send_prack=function(o_r1xx){if(!o_r1xx||!o_r1xx.o_hdr_CSeq){tsk_utils_log_error("Invalid parameter");return-1}var i_ret=-1;var o_request=null;var o_hdr_RSeq;var b_wait4lo=false;if(o_hdr_RSeq=o_r1xx.get_header(tsip_header_type_e.RSeq)){if(self.i_rseq&&o_hdr_RSeq.i_value<=this.i_rseq){tsk_utils_log_warn("1xx.RSeq value is not one higher than lastINVITE.RSeq");return 0}this.i_rseq=o_hdr_RSeq.i_value}if(!(o_request=this.request_new("PRACK"))){tsk_utils_log_error("Failed to create PRACK request");return-2}o_request.add_header(new tsip_header_RAck(this.i_rseq,o_r1xx.o_hdr_CSeq.i_seq,o_r1xx.o_hdr_CSeq.s_method));if(this.b_is_client&&(this.o_last_oInvite&&!this.o_last_oInvite.has_content())){var o_sdp_lo=this.o_msession_mgr.get_lo();b_wait4lo=o_sdp_lo==null;if(o_sdp_lo){var s_sdp_lo=o_sdp_lo.toString();o_request.add_content(new String(s_sdp_lo),"application/sdp")}}if(b_wait4lo){this.o_wait_oMessage=o_request;this.timer_schedule("invite","LoSdpRequest");return 0}else{return this.request_send(o_request)}};tsip_dialog_invite.prototype.send_response=function(o_request,i_code,s_phrase,b_force_sdp){var o_response;var i_ret=-1;var b_wait4lo=false;if(o_response=this.response_new(i_code,s_phrase,o_request)){if(o_request.is_invite()||o_request.is_update()){if(this.require.b_timer){o_response.add_headers(new tsip_header_Require("timer"),new tsip_header_Session_Expires(this.stimers.i_timeout,tsk_string_iequals(this.stimers.s_refresher,"uas")))}else if(this.supported.b_timer){o_response.add_headers(new tsip_header_Supported("timer"),new tsip_header_Session_Expires(this.stimers.i_timeout,tsk_string_iequals(this.stimers.s_refresher,"uas")))}if(this.stimers.i_minse){o_response.add_headers(new tsip_header_Min_SE(this.stimers.i_minse))}if(i_code==422){o_response.add_headers(new tsip_header_Dummy("Reason",'SIP; cause=422; text="Session Interval Too Small"'))}if(i_code==180||i_code==183){if(this.require.b_100rel){if(this.i_rseq==0){this.i_rseq=Math.abs((rand()^rand())+1)}o_response.add_headers(new tsip_header_Require("100rel"),new tsip_header_RSeq(this.i_rseq));this.o_last_o1xxrel=o_response;this.timer_cancel("100Rel");this.i_timer100Rel=this.get_stack().o_timers.getA();this.timer_schedule("invite","100Rel")}}if(this.o_msession_mgr&&b_force_sdp&&i_code==200){var o_sdp_lo=this.o_msession_mgr.get_lo();b_wait4lo=o_sdp_lo==null;if(o_sdp_lo){var s_sdp_lo=o_sdp_lo.toString();o_response.add_content(new String(s_sdp_lo),"application/sdp")}}o_response.add_headers(new tsip_header_Dummy("Allow",TSIP_HEADER_ALLOW_DEFAULT))}else if(o_request.is_refer()){if(this.require.b_norefersub){o_response.add_headers(new tsip_header_Require("norefersub"))}if(this.supported.b_norefersub){o_response.add_headers(new tsip_header_Supported("norefersub"))}}if(b_wait4lo&&i_code==200){tsk_utils_log_info("b_wait4lo is true! send response later.");this.o_wait_oMessage=o_response;this.timer_schedule("invite","VideoOnRequest");return 0}else{tsk_utils_log_info("send_response response_send");return this.response_send(o_response)}}return i_ret};tsip_dialog_invite.prototype.send_error=function(o_request,i_code,s_phrase,s_reason){var o_response;if(o_response=this.response_new(i_code,s_phrase,o_request)){o_response.add_headers(new tsip_header_Dummy("Reason",s_reason));return this.response_send(o_response)}else{tsk_utils_log_error("Failed to create new message");return-1}};tsip_dialog_invite.prototype.send_bye=function(){var i_ret=-1;var o_bye;if(o_bye=this.request_new("BYE")){i_ret=this.request_send(o_bye)}return i_ret};tsip_dialog_invite.prototype.send_info=function(s_content,s_content_type){var i_ret=-1;var o_info;if(o_info=this.request_new("INFO")){if(s_content&&s_content_type){o_info.add_content(new String(s_content),s_content_type)}i_ret=this.request_send(o_info)}return i_ret};tsip_dialog_invite.prototype.send_cancel=function(){if(this.o_last_oInvite){var o_request;var i_index;if(o_request=new tsip_request("CANCEL",this.o_last_oInvite.line.request.o_uri,null,null,this.o_last_oInvite.o_hdr_Call_ID.s_value,this.o_last_oInvite.o_hdr_CSeq.i_seq)){o_request.o_hdr_firstVia=this.o_last_oInvite.o_hdr_firstVia;o_request.o_hdr_From=this.o_last_oInvite.o_hdr_From;o_request.o_hdr_To=this.o_last_oInvite.o_hdr_To;for(i_index=0;i_index<this.o_last_oInvite.ao_headers.length;++i_index){switch(this.o_last_oInvite.ao_headers[i_index].e_type){case tsip_header_type_e.Route:case tsip_header_type_e.Proxy_Authorization:case tsip_header_type_e.Authorization:o_request.ao_headers.push(this.o_last_oInvite.ao_headers[i_index]);break}}if(this.get_stack().network.e_proxy_cscf_type==tsip_transport_type_e.WS||this.get_stack().network.e_proxy_cscf_type==tsip_transport_type_e.WSS){var s_proxy_outbound=this.get_stack().__get_proxy_outbound_uri_string();if(s_proxy_outbound){o_request.add_header(new tsip_header_Dummy("Route",s_proxy_outbound),true)}}return this.request_send(o_request)}else{tsk_utils_log_error("Failed to create CANCEL request");return-2}}else{tsk_utils_log_warn("There is no INVITE request to cancel");return 0}};tsip_dialog_invite.prototype.notify_parent=function(o_response){var o_dlg_parent=this.get_layer_dialog().find_by_ssid(this.get_session().i_id_parent);if(o_dlg_parent){var o_action=new tsip_action(tsip_action_type_e.ECT_NOTIFY);if(o_action){return o_dlg_parent.fsm_act(o_action.e_type,o_response,o_action)}}else{tsk_utils_log_error("Failed to find parent with id="+this.get_session().i_id_parent+"")}return-1};tsip_dialog_invite.prototype.new_msession_mgr=function(e_type,s_addr,b_ipv6,b_offerer){var o_msession_mgr=new tmedia_session_mgr(e_type,s_addr,b_ipv6,b_offerer,__tsip_dialog_invite_media_callback,this);o_msession_mgr.set(tmedia_session_mgr.prototype.SetParamSession(o_msession_mgr.e_type,"ice-servers",this.get_stack().network.ao_ice_servers),tmedia_session_mgr.prototype.SetParamSession(o_msession_mgr.e_type,"ice-transport-policy",this.get_stack().network.ao_ice_transport_policy),tmedia_session_mgr.prototype.SetParamSession(o_msession_mgr.e_type,"RTCpeerConnection-optional",this.get_stack().network.ao_RTCpeerConnection_optional),tmedia_session_mgr.prototype.SetParamSession(o_msession_mgr.e_type,"cache-stream",this.get_stack().network.b_cache_stream),tmedia_session_mgr.prototype.SetParamSession(o_msession_mgr.e_type,"bandwidth",this.get_session().media.o_bandwidth),tmedia_session_mgr.prototype.SetParamSession(o_msession_mgr.e_type,"video-size",this.get_session().media.o_video_size));return o_msession_mgr};tsip_dialog_invite.prototype.process_ro=function(o_message,b_is_offer){tsk_utils_log_info("===== process_ro =======");var o_sdp_ro=null;var o_sdp_lo=null;var e_old_media_type;var e_new_media_type;var b_media_session_was_null;var i_ret=0;if(!o_message){tsk_utils_log_error("Invalid parameter");return-1}if(o_message.has_content()){if(tsk_string_iequals("application/sdp",o_message.get_content_type())){if(!(o_sdp_ro=tsdp_message.prototype.Parse(o_message.get_content_as_string()))){tsk_utils_log_error("Failed to parse remote sdp message");return-2}}else{tsk_utils_log_error("["+o_message.get_content_type()+"] content-type is not supportted");return-3}}else{if(this.e_state==tsip_dialog_state_e.INITIAL&&o_message.is_invite()){this.get_session().media.e_type=tmedia_defaults_get_media_type()}else{return 0}}b_media_session_was_null=this.o_msession_mgr==null;e_old_media_type=this.get_session().media.e_type;e_new_media_type=o_sdp_ro?o_sdp_ro.get_media_type():e_old_media_type;tsk_utils_log_info("e_old_media_type = "+e_old_media_type.s_name);tsk_utils_log_info("e_new_media_type = "+e_new_media_type.s_name);if(!this.o_msession_mgr){tsk_utils_log_info("o_msession_mgr == null");this.get_session().media.e_type=e_new_media_type;this.o_msession_mgr=this.new_msession_mgr(e_new_media_type,this.get_stack().network.s_local_ip,false,o_sdp_ro==null)}var mgr=this.o_msession_mgr;if(mgr){mgr.set(mgr.SetParamSession(mgr.e_type,"video-common",this.get_stack().media.e_video_src))}if(o_sdp_ro){tsk_utils_log_info("o_msession_mgr == set_ro");if(i_ret=this.o_msession_mgr.set_ro(o_sdp_ro,b_is_offer)){tsk_utils_log_error("Failed to set remote offer");return i_ret}}return i_ret};function __tsip_dialog_invite_timer_callback(o_self,o_timer){var i_ret=-1;tsk_utils_log_info("__tsip_dialog_invite_timer_callback");if(o_self){if(o_self.o_timerSession==o_timer&&o_self.o_timerSession){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.TIMER_REFRESH,null,null)}else if(o_self.o_timer100Rel==o_timer){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.TIMER_100REL,null,null)}else if(o_self.o_timerShutdown==o_timer){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.SHUTDOWN_TIMEDOUT,null,null)}else if(o_self.o_timerLoSdpRequest==o_timer){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.TIMER_LO_SDP_REQUEST,null,null)}else if(o_self.o_timerVideoOnRequest==o_timer){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.TIMER_VIDEO_ON_REQUEST,null,null)}}return i_ret}function __tsip_dialog_invite_parse_type(e_role,b_is_local,b_is_add){switch(e_role){case tmedia_pc_type_e.AUDIO:if(b_is_add)if(b_is_local)return"local_audio_added";else return"remote_audio_added";else if(b_is_local)return"local_audio_removed";else return"remote_audio_removed";case tmedia_pc_type_e.MAIN:if(b_is_add)if(b_is_local)return"local_video_added";else return"remote_video_added";else if(b_is_local)return"local_video_removed";else return"remote_video_removed";case tmedia_pc_type_e.SLIDES:if(b_is_add)if(b_is_local)return"local_present_added";else return"remote_present_added";else if(b_is_local)return"local_present_removed";else return"remote_present_removed";default:tsk_utils_log_info("__tsip_dialog_invite_parse_type:  stream type is none.");break}return null}function __tsip_dialog_invite_media_callback(o_self,e_event_type,e_media_type,s_error){var i_ret;if(e_event_type===tmedia_session_events_e.GET_LO_SUCCESS&&(e_media_type&&o_self.t_retry&&e_media_type===o_self.t_retry)){if(!o_self.o_wait_oInvite&&o_self.o_wait_oMessage){o_self.o_wait_oInvite=o_self.o_wait_oMessage}o_self.o_wait_oInvite.o_hdr_CSeq.i_seq++;o_self.o_wait_oMessage=o_self.o_wait_oInvite;var cseq=o_self.o_wait_oMessage.o_hdr_CSeq.i_seq;for(var key in SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(key==="o_videoOn"||key==="o_videoOff"||key==="o_presentOn"||key==="o_presentOff"||key==="o_adjustResolution"){var o_attr=SipMgr.sipApi.sip_stack_e.oSipSessionCall[key];o_attr.i_cseq=cseq}}if(o_self.i_cseq_value){o_self.i_cseq_value=o_self.i_cseq_value+2}tsk_utils_log_info("__tsip_dialog_invite_media_callback e_media_type: "+e_media_type)}switch(e_event_type){case tmedia_session_events_e.GET_LO_SUCCESS:{tsk_utils_log_info("__tsip_dialog_invite_media_callback: GET_LO_SUCCESS");if(adapter.browserDetails.browser==="firefox"){var o_temporary_dialog=o_self;setTimeout(function(){o_temporary_dialog.timer_cancel("LoSdpRequest")},1e3);setTimeout(function(){o_temporary_dialog.timer_cancel("VideoOnRequest")},1e3)}else{o_self.timer_cancel("LoSdpRequest");o_self.timer_cancel("VideoOnRequest")}if(o_self.o_wait_oMessage){isInviteRequest=o_self.o_wait_oMessage.is_request();tsk_utils_log_info("o_self.o_wait_oMessage b_request: "+o_self.o_wait_oMessage.is_request());var o_sdp_lo=o_self.o_msession_mgr.get_lo();if(o_sdp_lo){var s_sdp_lo=o_sdp_lo.toString();o_self.o_wait_oMessage.add_content(new String(s_sdp_lo),"application/sdp");if(o_self.o_wait_oMessage.is_request()){if(o_self.o_wait_oMessage.is_ack()){i_ret=o_self.get_stack().o_layer_transport.send(null,o_self.o_wait_oMessage)}else{i_ret=o_self.request_send(o_self.o_wait_oMessage);if(i_ret==0&&o_self.o_wait_oMessage.is_invite()){o_self.o_last_oInvite=o_self.o_wait_oMessage}}}else{o_self.response_send(o_self.o_wait_oMessage)}}}else{tsk_utils_log_info("o_self.o_wait_oMessage is NULL!");break;if(o_self.e_state==tsip_dialog_state_e.ESTABLISHED){if(o_self.e_next_offer_type==tsip_dialog_invite_next_offer_type_e.SUCCESS&&o_self.o_last_iOffer){i_ret=o_self.send_response(o_self.o_last_iOffer,200,"OK",true)}else{i_ret=o_self.send_offer(true,true)}}}if(o_self.o_msession_mgr&&!o_self.o_msession_mgr.is_started()&&(o_self.o_msession_mgr.has_lo()&&o_self.o_msession_mgr.has_ro())){i_ret=o_self.o_msession_mgr.start()}o_self.e_next_offer_type=tsip_dialog_invite_next_offer_type_e.NONE;break}case tmedia_session_events_e.GET_LO_FAILED:{o_self.timer_cancel("LoSdpRequest");o_self.timer_cancel("VideoOnRequest");o_self.set_last_error(tsip_event_code_e.DIALOG_WEBRTC_ERROR,"Failed to get local SDP offer");o_self.e_next_offer_type=tsip_dialog_invite_next_offer_type_e.NONE;tsk_utils_log_info("GET_LO_FAILED!");var s_prase=null;if(s_error){s_prase=s_error}else{s_phrase="Get Local SDP Time Out";o_self.o_msession_mgr.stop(tmedia_pc_type_e.NONE)}o_self.signal(tsip_event_code_e.DIALOG_GET_LO_TIMEOUT,s_prase);break}case tmedia_session_events_e.ICE_CONNECTIONG_FAILED:{o_self.set_last_error(tsip_event_code_e.DIALOG_WEBRTC_ERROR,"Failed to check ice connection");o_self.e_next_offer_type=tsip_dialog_invite_next_offer_type_e.NONE;o_self.o_msession_mgr.stop(tmedia_pc_type_e.NONE);o_self.signal_invite(tsip_event_invite_type_e.M_ICE_CONNECTION_FAILED,tsip_event_code_e.DIALOG_ICE_CONNECTION_FAIL,"Failed to check ice connection",null);break}case tmedia_session_events_e.ACTION_RESULT:{var data=s_error;if(o_self.o_last_i200ok){data.o_response=o_self.o_last_i200ok}o_self.signal_invite(tsip_event_invite_type_e.O_ACTION_RESULT,tsip_event_code_e.ACTION_RESULT,"action failed",data);break}case tmedia_session_events_e.ICE_CONNECTIONG_FAILED_FIRST:{o_self.signal_invite(tsip_event_invite_type_e.M_ICE_CONNECTION_FAILED_FIRST,tsip_event_code_e.DIALOG_ICE_CONNECTION_FAIL_FIRST,"Failed to check ice connection",e_media_type);break}case tmedia_session_events_e.ICE_RESTART:{o_self.signal_invite(tsip_event_invite_type_e.M_ICE_RESTART,tsip_event_code_e.DIALOG_ICE_RESTART,"Succeed to do ice restart",e_media_type);break}case tmedia_session_events_e.STREAM_LOCAL_REQUESTED:{o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_LOCAL_REQUESTED,tsip_event_code_e.DIALOG_MEDIA_LOCAL_REQUESTED,"Media Requested",null);break}case tmedia_session_events_e.STREAM_LOCAL_VIDEO_REQUESTED:{o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_LOCAL_VIDEO_REQUESTED,tsip_event_code_e.DIALOG_MEDIA_LOCAL_VIDEO_REQUESTED,"Media Of Video Requested",null);break}case tmedia_session_events_e.STREAM_LOCAL_ACCEPTED:{o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_LOCAL_ACCEPTED,tsip_event_code_e.DIALOG_MEDIA_LOCAL_ACCEPTED,"Media Accepted",null);break}case tmedia_session_events_e.STREAM_LOCAL_CHANGE:{o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_LOCAL_CHANGE,tsip_event_code_e.DIALOG_MEDIA_LOCAL_CHANGE,"Media Change",null);break}case tmedia_session_events_e.STREAM_LOCAL_REFUSED:{o_self.timer_cancel("LoSdpRequest");o_self.timer_cancel("VideoOnRequest");o_self.set_last_error(tsip_event_code_e.DIALOG_WEBRTC_ERROR,"stream local SDP refused");o_self.e_next_offer_type=tsip_dialog_invite_next_offer_type_e.NONE;tsk_utils_log_error("STREAM_LOCAL_REFUSED!");o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_LOCAL_REFUSED,tsip_event_code_e.DIALOG_MEDIA_LOCAL_REFUSED,"Media Refused",null);break}case tmedia_session_events_e.STREAM_LOCAL_ADDED:{tsk_utils_log_info("tmedia_session_events_e.STREAM_LOCAL_ADDED. ");var o_mgr=o_self.o_msession_mgr;var o_parse=__tsip_dialog_invite_parse_type(e_media_type,true,true);o_self.get_session().__my_set_stream_local(o_mgr.my_get_stream_local(e_media_type),e_media_type);o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_LOCAL_ADDED,tsip_event_code_e.DIALOG_MEDIA_ADDED,o_parse,null);break}case tmedia_session_events_e.STREAM_LOCAL_REMOVED:{tsk_utils_log_info("tmedia_session_events_e.STREAM_LOCAL_REMOVED. ");var o_mgr=o_self.o_msession_mgr;var o_parse=__tsip_dialog_invite_parse_type(e_media_type,true,false);o_self.get_session().__my_set_stream_local(null,e_media_type);o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_LOCAL_REMOVED,tsip_event_code_e.DIALOG_MEDIA_REMOVED,o_parse,null);break}case tmedia_session_events_e.STREAM_REMOTE_ADDED:{tsk_utils_log_info("tmedia_session_events_e.STREAM_REMOTE_ADDED. ");var o_mgr=o_self.o_msession_mgr;var o_parse=__tsip_dialog_invite_parse_type(e_media_type,false,true);o_self.get_session().__my_set_stream_remote(o_mgr.my_get_stream_remote(e_media_type),e_media_type);o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_REMOTE_ADDED,tsip_event_code_e.DIALOG_MEDIA_ADDED,o_parse,null);break}case tmedia_session_events_e.STREAM_REMOTE_REMOVED:{tsk_utils_log_info("tmedia_session_events_e.STREAM_REMOTE_REMOVED. ");var o_mgr=o_self.o_msession_mgr;var o_parse=__tsip_dialog_invite_parse_type(e_media_type,false,false);o_self.get_session().__my_set_stream_remote(null,e_media_type);o_self.signal_invite(tsip_event_invite_type_e.M_STREAM_REMOTE_REMOVED,tsip_event_code_e.DIALOG_MEDIA_REMOVED,o_parse,null);break}case tmedia_session_events_e.UPDATE_RTP_INFO:{var o_mgr=o_self.o_msession_mgr;o_self.get_session().__my_set_rtp_info(o_mgr.get_rtp_info());break}case tmedia_session_events_e.SEND_INFO_FOR_TRICKLE_ICE:{tsk_utils_log_warn("send info for trickle ice");if(s_error.candidate){tsk_utils_log_warn("send info for trickle ice, candidate"+"("+s_error.type+"):\n "+s_error.candidate)}else{tsk_utils_log_warn("send info for trickle ice, candidate gathering completed")}function get_info_session(type){for(var i=0;i<o_self.o_trickle_ice.length;i++){if(o_self.o_trickle_ice[i].s_type==type){return o_self.o_trickle_ice[i]}}}var s_content;var o_mgr=o_self.o_msession_mgr;var o_info_session=get_info_session(s_error.type);if(o_info_session&&s_error){if(s_error.candidate){s_error.candidate="a="+s_error.candidate+"\r\n";o_info_session.s_candidates.push(s_error.candidate);s_content=o_mgr.getContentForTrickleIce(e_media_type,o_info_session.s_candidates,false);o_info_session.s_contents.push(s_content)}else{s_content=o_mgr.getContentForTrickleIce(e_media_type,o_info_session.s_candidates,true);o_info_session.b_commpleted=true;o_info_session.s_contents.push(s_content)}}else{var o_info_session={s_type:null,b_commpleted:false,s_candidates:new Array,s_contents:new Array};o_info_session.s_type=s_error.type;s_error.candidate="a="+s_error.candidate+"\r\n";o_info_session.s_candidates.push(s_error.candidate);s_content=o_mgr.getContentForTrickleIce(e_media_type,o_info_session.s_candidates,false);o_info_session.s_contents.push(s_content);o_self.o_trickle_ice.push(o_info_session)}s_content=null;if(o_self.o_trickle_ice.length>0){for(var i=0;i<o_self.o_trickle_ice.length;i++){var length=o_self.o_trickle_ice[i].s_contents.length;if(s_content){s_content=s_content+o_self.o_trickle_ice[i].s_contents[length-1]}else{s_content=o_self.o_trickle_ice[i].s_contents[length-1]}}}tsk_utils_log_warn("b_ready_send_info: "+o_self.b_ready_send_info);if(o_self.b_ready_send_info){send_info_for_trickle_ice(o_self,s_content)}break}case tmedia_session_events_e.RFC5168_REQUEST_IDR:{o_self.send_info('<?xml version="1.0" encoding="utf-8"?>\r\n'+" <media_control>\r\n"+"   <vc_primitive>\r\n"+"     <to_encoder>\r\n"+"       <picture_fast_update>\r\n"+"       </picture_fast_update>\r\n"+"     </to_encoder>\r\n"+"   </vc_primitive>\r\n"+" </media_control>\r\n","application/media_control+xml");break}}}function __tsip_dialog_invite_event_callback(o_self,e_type,o_message){var i_ret=-1;switch(e_type){case tsip_dialog_event_type_e.I_MSG:{if(o_message){if(o_message.is_response()){if(o_message.is_1xx()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_1XX,o_message,null)}else if(o_message.is_2xx()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_2XX,o_message,null)}else if(o_message.is_response_xxx(401)||o_message.is_response_xxx(407)){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_401_407,o_message,null)}else if(o_message.is_response_xxx(422)){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_422,o_message,null)}else if(o_message.is_response_xxx(491)){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_491,o_message,null)}else if(o_message.is_3456()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_300_to_699,o_message,null)}}else{if(o_message.is_invite()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_INVITE,o_message,null)}else if(o_message.is_update()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_UPDATE,o_message,null)}else if(o_message.is_prack()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_PRACK,o_message,null)}else if(o_message.is_ack()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_ACK,o_message,null)}else if(o_message.is_options()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_OPTIONS,o_message,null)}else if(o_message.is_bye()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_BYE,o_message,null)}else if(o_message.is_cancel()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_CANCEL,o_message,null)}else if(o_message.is_info()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_INFO,o_message,null)}else if(o_message.is_message()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_MESSAGE,o_message,null)}else if(o_message.is_notify()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_NOTIFY,o_message,null)}else if(o_message.is_refer()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.I_REFER,o_message,null)}}}break}case tsip_dialog_event_type_e.CANCELED:{i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.O_CANCEL,o_message,null);break}case tsip_dialog_event_type_e.TIMEDOUT:{if(o_message&&o_message.is_info()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.TIMEDOUT,o_message,null)}else if(o_message&&o_message.is_invite()){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.TRANSPORT_ERROR,o_message,null)}break}case tsip_dialog_event_type_e.TERMINATED:case tsip_dialog_event_type_e.ERROR:case tsip_dialog_event_type_e.TRANSPORT_ERROR:{if(o_message=="send request failed"){i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.SEND_REQUEST_FAILED,o_message,null)}else{i_ret=o_self.fsm_act(tsip_dialog_invite_actions_e.TRANSPORT_ERROR,o_message,null)}break}}return i_ret}function __tsip_dialog_invite_cond_is_resp2invite(o_dialog,o_message){return o_message.is_response_to_invite()}function __tsip_dialog_invite_cond_is_resp2update(o_dialog,o_message){return o_message.is_response_to_update()}function __tsip_dialog_invite_cond_is_resp2invite_or_update(o_dialog,o_message){return __tsip_dialog_invite_cond_is_resp2invite(o_dialog,o_message)||__tsip_dialog_invite_cond_is_resp2update(o_dialog,o_message)}function __tsip_dialog_invite_cond_is_resp2bye(o_dialog,o_message){return o_message.is_response_to_bye()}function __tsip_dialog_invite_cond_is_resp2prack(o_dialog,o_message){return o_message.is_response_to_prack()}function __tsip_dialog_invite_cond_is_resp2info(o_dialog,o_message){return o_message.is_response_to_info()}function __tsip_dialog_invite_con_is_resp2message(o_dialog,o_message){return o_message.is_response_to_message()}function __tsip_dialog_invite_con_is_resp2invite_or_updata_or_info_or_message(o_dialog,o_message){return __tsip_dialog_invite_cond_is_resp2invite_or_update(o_dialog,o_message)||o_message.is_response_to_info()||o_message.is_response_to_message()}function __tsip_dialog_invite_cond_is_resp2cancel(o_dialog,o_message){return o_message.is_response_to_cancel()}function __tsip_dialog_invite_cond_is_resp2refer(o_dialog,o_message){return o_message.is_response_to_refer()}function __tsip_dialog_invite_cond_is_1xx_notify(o_dialog,o_message){var i_code=__tsip_dialog_invite_get_sip_frag_respcode(o_message);return i_code>=100&&i_code<=199}function __tsip_dialog_invite_cond_is_23456_notify(o_dialog,o_message){var i_code=__tsip_dialog_invite_get_sip_frag_respcode(o_message);return i_code>=200&&i_code<=699}function __tsip_dialog_invite_cond_is_f_refer(o_dialog,o_message){var o_hdr_Refer_To=o_message.get_header(tsip_header_type_e.Refer_To);return!o_hdr_Refer_To||!o_hdr_Refer_To.o_uri}function __tsip_dialog_invite_cond_is_1xx_f_notify(o_dialog,o_message){return o_message.is_1xx()}function __tsip_dialog_invite_cond_is_23456_f_notify(o_dialog,o_message){return o_message.is_23456()}function __tsip_dialog_invite_con_is_ice_restart(o_dialog,o_message){return SipMgr.inviteForIceRestart()}function __tsip_dialog_invite_con_is_not_ice_restart(o_dialog,o_message){return!SipMgr.inviteForIceRestart()}function send_info_for_trickle_ice(o_dialog,s_content){for(var i=0;i<o_dialog.o_session.ao_headers.length;i++){if(o_dialog.o_session.ao_headers[i].s_name==="Info-Package"||o_dialog.o_session.ao_headers[i].s_name==="Content-Disposition"||o_dialog.o_session.ao_headers[i].s_name==="X-GS-Conf-Control"||o_dialog.o_session.ao_headers[i].s_name==="X-GS-Sender"||o_dialog.o_session.ao_headers[i].s_name==="X-GS-Users"||o_dialog.o_session.ao_headers[i].s_name==="X-GS-Message-Users"||o_dialog.o_session.ao_headers[i].s_name==="Accept-Encoding"||o_dialog.o_session.ao_headers[i].s_name==="X-IPVT-Client-Info"){o_dialog.o_session.ao_headers.splice(i,1);i--}}o_dialog.o_session.ao_headers.push(new tsip_header_Dummy("Info-Package","trickle-ice"),new tsip_header_Dummy("Content-Disposition","Info-Package"));if(s_content!==iceCandidateCompare){iceCandidateCompare=s_content;o_dialog.send_info(s_content,"application/trickle-ice-sdpfrag")}for(var i=0;i<o_dialog.o_session.ao_headers.length;i++){if(o_dialog.o_session.ao_headers[i].s_name==="Info-Package"||o_dialog.o_session.ao_headers[i].s_name==="Content-Disposition"){o_dialog.o_session.ao_headers.splice(i,1);i--}}}function x0000_Connected_2_Connected_X_oDTMF(ao_args){tsk_utils_log_error("Not implemented");return 0}function x0000_Connected_2_Connected_X_oLMessage(ao_args){tsk_utils_log_error("Not implemented");return 0}function x0000_Connected_2_Connected_X_iACK(ao_args){tsk_utils_log_info("x0000_Connected_2_Connected_X_iACK");var o_dialog=ao_args[0];var o_request=ao_args[1];var i_ret=0;var b_is_offer=o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.has_ro();if(o_request.has_content()){if(i_ret=o_dialog.process_ro(o_request,b_is_offer)){return i_ret}}if(o_dialog.o_msession_mgr){i_ret=o_dialog.o_msession_mgr.acked()}o_dialog.signal_invite(tsip_event_invite_type_e.DIALOG_REQUEST_INCOMING,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);return i_ret}function x0000_Connected_2_Connected_X_iINVITEorUPDATE(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var i_ret;var b_bodiless_invite;var e_old_media_type=o_dialog.o_msession_mgr?o_dialog.o_msession_mgr.get_media_type():tmedia_type_e.NONE;var b_is_roap=o_dialog.o_msession_mgr?o_dialog.o_msession_mgr.is_roap():false;var e_new_media_type;var b_force_sdp;o_dialog.o_last_iOffer=o_request;
if(adapter.browserDetails.browser==="firefox"&&sendInviteQueue.length>0&&(sendInviteQueue[0].s_action==="presentOff"&&common_judgment_e.currcamcount<=2||sendInviteQueue[0].s_action==="adjustVideoResolution")){o_dialog.send_response(o_request,491,"Request Pending",false);return 0}tsk_utils_log_info("sendInviteQueue length: "+sendInviteQueue.length+" ( x0000_Connected_2_Connected_X_iINVITEorUPDATE )");if(sendInviteQueue.length>0&&(!pre491InviteCseqNum||o_dialog.i_cseq_value!==pre491InviteCseqNum)){tsk_utils_log_warn("start send 491 response");pre491InviteCseqNum=o_dialog.i_cseq_value;if(sendInviteQueue[0].s_action==="doIceRestart"){for(var i=0;i<sendInviteQueue.length;i++){send491InviteQueue.push(sendInviteQueue[i])}sendInviteQueue.length=0}else{send491InviteQueue.push(sendInviteQueue.shift())}o_dialog.send_response(o_request,491,"Request Pending",false);return 0}if(b_is_roap){o_dialog.e_next_offer_type=tsip_dialog_invite_next_offer_type_e.SUCCESS}if(i_ret=o_dialog.process_ro(o_request,true)){return i_ret}b_force_sdp=o_request.has_content();e_new_media_type=o_dialog.o_msession_mgr?o_dialog.o_msession_mgr.get_media_type():tmedia_type_e.NONE;b_bodiless_invite=!o_request.has_content()&&o_request.is_invite();if(o_dialog.stimers.i_timeout){tsk_utils_log_info("<<------------Refresh Session Timer----------->>");for(var i=0;i<o_request.ao_headers.length;i++){if(o_request.ao_headers[i].e_type==tsip_header_type_e.Session_Expires&&o_request.is_supported("timer")){o_dialog.stimers.i_timeout=o_request.ao_headers[i].i_delta_seconds;o_dialog.stimers.s_refresher=o_request.ao_headers[i].b_refresher_uas?"uas":"uac";o_dialog.stimers.b_is_refresher=o_request.ao_headers[i].b_refresher_uas?true:false;break}}o_dialog.stimers_handle(o_request)}i_ret=o_dialog.hold_handle(o_request);if(!b_is_roap){i_ret=o_dialog.send_response(o_request,200,"OK",o_dialog.o_msession_mgr&&(b_force_sdp||b_bodiless_invite||o_dialog.o_msession_mgr.has_ro_changed()||o_dialog.o_msession_mgr.has_state_changed()||e_old_media_type!=e_new_media_type))}if(b_force_sdp){setTimeout(function(){tsk_utils_log_warn("send 180 response");if(o_dialog&&o_dialog.o_wait_oMessage&&o_dialog.o_wait_oMessage.is_response_to_invite()){tsk_utils_log_warn("start send 180 response");o_dialog.send_response(o_request,180,"Ringing",false)}},1e4)}o_dialog.signal_invite(tsip_event_invite_type_e.DIALOG_REQUEST_INCOMING,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);return i_ret}function x0000_Connected_2_Connected_X_oTimerRefresh(ao_args){var o_dialog=ao_args[0];if(o_dialog.b_support_update)o_dialog.send_update(false);else o_dialog.send_invite(false);return 0}function x0000_Connected_2_Connected_X_oAudioRefresh(ao_args){tsk_utils_log_info("x0000_Connected_2_Connected_X_oAudioRefresh");var o_dialog=ao_args[0];var o_tsip_action=ao_args[2];o_tsip_action.o_user_data.s_type="audioRefresh";o_dialog.send_invite(false,o_tsip_action.o_user_data);return 0}function x0000_Connected_2_Connected_X_oVideoRefresh(ao_args){tsk_utils_log_info("x0000_Connected_2_Connected_X_oVideoRefresh");var o_dialog=ao_args[0];var o_tsip_action=ao_args[2];o_tsip_action.o_user_data.s_type="videoRefresh";o_dialog.send_invite(false,o_tsip_action.o_user_data);return 0}function x0000_Connected_2_Connected_X_oPresentRefresh(ao_args){tsk_utils_log_info("x0000_Connected_2_Connected_X_oStartPresent");var o_dialog=ao_args[0];var o_tsip_action=ao_args[2];o_tsip_action.o_user_data.s_type="presentRefresh";o_dialog.send_invite(false,o_tsip_action.o_user_data);return 0}function x0000_Connected_2_Connected_X_oINVITE(ao_args){var o_dialog=ao_args[0];o_dialog.send_invite(false);return 0}function x0000_Any_2_Any_X_i1xx(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i1xx");var o_dialog=ao_args[0];var o_r1xx=ao_args[1];var i_ret=0;if(i_ret=o_dialog.update_with_response(o_r1xx)){return i_ret}if(o_r1xx.get_response_code()>=101&&o_r1xx.get_response_code()<=199){var b_is_offer=o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.has_lo();if(o_r1xx.has_content()&&(i_ret=o_dialog.process_ro(o_r1xx,b_is_offer))){return i_ret}if(o_r1xx.is_required("100rel")&&(i_ret=o_dialog.send_prack(o_r1xx))){return i_ret}}i_ret=o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_r1xx.get_response_code(),o_r1xx.get_response_phrase(),o_r1xx);if(o_dialog.b_is_transf){i_ret=o_dialog.notify_parent(o_r1xx)}return i_ret}function x0000_Any_2_Any_X_oINFO(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2]||o_dialog.o_action_curr_info;var o_request;o_dialog.b_running=true;o_dialog.o_action_curr_info=o_action;if(o_request=o_dialog.request_new("INFO")){var i_ret;if((i_ret=tsip_dialog.prototype.ApplyAction(o_request,o_action))==0){i_ret=o_dialog.request_send(o_request)}return i_ret}else{tsk_utils_log_error("Failed to create new INFO request");return-1}}function x0000_Any_2_Any_X_oMESSAGE(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2]||o_dialog.o_action_curr_message;var o_request;o_dialog.b_running=true;o_dialog.o_action_curr_message=o_action;if(o_request=o_dialog.request_new("MESSAGE")){var i_ret;if((i_ret=tsip_dialog.prototype.ApplyAction(o_request,o_action))==0){i_ret=o_dialog.request_send(o_request)}return i_ret}else{tsk_utils_log_error("Failed to create new MESSAGE request");return-1}}function x0000_Any_2_Any_X_i2xxINFO(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i2xxINFO");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;var b_has_head=false;if(o_dialog.o_session.ao_headers){for(var i=0;i<o_dialog.o_session.ao_headers.length;i++){if(o_dialog.o_session.ao_headers[i].s_name==="X-GS-Conf-Control"){o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),o_dialog.o_session.ao_headers[i].s_value,o_response);b_has_head=true;break}}}if(!b_has_head)o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),null,o_response);return i_ret}function x0000_Any_2_Any_X_i300_to_i699INFO(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i300_to_i699INFO");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;var b_has_head=false;if(o_dialog.o_session.ao_headers){for(var i=0;i<o_dialog.o_session.ao_headers.length;i++){if(o_dialog.o_session.ao_headers[i].s_name==="X-GS-Conf-Control"){o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),o_dialog.o_session.ao_headers[i].s_value,o_response);b_has_head=true;break}}}if(!b_has_head)o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),null,o_response);return i_ret}function x0000_Any_2_Any_X_i2xxMESSAGE(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i2xxMESSAGE");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),"Incoming Request",o_response);return i_ret}function x0000_Any_2_Any_X_i300_to_i699MESSAGE(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i300_to_i699MESSAGE");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),"Incoming Request",o_response);return i_ret}function x0000_Any_2_Any_X_iINFO(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var i_ret=o_dialog.send_response(o_request,200,"OK");o_dialog.signal_invite(tsip_event_invite_type_e.DIALOG_REQUEST_INCOMING,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);if(o_dialog.o_msession_mgr&&o_request.has_content()){var s_content_as_string=o_request.get_content_as_string();if(!tsk_string_is_null_or_empty(s_content_as_string)){o_dialog.o_msession_mgr.processContent("INFO",o_request.get_content_type(),s_content_as_string,s_content_as_string.length)}}return i_ret}function x0000_Any_2_Any_X_iMESSAGE(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var i_ret=o_dialog.send_response(o_request,200,"OK");o_dialog.signal_invite(tsip_event_invite_type_e.DIALOG_REQUEST_INCOMING,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);if(o_dialog.o_msession_mgr&&o_request.has_content()){var s_content_as_string=o_request.get_content_as_string();if(!tsk_string_is_null_or_empty(s_content_as_string)){o_dialog.o_msession_mgr.processContent("MESSAGE",o_request.get_content_type(),s_content_as_string,s_content_as_string.length)}}return i_ret}function x0000_Any_2_Any_X_i422_INVITE(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i422_INVITE");var o_dialog=ao_args[0];var o_response=ao_args[1];var o_hdr_Min_SE;if(o_hdr_Min_SE=o_response.get_header(tsip_header_type_e.Min_SE)){tsk_utils_log_info("get min_se timer "+o_hdr_Min_SE);o_dialog.stimers.i_minse=o_hdr_Min_SE.i_value;o_dialog.stimers.i_timeout=o_hdr_Min_SE.i_value}return o_dialog.send_offer(o_response.is_response_to_invite(),false)}function x0000_Any_2_Any_X_i491_INVITE(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i491_INVITE");var o_dialog=ao_args[0];var o_response=ao_args[1];if(o_dialog.o_timerReSendInvite){clearTimeout(o_dialog.o_timerReSendInvite)}o_dialog.t_retry=Math.random()*(4-2.1)+2.1;tsk_utils_log_info("x0000_Any_2_Any_X_i491_INVITE t_retry: "+o_dialog.t_retry);o_dialog.o_timerReSendInvite=setTimeout(function(){__tsip_dialog_invite_media_callback(o_dialog,tmedia_session_events_e.GET_LO_SUCCESS,o_dialog.t_retry)},o_dialog.t_retry*1e3);return 0}function x0000_Any_2_Any_X_i401_407_INVITEorUPDATEorINFOorMESSAGE(ao_args){tsk_utils_log_info("x0000_Any_2_Any_X_i401_407_INVITEorUPDATEorINFOorMESSAGE");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;if(i_ret=o_dialog.update_with_response(o_response)){o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),o_response.get_response_phrase(),o_response);return i_ret}if(o_response.is_response_to_info()){return x0000_Any_2_Any_X_oINFO(ao_args)}else if(o_response.is_response_to_message()){return x0000_Any_2_Any_X_oMESSAGE(ao_args)}else{return o_dialog.send_offer(o_response.is_response_to_invite(),false)}}function x0000_Any_2_Any_X_i2xxINVITEorUPDATE(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;if(o_dialog.o_last_i200ok&&o_dialog.o_last_i200ok.o_hdr_CSeq.i_seq==o_response.o_hdr_CSeq.i_seq){if(o_response.is_response_to_invite()){return o_dialog.send_ack(o_response)}}o_dialog.o_last_i200ok=o_response;if(o_dialog.e_state!=tsip_dialog_state_e.ESTABLISHED){if(i_ret=o_dialog.update_with_response(o_response)){return i_ret}}if(o_dialog.stimers.i_timeout){tsk_utils_log_info("<<------------Refresh Session Timer----------->>");o_dialog.stimers_handle(o_response)}var b_is_offer=o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.has_lo();if(i_ret=o_dialog.process_ro(o_response,false)){return i_ret}i_ret=o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),o_response.get_response_phrase(),o_response);if(o_response.is_response_to_invite()){i_ret=o_dialog.send_ack(o_response)}var b_support_ice_lite=false;var s_value=SipMgr.getConfFromLocalStorage("ice_lite");var o_session=o_dialog.o_msession_mgr.ao_sessions[0];if(s_value=="true"&&o_session&&o_session.o_ice.b_ice_lite_remote){b_support_ice_lite=true}if(!b_support_ice_lite&&SipMgr.bSendInfoWithCandidate()){tsk_utils_log_info("re-invite trickle ice, candidates length: "+o_dialog.o_trickle_ice.length);var s_content=null;if(o_dialog.o_trickle_ice.length>0){for(var i=0;i<o_dialog.o_trickle_ice.length;i++){var length=o_dialog.o_trickle_ice[i].s_contents.length;tsk_utils_log_info("send ice info, content: \n"+s_content);if(s_content){s_content=s_content+o_dialog.o_trickle_ice[i].s_contents[length-1]}else{s_content=o_dialog.o_trickle_ice[i].s_contents[length-1]}}}send_info_for_trickle_ice(o_dialog,s_content);if(o_dialog.b_ready_send_info==false){tsk_utils_log_warn("set b_ready_send_info to true");o_dialog.b_ready_send_info=true}}return i_ret}function x0000_Any_2_Any_X_iPRACK(ao_args){tsk_utils_log_error("Not implemented");return 0}function x0000_Any_2_Any_X_iOPTIONS(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];o_dialog.signal_invite(tsip_event_invite_type_e.DIALOG_REQUEST_INCOMING,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);return o_dialog.send_response(o_request,200,"OK",false)}function x0000_Any_2_Trying_X_oBYE(ao_args){var o_dialog=ao_args[0];var i_ret;o_dialog.signal(tsip_event_code_e.DIALOG_TERMINATING,"Call terminating...");if((i_ret=o_dialog.send_bye())==0){if(o_dialog.o_msession_mgr&&o_dialog.o_msession_mgr.is_started()){i_ret=o_dialog.o_msession_mgr.stop()}}return i_ret}function x0000_Any_2_Terminated_X_iBYE(ao_args){tsk_utils_log_info("=== x0000_Any_2_Terminated_X_iBYE ===");var o_dialog=ao_args[0];var o_request=ao_args[1];o_dialog.signal(tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);o_dialog.set_last_error(tsip_event_code_e.DIALOG_TERMINATED,"Call terminated");return o_dialog.send_response(o_request,200,"OK",false)}function x0000_Any_2_Trying_X_shutdown(ao_args){var o_dialog=ao_args[0];o_dialog.timer_schedule("invite","Shutdown");o_dialog.signal(tsip_event_code_e.DIALOG_TERMINATING,"Call terminating...");if(o_dialog.e_state==tsip_dialog_state_e.ESTABLISHED){return o_dialog.send_bye()}else if(o_dialog.e_state==tsip_dialog_state_e.EARLY){return o_dialog.send_cancel()}}function x9996_Any_2_Any_X_VideoOnRequestTimerout(ao_args){tsk_utils_log_error("x9996_Any_2_Any_X_VideoOnRequestTimerout");var o_dialog=ao_args[0];var o_request=ao_args[1];if(o_dialog==null){tsk_utils_log_error("dialog is null");return-1}o_dialog.o_msession_mgr.close_video();o_dialog.signal(tsip_event_code_e.DIALOG_VIDEO_ON_TIMEOUT,"Video On Request Time Out");if(o_request==null||o_request.is_invite()==false){tsk_utils_log_error("o_request is null or o_request is not video_on invite");return-1}tsk_utils_log_error(" length : "+inviteQueue.length);if(inviteQueue.length>0)inviteQueue.length=0;o_dialog.send_response(o_request,200,"OK",true);return 0}function x9997_Any_2_Any_X_LoSdpRequestTimeout(ao_args){tsk_utils_log_error("x9997_Any_2_Any_X_LoSdpRequestTimeout");var o_dialog=ao_args[0];o_dialog.signal(tsip_event_code_e.DIALOG_GET_LO_TIMEOUT,"Get Local SDP Time Out");return 0}function x9998_Any_2_Connected_X_SendRequestFailed(ao_args){var o_dialog=ao_args[0];var o_message=ao_args[1];o_dialog.set_last_error(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error");o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error",o_message);return 0}function x9998_Any_2_Connected_X_timeout(ao_args){var o_dialog=ao_args[0];var o_message=ao_args[1];o_dialog.set_last_error(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error");o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error",o_message);tsk_utils_log_warn("request type: "+o_message.line.request.e_type.s_name);if(o_message.line.request.e_type.s_name==="INFO"||o_message.line.request.e_type.s_name==="MESSAGE"){return 0}if(o_dialog.e_state==tsip_dialog_state_e.ESTABLISHED){return o_dialog.send_bye()}else if(o_dialog.e_state==tsip_dialog_state_e.EARLY){return o_dialog.send_cancel()}return 0}function x9998_Any_2_Terminated_X_transportError(ao_args){tsk_utils_log_error("x9998_Any_2_Terminated_X_transportError");var o_dialog=ao_args[0];var o_message=ao_args[1];o_dialog.set_last_error(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error");o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error",o_message);if(o_dialog.e_state==tsip_dialog_state_e.ESTABLISHED){return o_dialog.send_bye()}else if(o_dialog.e_state==tsip_dialog_state_e.EARLY){return o_dialog.send_cancel()}}function x9999_Any_2_Terminated_X_Error(ao_args){var o_dialog=ao_args[0];return 0}function x9998_Any_2_Terminated_X_transportError_iceRestart(ao_args){tsk_utils_log_error("x9998_Any_2_Terminated_X_transportError_iceRestart, send invite again");var o_dialog=ao_args[0];if(o_dialog){var session=o_dialog.o_msession_mgr.ao_sessions[0];session.iceRestartInviteRetransmission();return 0}else{tsk_utils_log_error("x9998_Any_2_Terminated_X_transportError_iceRestart, no dialog");return-1}}function __tsip_dialog_invite_onterm(o_self){tsk_utils_log_info("=== INVITE Dialog terminated ===");o_self.timer_cancel("100Rel");o_self.timer_cancel("Session");o_self.timer_cancel("Shutdown");o_self.timer_cancel("LoSdpRequest");o_self.timer_cancel("VideoOnRequest");if(o_self.__rtp_timer)clearInterval(o_self.__rtp_timer);if(o_self.o_msession_mgr){i_ret=o_self.o_msession_mgr.stop()}o_self.signal(tsip_event_code_e.DIALOG_TERMINATED,o_self.last_error.s_phrase?o_self.last_error.s_phrase:"Call terminated",o_self.last_error.o_message);return o_self.deinit()}tsip_dialog_invite.prototype.init_client=function(){this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.STARTED,tsip_dialog_invite_actions_e.O_INVITE,tsip_dialog_invite_states_e.OUTGOING,c0000_Started_2_Outgoing_X_oINVITE,"c0000_Started_2_Outgoing_X_oINVITE"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.OUTGOING,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2invite,tsip_dialog_invite_states_e.CONNECTED,c0000_Outgoing_2_Connected_X_i2xxINVITE,"c0000_Outgoing_2_Connected_X_i2xxINVITE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.OUTGOING,tsip_dialog_invite_actions_e.I_INVITE,tsip_dialog_invite_states_e.OUTGOING,c0000_Outgoing_2_Outgoing_X_iINVITEorUPDATE,"c0000_Outgoing_2_Outgoing_X_iINVITEorUPDATE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.OUTGOING,tsip_dialog_invite_actions_e.I_UPDATE,tsip_dialog_invite_states_e.OUTGOING,c0000_Outgoing_2_Outgoing_X_iINVITEorUPDATE,"c0000_Outgoing_2_Outgoing_X_iINVITEorUPDATE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.OUTGOING,tsip_dialog_invite_actions_e.O_CANCEL,tsip_dialog_invite_states_e.CANCELLING,c0000_Outgoing_2_Cancelling_X_oCANCEL,"c0000_Outgoing_2_Cancelling_X_oCANCEL"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.CANCELLING,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2cancel,tsip_dialog_invite_states_e.TERMINATED,null,"c0000_Cancelling_2_Terminated_X_i300_to_699"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.CANCELLING,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2cancel,tsip_dialog_invite_states_e.CANCELLING,null,"c0000_Cancelling_2_Cancelling_X_i2xx"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.CANCELLING,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2invite,tsip_dialog_invite_states_e.TERMINATED,c0000_Cancelling_2_Terminated_X_i300_to_699,"c0000_Cancelling_2_Terminated_X_i300_to_699"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.OUTGOING,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2invite,tsip_dialog_invite_states_e.TERMINATED,c0000_Outgoing_2_Terminated_X_i300_to_i699INVITE,"c0000_Outgoing_2_Terminated_X_i300_to_i699INVITE"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2invite,tsip_dialog_invite_states_e.TERMINATED,c0000_Connected_2_Terminated_X_i300_to_i699INVITE,"c0000_Connected_2_Terminated_X_i300_to_i699INVITE"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2update,tsip_dialog_invite_states_e.CONNECTED,c0000_Connected_2_Terminated_X_i300_to_i699INVITE,"c0000_Connected_2_Terminated_X_i300_to_i699UPUPDATA"))};function c0000_Started_2_Outgoing_X_oINVITE(ao_args){tsk_utils_log_info("prepare for sending invite");var i_ret;var o_dialog=ao_args[0];var o_action=ao_args[2];if(!o_dialog.o_msession_mgr){o_dialog.o_msession_mgr=o_dialog.new_msession_mgr(tmedia_type_e.AUDIO_VIDEO,o_dialog.get_stack().network.s_local_ip,false,true)}var mgr=o_dialog.o_msession_mgr;if(mgr)mgr.set(mgr.SetParamSession(mgr.e_type,"video-common",o_dialog.get_stack().media.e_video_src));o_dialog.b_is_client=true;o_dialog.b_is_transf=o_dialog.get_session().i_id_parent!=tsip_session.prototype.__i_session_id_invalid;o_dialog.set_action_curr(o_action);o_dialog.get_session().media.e_type=o_action.media.e_type;if(o_action.media.ao_params.length>0){tsk_utils_log_error("Not implemented");return-1}if(o_dialog.get_session().media.timers.i_timeout){o_dialog.stimers.i_timeout=o_dialog.get_session().media.timers.i_timeout;o_dialog.stimers.s_refresher=o_dialog.get_session().media.timers.s_refresher;o_dialog.stimers.b_is_refresher=tsk_string_equals(o_dialog.stimers.s_refresher,"uac");o_dialog.supported.b_timer=true}i_ret=o_dialog.send_invite(false);o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTING,"Call in progress...");return i_ret}function c0000_Outgoing_2_Outgoing_X_iINVITEorUPDATE(ao_args){tsk_utils_log_error("Not implemented");return 0}function c0000_Outgoing_2_Connected_X_i2xxINVITE(ao_args){var o_dialog=ao_args[0];var o_r2xx=ao_args[1];var i_ret=0;if(o_dialog.o_last_i200ok&&o_dialog.o_last_i200ok.o_hdr_CSeq.i_seq==o_r2xx.o_hdr_CSeq.i_seq){if(o_r2xx.is_response_to_invite()){return o_dialog.send_ack(o_r2xx)}}if(i_ret=o_dialog.update_with_response(o_r2xx)){return ret}var b_is_offer=o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.has_lo();if(i_ret=o_dialog.process_ro(o_r2xx,b_is_offer)){return i_ret}else{i_ret=o_dialog.send_ack(o_r2xx)}var b_support_ice_lite=false;var s_value=SipMgr.getConfFromLocalStorage("ice_lite");var o_session=o_dialog.o_msession_mgr.ao_sessions[0];if(s_value=="true"&&o_session&&o_session.o_ice.b_ice_lite_remote){b_support_ice_lite=true}if(!b_support_ice_lite){tsk_utils_log_warn("invite trickle ice, candidates length: "+o_dialog.o_trickle_ice.length);var s_content=null;if(o_dialog.o_trickle_ice.length>0){for(var i=0;i<o_dialog.o_trickle_ice.length;i++){var length=o_dialog.o_trickle_ice[i].s_contents.length;if(s_content){s_content=s_content+o_dialog.o_trickle_ice[i].s_contents[length-1]}else{s_content=o_dialog.o_trickle_ice[i].s_contents[length-1]}}}if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"){send_info_for_trickle_ice(o_dialog,s_content)}if(o_dialog.b_ready_send_info==false){o_dialog.b_ready_send_info=true}}o_dialog.b_support_update=o_r2xx.is_allowed("UPDATE");tsk_utils_log_info("<< b_support_update:"+o_dialog.b_support_update);tsk_utils_log_info("<< b_support_timer:"+o_r2xx.is_supported("timer"));if(o_dialog.stimers.i_timeout&&o_r2xx.is_supported("timer")){o_dialog.stimers_handle(o_r2xx)}o_dialog.signal_invite(tsip_event_invite_type_e.M_EARLY_MEDIA,o_r2xx.get_response_code(),o_r2xx.get_response_phrase(),o_r2xx);o_dialog.o_msession_mgr.data.X_IPVT_Client_Info=o_r2xx.get_x_gs_speical_head("X-IPVT-Conf-Info");o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTED,"In Call",o_dialog.o_msession_mgr.data);if(o_dialog.o_msession_mgr&&o_dialog.__rtp_timer==null){if(adapter.browserDetails.browser=="safari"&&adapter.browserDetails.isWebRTCPluginInstalled==true)o_dialog.__rtp_timer=setInterval(function(){o_dialog.o_msession_mgr.getRtpInfo()},4e3);else o_dialog.__rtp_timer=setInterval(function(){o_dialog.o_msession_mgr.getRtpInfo()},1e3)}if(o_dialog.b_is_transf){i_ret=o_dialog.notify_parent(o_r2xx);o_dialog.b_is_transf=false}o_dialog.o_last_i200ok=o_r2xx;return i_ret}function c0000_Outgoing_2_Terminated_X_i300_to_i699INVITE(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);i_ret=o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),o_response.get_response_phrase(),o_response);if(o_dialog.b_is_transf){i_ret=o_dialog.notify_parent(o_response);o_dialog.b_is_transf=false}return i_ret}function c0000_Connected_2_Terminated_X_i300_to_i699INVITE(ao_args){tsk_utils_log_info("c0000_Connected_2_Terminated_X_i300_to_i699INVITE");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=0;o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);i_ret=o_dialog.signal_invite(tsip_event_invite_type_e.I_AO_REQUEST,o_response.get_response_code(),o_response.get_response_phrase(),o_response);return i_ret}function c0000_Outgoing_2_Cancelling_X_oCANCEL(ao_args){var o_dialog=ao_args[0];if(o_dialog.o_msession_mgr){i_ret=o_dialog.o_msession_mgr.stop()}o_dialog.signal(tsip_event_code_e.DIALOG_TERMINATING,"Call terminating...");return o_dialog.send_cancel()}function c0000_Cancelling_2_Terminated_X_i300_to_699(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);return 0}var x0400_Connected_2_Connected_X_fREFER=null;tsip_dialog_invite.prototype.init_ect=function(){this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.O_ECT,tsip_dialog_invite_states_e.O_ECT_INPROGRESS,x0400_Connected_2_oECTing_X_oECT,"x0400_Connected_2_oECTing_X_oECT"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.O_ECT_INPROGRESS,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2refer,tsip_dialog_invite_states_e.O_ECT_INPROGRESS,x0400_oECTing_2_oECTing_X_i2xx,"x0400_oECTing_2_oECTing_X_i2xx"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.O_ECT_INPROGRESS,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2refer,tsip_dialog_invite_states_e.CONNECTED,x0400_oECTing_2_Connected_X_i3456,"x0400_ECTing_2_Connected_X_i36"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.O_ECT_INPROGRESS,tsip_dialog_invite_actions_e.I_NOTIFY,__tsip_dialog_invite_cond_is_1xx_notify,tsip_dialog_invite_states_e.O_ECT_INPROGRESS,x0400_oECTing_2_oECTing_X_iNOTIFY,"x0400_oECTing_2_oECTing_X_iNOTIFY"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.O_ECT_INPROGRESS,tsip_dialog_invite_actions_e.I_NOTIFY,__tsip_dialog_invite_cond_is_23456_notify,tsip_dialog_invite_states_e.CONNECTED,x0400_oECTing_2_Connected_X_iNOTIFY,"x0400_oECTing_2_Connected_X_iNOTIFY"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.I_REFER,__tsip_dialog_invite_cond_is_f_refer,tsip_dialog_invite_states_e.CONNECTED,x0400_Connected_2_Connected_X_fREFER,"x0400_Connected_2_Connected_X_fREFER"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.I_REFER,tsip_dialog_invite_states_e.I_ECT_REQUESTED,x0400_Connected_2_iECTreq_X_iREFER,"x0400_Connected_2_iECTreq_X_iREFER"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.I_ECT_REQUESTED,tsip_dialog_invite_actions_e.I_ECT_REJECT,tsip_dialog_invite_states_e.CONNECTED,x0400_iECTreq_2_Connected_X_reject,"x0400_iECTreq_2_Connected_X_reject"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.I_ECT_REQUESTED,tsip_dialog_invite_actions_e.I_ECT_ACCEPT,tsip_dialog_invite_states_e.I_ECT_INPROGRESS,x0400_iECTreq_2_iECTing_X_accept,"x0400_iECTreq_2_iECTing_X_accept"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.I_ECT_INPROGRESS,tsip_dialog_invite_actions_e.I_ECT_LNOTIFY,__tsip_dialog_invite_cond_is_1xx_f_notify,tsip_dialog_invite_states_e.I_ECT_INPROGRESS,x0400_iECTing_2_iECTing_X_1xxfNOTIFY,"x0400_iECTing_2_iECTing_X_1xxfNOTIFY"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.I_ECT_INPROGRESS,tsip_dialog_invite_actions_e.I_ECT_LNOTIFY,__tsip_dialog_invite_cond_is_23456_f_notify,tsip_dialog_invite_states_e.CONNECTED,x0400_iECTing_2_Connected_X_23456fNOTIFY,"x0400_iECTing_2_Connected_X_23456fNOTIFY"))};tsip_dialog_invite.prototype.ect_send_notify=function(i_code,s_phrase){var o_notify;var i_ret=-1;if(o_notify=this.request_new("NOTIFY")){var s_sipfrag=tsk_string_format("{0} {1} {2}\r\n",tsip_message.prototype.__s_version_default,i_code,s_phrase);o_notify.add_content(s_sipfrag,"message/sipfrag");i_ret=this.request_send(o_notify);if(i_ret==0){this.signal_invite(tsip_event_invite_type_e.O_ECT_NOTIFY,i_code,s_phrase,o_notify)}}else{tsk_utils_log_error("Failed to create request")}return i_ret};tsip_dialog_invite.prototype.ect_send_refer=function(s_to){var i_ret=0;var o_refer;var o_toUri;if(!s_to){tsk_utils_log_error("Invalid parameter");return-1}if(!(o_toUri=tsip_uri.prototype.Parse(s_to))){tsk_utils_log_error("Failed to parse "+s_to);return-1}if(o_refer=this.request_new("REFER")){var o_hdr_Referred_By=new tsip_header_Referred_By(this.get_stack().identity.o_uri_impu);o_hdr_Referred_By.add_param("cid",tsk_string_random(11));o_refer.add_headers(new tsip_header_Refer_To(o_toUri),o_hdr_Referred_By,new tsip_header_Refer_Sub(this.supported.b_refer_sub));if(this.supported.b_norefsub){o_refer.add_headers(new tsip_header_Supported("norefersub"))}i_ret=this.request_send(o_refer)}return i_ret};function x0400_Connected_2_oECTing_X_oECT(ao_args){var i_ret;var o_dialog=ao_args[0];var o_action=ao_args[2];i_ret=o_dialog.ect_send_refer(o_action.ect.s_to);if(i_ret==0){o_dialog.signal_invite(tsip_event_invite_type_e.O_ECT_TRYING,tsip_event_code_e.DIALOG_REQUEST_SENT,"Call Transfer Initiated",null)}return i_ret}function x0400_oECTing_2_oECTing_X_i2xx(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var o_hdr_Refer_Sub;o_hdr_Refer_Sub=o_response.get_header(tsip_header_type_e.Refer_Sub);if(o_hdr_Refer_Sub){this.supported.b_refer_sub=o_hdr_Refer_Sub.b_sub}if(o_response.is_required("norefersub")){this.require.b_norefsub=true}o_dialog.signal_invite(tsip_event_invite_type_e.O_ECT_ACCEPTED,o_response.get_response_code(),o_response.get_response_phrase(),o_response);return 0}function x0400_oECTing_2_Connected_X_i3456(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];o_dialog.signal_invite(tsip_event_invite_type_e.O_ECT_FAILED,o_response.get_response_code(),o_response.get_response_phrase(),o_response);return 0}function x0400_oECTing_2_oECTing_X_iNOTIFY(ao_args){var o_dialog=ao_args[0];var o_notify=ao_args[1];var o_sipfrag;if(o_sipfrag=__tsip_dialog_invite_get_sip_frag_msg(o_notify)){var i_ret=o_dialog.send_response(o_notify,200,"OK",false);o_dialog.signal_invite(tsip_event_invite_type_e.O_ECT_NOTIFY,o_sipfrag.get_response_code(),o_sipfrag.get_response_phrase(),o_sipfrag);return i_ret}return 0}var x0400_oECTing_2_Connected_X_iNOTIFY=x0400_oECTing_2_oECTing_X_iNOTIFY;function x0400_Connected_2_iECTreq_X_iREFER(ao_args){var o_dialog=ao_args[0];o_dialog.o_last_iRefer=ao_args[1];o_dialog.send_response(o_dialog.o_last_iRefer,100,"Asking for Transfer",false);o_dialog.signal_invite(tsip_event_invite_type_e.I_ECT_REQUESTED,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_dialog.o_last_iRefer);return 0}function x0400_iECTreq_2_Connected_X_reject(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];var i_code=o_action.line_resp.i_code>=300?o_action.line_resp.i_code:603;var s_phrase=o_action.line_resp.s_phrase?o_action.line_resp.s_phrase:"Decline";var s_reason=tsk_string_format('SIP; cause={0}; text="{1}"',i_code,s_phrase);return o_dialog.send_error(o_dialog.o_last_iRefer,i_code,s_phrase,s_reason)}function x0400_iECTreq_2_iECTing_X_accept(ao_args){var i_ret;var o_dialog=ao_args[0];var o_action=ao_args[2];i_ret=o_dialog.send_response(o_dialog.o_last_iRefer,202,"Transfering...",false);var o_hdr_Refer_To=o_dialog.o_last_iRefer.get_header(tsip_header_type_e.Refer_To);this.o_ss_transf=new tsip_session_invite(o_dialog.get_stack(),tsip_session.prototype.SetToStr(o_hdr_Refer_To.o_uri.tostring(false,false)),tsip_session.prototype.SetCaps("+sip.ice"));this.o_ss_transf.media.e_type=o_dialog.get_session().media.e_type;this.o_ss_transf.i_id_parent=o_dialog.get_session().get_id();tsip_event.prototype.Signal(tsip_event_invite_type_e.I_ECT_NEW_CALL,this.o_ss_transf,tsip_event_code_e.DIALOG_REQUEST_OUTGOING,"ECTing",o_dialog.o_last_iRefer);return this.o_ss_transf.call(this.o_ss_transf.media.e_type)}function x0400_iECTing_2_iECTing_X_1xxfNOTIFY(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];return o_dialog.ect_send_notify(o_response.get_response_code(),o_response.get_response_phrase());
}function x0400_iECTing_2_Connected_X_23456fNOTIFY(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var i_code=o_response.get_response_code();o_dialog.ect_send_notify(i_code,o_response.get_response_phrase());if(i_code>=200&&i_code<=299){o_dialog.signal_invite(tsip_event_invite_type_e.I_ECT_COMPLETED,o_response.get_response_code(),o_response.get_response_phrase(),o_dialog.o_last_iRefer);return o_dialog.send_bye()}else{o_dialog.signal_invite(tsip_event_invite_type_e.I_ECT_FAILED,o_response.get_response_code(),o_response.get_response_phrase(),o_dialog.o_last_iRefer);return 0}}function __tsip_dialog_invite_get_sip_frag_respcode(o_notify){var o_sipfrag=__tsip_dialog_invite_get_sip_frag_msg(o_notify);return o_sipfrag?o_sipfrag.get_response_code():0}function __tsip_dialog_invite_get_sip_frag_msg(o_notify){if(!o_notify){tsk_utils_log_error("Invalid parameter");return null}var o_sipfrag;if(o_notify.has_content()&&tsk_string_iequals(o_notify.get_content_type(),"message/sipfrag")){var s_content=o_notify.get_content_as_string();if(s_content){if(s_content.lastIndexOf("\r\n")!=s_content.length-2){s_content+="\r\n"}s_content+="\r\n";var o_ragel_state=tsk_ragel_state_create();tsk_ragel_state_init_str(o_ragel_state,s_content);o_sipfrag=tsip_message.prototype.Parse(o_ragel_state,false);if(o_sipfrag&&!o_sipfrag.is_response()){tsk_utils_log_error("SipFrag doesn't contain response");return null}}}return o_sipfrag}tsip_dialog_invite.prototype.init_hold=function(){this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.O_HOLD,tsip_dialog_invite_states_e.HOLDING,x0100_Connected_2_Holding_X_oHold,"x0100_Connected_2_Holding_X_oHold"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.HOLDING,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2invite_or_update,tsip_dialog_invite_states_e.CONNECTED,x0101_Holding_2_Connected_X_ixxx,"x0101_Holding_2_Connected_X_ixxx"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.HOLDING,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2invite_or_update,tsip_dialog_invite_states_e.CONNECTED,x0101_Holding_2_Connected_X_ixxx,"x0101_Holding_2_Connected_X_ixxx"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.CONNECTED,tsip_dialog_invite_actions_e.O_RESUME,tsip_dialog_invite_states_e.RESUMING,x0102_Connected_2_Resuming_X_oResume,"x0102_Connected_2_Resuming_X_oResume"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.RESUMING,tsip_dialog_invite_actions_e.I_2XX,__tsip_dialog_invite_cond_is_resp2invite_or_update,tsip_dialog_invite_states_e.CONNECTED,x0103_Resuming_2_Connected_X_ixxx,"x0103_Resuming_2_Connected_X_ixxx"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.RESUMING,tsip_dialog_invite_actions_e.I_300_to_699,__tsip_dialog_invite_cond_is_resp2invite_or_update,tsip_dialog_invite_states_e.CONNECTED,x0103_Resuming_2_Connected_X_ixxx,"x0103_Resuming_2_Connected_X_ixxx"))};tsip_dialog_invite.prototype.hold_handle=function(o_request){if(!o_request||!this.o_msession_mgr||!o_request.is_invite()&&!o_request.is_update()){tsk_utils_log_error("Invalid parameter");return-1}var b_remote_hold;var b_bodiless_invite;var i_ret=0;b_remote_hold=this.o_msession_mgr.is_held(this.o_msession_mgr.e_type,false);b_bodiless_invite=!o_request.has_content()&&o_request.is_invite();if(b_bodiless_invite&&b_remote_hold){if((i_ret=this.o_msession_mgr.resume(this.o_msession_mgr.e_type,false))==0){b_remote_hold=false}}if(i_ret==0&&b_remote_hold!=this.hold.b_remote){this.hold.b_remote=b_remote_hold;this.signal_invite(this.hold.b_remote?tsip_event_invite_type_e.M_REMOTE_HOLD:tsip_event_invite_type_e.M_REMOTE_RESUME,tsip_event_invite_type_e.DIALOG_REQUEST_INCOMING,"Hold/Resume state changed",o_request)}return i_ret};function x0100_Connected_2_Holding_X_oHold(ao_args){var i_ret;var o_dialog=ao_args[0];var o_action=ao_args[2];if(!o_dialog.o_msession_mgr){tsk_utils_log_warn("Media Session manager is Null");return 0}i_ret=o_dialog.o_msession_mgr.hold(o_action.media.e_type);o_dialog.set_action_curr(o_action);if(iret=o_dialog.send_invite(false)){}return 0}function x0101_Holding_2_Connected_X_ixxx(ao_args){var i_ret;var o_dialog=ao_args[0];var o_response=ao_args[1];o_dialog.set_action_curr(null);if(i_ret=o_dialog.process_ro(o_response)){return i_ret}else if(o_response.is_response_to_invite()){i_ret=o_dialog.send_ack(o_response)}if(o_response.is_2xx()){o_dialog.signal_invite(tsip_event_invite_type_e.M_LOCAL_HOLD_OK,o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.hold.b_local=true}else{o_dialog.signal_invite(tsip_event_invite_type_e.M_LOCAL_HOLD_NOK,o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.hold.b_local=false}return i_ret}function x0102_Connected_2_Resuming_X_oResume(ao_args){var i_ret;var o_dialog=ao_args[0];var o_action=ao_args[2];if(!o_dialog.hold.b_local){tsk_utils_log_warn("Not on hold state");return 0}if(!o_dialog.o_msession_mgr){tsk_utils_log_warn("Media Session manager is Null");return 0}i_ret=o_dialog.o_msession_mgr.resume(o_action.media.e_type,true);i_ret=o_dialog.o_msession_mgr.resume(o_action.media.e_type,false);o_dialog.set_action_curr(o_action);if(i_ret=o_dialog.send_invite(false)){}return 0}function x0103_Resuming_2_Connected_X_ixxx(ao_args){var i_ret;var o_dialog=ao_args[0];var o_response=ao_args[1];o_dialog.set_action_curr(null);if(i_ret=o_dialog.process_ro(o_response)){return i_ret}else if(o_response.is_response_to_invite()){i_ret=o_dialog.send_ack(o_response)}if(o_response.is_2xx()){o_dialog.signal_invite(tsip_event_invite_type_e.M_LOCAL_RESUME_OK,o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.hold.b_local=false}else{o_dialog.signal_invite(tsip_event_invite_type_e.M_LOCAL_RESUME_NOK,o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.hold.b_local=true}return i_ret}tsip_dialog_invite.prototype.__ao_supported_options=["100rel","timer"];tsip_dialog_invite.prototype.init_server=function(){this.o_fsm.set(tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.STARTED,tsip_dialog_invite_actions_e.I_INVITE,__tsip_dialog_invite_cond_is_bad_extension,tsip_dialog_invite_states_e.TERMINATED,s0000_Started_2_Terminated_X_iINVITE,"s0000_Started_2_Terminated_X_iINVITE"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.STARTED,tsip_dialog_invite_actions_e.I_INVITE,__tsip_dialog_invite_cond_is_bad_content,tsip_dialog_invite_states_e.TERMINATED,s0000_Started_2_Terminated_X_iINVITE,"s0000_Started_2_Terminated_X_iINVITE"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.STARTED,tsip_dialog_invite_actions_e.I_INVITE,__tsip_dialog_invite_cond_is_toosmall,tsip_dialog_invite_states_e.STARTED,s0000_Started_2_Started_X_iINVITE,"s0000_Started_2_Started_X_iINVITE"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.STARTED,tsip_dialog_invite_actions_e.I_INVITE,__tsip_dialog_invite_cond_enable_100rel,tsip_dialog_invite_states_e.INPROGRESS,s0000_Started_2_InProgress_X_iINVITE,"s0000_Started_2_InProgress_X_iINVITE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.STARTED,tsip_dialog_invite_actions_e.I_INVITE,tsip_dialog_invite_states_e.RINGING,s0000_Started_2_Ringing_X_iINVITE,"s0000_Started_2_Ringing_X_iINVITE"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.INPROGRESS,tsip_dialog_invite_actions_e.I_PRACK,__tsip_dialog_invite_cond_prack_matched,tsip_dialog_invite_states_e.RINGING,s0000_InProgress_2_Ringing_X_iPRACK,"s0000_InProgress_2_Ringing_X_iPRACK"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.INPROGRESS,tsip_dialog_invite_actions_e.I_UPDATE,tsip_dialog_invite_states_e.INPROGRESS,s0000_InProgress_2_InProgress_X_iUPDATE,"s0000_InProgress_2_InProgress_X_iUPDATE"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.INPROGRESS,tsip_dialog_invite_actions_e.I_CANCEL,tsip_dialog_invite_states_e.TERMINATED,s0000_Inprogress_2_Terminated_X_iCANCEL,"s0000_Inprogress_2_Terminated_X_iCANCEL"),tsk_fsm_entry.prototype.Create(tsip_dialog_invite_states_e.RINGING,tsip_dialog_invite_actions_e.I_PRACK,__tsip_dialog_invite_cond_prack_matched,tsip_dialog_invite_states_e.RINGING,s0000_Ringing_2_Ringing_X_iPRACK,"s0000_Ringing_2_Ringing_X_iPRACK"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.RINGING,tsip_dialog_invite_actions_e.ACCEPT,tsip_dialog_invite_states_e.CONNECTED,s0000_Ringing_2_Connected_X_Accept,"s0000_Ringing_2_Connected_X_Accept"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.RINGING,tsip_dialog_invite_actions_e.REJECT,tsip_dialog_invite_states_e.TERMINATED,s0000_Ringing_2_Terminated_X_Reject,"s0000_Ringing_2_Terminated_X_Reject"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_invite_states_e.RINGING,tsip_dialog_invite_actions_e.I_CANCEL,tsip_dialog_invite_states_e.TERMINATED,s0000_Ringing_2_Terminated_X_iCANCEL,"s0000_Ringing_2_Terminated_X_iCANCEL"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_invite_actions_e.TIMER_100REL,tsk_fsm.prototype.__i_state_any,s0000_Any_2_Any_X_timer100rel,"s0000_Any_2_Any_X_timer100rel"))};function __tsip_dialog_invite_cond_is_bad_extension(o_dialog,o_message){var o_hdr_require;var i,j,k;for(i=0;o_hdr_require=o_message.get_header_at(tsip_header_type_e.Require,i);++i){var b_bad_extension=false;var s_option=null;for(k=0;k<o_hdr_require.as_options.length;++k){b_bad_extension=true;s_option=o_hdr_require.as_options[k];for(j=0;s_option&&j<tsip_dialog_invite.prototype.__ao_supported_options.length;++j){if(tsk_string_iequals(s_option,tsip_dialog_invite.prototype.__ao_supported_options[j])){b_bad_extension=false;break}}if(b_bad_extension){break}}if(b_bad_extension&&s_option){o_dialog.send_unsupported(o_message,s_option);return true}}return false}function __tsip_dialog_invite_cond_is_bad_content(o_dialog,o_message){var i_ret;var o_sdp_lo;var b_bodiless_INVITE=o_dialog.e_state==tsip_dialog_state_e.initial&&!o_message.has_content();var b_is_offer=o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.has_ro();if(i_ret=o_dialog.process_ro(o_message,b_is_offer)){i_ret=o_dialog.send_error(o_message,488,"Not Acceptable",'SIP; cause=488; text="Bad content"');return true}return false}function __tsip_dialog_invite_cond_is_toosmall(o_dialog,o_message){if(o_dialog.get_session().media.timers.i_timeout&&(o_message.is_supported("timer")||o_message.is_required("timer"))){var o_hdr_Session_Expires;if(o_hdr_Session_Expires=o_message.get_header(tsip_header_type_e.Session_Expires)){if(o_hdr_Session_Expires.i_delta_seconds<TSIP_SESSION_EXPIRES_MIN_VALUE){o_dialog.stimers.i_minse=TSIP_SESSION_EXPIRES_MIN_VALUE;o_dialog.send_response(o_message,422,"Session Interval Too Small",false);return true}else{var o_hdr_Min_SE;o_dialog.stimers.i_timeout=o_hdr_Session_Expires.i_delta_seconds;o_dialog.stimers.s_refresher=o_hdr_Session_Expires.b_refresher_uas?"uas":"uac";o_dialog.stimers.b_is_refresher=tsk_string_iequals(o_dialog.stimers.s_refresher,"uas");if(o_hdr_Min_SE=o_message.get_header(tsip_header_type_e.Min_SE)){o_dialog.stimers.i_minse=o_hdr_Min_SE.i_value}}}}return false}function __tsip_dialog_invite_cond_enable_100rel(o_dialog,o_message){return o_message.is_supported("100rel")&&o_dialog.supported.b_100rel||o_message.is_required("100rel")}function __tsip_dialog_invite_cond_prack_matched(o_dialog,o_message){var o_hdr_RAck;if(!o_dialog.o_last_o1xxrel){return false}if(o_hdr_RAck=o_message.get_header(tsip_header_type_e.RAck)){if(o_hdr_RAck.i_seq==o_dialog.i_rseq&&tsk_string_iequals(o_hdr_RAck.s_method,o_dialog.o_last_o1xxrel.o_hdr_CSeq.s_method)&&o_hdr_RAck.i_cseq==o_dialog.o_last_o1xxrel.o_hdr_CSeq.i_seq){o_dialog.i_rseq++;return true}else{tsk_utils_log_warn("Failed to match PRACK request")}}return false}function s0000_Started_2_Terminated_X_iINVITE(ao_args){return 0}function s0000_Started_2_Started_X_iINVITE(ao_args){var o_dialog=ao_args[0];o_dialog.b_is_client=false;return 0}function s0000_Started_2_InProgress_X_iINVITE(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];o_dialog.b_is_client=false;o_dialog.o_last_iInvite=o_request;o_dialog.b_support_update=o_request.is_allowed("UPDATE");o_dialog.update_with_invite(o_request);o_dialog.i_rseq=Math.floor(Math.random()*65535);o_dialog.require.b_100rel=true;return o_dialog.send_response(o_request,183,"Session in Progress",true)}function s0000_Started_2_Ringing_X_iINVITE(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var o_hdr_SessionExpires;o_dialog.b_is_client=false;o_dialog.o_last_iInvite=o_request;o_dialog.b_support_update=o_request.is_allowed("UPDATE");if(o_dialog.o_last_iInvite&&(o_dialog.o_last_iInvite.is_supported("100rel")||o_dialog.o_last_iInvite.is_required("100rel"))&&o_dialog.supported.b_100rel){o_dialog.require.b_100rel=true}if(o_dialog.get_session().media.timers.i_timeout){if(o_hdr_SessionExpires=o_request.get_header(tsip_header_type_e.Session_Expires)){o_dialog.stimers.timer.i_timeout=o_hdr_SessionExpires.i_delta_seconds;o_dialog.stimers.s_refresher=o_hdr_SessionExpires.s_refresher_uas?"uas":"uac";o_dialog.stimers.b_is_refresher=o_hdr_SessionExpires.s_refresher_uas;o_dialog.require.b_timer=true}}o_dialog.update_with_invite(o_request);o_dialog.send_response(o_request,180,"Ringing",false);o_dialog.signal_invite(tsip_event_invite_type_e.I_NEW_CALL,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Call",o_request);return 0}function s0000_InProgress_2_Ringing_X_iPRACK(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var i_ret;o_dialog.timer_cancel("100Rel");if((i_ret=o_dialog.send_response(o_request,200,"OK",false))==0){++o_dialog.i_rseq}if(o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.sdp.o_ro){if(o_request.has_content()){var b_is_offer=o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.has_ro();if(i_ret=o_dialog.process_ro(o_request,b_is_offer)){i_ret=o_dialog.send_error(o_dialog.o_last_iInvite,488,"Not Acceptable",'SIP; cause=488; text="Bad content"');return-4}}else{i_ret=o_dialog.send_error(o_dialog.o_last_iInvite,488,"Not Acceptable",'SIP; cause=488; text="Offer expected in the PRACK"');return-3}}i_ret=o_dialog.send_response(o_dialog.o_last_iInvite,180,"Ringing",false);o_dialog.signal_invite(tsip_event_invite_type_e.I_NEW_CALL,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Call",o_request);return i_ret}function s0000_InProgress_2_InProgress_X_iUPDATE(ao_args){tsk_utils_log_error("Not implemented");return 0}function s0000_Inprogress_2_Terminated_X_iCANCEL(ao_args){tsk_utils_log_error("Not implemented");return 0}function s0000_Ringing_2_Ringing_X_iPRACK(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var i_ret;if(!o_dialog.o_last_iInvite){return 0}o_dialog.timer_cancel("100Rel");i_ret=o_dialog.send_response(o_request,200,"OK",false);o_dialog.signal_invite(tsip_event_invite_type_e.I_REQUEST,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);return i_ret}function s0000_Ringing_2_Connected_X_Accept(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];var i_ret;o_dialog.e_state=tsip_dialog_state_e.ESTABLISHED;o_dialog.set_action_curr(o_action);if(o_dialog.o_msession_mgr&&!o_dialog.o_msession_mgr.is_started()&&(o_dialog.o_msession_mgr.has_lo()&&o_dialog.o_msession_mgr.has_ro())){i_ret=o_dialog.o_msession_mgr.start()}o_dialog.timer_cancel("100Rel");i_ret=o_dialog.send_response(o_dialog.o_last_iInvite,200,"OK",true);if(o_dialog.stimers.i_timeout){if(o_dialog.stimers.b_is_refresher){tsk_utils_log_error("Not implemented")}else{tsk_utils_log_error("Not implemented")}}o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTED,"In call");if(!o_dialog.o_msession_mgr.has_lo()){}return i_ret}function s0000_Ringing_2_Terminated_X_Reject(ao_args){var i_ret;var i_code;var s_phrase;var s_reason;var o_dialog=ao_args[0];var o_action=ao_args[2];o_dialog.set_action_curr(o_action);o_dialog.timer_cancel("100Rel");i_code=o_action&&o_action.line_resp.i_code>=300?o_action.line_resp.i_code:603;s_phrase=o_action&&o_action.line_resp.s_phrase?o_action.line_resp.s_phrase:"Decline";s_reason=tsk_string_format('SIP; cause={0}; text="{1}"',i_code,s_phrase);i_ret=o_dialog.send_error(o_dialog.o_last_iInvite,i_code,s_phrase,s_reason);o_dialog.set_last_error(i_code,"Call Rejected");return i_ret}function s0000_Ringing_2_Terminated_X_iCANCEL(ao_args){var o_dialog=ao_args[0];var o_request=ao_args[1];var o_response;var i_ret;if(o_response=o_dialog.response_new(200,"OK",o_request)){i_ret=o_dialog.get_stack().o_layer_transport.send(null,o_response)}i_ret=o_dialog.send_error(o_dialog.o_last_iInvite,487,"Request Cancelled",'SIP; cause=487; text="Request Cancelled"');o_dialog.set_last_error(487,"Request Cancelled");o_dialog.signal_invite(tsip_event_invite_type_e.I_REQUEST,tsip_event_code_e.DIALOG_REQUEST_INCOMING,"Incoming Request",o_request);return i_ret}function s0000_Any_2_Any_X_timer100rel(ao_args){var o_dialog=ao_args[0];var i_ret;if(!o_dialog.o_last_o1xxrel){return 0}if((o_dialog.i_timer100Rel<<=1)>=o_dialog.get_stack().o_timers.getA()<<6){tsk_utils_log_error("Sending reliable 1xx failed");return-2}if(i_ret=o_dialog.response_send(o_dialog.o_last_o1xxrel)){return i_ret}else{o_dialog.timer_schedule("invite","100Rel")}return i_ret}tsip_dialog_register.prototype=Object.create(tsip_dialog.prototype);tsip_dialog_register.prototype.__b_debug_state_machine=true;var __b_register=true;var tsip_dialog_register_actions_e={ACCEPT:tsip_action_type_e.ACCEPT,REJECT:tsip_action_type_e.REJECT,HANGUP:tsip_action_type_e.HANGUP,O_REGISTER:tsip_action_type_e.REGISTER,CANCEL:tsip_action_type_e.CANCEL,SHUTDOWN:tsip_action_type_e.SHUTDOWN,I_1XX:10001,I_2XX:10002,I_401_407_421_494:10003,I_423:10004,I_300_to_699:10005,I_REGISTER:2e4,SHUTDOWN_TIMEDOUT:3e4,TRANSPORT_ERROR:30001,ERROR:30002,TIMER_E:4e4};var tsip_dialog_register_states_e={STARTED:0,INPROGRESS:1,INCOMING:2,CONNECTED:3,TERMINATED:4};function tsip_dialog_register(o_session,s_call_id){tsip_dialog.call(this);this.o_last_iRegister=null;this.b_unregistering=false;this.b_is_server=false;this.o_timerRefresh=null;this.o_timerShutdown=null;this.i_timerShutdown=(tsip_dialog.prototype.__i_timer_shutdown<<1)/3;this.o_timerE=null;this.i_timerE=0;this.init(tsip_dialog_type_e.REGISTER,s_call_id,o_session,tsip_dialog_register_states_e.STARTED,tsip_dialog_register_states_e.TERMINATED);this.set_callback(__tsip_dialog_register_event_callback);this.o_fsm.set_debug_enabled(tsip_dialog_register.prototype.__b_debug_state_machine);this.o_fsm.set_onterm_callback(__tsip_dialog_register_onterm,this);this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.STARTED,tsip_dialog_register_actions_e.O_REGISTER,tsip_dialog_register_states_e.INPROGRESS,__tsip_dialog_register_Started_2_InProgress_X_oRegister,"tsip_dialog_register_Started_2_InProgress_X_oRegister"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.I_1XX,tsip_dialog_register_states_e.INPROGRESS,__tsip_dialog_register_InProgress_2_InProgress_X_1xx,"tsip_dialog_register_InProgress_2_InProgress_X_1xx"),tsk_fsm_entry.prototype.Create(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.I_2XX,__tsip_dialog_register_cond_client_unregistering,tsip_dialog_register_states_e.TERMINATED,__tsip_dialog_register_InProgress_2_Terminated_X_2xx,"tsip_dialog_register_InProgress_2_Terminated_X_2xx"),tsk_fsm_entry.prototype.Create(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.I_2XX,__tsip_dialog_register_cond_client_registering,tsip_dialog_register_states_e.CONNECTED,__tsip_dialog_register_InProgress_2_Connected_X_2xx,"tsip_dialog_register_InProgress_2_Connected_X_2xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.I_401_407_421_494,tsip_dialog_register_states_e.INPROGRESS,__tsip_dialog_register_InProgress_2_InProgress_X_401_407_421_494,"tsip_dialog_register_InProgress_2_InProgress_X_401_407_421_494"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.I_423,tsip_dialog_register_states_e.INPROGRESS,__tsip_dialog_register_InProgress_2_InProgress_X_423,"tsip_dialog_register_InProgress_2_InProgress_X_423"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.I_300_to_699,tsip_dialog_register_states_e.CONNECTED,__tsip_dialog_register_InProgress_2_Terminated_X_300_to_699,"tsip_dialog_register_InProgress_2_Terminated_X_300_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.CANCEL,tsip_dialog_register_states_e.TERMINATED,__tsip_dialog_register_InProgress_2_Terminated_X_cancel,"tsip_dialog_register_InProgress_2_Terminated_X_cancel"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.HANGUP,tsip_dialog_register_states_e.TERMINATED,null,"tsip_dialog_register_InProgress_2_Terminated_X_hangup"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.INPROGRESS,tsip_dialog_register_actions_e.SHUTDOWN,tsip_dialog_register_states_e.TERMINATED,null,"tsip_dialog_register_InProgress_2_Terminated_X_shutdown"),tsk_fsm_entry.prototype.CreateAlways(tsip_dialog_register_states_e.CONNECTED,tsip_dialog_register_actions_e.O_REGISTER,tsip_dialog_register_states_e.INPROGRESS,__tsip_dialog_register_Connected_2_InProgress_X_oRegister,"tsip_dialog_register_Connected_2_InProgress_X_oRegister"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.TIMER_E,tsip_dialog_register_states_e.CONNECTED,__tsip_dialog_register_any_2_any_X_timerE,"__tsip_dialog_register_any_2_any_X_timerE"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.HANGUP,__tsip_dialog_register_cond_not_silent_hangup,tsip_dialog_register_states_e.INPROGRESS,__tsip_dialog_register_Any_2_InProgress_X_hangup,"tsip_dialog_register_Any_2_InProgress_X_hangup"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.HANGUP,__tsip_dialog_register_cond_silent_hangup,tsip_dialog_register_states_e.TERMINATED,null,"tsip_dialog_register_Any_2_InProgress_X_silenthangup"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.SHUTDOWN,__tsip_dialog_register_cond_not_silent_shutdown,tsip_dialog_register_states_e.INPROGRESS,__tsip_dialog_register_Any_2_InProgress_X_shutdown,"tsip_dialog_register_Any_2_InProgress_X_shutdown"),tsk_fsm_entry.prototype.Create(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.SHUTDOWN,__tsip_dialog_register_cond_silent_shutdown,tsip_dialog_register_states_e.TERMINATED,null,"tsip_dialog_register_Any_2_InProgress_X_silentshutdown"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.SHUTDOWN_TIMEDOUT,tsip_dialog_register_states_e.TERMINATED,null,"tsip_dialog_register_shutdown_timedout"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.TRANSPORT_ERROR,tsip_dialog_register_states_e.TERMINATED,__tsip_dialog_register_Any_2_Terminated_X_transportError,"tsip_dialog_register_Any_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_dialog_register_actions_e.ERROR,tsip_dialog_register_states_e.CONNECTED,__tsip_dialog_register_Any_2_Connected_X_Error,"tsip_dialog_register_Any_2__X_Error"))}tsip_dialog_register.prototype.signal_register=function(e_register_type,i_code,s_phrase,o_message){var o_event=new tsip_event_register(this.get_session(),i_code,s_phrase,o_message,e_register_type);return o_event.signal()};tsip_dialog_register.prototype.send_register=function(b_initial){var o_request=null;var i_ret=-1;if(this.b_unregistering){this.i_expires=0}if(o_request=this.request_new("REGISTER")){if(this.e_state==tsip_dialog_state_e.INITIAL){o_request.add_header(new tsip_header_Supported("path"))}if(this.o_action_curr){tsip_dialog.prototype.ApplyAction(o_request,this.o_action_curr)}if((i_ret=this.request_send(o_request))==0){this.signal(tsip_event_code_e.DIALOG_REQUEST_SENT,tsk_string_format("{0}REGISTER request successfully sent",this.b_unregistering?"un":""))}else{this.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error")}}return i_ret};function __tsip_dialog_register_timer_callback(o_self,o_timer){var i_ret=-1;if(o_self){if(o_self.o_timerRefresh==o_timer){i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.O_REGISTER,null,null)}else if(o_self.o_timerShutdown==o_timer){i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.SHUTDOWN,null,null)}else if(o_self.o_timerE==o_timer){tsk_utils_log_info("__tsip_dialog_register_timer_callback, o_timer:"+o_timer);i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.TIMER_E,null,null)}}return i_ret}function __tsip_dialog_register_event_callback(o_self,e_type,o_message){var i_ret=-1;switch(e_type){case tsip_dialog_event_type_e.I_MSG:{if(o_message){if(o_message.is_response()){if(o_message.is_1xx()){i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.I_1XX,o_message,null)}else if(o_message.is_2xx()){i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.I_2XX,o_message,null)}else if(o_message.is_response_xxx(401)||o_message.is_response_xxx(407)||o_message.is_response_xxx(421)||o_message.is_response_xxx(494)){i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.I_401_407_421_494,o_message,null)}else if(o_message.is_response_xxx(423)){i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.I_423,o_message,null)}else{i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.I_300_to_699,o_message,null)}}else{if(o_message.is_register()){i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.I_REGISTER,o_message,null)}}}break}case tsip_dialog_event_type_e.CANCELED:{i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.CANCEL,o_message,null);break}case tsip_dialog_event_type_e.TERMINATED:case tsip_dialog_event_type_e.TIMEDOUT:case tsip_dialog_event_type_e.ERROR:case tsip_dialog_event_type_e.TRANSPORT_ERROR:{tsk_utils_log_info("=== TRANSPORT_ERROR ===");i_ret=o_self.fsm_act(tsip_dialog_register_actions_e.TRANSPORT_ERROR,o_message,null);break}}return i_ret}function __tsip_dialog_register_cond_client_unregistering(o_dialog,o_message){return!o_dialog.b_is_server&&o_dialog.b_unregistering}function __tsip_dialog_register_cond_client_registering(o_dialog,o_message){return!__tsip_dialog_register_cond_client_unregistering(o_dialog,o_message)}function __tsip_dialog_register_cond_silent_hangup(o_dialog,o_message){return o_dialog.o_session.b_silent_hangup}function __tsip_dialog_register_cond_not_silent_hangup(o_dialog,o_message){return!__tsip_dialog_register_cond_silent_hangup(o_dialog,o_message)}function __tsip_dialog_register_cond_silent_shutdown(o_dialog,o_message){return __tsip_dialog_register_cond_silent_hangup(o_dialog,o_message)}function __tsip_dialog_register_cond_not_silent_shutdown(o_dialog,o_message){return!__tsip_dialog_register_cond_silent_shutdown(o_dialog,o_message)}function __tsip_dialog_register_Started_2_InProgress_X_oRegister(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[2];__b_register=false;o_dialog.b_running=true;o_dialog.set_action_curr(o_action);o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTING,"Connecting...");return o_dialog.send_register(true)}function __tsip_dialog_register_InProgress_2_InProgress_X_1xx(ao_args){var o_dialog=ao_args[0];var o_message1xx=ao_args[1];o_dialog.signal_register(tsip_event_register_type_e.AO_REGISTER,o_message1xx.get_response_code(),o_message1xx.get_response_phrase(),o_message1xx);return o_dialog.update_with_response(o_message1xx)}function __tsip_dialog_register_InProgress_2_Terminated_X_2xx(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.signal_register(tsip_event_register_type_e.AO_UNREGISTER,o_response.get_response_code(),o_response.get_response_phrase(),o_response);return 0}function __tsip_dialog_register_InProgress_2_Connected_X_2xx(ao_args){tsk_utils_log_info("=== __tsip_dialog_register_InProgress_2_Connected_X_2xx ===");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret;var b_first_time_to_connect=o_dialog.e_state==tsip_dialog_state_e.INITIAL;var o_stack=o_dialog.get_stack();{var i_index;var o_hdr_Path;var o_hdr_Service_Route;var o_hdr_P_Associated_URI;o_stack.ao_uri_associated_uris.splice(0,o_stack.ao_uri_associated_uris.length);o_stack.ao_uri_service_routes.splice(0,o_stack.ao_uri_service_routes.length);o_stack.ao_uri_paths.splice(0,o_stack.ao_uri_paths.length);for(i_index=0;o_hdr_P_Associated_URI=o_response.get_header_at(tsip_header_type_e.P_Associated_URI,i_index);++i_index){if(o_hdr_P_Associated_URI.o_uri){o_stack.ao_uri_associated_uris.push(o_hdr_P_Associated_URI.o_uri)}}for(i_index=0;o_hdr_Service_Route=o_response.get_header_at(tsip_header_type_e.Service_Route,i_index);++i_index){if(o_hdr_Service_Route.o_uri){o_stack.ao_uri_service_routes.push(o_hdr_Service_Route.o_uri)}}for(i_index=0;o_hdr_Path=o_response.get_header_at(tsip_header_type_e.Path,i_index);++i_index){if(o_hdr_Path.o_uri){o_stack.ao_uri_paths.push(o_hdr_Path.o_uri)}}}if(b_first_time_to_connect){var b_barred=true;var o_uri;var o_uri_first=null;for(i_index=0;i_index<o_stack.ao_uri_associated_uris.length;++i_index){if(!(o_uri=o_stack.ao_uri_associated_uris[i_index].o_uri)){continue}if(i_index==0){o_uri_first=o_stack.ao_uri_associated_uris[i_index].o_uri}if(o_stack.identity.o_uri_pref.compare(o_uri)==0){b_barred=false;break}}if(b_barred&&o_uri_first){o_stack.identity.o_uri_pref=o_uri_first}}if((i_ret=o_dialog.update_with_response(o_response))!=0){return i_ret}o_dialog.set_action_curr(null);if(o_dialog.i_timerE!=0){o_dialog.timer_cancel("E");o_dialog.i_timerE=0}o_dialog.timer_cancel("Refresh");o_dialog.i_timerRefresh=o_dialog.get_newdelay(o_response);o_dialog.timer_schedule("register","Refresh");if(b_first_time_to_connect){o_dialog.signal_register(tsip_event_register_type_e.AO_REGISTER,o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.signal(tsip_event_code_e.DIALOG_CONNECTED,"Connected");__b_register=true}return i_ret}function __tsip_dialog_register_InProgress_2_InProgress_X_401_407_421_494(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret;if(i_ret=o_dialog.update_with_response(o_response)){o_dialog.signal_register(tsip_event_register_type_e.AO_REGISTER,o_response.get_response_code(),o_response.get_response_phrase(),o_response);o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);return i_ret}return o_dialog.send_register(false)}function __tsip_dialog_register_InProgress_2_InProgress_X_423(ao_args){var o_dialog=ao_args[0];var o_response=ao_args[1];var o_hdr_Min_Expires;var i_ret=0;o_hdr_Min_Expires=o_response.get_header(tsip_header_type_e.Min_Expires);if(o_hdr_Min_Expires){o_dialog.i_expires=o_hdr_Min_Expires.i_value*1e3;i_ret=o_dialog.send_register(false)}else{tsk_utils_log_error("Missing header: Min_Expires");i_ret=-1}return i_ret}function __tsip_dialog_register_InProgress_2_Terminated_X_300_to_699(ao_args){tsk_utils_log_info("=== __tsip_dialog_register_InProgress_2_Terminated_X_300_to_699 ===");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=-1;if(o_response){o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);tsk_utils_log_info("__b_register : "+__b_register);if(!__b_register){o_dialog.signal_register(o_dialog.b_unregistering?tsip_event_register_type_e.AO_UNREGISTER:tsip_event_register_type_e.AO_REGISTER,o_response.get_response_code(),o_response.get_response_phrase(),o_response)}else{if(o_dialog.i_timerE==0){o_dialog.i_timerE=o_dialog.get_stack().o_timers.getT1()}tsk_utils_log_warn("i_timerE:"+o_dialog.i_timerE);o_dialog.timer_schedule("register","E");
i_ret=0}}else{if(!__b_register){o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error")}}return i_ret}function __tsip_dialog_register_InProgress_2_Terminated_X_cancel(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[3];var i_ret;o_dialog.set_action_curr(o_action);o_dialog.signal(tsip_event_code_e.DIALOG_CANCELLED,"Registration cancelled");return 0}function __tsip_dialog_register_Connected_2_InProgress_X_oRegister(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[3];o_dialog.set_action_curr(o_action);return o_dialog.send_register(true)}function __tsip_dialog_register_any_2_any_X_timerE(ao_args){var o_dialog=ao_args[0];o_dialog.i_timerE=Math.min(o_dialog.i_timerE<<1,o_dialog.get_stack().o_timers.getF());return o_dialog.fsm_act(tsip_dialog_register_actions_e.O_REGISTER,null,null)}function __tsip_dialog_register_Any_2_InProgress_X_hangup(ao_args){var o_dialog=ao_args[0];var o_action=ao_args[3];o_dialog.set_action_curr(o_action);o_dialog.signal(tsip_event_code_e.DIALOG_TERMINATING,"Disconnecting...");o_dialog.b_unregistering=true;return o_dialog.send_register(true)}function __tsip_dialog_register_Any_2_InProgress_X_shutdown(ao_args){var o_dialog=ao_args[0];o_dialog.timer_schedule("register","Shutdown");o_dialog.signal(tsip_event_code_e.DIALOG_TERMINATING,"Disconnecting...");o_dialog.b_unregistering=true;return o_dialog.send_register(true)}function __tsip_dialog_register_Any_2_CONNECTED_X_transportError(ao_args){tsk_utils_log_info("=== __tsip_dialog_register_Any_2_CONNECTED_X_transportError ===");var i_ret=-1;var o_dialog=ao_args[0];tsk_utils_log_info("__b_register : "+__b_register);if(__b_register){return o_dialog.fsm_act(tsip_dialog_register_actions_e.O_REGISTER,null,null)}else{o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error");return i_ret}}function __tsip_dialog_register_Any_2_Terminated_X_transportError(ao_args){var o_dialog=ao_args[0];o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error");return 0}function __tsip_dialog_register_Any_2_Connected_X_Error(ao_args){tsk_utils_log_info("=== __tsip_dialog_register_Any_2_Connected_X_Error ===");var o_dialog=ao_args[0];var o_response=ao_args[1];var i_ret=-1;if(o_response){o_dialog.set_last_error(o_response.get_response_code(),o_response.get_response_phrase(),o_response);tsk_utils_log_info("__b_register : "+__b_register);if(!__b_register){o_dialog.signal_register(o_dialog.b_unregistering?tsip_event_register_type_e.AO_UNREGISTER:tsip_event_register_type_e.AO_REGISTER,o_response.get_response_code(),o_response.get_response_phrase(),o_response)}else{i_ret=0}}else{if(!__b_register){o_dialog.signal(tsip_event_code_e.DIALOG_TRANSPORT_ERROR,"Transport error")}}i_ret=o_dialog.fsm_act(tsip_dialog_register_actions_e.O_REGISTER,null,null);return i_ret}function __tsip_dialog_register_onterm(o_self){tsk_utils_log_info("=== REGISTER Dialog terminated ===");o_self.timer_cancel("Refresh");o_self.timer_cancel("Shutdown");o_self.signal(tsip_event_code_e.DIALOG_TERMINATED,o_self.last_error.s_phrase?o_self.last_error.s_phrase:"Disconnected",o_self.last_error.o_message);return o_self.deinit()}function tsip_dialog_layer(o_stack){if(!o_stack){tsk_utils_log_error("Invalid argument");return null}this.o_stack=o_stack;this.ao_dialogs=new Array;this.shutdown={};this.shutdown.b_inprogress=false;this.shutdown.b_phase2=false;this.b_locked=false}function tsip_dialog_layer_find_result(o_dialog,b_cid_matched){this.o_dialog=o_dialog;this.b_cid_matched=b_cid_matched}tsip_dialog_layer.prototype.find_by_ss=function(o_session){if(!o_session){tsk_utils_log_error("Invalid argument");return null}return this.find_by_ssid(o_session.i_id)};tsip_dialog_layer.prototype.find_by_ssid=function(i_sid){var o_dialog=null;while(this.b_locked){}this.b_locked=true;for(var i=0;i<this.ao_dialogs.length;++i){if(this.ao_dialogs[i].o_session&&this.ao_dialogs[i].o_session.i_id==i_sid){o_dialog=this.ao_dialogs[i];break}}this.b_locked=false;return o_dialog};tsip_dialog_layer.prototype.find=function(s_callid,s_to_tag,s_from_tag,e_request_type){var o_ret=null;var o_dialog;var b_cid_matched=false;while(this.b_locked){}this.b_locked=true;for(var i=0;i<this.ao_dialogs.length;++i){o_dialog=this.ao_dialogs[i];if(tsk_string_equals(o_dialog.s_callid,s_callid)){var b_is_cancel=e_request_type==tsip_request_type_e.CANCEL;var b_is_register=e_request_type==tsip_request_type_e.REGISTER;var b_is_notify=e_request_type==tsip_request_type_e.NOTIFY;b_cid_matched=true;if((b_is_cancel||tsk_string_equals(o_dialog.s_tag_local,s_from_tag))&&(!o_dialog.s_tag_remote||tsk_string_equals(o_dialog.s_tag_remote,s_to_tag))){o_ret=o_dialog;break}if(b_is_register){o_ret=o_dialog;break}if(b_is_notify){o_ret=o_dialog;break}}}this.b_locked=false;return new tsip_dialog_layer_find_result(o_ret,b_cid_matched)};tsip_dialog_layer.prototype.dialog_new=function(e_dialog_type,o_session){var o_dialog=null;while(this.b_locked){}this.b_locked=true;switch(e_dialog_type){case tsip_dialog_type_e.REGISTER:{s_reg_call_id=tsip_dialog.prototype.__reg_call_id;if(o_dialog=new tsip_dialog_register(o_session,s_reg_call_id)){this.ao_dialogs.push(o_dialog)}break}case tsip_dialog_type_e.INVITE:{if(o_dialog=new tsip_dialog_invite(o_session,null)){this.ao_dialogs.push(o_dialog)}break}case tsip_dialog_type_e.MESSAGE:case tsip_dialog_type_e.INFO:case tsip_dialog_type_e.OPTIONS:case tsip_dialog_type_e.PUBLISH:case tsip_dialog_type_e.SUBSCRIBE:default:{if(o_dialog=new tsip_dialog_generic(e_dialog_type,o_session,null)){this.ao_dialogs.push(o_dialog)}break}}this.b_locked=false;return o_dialog};tsip_dialog_layer.prototype.dialog_remove=function(o_dialog){if(o_dialog){while(this.b_locked){}this.b_locked=true;for(var i=0;i<this.ao_dialogs.length;++i){if(this.ao_dialogs[i]==o_dialog){this.ao_dialogs.splice(i,1);break}}this.b_locked=false}};tsip_dialog_layer.prototype.handle_incoming_message=function(o_message){var i_ret=-1;var o_transac=null;var o_layer_transac=this.o_stack.o_layer_transac;var o_ret=this.find(o_message.o_hdr_Call_ID.s_value,o_message.is_response()?o_message.o_hdr_To.s_tag:o_message.o_hdr_From.s_tag,o_message.is_response()?o_message.o_hdr_From.s_tag:o_message.o_hdr_To.s_tag,o_message.is_request()?o_message.line.request.e_type:tsip_request_type_e.NONE);var b_cid_matched=o_ret.b_cid_matched;var o_dialog=o_ret.o_dialog;if(o_dialog){tsk_utils_log_info("o_dialog found !");if(o_message.is_cancel()||o_message.is_ack()){return o_dialog.callback(tsip_dialog_event_type_e.I_MSG,o_message)}else{o_transac=o_layer_transac.transac_new(false,o_message,o_dialog)}}else{tsk_utils_log_info("o_dialog not found !");if(o_message.is_request()){var o_session=null;var o_newdialog=null;switch(o_message.line.request.e_type){case tsip_request_type_e.MESSAGE:{if(o_session=new tsip_session_message(this.o_stack,tsip_session.prototype.SetInitialMessage(o_message))){o_newdialog=new tsip_dialog_generic(tsip_dialog_type_e.MESSAGE,o_session,o_message.o_hdr_Call_ID?o_message.o_hdr_Call_ID.s_value:null)}break}case tsip_request_type_e.INFO:{tsk_utils_log_warn("Not implemented");break}case tsip_request_type_e.OPTIONS:{tsk_utils_log_error("Not implemented");break}case tsip_request_type_e.REGISTER:{tsk_utils_log_error("Not implemented");break}case tsip_request_type_e.INVITE:{if(o_session=new tsip_session_invite(this.o_stack,tsip_session.prototype.SetInitialMessage(o_message))){o_newdialog=new tsip_dialog_invite(o_session,o_message.o_hdr_Call_ID?o_message.o_hdr_Call_ID.s_value:null)}break}case tsip_request_type_e.NOTIFY:{tsk_utils_log_info("Received NOTIFY");if(o_session=new tsip_session_notify(this.o_stack,tsip_session.prototype.SetInitialMessage(o_message))){o_newdialog=new tsip_dialog_generic(tsip_dialog_type_e.NOTIFY,o_session,o_message.o_hdr_Call_ID?o_message.o_hdr_Call_ID.s_value:null)}break}default:{tsk_utils_log_info("Received : "+o_message.line.request.e_type.s_name);tsk_utils_log_error("Not implemented");break}}if(o_newdialog){o_transac=o_layer_transac.transac_new(false,o_message,o_newdialog);this.ao_dialogs.push(o_newdialog)}}}if(o_transac){i_ret=o_transac.start(o_message)}else if(o_message.is_request()){var o_layer_transport=this.o_stack.o_layer_transport;var o_response=null;if(o_layer_transport){if(b_cid_matched){o_response=new tsip_response(482,"Loop Detected (Check your iFCs)",o_message);if(o_response&&!o_response.o_hdr_To.s_tag){o_response.o_hdr_To.s_tag="tag_doubango"}}else{switch(o_message.line.request.e_type){case tsip_request_type_e.OPTIONS:case tsip_request_type_e.INFO:o_response=new tsip_response(405,"Method Not Allowed",o_message);break;default:o_response=new tsip_response(481,"Dialog/Transaction Does Not Exist",o_message);break}}if(o_response){i_ret=o_layer_transport.send(o_response.o_hdr_firstVia?o_response.o_hdr_firstVia.s_branch:"no-branch",o_response)}}}return i_ret};var tsip_header_type_e={Accept:{i_id:0,s_name:"Accept"},Accept_Contact:{i_id:1,s_name:"Accept-Contact"},Accept_Encoding:{i_id:2,s_name:"Accept-Encoding"},Accept_Language:{i_id:3,s_name:"Accept-Language"},Accept_Resource_Priority:{i_id:4,s_name:"Accept-Resource-Priority"},Alert_Info:{i_id:5,s_name:"Alert-Info"},Allow:{i_id:6,s_name:"Allow"},Allow_Events:{i_id:7,s_name:"Allow-Events"},Authentication_Info:{i_id:8,s_name:"Authentication-Info"},Authorization:{i_id:9,s_name:"Authorization"},Call_ID:{i_id:10,s_name:"Call-ID"},Call_Info:{i_id:11,s_name:"Call-Info"},Contact:{i_id:12,s_name:"Contact"},Content_Disposition:{i_id:13,s_name:"Content-Disposition"},Content_Encoding:{i_id:14,s_name:"Content-Encoding"},Content_Language:{i_id:15,s_name:"Content-Language"},Content_Length:{i_id:16,s_name:"Content-Length"},Content_Type:{i_id:17,s_name:"Content-Type"},CSeq:{i_id:18,s_name:"CSeq"},Date:{i_id:19,s_name:"Date"},Dummy:{i_id:20,s_name:null},Error_Info:{i_id:21,s_name:"Error-Info"},Event:{i_id:22,s_name:"Event"},Expires:{i_id:23,s_name:"Expires"},From:{i_id:24,s_name:"From"},History_Info:{i_id:25,s_name:"History-Info"},Identity:{i_id:26,s_name:"Identity"},Identity_Info:{i_id:27,s_name:"Identity-Info"},In_Reply_To:{i_id:28,s_name:"In-Reply-To"},Join:{i_id:29,s_name:"Join"},Max_Forwards:{i_id:30,s_name:"Max-Forwards"},MIME_Version:{i_id:31,s_name:"MIME-Version"},Min_Expires:{i_id:32,s_name:"Min-Expires"},Min_SE:{i_id:33,s_name:"Min-SE"},Organization:{i_id:34,s_name:"Organization"},Path:{i_id:35,s_name:"Path"},Priority:{i_id:36,s_name:"Priority"},Privacy:{i_id:37,s_name:"Privacy"},Proxy_Authenticate:{i_id:38,s_name:"Proxy-Authenticate"},Proxy_Authorization:{i_id:39,s_name:"Proxy-Authorization"},Proxy_Require:{i_id:40,s_name:"Proxy-Require"},RAck:{i_id:41,s_name:"RAck"},Reason:{i_id:42,s_name:"Reason"},Record_Route:{i_id:43,s_name:"Record-Route"},Refer_Sub:{i_id:44,s_name:"Refer-Sub"},Refer_To:{i_id:45,s_name:"Refer-To"},Referred_By:{i_id:46,s_name:"Referred-By"},Reject_Contact:{i_id:47,s_name:"Reject-Contact"},Replaces:{i_id:48,s_name:"Replaces"},Reply_To:{i_id:49,s_name:"Reply-To"},Request_Disposition:{i_id:50,s_name:"Request-Disposition"},Require:{i_id:51,s_name:"Require"},Resource_Priority:{i_id:52,s_name:"Resource-Priority"},Retry_After:{i_id:53,s_name:"Retry-After"},Route:{i_id:54,s_name:"Route"},RSeq:{i_id:55,s_name:"RSeq"},Security_Client:{i_id:56,s_name:"Security-Client"},Security_Server:{i_id:57,s_name:"Security-Server"},Security_Verify:{i_id:58,s_name:"Security-Verify"},Server:{i_id:59,s_name:"Server"},Service_Route:{i_id:60,s_name:"Service-Route"},Session_Expires:{i_id:61,s_name:"Session-Expires"},SIP_ETag:{i_id:62,s_name:"SIP-ETag"},SIP_If_Match:{i_id:63,s_name:"SIP-If-Match"},Subject:{i_id:64,s_name:"Subject"},Subscription_State:{i_id:65,s_name:"Subscription-State"},Supported:{i_id:66,s_name:"Supported"},Target_Dialog:{i_id:67,s_name:"Target-Dialog"},Timestamp:{i_id:68,s_name:"Timestamp"},To:{i_id:69,s_name:"To"},Unsupported:{i_id:70,s_name:"Unsupported"},User_Agent:{i_id:71,s_name:"User-Agent"},Via:{i_id:72,s_name:"Via"},Warning:{i_id:73,s_name:"Warning "},WWW_Authenticate:{i_id:74,s_name:"WWW-Authenticate"},P_Access_Network_Info:{i_id:75,s_name:"P-Access-Network-Info"},P_Answer_State:{i_id:76,s_name:"P-Answer-State"},P_Asserted_Identity:{i_id:77,s_name:"P-Asserted-Identity"},P_Associated_URI:{i_id:78,s_name:"P-Associated-URI"},P_Called_Party_ID:{i_id:79,s_name:"P-Called-Party-ID"},P_Charging_Function_Addresses:{i_id:80,s_name:"P-Charging-Function-Addresses"},P_Charging_Vector:{i_id:81,s_name:"P-Charging-Vector"},P_DCS_Billing_Info:{i_id:82,s_name:"P-DCS-Billing-Info"},P_DCS_LAES:{i_id:83,s_name:"P-DCS-LAES"},P_DCS_OSPS:{i_id:84,s_name:"P-DCS-OSPS"},P_DCS_Redirect:{i_id:85,s_name:"P-DCS-Redirect"},P_DCS_Trace_Party_ID:{i_id:86,s_name:"P-DCS-Trace-Party-ID"},P_Early_Media:{i_id:87,s_name:"P-Early-Media"},P_Media_Authorization:{i_id:88,s_name:"P-Media-Authorization"},P_Preferred_Identity:{i_id:89,s_name:"P-Preferred-Identity"},P_Profile_Key:{i_id:90,s_name:"P-Profile-Key"},P_User_Database:{i_id:91,s_name:"P-User-Database"},P_Visited_Network_ID:{i_id:92,s_name:"P-Visited-Network-ID"}};function tsip_header(e_type){this.e_type=e_type;this.ao_params=new Array}tsip_header.prototype.get_name=function(){if(this.e_type.i_id==tsip_header_type_e.Dummy.i_id){return this.s_name}return this.e_type.s_name};tsip_header.prototype.get_param_separator=function(){switch(this.e_type){case tsip_header_type_e.Authorization:case tsip_header_type_e.Proxy_Authorization:case tsip_header_type_e.Proxy_Authenticate:case tsip_header_type_e.WWW_Authenticate:{return","}default:{return";"}}};tsip_header.prototype.add_param=function(s_name,s_value){tsk_params_add(this.ao_params,s_name,s_value)};tsip_header.prototype.tostring_full=function(){var c_separator;var s_str=tsk_string_format("{0}: ",this.get_name());s_str+=this;for(var i=0;i<this.ao_params.length;++i){c_separator=this.get_param_separator();s_str+=tsk_string_format("{0}{1}",c_separator,tsk_param_tostring(this.ao_params[i]))}s_str+="\r\n";return s_str};tsip_header.prototype.IndexOfByType=function(ao_headers,e_type){if(ao_headers){for(var i=0;i<ao_headers.length;++i){if(ao_headers[i].e_type.i_id==e_type.i_id){return i}}}return-1};tsip_header.prototype.IndexOfByName=function(ao_headers,s_name){if(ao_headers&&s_name){var s_name_i=s_name.toLowerCase();for(var i=0;i<ao_headers.length;++i){var s_name_curr=ao_headers[i].get_name();if(s_name_curr&&s_name_curr.toLowerCase()==s_name_i){return i}}}return-1};tsip_header.prototype.FindByType=function(ao_headers,e_type){if(ao_headers){for(var i=0;i<ao_headers.length;++i){if(ao_headers[i].e_type.i_id==e_type.i_id){return ao_headers[i]}}}return null};var TSIP_HEADER_MAX_FORWARDS_DEFAULT=70;tsip_header_Int.prototype=Object.create(tsip_header.prototype);tsip_header_Content_Length.prototype=Object.create(tsip_header_Int.prototype);tsip_header_Expires.prototype=Object.create(tsip_header_Int.prototype);tsip_header_Max_Forwards.prototype=Object.create(tsip_header_Int.prototype);tsip_header_Min_Expires.prototype=Object.create(tsip_header_Int.prototype);tsip_header_Min_SE.prototype=Object.create(tsip_header_Int.prototype);tsip_header_RSeq.prototype=Object.create(tsip_header_Int.prototype);_tsip_machine_parser_header_Int_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9];_tsip_machine_parser_header_Int_key_offsets=[0,0,10,12,14,16,18,20,22,23,25,27,29,31,33,35,38,41,46,47,49,53,60,65,66,68,72,89,90,92,108,126,132,133,135,140,159,160,162,181,182,184,187,195,196,198,203,204,210,227,234,242,250,258,260,267,276,278,281,283,286,288,291,294,295,298,299,302,303,312,321,329,337,345,353,355,361,370,379,388,390,393,396,397,398,400,402,404,406,408,410,413,417,419,420,422,424,426,428,430,432,434,436,439,441,442,446,448,450,452,454,456,458,461,463,466,468,470,472,475];_tsip_machine_parser_header_Int_trans_keys=[67,69,76,77,82,99,101,108,109,114,79,111,78,110,84,116,69,101,78,110,84,116,45,76,108,69,101,78,110,71,103,84,116,72,104,9,32,58,9,32,58,9,13,32,48,57,10,9,32,9,32,48,57,9,13,32,44,59,48,57,9,13,32,44,59,10,9,32,9,32,44,59,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,44,59,10,0,9,11,12,14,127,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,88,120,80,112,73,105,82,114,69,101,83,115,9,32,58,65,73,97,105,88,120,45,70,102,79,111,82,114,87,119,65,97,82,114,68,100,83,115,9,32,58,78,110,45,69,83,101,115,88,120,80,112,73,105,82,114,69,101,83,115,9,32,58,69,101,9,32,58,83,115,69,101,81,113,9,32,58,0];_tsip_machine_parser_header_Int_single_lengths=[0,10,2,2,2,2,2,2,1,2,2,2,2,2,2,3,3,3,1,2,2,5,5,1,2,4,7,1,2,6,10,6,1,2,5,9,1,2,9,1,2,3,4,1,2,5,1,0,9,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,2,2,2,2,2,2,3,4,2,1,2,2,2,2,2,2,2,2,3,2,1,4,2,2,2,2,2,2,3,2,3,2,2,2,3,0];_tsip_machine_parser_header_Int_range_lengths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,5,0,0,5,4,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,4,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_header_Int_index_offsets=[0,0,11,14,17,20,23,26,29,31,34,37,40,43,46,49,53,57,62,64,67,71,78,84,86,89,94,107,109,112,124,139,146,148,151,157,172,174,177,192,194,197,201,208,210,213,219,221,225,239,244,250,256,262,265,270,277,279,282,284,287,289,292,295,297,300,302,305,307,314,321,327,333,339,345,348,352,359,366,373,375,378,381,383,385,388,391,394,397,400,403,407,412,415,417,420,423,426,429,432,435,438,441,445,448,450,455,458,461,464,467,470,473,477,480,484,487,490,493,497];_tsip_machine_parser_header_Int_indicies=[0,2,3,4,5,0,2,3,4,5,1,6,6,1,7,7,1,8,8,1,9,9,1,10,10,1,11,11,1,12,1,13,13,1,14,14,1,15,15,1,16,16,1,17,17,1,3,3,1,18,18,19,1,20,20,21,1,21,22,21,23,1,24,1,25,25,1,25,25,23,1,26,27,26,28,28,29,1,30,31,30,32,32,1,33,1,34,34,1,34,34,32,32,1,32,35,32,36,36,36,36,36,36,36,36,36,1,37,1,38,38,1,38,38,36,36,36,36,36,36,36,36,36,1,39,40,39,41,41,41,42,42,43,41,41,41,41,41,1,44,45,44,32,32,43,1,46,1,47,47,1,47,47,32,32,43,1,43,48,43,49,50,49,49,51,49,49,49,49,49,49,1,52,1,53,53,1,53,54,53,49,50,49,49,51,49,49,49,49,49,49,1,55,1,56,56,1,56,56,50,1,50,57,58,59,50,50,1,60,1,50,50,1,61,40,61,42,42,1,62,1,50,50,50,1,61,40,61,49,49,49,42,42,49,49,49,49,49,1,64,63,63,63,1,66,58,65,65,65,1,66,58,67,67,67,1,66,58,68,68,68,1,66,58,1,70,69,63,63,1,71,66,58,72,65,65,1,73,1,74,75,1,76,1,77,78,1,79,1,58,80,1,58,81,1,58,1,77,82,1,77,1,74,83,1,74,1,71,66,58,84,67,67,1,71,66,58,68,68,68,1,86,58,85,85,85,1,88,58,87,87,87,1,88,58,89,89,89,1,88,58,90,90,90,1,88,58,1,91,85,85,1,71,88,58,92,87,87,1,71,88,58,93,89,89,1,71,88,58,90,90,90,1,94,1,71,95,1,71,96,1,71,1,70,1,97,97,1,98,98,1,99,99,1,100,100,1,101,101,1,102,102,1,103,103,104,1,105,106,105,106,1,107,107,1,108,1,109,109,1,110,110,1,111,111,1,112,112,1,113,113,1,114,114,1,115,115,1,116,116,1,117,117,118,1,119,119,1,120,1,121,122,121,122,1,123,123,1,124,124,1,125,125,1,126,126,1,127,127,1,128,128,1,129,129,130,1,131,131,1,132,132,133,1,134,134,1,135,135,1,136,136,1,137,137,138,1,1,0];_tsip_machine_parser_header_Int_trans_targs=[2,0,84,15,91,115,3,4,5,6,7,8,9,10,11,12,13,14,16,17,16,17,18,21,19,20,22,46,26,21,22,23,26,24,25,27,30,28,29,31,46,30,26,35,31,32,33,34,36,48,42,49,37,38,39,40,41,43,45,47,44,22,119,50,83,51,54,52,53,55,70,56,68,57,58,66,59,60,64,61,62,63,65,67,69,71,79,72,75,73,74,76,77,78,80,81,82,85,86,87,88,89,90,16,17,92,103,93,94,95,96,97,98,99,100,101,102,16,17,104,105,106,113,107,108,109,110,111,112,16,17,114,16,17,116,117,118,16,17];_tsip_machine_parser_header_Int_trans_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,0,0,0,1,0,0,3,3,3,0,0,0,0,0,0,0,1,0,0,5,5,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0,0,0,13,13,0,15,15,0,0,0,17,17];tsip_machine_parser_header_Int_start=1;tsip_machine_parser_header_Int_first_final=119;tsip_machine_parser_header_Int_error=0;tsip_machine_parser_header_Int_en_main=1;function tsip_header_Int(e_type,i_value){tsip_header.call(this,e_type);this.i_value=i_value}tsip_header_Int.prototype.toString=function(){return typeof this.i_value=="undefined"?null:this.i_value.toString()};tsip_header_Int.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var o_hdr=null;{cs=tsip_machine_parser_header_Int_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Int_key_offsets[cs];_trans=_tsip_machine_parser_header_Int_index_offsets[cs];_klen=_tsip_machine_parser_header_Int_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Int_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Int_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Int_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Int_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Int_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Int_indicies[_trans];cs=_tsip_machine_parser_header_Int_trans_targs[_trans];if(_tsip_machine_parser_header_Int_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Int_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Int_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Int_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:if(o_hdr){o_hdr.i_value=tsk_ragel_parser_get_int(s_str,p,i_tag_start)}break;case 2:if(o_hdr){tsk_ragel_add_param(s_str,p,i_tag_start,o_hdr.ao_params)}break;case 3:o_hdr=new tsip_header_Content_Length;break;case 4:o_hdr=new tsip_header_Expires;break;case 5:o_hdr=new tsip_header_Max_Forwards;break;case 6:o_hdr=new tsip_header_Min_Expires;break;case 7:o_hdr=new tsip_header_Min_SE;break;case 8:o_hdr=new tsip_header_RSeq;break;case 9:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<119){tsk_utils_log_error("Failed to parse header: "+s_str);return null}return o_hdr};function tsip_header_Content_Length(i_value){tsip_header_Int.call(this,tsip_header_type_e.Content_Length,i_value)}function tsip_header_Expires(i_value){tsip_header_Int.call(this,tsip_header_type_e.Expires,i_value)}function tsip_header_Max_Forwards(i_value){tsip_header_Int.call(this,tsip_header_type_e.Max_Forwards,i_value)}function tsip_header_Min_Expires(i_value){tsip_header_Int.call(this,tsip_header_type_e.Min_Expires,i_value)}function tsip_header_Min_SE(i_value){tsip_header_Int.call(this,tsip_header_type_e.Min_SE,i_value)}function tsip_header_RSeq(i_value){tsip_header_Int.call(this,tsip_header_type_e.RSeq,i_value)}tsip_header_NameAddr.prototype=Object.create(tsip_header.prototype);tsip_header_NameAddr.prototype.s_display_name=null;tsip_header_NameAddr.prototype.o_uri=null;tsip_header_NameAddr.prototype.s_tag=null;tsip_header_From.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_To.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Refer_To.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Referred_By.prototype=Object.create(tsip_header_NameAddr.prototype);_tsip_machine_parser_header_NameAddr_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9];_tsip_machine_parser_header_NameAddr_key_offsets=[0,0,8,11,14,35,36,38,59,60,62,65,69,81,84,86,89,93,97,98,100,103,122,123,125,143,162,167,168,170,174,193,194,196,215,216,218,221,229,230,232,236,237,243,261,268,276,284,292,294,301,310,312,315,317,320,322,325,328,329,332,333,336,337,346,355,363,371,379,387,389,395,404,413,422,424,427,430,431,432,453,474,493,498,499,501,505,524,525,527,546,564,581,599,603,604,606,614,615,617,621,627,647,666,671,673,679,684,686,688,691,696,698,700,702,705,707,709,712,714,716,717,719,721,726,729];_tsip_machine_parser_header_NameAddr_trans_keys=[66,70,82,84,98,102,114,116,9,32,58,9,32,58,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,32,60,65,90,97,122,9,32,43,58,45,46,48,57,65,90,97,122,9,32,58,0,65535,62,0,65535,9,13,32,59,9,13,32,59,10,9,32,9,32,59,9,13,32,33,37,39,84,116,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,84,116,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,59,10,0,9,11,12,14,127,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,59,61,65,97,126,42,43,45,46,48,57,66,90,95,122,9,13,32,33,37,39,59,61,71,103,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,60,10,9,32,9,13,34,92,32,126,128,255,10,9,32,9,13,32,60,0,9,11,12,14,127,9,13,32,33,37,39,42,43,58,126,45,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,58,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,58,60,0,65535,9,13,32,59,0,65535,9,32,58,82,114,79,111,77,109,9,32,58,9,32,58,69,101,70,102,69,101,82,114,45,82,114,84,116,79,111,9,32,58,69,101,68,100,45,66,98,89,121,9,32,58,79,111,9,32,58,0];_tsip_machine_parser_header_NameAddr_single_lengths=[0,8,3,3,9,1,2,9,1,2,3,0,4,3,0,1,4,4,1,2,3,9,1,2,8,9,5,1,2,4,9,1,2,9,1,2,3,4,1,2,4,1,0,8,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,11,11,9,5,1,2,4,9,1,2,9,8,7,8,4,1,2,4,1,2,4,0,10,9,5,0,4,5,2,2,3,5,2,2,2,3,2,2,3,2,2,1,2,2,5,3,0];_tsip_machine_parser_header_NameAddr_range_lengths=[0,0,0,0,6,0,0,6,0,0,0,2,4,0,1,1,0,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,5,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,5,5,5,0,0,0,0,5,0,0,5,5,5,5,0,0,0,2,0,0,0,3,5,5,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_header_NameAddr_index_offsets=[0,0,9,13,17,33,35,38,54,56,59,63,66,75,79,81,84,89,94,96,99,103,118,120,123,137,152,158,160,163,168,183,185,188,203,205,208,212,219,221,224,229,231,235,249,254,260,266,272,275,280,287,289,292,294,297,299,302,305,307,310,312,315,317,324,331,337,343,349,355,358,362,369,376,383,385,388,391,393,395,412,429,444,450,452,455,460,475,477,480,495,509,522,536,541,543,546,553,555,558,563,567,583,598,604,606,612,618,621,624,628,634,637,640,643,647,650,653,657,660,663,665,668,671,677,681];_tsip_machine_parser_header_NameAddr_indicies=[0,2,3,4,0,2,3,4,1,5,5,6,1,7,7,8,1,8,9,8,10,11,10,10,12,10,10,10,10,13,10,13,1,14,1,15,15,1,15,16,15,10,11,10,10,12,10,10,10,10,13,10,13,1,17,1,18,18,1,18,18,12,1,19,19,1,20,20,21,22,21,21,21,21,1,20,20,22,1,23,1,24,23,1,25,26,25,27,1,25,28,25,27,1,29,1,30,30,1,30,30,27,1,27,31,27,32,32,32,33,33,32,32,32,32,32,32,1,34,1,35,35,1,35,35,32,32,32,33,33,32,32,32,32,32,32,1,36,37,36,38,38,38,39,40,38,38,38,38,38,38,1,41,42,41,27,40,1,43,1,44,44,1,44,44,27,40,1,40,45,40,46,47,46,46,48,46,46,46,46,46,46,1,49,1,50,50,1,50,51,50,46,47,46,46,48,46,46,46,46,46,46,1,52,1,53,53,1,53,53,47,1,47,54,55,56,47,47,1,57,1,47,47,1,58,37,58,39,1,59,1,47,47,47,1,58,37,58,46,46,46,39,46,46,46,46,46,46,1,61,60,60,60,1,63,55,62,62,62,1,63,55,64,64,64,1,63,55,65,65,65,1,63,55,1,67,66,60,60,1,68,63,55,69,62,62,1,70,1,71,72,1,73,1,74,75,1,76,1,55,77,1,55,78,1,55,1,74,79,1,74,1,71,80,1,71,1,68,63,55,81,64,64,1,68,63,55,65,65,65,1,83,55,82,82,82,1,85,55,84,84,84,1,85,55,86,86,86,1,85,55,87,87,87,1,85,55,1,88,82,82,1,68,85,55,89,84,84,1,68,85,55,90,86,86,1,68,85,55,87,87,87,1,91,1,68,92,1,68,93,1,68,1,67,1,36,37,36,38,38,38,39,40,94,94,38,38,38,38,38,38,1,36,37,36,38,38,38,39,40,95,95,38,38,38,38,38,38,1,96,37,96,38,38,38,39,97,38,38,38,38,38,38,1,98,99,98,27,97,1,100,1,101,101,1,101,101,27,97,1,97,102,97,103,47,103,103,48,103,103,103,103,103,103,1,104,1,105,105,1,105,51,105,103,47,103,103,48,103,103,103,103,103,103,1,106,107,106,108,108,108,109,108,108,108,108,108,108,1,110,111,110,112,112,112,112,112,112,112,112,112,1,113,114,113,112,112,112,115,112,112,112,112,112,112,1,116,16,116,12,1,117,1,110,110,1,118,119,120,121,118,118,1,122,1,118,118,1,113,114,113,115,1,118,118,118,1,123,111,123,112,112,112,112,124,125,112,124,124,124,112,124,1,126,114,126,112,112,112,125,115,112,112,112,112,112,112,1,127,16,127,125,12,1,128,1,129,130,129,131,128,1,132,132,133,134,134,1,135,135,1,136,136,1,132,132,133,1,137,137,138,139,139,1,140,140,1,141,141,1,142,142,1,143,144,144,1,145,145,1,146,146,1,137,137,138,1,147,147,1,148,148,1,149,1,150,150,1,0,0,1,151,151,152,153,153,1,151,151,152,1,1,0];_tsip_machine_parser_header_NameAddr_trans_targs=[2,0,106,110,123,3,4,3,4,5,91,96,11,101,6,7,8,9,10,12,13,12,14,15,16,17,41,21,18,19,20,22,25,79,23,24,26,41,25,21,30,26,27,28,29,31,43,37,44,32,33,34,35,36,38,40,42,39,17,125,45,78,46,49,47,48,50,65,51,63,52,53,61,54,55,59,56,57,58,60,62,64,66,74,67,70,68,69,71,72,73,75,76,77,80,81,82,86,82,83,84,85,87,90,88,89,17,41,90,21,92,94,91,93,8,11,93,95,96,97,99,100,98,102,101,104,103,103,105,17,41,21,3,4,107,108,109,3,4,111,112,113,114,115,118,116,117,119,120,121,122,3,4,124];_tsip_machine_parser_header_NameAddr_trans_actions=[0,0,0,0,0,17,17,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,1,1,0,0,9,9,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,1,0,0,7,7,0,7,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,5,0,0,3,3,3,11,11,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,13,13,0];tsip_machine_parser_header_NameAddr_start=1;tsip_machine_parser_header_NameAddr_first_final=125;tsip_machine_parser_header_NameAddr_error=0;tsip_machine_parser_header_NameAddr_en_main=1;function tsip_header_NameAddr(e_type,o_uri,s_tag){
tsip_header.call(this,e_type);this.s_display_name=o_uri?o_uri.s_display_name:null;this.o_uri=o_uri;this.s_tag=s_tag}tsip_header_NameAddr.prototype.toString=function(){var s_str=tsip_uri_tostring(this.o_uri,true,true);if(s_str&&this.s_tag){s_str+=tsk_string_format(";tag={0}",this.s_tag)}return s_str};tsip_header_NameAddr.prototype.Parse=function(s_str){var s_display_name_start=s_str.indexOf(" ");var s_display_name_end=s_str.lastIndexOf("<");var s_name=null;if(s_display_name_end-3>s_display_name_start){s_name=s_str.slice(s_display_name_start+2,s_display_name_end-1);var sstr='"'+s_name+'"';s_str=s_str.replace(sstr,'""')}var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var o_hdr;{cs=tsip_machine_parser_header_NameAddr_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_NameAddr_key_offsets[cs];_trans=_tsip_machine_parser_header_NameAddr_index_offsets[cs];_klen=_tsip_machine_parser_header_NameAddr_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_NameAddr_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_NameAddr_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_NameAddr_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_NameAddr_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_NameAddr_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_NameAddr_indicies[_trans];cs=_tsip_machine_parser_header_NameAddr_trans_targs[_trans];if(_tsip_machine_parser_header_NameAddr_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_NameAddr_trans_actions[_trans];_nacts=_tsip_machine_parser_header_NameAddr_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_NameAddr_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:if(o_hdr&&!o_hdr.o_uri){var s_uri=tsk_ragel_parser_get_string(s_str,p,i_tag_start);if((o_hdr.o_uri=tsip_uri.prototype.Parse(s_uri))&&o_hdr.s_display_name){o_hdr.o_uri.s_display_name=tsk_strdup(o_hdr.s_display_name)}}break;case 2:if(o_hdr){o_hdr.s_display_name=tsk_ragel_parser_get_string(s_str,p,i_tag_start);o_hdr.s_display_name=tsk_string_unquote_2(o_hdr.s_display_name)}break;case 3:if(o_hdr){o_hdr.s_tag=tsk_ragel_parser_get_string(s_str,p,i_tag_start)}break;case 4:tsk_ragel_add_param(s_str,p,i_tag_start,o_hdr.ao_params);break;case 5:o_hdr=new tsip_header_From;break;case 6:o_hdr=new tsip_header_To;break;case 7:o_hdr=new tsip_header_Refer_To;break;case 8:o_hdr=new tsip_header_Referred_By;break;case 9:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<125){tsk_utils_log_error("tsip_header_NameAddr: Failed to parse header: "+s_str);return null}if(s_name!=null){o_hdr.s_display_name=s_name}return o_hdr};function tsip_header_From(o_uri,s_tag){tsip_header_NameAddr.call(this,tsip_header_type_e.From,o_uri,s_tag)}function tsip_header_To(o_uri,s_tag){tsip_header_NameAddr.call(this,tsip_header_type_e.To,o_uri,s_tag)}function tsip_header_Refer_To(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.Refer_To,o_uri)}function tsip_header_Referred_By(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.Referred_By,o_uri)}tsip_header_P_Asserted_Identity.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_P_Associated_URI.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_P_Preferred_Identity.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Path.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Record_Route.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Route.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Service_Route.prototype=Object.create(tsip_header_NameAddr.prototype);function tsip_header_P_Asserted_Identity(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.P_Asserted_Identity,o_uri)}function tsip_header_P_Associated_URI(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.P_Associated_URI,o_uri)}function tsip_header_P_Preferred_Identity(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.P_Preferred_Identity,o_uri)}function tsip_header_Path(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.Path,o_uri)}function tsip_header_Record_Route(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.Record_Route,o_uri)}function tsip_header_Route(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.Route,o_uri)}function tsip_header_Service_Route(o_uri){tsip_header_NameAddr.call(this,tsip_header_type_e.Service_Route,o_uri)}_tsip_machine_parser_header_NameAddrArray_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,1,13,2,1,0,2,3,5];_tsip_machine_parser_header_NameAddrArray_key_offsets=[0,0,6,9,13,15,17,21,23,25,27,29,30,32,34,36,38,40,42,44,46,49,52,73,74,76,97,98,100,103,107,119,122,124,127,132,137,138,140,144,161,162,164,180,198,204,205,207,212,231,232,234,253,254,256,259,267,268,270,275,276,282,299,306,314,322,330,332,339,348,350,353,355,358,360,363,366,367,370,371,374,375,384,393,401,409,417,425,427,433,442,451,460,462,465,468,469,470,487,505,509,510,512,520,521,523,527,533,553,572,577,579,586,588,590,592,594,596,598,599,601,603,605,608,610,612,614,616,618,620,622,624,625,627,629,631,633,635,637,639,641,644,646,648,651,655,657,659,661,663,664,666,668,670,672,674,677,679,681,683,686,688,690,692,694,696,698,699,701,703,705,707,709,712];_tsip_machine_parser_header_NameAddrArray_trans_keys=[80,82,83,112,114,115,45,65,97,65,80,97,112,83,115,83,115,69,79,101,111,82,114,84,116,69,101,68,100,45,73,105,68,100,69,101,78,110,84,116,73,105,84,116,89,121,9,32,58,9,32,58,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,32,60,65,90,97,122,9,32,43,58,45,46,48,57,65,90,97,122,9,32,58,0,65535,62,0,65535,9,13,32,44,59,9,13,32,44,59,10,9,32,9,32,44,59,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,44,59,10,0,9,11,12,14,127,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,60,10,9,32,9,13,34,92,32,126,128,255,10,9,32,9,13,32,60,0,9,11,12,14,127,9,13,32,33,37,39,42,43,58,126,45,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,58,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,58,60,0,65535,9,13,32,44,59,0,65535,67,99,73,105,65,97,84,116,69,101,68,100,45,85,117,82,114,73,105,9,32,58,82,114,69,101,70,102,69,101,82,114,82,114,69,101,68,100,45,73,105,68,100,69,101,78,110,84,116,73,105,84,116,89,121,9,32,58,84,116,72,104,9,32,58,69,79,101,111,67,99,79,111,82,114,68,100,45,82,114,79,111,85,117,84,116,69,101,9,32,58,85,117,84,116,69,101,9,32,58,69,101,82,114,86,118,73,105,67,99,69,101,45,82,114,79,111,85,117,84,116,69,101,9,32,58,0];_tsip_machine_parser_header_NameAddrArray_single_lengths=[0,6,3,4,2,2,4,2,2,2,2,1,2,2,2,2,2,2,2,2,3,3,9,1,2,9,1,2,3,0,4,3,0,1,5,5,1,2,4,7,1,2,6,10,6,1,2,5,9,1,2,9,1,2,3,4,1,2,5,1,0,9,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,7,8,4,1,2,4,1,2,4,0,10,9,5,0,5,2,2,2,2,2,2,1,2,2,2,3,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,3,2,2,3,4,2,2,2,2,1,2,2,2,2,2,3,2,2,2,3,2,2,2,2,2,2,1,2,2,2,2,2,3,0];_tsip_machine_parser_header_NameAddrArray_range_lengths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,6,0,0,0,2,4,0,1,1,0,0,0,0,0,5,0,0,5,4,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,4,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,5,5,0,0,0,2,0,0,0,3,5,5,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_header_NameAddrArray_index_offsets=[0,0,7,11,16,19,22,27,30,33,36,39,41,44,47,50,53,56,59,62,65,69,73,89,91,94,110,112,115,119,122,131,135,137,140,146,152,154,157,162,175,177,180,192,207,214,216,219,225,240,242,245,260,262,265,269,276,278,281,287,289,293,307,312,318,324,330,333,338,345,347,350,352,355,357,360,363,365,368,370,373,375,382,389,395,401,407,413,416,420,427,434,441,443,446,449,451,453,466,480,485,487,490,497,499,502,507,511,527,542,548,550,557,560,563,566,569,572,575,577,580,583,586,590,593,596,599,602,605,608,611,614,616,619,622,625,628,631,634,637,640,644,647,650,654,659,662,665,668,671,673,676,679,682,685,688,692,695,698,701,705,708,711,714,717,720,723,725,728,731,734,737,740,744];_tsip_machine_parser_header_NameAddrArray_indicies=[0,2,3,0,2,3,1,4,5,5,1,6,7,6,7,1,8,8,1,9,9,1,10,11,10,11,1,12,12,1,13,13,1,14,14,1,15,15,1,16,1,17,17,1,18,18,1,19,19,1,20,20,1,21,21,1,22,22,1,23,23,1,24,24,1,25,25,26,1,27,27,28,1,29,30,29,31,32,31,31,33,31,31,31,31,34,31,34,1,35,1,36,36,1,37,38,37,31,32,31,31,33,31,31,31,31,34,31,34,1,39,1,40,40,1,40,40,41,1,42,42,1,43,43,44,45,44,44,44,44,1,43,43,45,1,46,1,47,46,1,48,49,48,50,51,1,52,53,52,28,54,1,55,1,56,56,1,56,56,28,54,1,54,57,54,58,58,58,58,58,58,58,58,58,1,59,1,60,60,1,60,60,58,58,58,58,58,58,58,58,58,1,61,62,61,63,63,63,64,65,66,63,63,63,63,63,1,67,68,67,28,54,66,1,69,1,70,70,1,70,70,28,54,66,1,66,71,66,72,73,72,72,74,72,72,72,72,72,72,1,75,1,76,76,1,76,77,76,72,73,72,72,74,72,72,72,72,72,72,1,78,1,79,79,1,79,79,73,1,73,80,81,82,73,73,1,83,1,73,73,1,84,62,84,64,65,1,85,1,73,73,73,1,84,62,84,72,72,72,64,65,72,72,72,72,72,1,87,86,86,86,1,89,81,88,88,88,1,89,81,90,90,90,1,89,81,91,91,91,1,89,81,1,93,92,86,86,1,94,89,81,95,88,88,1,96,1,97,98,1,99,1,100,101,1,102,1,81,103,1,81,104,1,81,1,100,105,1,100,1,97,106,1,97,1,94,89,81,107,90,90,1,94,89,81,91,91,91,1,109,81,108,108,108,1,111,81,110,110,110,1,111,81,112,112,112,1,111,81,113,113,113,1,111,81,1,114,108,108,1,94,111,81,115,110,110,1,94,111,81,116,112,112,1,94,111,81,113,113,113,1,117,1,94,118,1,94,119,1,94,1,93,1,120,121,120,122,122,122,122,122,122,122,122,122,1,123,124,123,122,122,122,125,122,122,122,122,122,122,1,126,127,126,41,1,128,1,120,120,1,129,130,131,132,129,129,1,133,1,129,129,1,123,124,123,125,1,129,129,129,1,134,121,134,122,122,122,122,135,136,122,135,135,135,122,135,1,137,124,137,122,122,122,136,125,122,122,122,122,122,122,1,138,127,138,136,41,1,139,1,140,141,140,142,143,139,1,144,144,1,145,145,1,146,146,1,147,147,1,148,148,1,149,149,1,150,1,151,151,1,152,152,1,153,153,1,154,154,155,1,156,156,1,157,157,1,158,158,1,159,159,1,160,160,1,161,161,1,162,162,1,163,163,1,164,1,165,165,1,166,166,1,167,167,1,168,168,1,169,169,1,170,170,1,171,171,1,172,172,1,173,173,174,1,175,175,1,176,176,1,177,177,178,1,179,180,179,180,1,181,181,1,182,182,1,183,183,1,184,184,1,185,1,186,186,1,187,187,1,188,188,1,189,189,1,190,190,1,191,191,192,1,193,193,1,194,194,1,195,195,1,196,196,197,1,198,198,1,199,199,1,200,200,1,201,201,1,202,202,1,203,203,1,204,1,205,205,1,206,206,1,207,207,1,208,208,1,209,209,1,210,210,211,1,1,0];_tsip_machine_parser_header_NameAddrArray_trans_targs=[2,0,144,160,3,141,4,123,5,6,7,112,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,21,22,22,23,97,102,29,107,24,25,25,26,27,28,29,30,31,30,32,33,34,35,59,22,39,35,36,39,37,38,40,43,41,42,44,59,43,22,39,48,44,45,46,47,49,61,55,62,50,51,52,53,54,56,58,60,57,35,173,63,96,64,67,65,66,68,83,69,81,70,71,79,72,73,77,74,75,76,78,80,82,84,92,85,88,86,87,89,90,91,93,94,95,98,100,97,99,26,29,99,26,101,102,103,105,106,104,108,107,110,109,109,111,35,59,22,39,113,114,115,116,117,118,119,120,121,122,21,22,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,21,22,142,143,21,22,145,156,146,147,148,149,150,151,152,153,154,155,21,22,157,158,159,21,22,161,162,163,164,165,166,167,168,169,170,171,172,21,22];_tsip_machine_parser_header_NameAddrArray_trans_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13,13,0,0,3,3,29,29,3,29,0,0,3,3,0,0,0,1,0,0,0,0,7,11,11,11,11,0,0,0,0,0,0,1,0,0,9,9,0,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,0,5,0,0,32,32,32,32,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,17,0,0,19,19,0,0,0,0,0,0,0,0,0,0,0,0,21,21,0,0,0,23,23,0,0,0,0,0,0,0,0,0,0,0,0,25,25];tsip_machine_parser_header_NameAddrArray_start=1;tsip_machine_parser_header_NameAddrArray_first_final=173;tsip_machine_parser_header_NameAddrArray_error=0;tsip_machine_parser_header_NameAddrArray_en_main=1;tsip_header_P_Asserted_Identity.prototype.Parse=tsip_header_P_Associated_URI.prototype.Parse=tsip_header_P_Preferred_Identity.prototype.Parse=tsip_header_Path.prototype.Parse=tsip_header_Record_Route.prototype.Parse=tsip_header_Route.prototype.Parse=tsip_header_Service_Route.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var ao_hdrs=new Array;var o_curr_hdr=null;var t_curr_class=null;{cs=tsip_machine_parser_header_NameAddrArray_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_NameAddrArray_key_offsets[cs];_trans=_tsip_machine_parser_header_NameAddrArray_index_offsets[cs];_klen=_tsip_machine_parser_header_NameAddrArray_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_NameAddrArray_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_NameAddrArray_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_NameAddrArray_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_NameAddrArray_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_NameAddrArray_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_NameAddrArray_indicies[_trans];cs=_tsip_machine_parser_header_NameAddrArray_trans_targs[_trans];if(_tsip_machine_parser_header_NameAddrArray_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_NameAddrArray_trans_actions[_trans];_nacts=_tsip_machine_parser_header_NameAddrArray_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_NameAddrArray_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:if(!o_curr_hdr){o_curr_hdr=new t_curr_class}break;case 2:if(o_curr_hdr){o_curr_hdr.s_display_name=tsk_ragel_parser_get_string(s_str,p,i_tag_start);o_curr_hdr.s_display_name=tsk_string_unquote_2(o_curr_hdr.s_display_name)}break;case 3:if(o_curr_hdr&&!o_curr_hdr.o_uri){var s_uri=tsk_ragel_parser_get_string(s_str,p,i_tag_start);if((o_curr_hdr.o_uri=tsip_uri.prototype.Parse(s_uri))&&o_curr_hdr.s_display_name){o_curr_hdr.o_uri.s_display_name=tsk_strdup(o_curr_hdr.s_display_name)}}break;case 4:if(o_curr_hdr){tsk_ragel_add_param(s_str,p,i_tag_start,o_curr_hdr.ao_params)}break;case 5:if(o_curr_hdr){ao_hdrs.push(o_curr_hdr);o_curr_hdr=null}break;case 6:t_curr_class=tsip_header_P_Asserted_Identity;break;case 7:t_curr_class=tsip_header_P_Associated_URI;break;case 8:t_curr_class=tsip_header_P_Preferred_Identity;break;case 9:t_curr_class=tsip_header_Path;break;case 10:t_curr_class=tsip_header_Record_Route;break;case 11:t_curr_class=tsip_header_Route;break;case 12:t_curr_class=tsip_header_Service_Route;break;case 13:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<173){tsk_utils_log_error("Failed to parse header: "+s_str);return null}return ao_hdrs};tsip_header_Str.prototype=Object.create(tsip_header.prototype);tsip_header_Call_ID.prototype=Object.create(tsip_header_Str.prototype);tsip_header_Date.prototype=Object.create(tsip_header_Str.prototype);tsip_header_Event.prototype=Object.create(tsip_header_Str.prototype);tsip_header_Organization.prototype=Object.create(tsip_header_Str.prototype);tsip_header_P_Access_Network_Info.prototype=Object.create(tsip_header_Str.prototype);tsip_header_P_Charging_Function_Addresses.prototype=Object.create(tsip_header_Str.prototype);tsip_header_Server.prototype=Object.create(tsip_header_Str.prototype);tsip_header_SIP_ETag.prototype=Object.create(tsip_header_Str.prototype);tsip_header_SIP_If_Match.prototype=Object.create(tsip_header_Str.prototype);tsip_header_User_Agent.prototype=Object.create(tsip_header_Str.prototype);tsip_header_Warning.prototype=Object.create(tsip_header_Str.prototype);tsip_header_Dummy.prototype=Object.create(tsip_header_Str.prototype);_tsip_machine_parser_header_Str_actions=[0,1,0,1,14,1,16,2,0,14,2,1,13,2,2,13,2,3,13,2,4,13,2,5,13,2,6,13,2,7,13,2,8,13,2,9,13,2,10,13,2,11,13,2,12,13,2,14,15,3,0,12,13];_tsip_machine_parser_header_Str_key_offsets=[0,0,23,28,31,38,45,46,70,95,103,129,153,167,174,205,237,252,284,315,325,339,366,394,422,450,466,493,522,540,559,577,596,614,633,652,667,686,701,720,735,764,793,821,849,877,905,921,947,976,1005,1034,1052,1071,1090,1105,1120,1140,1161,1182,1203,1212,1232,1254,1265,1277,1288,1300,1311,1323,1335,1343,1355,1363,1375,1383,1405,1427,1448,1469,1490,1511,1520,1539,1561,1583,1605,1616,1628,1640,1648,1656,1657,1659,1666,1673,1680,1687,1693,1700,1707,1710,1717,1724,1731,1734,1741,1748,1755,1762,1765,1770,1772,1774,1776,1778,1780,1782,1784,1786,1788,1790,1793,1799,1808,1815,1822,1829,1836,1843,1849,1856,1863,1870,1877,1884,1891,1898,1904,1911,1918,1925,1932,1935,1942,1949,1956,1963,1970,1977,1984,1990,1997,2004,2011,2018,2025,2032,2039,2046,2052,2059,2066,2073,2080,2087,2094,2101,2108,2115,2118,2127,2134,2141,2148,2155,2158,2165,2171,2180,2187,2194,2201,2204,2211,2217,2224,2231,2238,2245,2252,2255,2262,2269,2276,2282,2289,2296,2303,2310,2317,2320,2327,2334,2341,2348,2355,2362,2365];_tsip_machine_parser_header_Str_trans_keys=[9,32,58,67,68,69,73,79,80,83,85,87,99,100,101,105,111,112,115,117,119,0,65535,9,32,58,0,65535,9,32,58,9,13,32,44,59,0,65535,9,13,32,44,59,0,65535,10,9,13,32,33,37,39,44,47,59,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,59,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,59,61,0,65535,9,13,32,33,34,37,39,44,47,59,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,37,39,44,47,59,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,59,92,127,0,31,33,255,256,65535,9,13,32,44,59,0,65535,9,13,32,33,34,37,39,44,47,59,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,59,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,59,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,59,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,59,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,10,13,32,44,59,0,127,128,65535,9,13,32,34,44,59,92,127,0,31,33,255,256,65535,9,13,32,34,44,58,59,92,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,255,256,65535,9,13,32,34,44,58,59,92,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,46,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,59,92,93,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,59,92,93,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,59,92,93,127,0,31,33,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,255,256,65535,9,13,32,34,44,46,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,46,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,58,59,92,93,127,0,31,33,255,256,65535,9,13,32,34,44,59,92,127,0,31,33,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,46,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,46,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,46,58,59,92,93,127,0,31,33,47,48,57,60,64,65,70,71,96,97,102,103,255,256,65535,9,13,32,34,44,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,47,48,57,58,255,256,65535,9,13,32,34,44,46,59,92,127,0,31,33,255,256,65535,9,13,32,34,44,58,59,92,127,0,31,33,255,256,65535,9,13,32,44,58,59,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,65535,9,13,32,44,58,59,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,46,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,59,0,47,48,57,58,65535,9,13,32,44,46,59,0,47,48,57,58,65535,9,13,32,44,59,0,47,48,57,58,65535,9,13,32,44,46,59,0,47,48,57,58,65535,9,13,32,44,59,0,47,48,57,58,65535,9,13,32,44,59,93,0,47,48,57,58,65535,9,13,32,44,59,93,0,47,48,57,58,65535,9,13,32,44,59,93,0,65535,9,13,32,44,46,59,0,47,48,57,58,65535,9,13,32,44,46,59,0,65535,9,13,32,44,46,59,0,47,48,57,58,65535,9,13,32,44,46,59,0,65535,9,13,32,44,46,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,46,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,58,59,93,0,65535,9,13,32,44,59,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,9,13,32,44,46,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,46,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,46,58,59,93,0,47,48,57,60,64,65,70,71,96,97,102,103,65535,9,13,32,44,59,0,47,48,57,58,65535,9,13,32,44,46,59,0,47,48,57,58,65535,9,13,32,44,46,59,0,47,48,57,58,65535,9,13,32,44,46,59,0,65535,9,13,32,44,58,59,0,65535,10,9,32,9,13,32,44,59,0,65535,9,32,58,65,97,0,65535,9,32,58,76,108,0,65535,9,32,58,76,108,0,65535,9,32,45,58,0,65535,9,32,58,73,105,0,65535,9,32,58,68,100,0,65535,9,32,58,9,32,58,65,97,0,65535,9,32,58,84,116,0,65535,9,32,58,69,101,0,65535,9,32,58,9,32,58,86,118,0,65535,9,32,58,69,101,0,65535,9,32,58,78,110,0,65535,9,32,58,84,116,0,65535,9,32,58,9,32,58,82,114,71,103,65,97,78,110,73,105,90,122,65,97,84,116,73,105,79,111,78,110,9,32,58,9,32,45,58,0,65535,9,32,58,65,67,97,99,0,65535,9,32,58,67,99,0,65535,9,32,58,67,99,0,65535,9,32,58,69,101,0,65535,9,32,58,83,115,0,65535,9,32,58,83,115,0,65535,9,32,45,58,0,65535,9,32,58,78,110,0,65535,9,32,58,69,101,0,65535,9,32,58,84,116,0,65535,9,32,58,87,119,0,65535,9,32,58,79,111,0,65535,9,32,58,82,114,0,65535,9,32,58,75,107,0,65535,9,32,45,58,0,65535,9,32,58,73,105,0,65535,9,32,58,78,110,0,65535,9,32,58,70,102,0,65535,9,32,58,79,111,0,65535,9,32,58,9,32,58,72,104,0,65535,9,32,58,65,97,0,65535,9,32,58,82,114,0,65535,9,32,58,71,103,0,65535,9,32,58,73,105,0,65535,9,32,58,78,110,0,65535,9,32,58,71,103,0,65535,9,32,45,58,0,65535,9,32,58,70,102,0,65535,9,32,58,85,117,0,65535,9,32,58,78,110,0,65535,9,32,58,67,99,0,65535,9,32,58,84,116,0,65535,9,32,58,73,105,0,65535,9,32,58,79,111,0,65535,9,32,58,78,110,0,65535,9,32,45,58,0,65535,9,32,58,65,97,0,65535,9,32,58,68,100,0,65535,9,32,58,68,100,0,65535,9,32,58,82,114,0,65535,9,32,58,69,101,0,65535,9,32,58,83,115,0,65535,9,32,58,83,115,0,65535,9,32,58,69,101,0,65535,9,32,58,83,115,0,65535,9,32,58,9,32,58,69,73,101,105,0,65535,9,32,58,82,114,0,65535,9,32,58,86,118,0,65535,9,32,58,69,101,0,65535,9,32,58,82,114,0,65535,9,32,58,9,32,58,80,112,0,65535,9,32,45,58,0,65535,9,32,58,69,73,101,105,0,65535,9,32,58,84,116,0,65535,9,32,58,65,97,0,65535,9,32,58,71,103,0,65535,9,32,58,9,32,58,70,102,0,65535,9,32,45,58,0,65535,9,32,58,77,109,0,65535,9,32,58,65,97,0,65535,9,32,58,84,116,0,65535,9,32,58,67,99,0,65535,9,32,58,72,104,0,65535,9,32,58,9,32,58,83,115,0,65535,9,32,58,69,101,0,65535,9,32,58,82,114,0,65535,9,32,45,58,0,65535,9,32,58,65,97,0,65535,9,32,58,71,103,0,65535,9,32,58,69,101,0,65535,9,32,58,78,110,0,65535,9,32,58,84,116,0,65535,9,32,58,9,32,58,65,97,0,65535,9,32,58,82,114,0,65535,9,32,58,78,110,0,65535,9,32,58,73,105,0,65535,9,32,58,78,110,0,65535,9,32,58,71,103,0,65535,9,32,58,0];_tsip_machine_parser_header_Str_single_lengths=[0,21,3,3,5,5,1,10,11,6,12,10,8,5,13,14,9,14,13,6,8,9,10,10,10,10,9,11,8,9,8,9,8,9,9,9,9,9,9,9,11,11,10,10,10,10,10,8,11,11,11,8,9,9,9,9,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,1,2,5,5,5,5,4,5,5,3,5,5,5,3,5,5,5,5,3,5,2,2,2,2,2,2,2,2,2,2,3,4,7,5,5,5,5,5,4,5,5,5,5,5,5,5,4,5,5,5,5,3,5,5,5,5,5,5,5,4,5,5,5,5,5,5,5,5,4,5,5,5,5,5,5,5,5,5,3,7,5,5,5,5,3,5,4,7,5,5,5,3,5,4,5,5,5,5,5,3,5,5,5,4,5,5,5,5,5,3,5,5,5,5,5,5,3,0];_tsip_machine_parser_header_Str_range_lengths=[0,1,1,0,1,1,0,7,7,1,7,7,3,1,9,9,3,9,9,2,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,7,7,7,7,1,7,7,3,3,3,3,3,3,3,1,3,1,3,1,7,7,7,7,7,7,1,7,7,7,7,3,3,3,1,1,0,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0];_tsip_machine_parser_header_Str_index_offsets=[0,0,23,28,32,39,46,48,66,85,93,113,131,143,150,173,197,210,234,257,266,278,297,317,337,357,371,390,411,425,440,454,469,483,498,513,526,541,554,569,582,603,624,644,664,684,704,718,736,757,778,799,813,828,843,856,869,883,898,913,928,937,951,967,976,986,995,1005,1014,1024,1034,1042,1052,1060,1070,1078,1094,1110,1125,1140,1155,1170,1179,1192,1208,1224,1240,1249,1259,1269,1277,1285,1287,1290,1297,1304,1311,1318,1324,1331,1338,1342,1349,1356,1363,1367,1374,1381,1388,1395,1399,1405,1408,1411,1414,1417,1420,1423,1426,1429,1432,1435,1439,1445,1454,1461,1468,1475,1482,1489,1495,1502,1509,1516,1523,1530,1537,1544,1550,1557,1564,1571,1578,1582,1589,1596,1603,1610,1617,1624,1631,1637,1644,1651,1658,1665,1672,1679,1686,1693,1699,1706,1713,1720,1727,1734,1741,1748,1755,1762,1766,1775,1782,1789,1796,1803,1807,1814,1820,1829,1836,1843,1850,1854,1861,1867,1874,1881,1888,1895,1902,1906,1913,1920,1927,1933,1940,1947,1954,1961,1968,1972,1979,1986,1993,2e3,2007,2014,2018];_tsip_machine_parser_header_Str_indicies=[2,2,3,4,5,6,7,8,9,10,11,12,4,5,6,7,8,9,10,11,12,0,1,14,14,15,13,1,16,16,17,1,17,19,17,20,20,18,1,22,23,22,24,24,21,1,25,1,24,23,24,26,26,26,24,21,24,26,21,26,21,26,21,26,21,1,27,28,27,29,29,29,30,21,30,31,29,21,29,21,29,21,29,21,1,32,23,32,24,24,31,21,1,33,23,33,34,35,34,34,24,21,24,36,34,21,34,21,34,21,34,21,1,37,28,37,34,34,34,30,21,30,34,21,34,21,34,21,34,21,1,38,23,38,39,40,40,41,21,21,35,21,1,37,28,37,30,30,21,1,40,23,40,42,39,42,42,40,35,40,41,42,21,21,35,42,35,42,35,42,35,21,1,43,28,43,44,39,44,44,45,35,45,46,41,44,21,21,35,44,35,44,35,44,35,21,1,47,23,47,39,40,40,46,41,21,21,35,21,1,48,23,48,49,50,49,49,40,35,40,51,41,49,21,21,35,49,35,49,35,49,35,21,1,52,28,52,49,39,49,49,45,35,45,41,49,21,21,35,49,35,49,35,49,35,21,1,38,21,23,38,40,40,35,21,1,52,28,52,39,45,45,41,21,21,35,21,1,38,23,38,39,40,54,40,41,21,21,35,53,35,53,35,53,35,21,1,38,23,38,39,40,56,40,41,50,21,21,35,55,35,55,35,55,35,21,1,38,23,38,39,40,56,40,41,50,21,21,35,57,35,57,35,57,35,21,1,38,23,38,39,40,56,40,41,50,21,21,35,58,35,58,35,58,35,21,1,38,23,38,39,40,56,40,41,50,21,21,35,21,1,38,23,38,39,40,60,40,41,21,21,35,59,35,53,35,53,35,21,1,38,23,38,39,40,61,56,40,41,50,21,21,35,62,35,55,35,55,35,21,1,38,23,38,39,40,40,41,21,21,35,63,35,21,1,38,23,38,39,40,64,40,41,21,21,35,65,35,21,1,38,23,38,39,40,40,41,21,21,35,66,35,21,1,38,23,38,39,40,67,40,41,21,21,35,68,35,21,1,38,23,38,39,40,40,41,21,21,35,69,35,21,1,38,23,38,39,40,40,41,50,21,21,35,70,35,21,1,38,23,38,39,40,40,41,50,21,21,35,71,35,21,1,38,23,38,39,40,40,41,50,21,21,35,21,1,38,23,38,39,40,67,40,41,21,21,35,72,35,21,1,38,23,38,39,40,67,40,41,21,21,35,21,1,38,23,38,39,40,64,40,41,21,21,35,73,35,21,1,38,23,38,39,40,64,40,41,21,21,35,21,1,38,23,38,39,40,61,56,40,41,50,21,21,35,74,35,57,35,57,35,21,1,38,23,38,39,40,61,56,40,41,50,21,21,35,58,35,58,35,58,35,21,1,38,23,38,39,40,76,40,41,50,21,21,35,75,35,75,35,75,35,21,1,38,23,38,39,40,78,40,41,50,21,21,35,77,35,77,35,77,35,21,1,38,23,38,39,40,78,40,41,50,21,21,35,79,35,79,35,79,35,21,1,38,23,38,39,40,78,40,41,50,21,21,35,80,35,80,35,80,35,21,1,38,23,38,39,40,78,40,41,50,21,21,35,21,1,38,23,38,39,40,40,41,21,21,35,81,35,75,35,75,35,21,1,38,23,38,39,40,61,78,40,41,50,21,21,35,82,35,77,35,77,35,21,1,38,23,38,39,40,61,78,40,41,50,21,21,35,83,35,79,35,79,35,21,1,38,23,38,39,40,61,78,40,41,50,21,21,35,80,35,80,35,80,35,21,1,38,23,38,39,40,40,41,21,21,35,84,35,21,1,38,23,38,39,40,61,40,41,21,21,35,85,35,21,1,38,23,38,39,40,61,40,41,21,21,35,86,35,21,1,38,23,38,39,40,61,40,41,21,21,35,21,1,38,23,38,39,40,60,40,41,21,21,35,21,1,22,23,22,24,88,24,21,87,21,87,21,87,21,1,22,23,22,24,90,24,39,21,89,21,89,21,89,21,1,22,23,22,24,90,24,39,21,91,21,91,21,91,21,1,22,23,22,24,90,24,39,21,92,21,92,21,92,21,1,22,23,22,24,90,24,39,21,1,22,23,22,24,94,24,21,93,21,87,21,87,21,1,22,23,22,24,95,90,24,39,21,96,21,89,21,89,21,1,22,23,22,24,24,21,97,21,1,22,23,22,24,98,24,21,99,21,1,22,23,22,24,24,21,100,21,1,22,23,22,24,101,24,21,102,21,1,22,23,22,24,24,21,103,21,1,22,23,22,24,24,39,21,104,21,1,22,23,22,24,24,39,21,105,21,1,22,23,22,24,24,39,21,1,22,23,22,24,101,24,21,106,21,1,22,23,22,24,101,24,21,1,22,23,22,24,98,24,21,107,21,1,22,23,22,24,98,24,21,1,22,23,22,24,95,90,24,39,21,108,21,91,21,91,21,1,22,23,22,24,95,90,24,39,21,92,21,92,21,92,21,1,22,23,22,24,110,24,39,21,109,21,109,21,109,21,1,22,23,22,24,112,24,39,21,111,21,111,21,111,21,1,22,23,22,24,112,24,39,21,113,21,113,21,113,21,1,22,23,22,24,112,24,39,21,114,21,114,21,114,21,1,22,23,22,24,112,24,39,21,1,22,23,22,24,24,21,115,21,109,21,109,21,1,22,23,22,24,95,112,24,39,21,116,21,111,21,111,21,1,22,23,22,24,95,112,24,39,21,117,21,113,21,113,21,1,22,23,22,24,95,112,24,39,21,114,21,114,21,114,21,1,22,23,22,24,24,21,118,21,1,22,23,22,24,95,24,21,119,21,1,22,23,22,24,95,24,21,120,21,1,22,23,22,24,95,24,21,1,22,23,22,24,94,24,21,1,121,1,122,122,1,122,123,122,20,20,18,1,14,14,15,124,124,13,1,14,14,15,125,125,13,1,14,14,15,126,126,13,1,14,14,127,15,13,1,14,14,15,128,128,13,1,14,14,15,129,129,13,1,130,130,131,1,14,14,15,132,132,13,1,14,14,15,133,133,13,1,14,14,15,134,134,13,1,135,135,136,1,14,14,15,137,137,13,1,14,14,15,138,138,13,1,14,14,15,139,139,13,1,14,14,15,140,140,13,1,141,141,142,1,141,141,142,143,143,1,144,144,1,145,145,1,146,146,1,147,147,1,148,148,1,149,149,1,150,150,1,151,151,1,152,152,1,153,153,1,154,154,155,1,14,14,156,15,13,1,14,14,15,157,158,157,158,13,1,14,14,15,159,159,13,1,14,14,15,160,160,13,1,14,14,15,161,161,13,1,14,14,15,162,162,13,1,14,14,15,163,163,13,1,14,14,164,15,13,1,14,14,15,165,165,13,1,14,14,15,166,166,13,1,14,14,15,167,167,13,1,14,14,15,168,168,13,1,14,14,15,169,169,13,1,14,14,15,170,170,13,1,14,14,15,171,171,13,1,14,14,172,15,13,1,14,14,15,173,173,13,1,14,14,15,174,174,13,1,14,14,15,175,175,13,1,14,14,15,176,176,13,1,177,177,178,1,14,14,15,179,179,13,1,14,14,15,180,180,13,1,14,14,15,181,181,13,1,14,14,15,182,182,13,1,14,14,15,183,183,13,1,14,14,15,184,184,13,1,14,14,15,185,185,13,1,14,14,186,15,13,1,14,14,15,187,187,13,1,14,14,15,188,188,13,1,14,14,15,189,189,13,1,14,14,15,190,190,13,1,14,14,15,191,191,13,1,14,14,15,192,192,13,1,14,14,15,193,193,13,1,14,14,15,194,194,13,1,14,14,195,15,13,1,14,14,15,196,196,13,1,14,14,15,197,197,13,1,14,14,15,198,198,13,1,14,14,15,199,199,13,1,14,14,15,200,200,13,1,14,14,15,201,201,13,1,14,14,15,202,202,13,1,14,14,15,203,203,13,1,14,14,15,204,204,13,1,205,205,206,1,14,14,15,207,208,207,208,13,1,14,14,15,209,209,13,1,14,14,15,210,210,13,1,14,14,15,211,211,13,1,14,14,15,212,212,13,1,213,213,214,1,14,14,15,215,215,13,1,14,14,216,15,13,1,14,14,15,217,218,217,218,13,1,14,14,15,219,219,13,1,14,14,15,220,220,13,1,14,14,15,221,221,13,1,222,222,223,1,14,14,15,224,224,13,1,14,14,225,15,13,1,14,14,15,226,226,13,1,14,14,15,227,227,13,1,14,14,15,228,228,13,1,14,14,15,229,229,13,1,14,14,15,230,230,13,1,231,231,232,1,14,14,15,233,233,13,1,14,14,15,234,234,13,1,14,14,15,235,235,13,1,14,14,236,15,13,1,14,14,15,237,237,13,1,14,14,15,238,238,13,1,14,14,15,239,239,13,1,14,14,15,240,240,13,1,14,14,15,241,241,13,1,242,242,243,1,14,14,15,244,244,13,1,14,14,15,245,245,13,1,14,14,15,246,246,13,1,14,14,15,247,247,13,1,14,14,15,248,248,13,1,14,14,15,249,249,13,1,250,250,251,1,1,0];
_tsip_machine_parser_header_Str_trans_targs=[2,0,3,4,94,101,105,100,110,122,170,191,201,2,3,4,3,4,5,91,7,5,5,6,7,208,8,9,6,8,7,10,9,10,11,12,56,5,12,13,14,19,15,16,15,14,17,16,17,18,20,21,12,22,55,23,26,24,25,27,42,28,40,29,30,38,31,32,36,33,34,35,37,39,41,43,51,44,47,45,46,48,49,50,52,53,54,57,90,58,61,59,60,62,77,63,75,64,65,73,66,67,71,68,69,70,72,74,76,78,86,79,82,80,81,83,84,85,87,88,89,92,93,6,95,96,97,98,99,100,3,4,102,103,104,3,4,106,107,108,109,3,4,111,112,113,114,115,116,117,118,119,120,121,3,4,123,124,143,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,3,4,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,3,4,171,176,172,173,174,175,3,4,177,178,179,183,180,181,182,3,4,184,185,186,187,188,189,190,3,4,192,193,194,195,196,197,198,199,200,3,4,202,203,204,205,206,207,3,4];_tsip_machine_parser_header_Str_trans_actions=[1,0,49,49,1,1,1,1,1,1,1,1,1,0,43,43,0,0,1,0,7,0,3,3,3,5,1,46,46,0,46,0,3,3,0,0,0,46,3,0,3,0,1,46,0,46,0,3,3,0,0,0,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,10,10,0,0,0,13,13,0,0,0,0,16,16,0,0,0,0,0,0,0,0,0,0,0,19,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,25,0,0,0,0,0,0,28,28,0,0,0,0,0,0,0,31,31,0,0,0,0,0,0,0,34,34,0,0,0,0,0,0,0,0,0,37,37,0,0,0,0,0,0,40,40];tsip_machine_parser_header_Str_start=1;tsip_machine_parser_header_Str_first_final=208;tsip_machine_parser_header_Str_error=0;tsip_machine_parser_header_Str_en_main=1;function tsip_header_Str(e_type,s_value){tsip_header.call(this,e_type);this.s_value=s_value}tsip_header_Str.prototype.toString=function(){return this.s_value};tsip_header_Str.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var o_hdr=null;{cs=tsip_machine_parser_header_Str_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Str_key_offsets[cs];_trans=_tsip_machine_parser_header_Str_index_offsets[cs];_klen=_tsip_machine_parser_header_Str_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Str_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Str_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Str_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Str_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Str_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Str_indicies[_trans];cs=_tsip_machine_parser_header_Str_trans_targs[_trans];if(_tsip_machine_parser_header_Str_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Str_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Str_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Str_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:o_hdr=new tsip_header_Call_ID;break;case 2:o_hdr=new tsip_header_Date;break;case 3:o_hdr=new tsip_header_Event;break;case 4:o_hdr=new tsip_header_Organization;break;case 5:o_hdr=new tsip_header_P_Access_Network_Info;break;case 6:o_hdr=new tsip_header_P_Charging_Function_Addresses;break;case 7:o_hdr=new tsip_header_Server;break;case 8:o_hdr=new tsip_header_SIP_ETag;break;case 9:o_hdr=new tsip_header_SIP_If_Match;break;case 10:o_hdr=new tsip_header_User_Agent;break;case 11:o_hdr=new tsip_header_Warning;break;case 12:o_hdr=new tsip_header_Dummy;break;case 13:if(o_hdr){o_hdr.s_name=tsk_ragel_parser_get_string(s_str,p,i_tag_start);if(o_hdr.s_name=="Reason"){_tsip_machine_parser_header_Str_trans_actions[26]=0;_tsip_machine_parser_header_Str_trans_actions[42]=0}}break;case 14:if(o_hdr){o_hdr.s_value=tsk_ragel_parser_get_string(s_str,p,i_tag_start)}break;case 15:if(o_hdr&&o_hdr.s_name!="Reason"){tsk_ragel_add_param(s_str,p,i_tag_start,o_hdr.ao_params)}break;case 16:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<208){tsk_utils_log_error("Failed to parse header: "+s_str);return null}if(o_hdr.s_name=="Reason"){_tsip_machine_parser_header_Str_trans_actions[26]=1;_tsip_machine_parser_header_Str_trans_actions[42]=1}return o_hdr};function tsip_header_Call_ID(s_value){tsip_header_Str.call(this,tsip_header_type_e.Call_ID,s_value)}function tsip_header_Date(s_value){tsip_header_Str.call(this,tsip_header_type_e.Date,s_value)}function tsip_header_Event(s_value){tsip_header_Str.call(this,tsip_header_type_e.Event,s_value)}function tsip_header_Organization(s_value){tsip_header_Str.call(this,tsip_header_type_e.Organization,s_value)}function tsip_header_P_Access_Network_Info(s_value){tsip_header_Str.call(this,tsip_header_type_e.P_Access_Network_Info,s_value)}function tsip_header_P_Charging_Function_Addresses(s_value){tsip_header_Str.call(this,tsip_header_type_e.P_Charging_Function_Addresses,s_value)}function tsip_header_Server(s_value){tsip_header_Str.call(this,tsip_header_type_e.Server,s_value)}function tsip_header_SIP_ETag(s_value){tsip_header_Str.call(this,tsip_header_type_e.SIP_ETag,s_value)}function tsip_header_SIP_If_Match(s_value){tsip_header_Str.call(this,tsip_header_type_e.SIP_If_Match,s_value)}function tsip_header_User_Agent(s_value){tsip_header_Str.call(this,tsip_header_type_e.User_Agent,s_value)}function tsip_header_Warning(s_value){tsip_header_Str.call(this,tsip_header_type_e.Warning,s_value)}function tsip_header_Dummy(s_name,s_value){tsip_header_Str.call(this,tsip_header_type_e.Dummy,s_value);this.s_name=s_name}var TSIP_HEADER_ALLOW_DEFAULT="ACK, BYE, CANCEL, INVITE, MESSAGE, NOTIFY, OPTIONS, PRACK, REFER, UPDATE";tsip_header_StrArray.prototype=Object.create(tsip_header.prototype);tsip_header_StrArray.prototype.as_values=null;tsip_header_Allow.prototype=Object.create(tsip_header_StrArray.prototype);tsip_header_Allow_Events.prototype=Object.create(tsip_header_StrArray.prototype);tsip_header_Privacy.prototype=Object.create(tsip_header_StrArray.prototype);tsip_header_Require.prototype=Object.create(tsip_header_StrArray.prototype);tsip_header_Supported.prototype=Object.create(tsip_header_StrArray.prototype);_tsip_machine_parser_header_Allow_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7];_tsip_machine_parser_header_Allow_key_offsets=[0,0,12,14,16,18,20,24,27,44,45,61,65,66,68,71,88,89,91,107,109,111,113,115,117,119,122,125,141,142,144,159,176,180,181,183,186,199,202,204,206,208,210,212,214,217,220,249,250,252,280,296,322,340,358,376,394,412,430,448,450,470,488,506,524,542,560,578,596,614,632,650,668,686,704,722,740,758,776,794,812,830,832,834,836,838,840,842,845,848,850,852,854,856,858,860,862,864];_tsip_machine_parser_header_Allow_trans_keys=[65,75,80,82,83,85,97,107,112,114,115,117,76,108,76,108,79,111,87,119,9,32,45,58,9,32,58,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,13,32,33,37,39,44,126,42,46,48,57,65,90,95,122,9,13,32,44,10,9,32,9,32,44,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,69,101,86,118,69,101,78,110,84,116,83,115,9,32,58,9,32,58,9,13,32,33,37,39,45,126,42,43,48,57,65,90,95,122,10,9,32,9,32,33,37,39,45,126,42,43,48,57,65,90,95,122,9,13,32,33,37,39,44,46,126,42,45,48,57,65,90,95,122,9,13,32,44,10,9,32,9,32,44,33,37,39,45,126,42,43,48,57,65,90,95,122,9,32,58,82,114,73,105,86,118,65,97,67,99,89,121,9,32,58,9,32,58,9,13,32,33,37,39,67,72,73,78,83,85,99,104,105,110,115,117,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,67,72,73,78,83,85,99,104,105,110,115,117,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,33,37,39,67,72,73,78,83,85,99,104,105,110,115,117,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,82,114,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,73,105,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,84,116,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,73,105,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,67,99,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,65,97,126,42,43,45,46,48,57,66,90,95,122,13,33,37,39,59,76,108,126,42,43,45,46,48,57,65,90,95,122,13,59,13,33,37,39,59,69,73,101,105,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,65,97,126,42,43,45,46,48,57,66,90,95,122,13,33,37,39,59,68,100,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,69,101,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,82,114,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,83,115,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,84,116,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,79,111,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,82,114,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,89,121,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,68,100,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,79,111,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,78,110,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,69,101,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,69,101,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,83,115,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,83,115,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,73,105,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,79,111,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,78,110,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,59,83,115,126,42,43,45,46,48,57,65,90,95,122,69,101,81,113,85,117,73,105,82,114,69,101,9,32,58,9,32,58,85,117,80,112,80,112,79,111,82,114,84,116,69,101,68,100,0];_tsip_machine_parser_header_Allow_single_lengths=[0,12,2,2,2,2,4,3,7,1,8,4,1,2,3,7,1,2,6,2,2,2,2,2,2,3,3,8,1,2,7,9,4,1,2,3,5,3,2,2,2,2,2,2,3,3,19,1,2,18,6,16,8,8,8,8,8,8,8,2,10,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,2,2,2,2,2,2,3,3,2,2,2,2,2,2,2,2,0];_tsip_machine_parser_header_Allow_range_lengths=[0,0,0,0,0,0,0,0,5,0,4,0,0,0,0,5,0,0,5,0,0,0,0,0,0,0,0,4,0,0,4,4,0,0,0,0,4,0,0,0,0,0,0,0,0,0,5,0,0,5,5,5,5,5,5,5,5,5,5,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_header_Allow_index_offsets=[0,0,13,16,19,22,25,30,34,47,49,62,67,69,72,76,89,91,94,106,109,112,115,118,121,124,128,132,145,147,150,162,176,181,183,186,190,200,204,207,210,213,216,219,222,226,230,255,257,260,284,296,318,332,346,360,374,388,402,416,419,435,449,463,477,491,505,519,533,547,561,575,589,603,617,631,645,659,673,687,701,715,718,721,724,727,730,733,737,741,744,747,750,753,756,759,762,765];_tsip_machine_parser_header_Allow_indicies=[0,2,3,4,5,6,0,2,3,4,5,6,1,7,7,1,8,8,1,9,9,1,10,10,1,11,11,12,13,1,14,14,15,1,15,16,15,17,17,17,17,17,17,17,17,17,1,18,1,19,20,19,21,21,21,22,21,21,21,21,21,1,23,24,23,25,1,26,1,27,27,1,27,27,25,1,25,28,25,17,17,17,17,17,17,17,17,17,1,29,1,30,30,1,30,30,17,17,17,17,17,17,17,17,17,1,31,31,1,32,32,1,33,33,1,34,34,1,35,35,1,6,6,1,36,36,37,1,38,38,39,1,39,40,39,41,41,41,41,41,41,41,41,41,1,42,1,43,43,1,43,43,41,41,41,41,41,41,41,41,41,1,44,20,44,45,45,45,46,47,45,45,45,45,45,1,48,49,48,39,1,50,1,51,51,1,51,51,39,1,45,45,45,45,45,45,45,45,45,1,52,52,53,1,54,54,1,55,55,1,56,56,1,57,57,1,58,58,1,59,59,1,60,60,61,1,62,62,63,1,63,64,63,65,65,65,66,67,68,69,70,71,66,67,68,69,70,71,65,65,65,65,65,65,1,72,1,73,73,1,73,73,65,65,65,66,67,68,69,70,71,66,67,68,69,70,71,65,65,65,65,65,65,1,20,74,74,74,75,74,74,74,74,74,74,1,65,65,65,66,67,68,69,70,71,66,67,68,69,70,71,65,65,65,65,65,65,1,20,74,74,74,75,76,76,74,74,74,74,74,74,1,20,74,74,74,75,77,77,74,74,74,74,74,74,1,20,74,74,74,75,78,78,74,74,74,74,74,74,1,20,74,74,74,75,79,79,74,74,74,74,74,74,1,20,74,74,74,75,80,80,74,74,74,74,74,74,1,20,74,74,74,75,81,81,74,74,74,74,74,74,1,20,74,74,74,75,82,82,74,74,74,74,74,74,1,20,75,1,20,74,74,74,75,83,84,83,84,74,74,74,74,74,74,1,20,74,74,74,75,85,85,74,74,74,74,74,74,1,20,74,74,74,75,86,86,74,74,74,74,74,74,1,20,74,74,74,75,87,87,74,74,74,74,74,74,1,20,74,74,74,75,82,82,74,74,74,74,74,74,1,20,74,74,74,75,88,88,74,74,74,74,74,74,1,20,74,74,74,75,89,89,74,74,74,74,74,74,1,20,74,74,74,75,90,90,74,74,74,74,74,74,1,20,74,74,74,75,91,91,74,74,74,74,74,74,1,20,74,74,74,75,82,82,74,74,74,74,74,74,1,20,74,74,74,75,82,82,74,74,74,74,74,74,1,20,74,74,74,75,92,92,74,74,74,74,74,74,1,20,74,74,74,75,93,93,74,74,74,74,74,74,1,20,74,74,74,75,82,82,74,74,74,74,74,74,1,20,74,74,74,75,94,94,74,74,74,74,74,74,1,20,74,74,74,75,95,95,74,74,74,74,74,74,1,20,74,74,74,75,96,96,74,74,74,74,74,74,1,20,74,74,74,75,97,97,74,74,74,74,74,74,1,20,74,74,74,75,98,98,74,74,74,74,74,74,1,20,74,74,74,75,82,82,74,74,74,74,74,74,1,20,74,74,74,75,86,86,74,74,74,74,74,74,1,99,99,1,100,100,1,101,101,1,102,102,1,103,103,1,104,104,1,105,105,106,1,107,107,25,1,108,108,1,109,109,1,110,110,1,111,111,1,112,112,1,113,113,1,114,114,1,2,2,1,1,0];_tsip_machine_parser_header_Allow_trans_targs=[2,0,37,38,81,89,25,3,4,5,6,7,19,8,7,8,9,10,97,11,9,10,15,11,12,15,13,14,16,17,18,20,21,22,23,24,26,27,26,27,28,31,29,30,32,31,27,36,32,33,34,35,7,8,39,40,41,42,43,44,45,46,45,46,47,50,52,60,70,71,74,80,48,49,50,51,53,54,55,56,57,58,59,61,65,62,63,64,66,67,68,69,72,73,75,76,77,78,79,82,83,84,85,86,87,88,15,88,90,91,92,93,94,95,96];_tsip_machine_parser_header_Allow_trans_actions=[0,0,0,0,0,0,0,0,0,0,0,5,0,5,0,0,0,1,15,3,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,0,0,0,1,0,0,3,0,3,0,0,0,0,0,13,13,0,0,0,0,0,0,9,9,0,0,0,1,1,1,1,1,1,1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0,0];tsip_machine_parser_header_Allow_start=1;tsip_machine_parser_header_Allow_first_final=97;tsip_machine_parser_header_Allow_error=0;tsip_machine_parser_header_Allow_en_main=1;function tsip_header_StrArray(e_type,s_value){tsip_header.call(this,e_type);this.as_values=new Array;if(s_value){this.as_values.push(s_value)}}tsip_header_StrArray.prototype.toString=function(){var s_str=null;var c_sep;switch(this.e_type){case tsip_header_type_e.Privacy:c_sep=";";break;default:c_sep=",";break}for(var i=0;i<this.as_values.length;++i){if(i==0){s_str=this.as_values[i]}else{s_str+=tsk_string_format("{0}{1}",c_sep,this.as_values[i])}}return s_str};tsip_header_StrArray.prototype.has_value=function(s_value){if(this.as_values&&s_value){var s_value_i=s_value.toLowerCase();for(var i=0;i<this.as_values.length;++i){if(this.as_values[i].toLowerCase()==s_value_i){return true}}}return false};tsip_header_StrArray.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var o_hdr=null;{cs=tsip_machine_parser_header_Allow_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Allow_key_offsets[cs];_trans=_tsip_machine_parser_header_Allow_index_offsets[cs];_klen=_tsip_machine_parser_header_Allow_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Allow_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Allow_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Allow_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Allow_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Allow_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Allow_indicies[_trans];cs=_tsip_machine_parser_header_Allow_trans_targs[_trans];if(_tsip_machine_parser_header_Allow_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Allow_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Allow_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Allow_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:if(o_hdr){tsk_ragel_parser_add_string(s_str,p,i_tag_start,o_hdr.as_values)}break;case 2:o_hdr=new tsip_header_Allow;break;case 3:o_hdr=new tsip_header_Allow_Events;break;case 4:o_hdr=new tsip_header_Privacy;break;case 5:o_hdr=new tsip_header_Require;break;case 6:o_hdr=new tsip_header_Supported;break;case 7:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<97){tsk_utils_log_error("Failed to parse header: "+s_str);return null}return o_hdr};function tsip_header_Allow(s_value){tsip_header_StrArray.call(this,tsip_header_type_e.Allow,s_value)}function tsip_header_Allow_Events(s_value){tsip_header_StrArray.call(this,tsip_header_type_e.Allow_Events,s_value)}function tsip_header_Privacy(s_value){tsip_header_StrArray.call(this,tsip_header_type_e.Privacy,s_value)}function tsip_header_Require(s_value){tsip_header_StrArray.call(this,tsip_header_type_e.Require,s_value)}function tsip_header_Supported(s_value){tsip_header_StrArray.call(this,tsip_header_type_e.Supported,s_value)}tsip_header_Authorization.prototype=Object.create(tsip_header.prototype);_tsip_machine_parser_header_Authorization_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,1,13,1,14,1,15,1,16,2,0,8,2,0,9,2,0,11,2,0,12,2,0,15,2,5,0,2,6,0,2,7,0,2,8,0,2,15,0];_tsip_machine_parser_header_Authorization_key_offsets=[0,0,4,6,8,10,12,14,16,18,20,22,24,26,28,31,40,43,44,53,58,63,68,73,78,115,139,146,183,209,234,257,263,274,280,286,302,319,336,353,358,374,392,399,407,414,422,429,437,445,449,457,461,469,473,491,509,526,543,560,577,582,597,615,633,651,658,666,674,678,682,708,734,760,786,812,838,864,888,895,920,943,969,995,1021,1047,1073,1097,1104,1129,1140,1146,1152,1180,1204,1211,1242,1271,1300,1329,1358,1387,1416,1445,1451,1477,1503,1529,1553,1560,1585,1596,1602,1608,1634,1660,1686,1712,1738,1762,1769,1794,1805,1811,1817,1843,1869,1893,1900,1925,1948,1974,2002,2028,2054,2078,2085,2110,2121,2127,2133,2159,2185,2211,2237,2263,2287,2294,2319,2330,2336,2342,2370,2396,2420,2427,2452,2463,2467,2478,2485,2498,2542,2573,2587,2618,2648,2661,2685,2710,2735,2760,2773,2797,2823,2838,2854,2869,2885,2900,2916,2932,2944,2960,2972,2988,3e3,3026,3052,3077,3102,3127,3152,3165,3188,3214,3240,3266,3281,3297,3313,3325,3337,3370,3403,3436,3469,3502,3535,3568,3601,3632,3646,3677,3707,3740,3773,3806,3839,3872,3903,3917,3948,3961,3974,4018,4049,4063,4094,4124,4137,4161,4186,4211,4236,4249,4273,4299,4314,4330,4345,4361,4376,4392,4408,4420,4436,4448,4464,4476,4502,4528,4553,4578,4603,4628,4641,4664,4690,4716,4742,4757,4773,4789,4801,4813,4846,4879,4912,4945,4978,5011,5044,5077,5108,5122,5153,5183,5216,5249,5282,5315,5348,5379,5393,5424,5437,5472,5503,5517,5554,5590,5626,5662,5698,5734,5770,5806,5819,5852,5885,5918,5949,5963,5994,6007,6020,6064,6095,6109,6140,6170,6183,6207,6232,6257,6282,6295,6319,6345,6360,6376,6391,6407,6422,6438,6454,6466,6479,6495,6507,6523,6535,6561,6587,6612,6637,6662,6687,6700,6723,6749,6775,6801,6816,6832,6848,6860,6872,6905,6938,6971,7004,7037,7070,7103,7136,7167,7181,7212,7242,7275,7308,7341,7374,7407,7438,7452,7483,7496,7531,7562,7576,7613,7649,7685,7721,7757,7793,7829,7865,7878,7911,7944,7977,8008,8022,8053,8066,8099,8132,8165,8198,8231,8262,8276,8307,8320,8333,8377,8408,8422,8453,8483,8496,8520,8545,8570,8595,8608,8632,8658,8673,8689,8704,8720,8735,8751,8767,8779,8792,8808,8820,8836,8848,8874,8900,8925,8950,8975,9e3,9013,9036,9062,9088,9114,9129,9145,9161,9173,9185,9218,9251,9284,9317,9350,9383,9416,9449,9480,9494,9525,9555,9588,9621,9654,9687,9720,9751,9765,9796,9809,9844,9875,9889,9926,9962,9998,10034,10070,10106,10142,10178,10191,10224,10257,10290,10321,10335,10366,10379,10412,10445,10478,10511,10544,10575,10589,10620,10633,10666,10699,10730,10744,10775,10805,10838,10873,10906,10939,10970,10984,11015,11028,11041,11085,11116,11130,11161,11191,11204,11228,11253,11278,11303,11316,11340,11366,11381,11397,11412,11428,11443,11459,11475,11487,11500,11516,11528,11544,11556,11582,11608,11633,11658,11683,11708,11721,11744,11770,11796,11822,11837,11853,11869,11881,11893,11926,11959,11992,12025,12058,12091,12124,12157,12188,12202,12233,12263,12296,12329,12362,12395,12428,12459,12473,12504,12517,12552,12583,12597,12634,12670,12706,12742,12778,12814,12850,12886,12899,12932,12965,12998,13029,13043,13074,13087,13120,13153,13186,13219,13252,13283,13297,13328,13341,13374,13407,13438,13452,13483,13513,13546,13581,13614,13647,13678,13692,13723,13736,13769,13802,13835,13868,13901,13932,13946,13977,13990,14003,14047,14078,14092,14123,14153,14166,14190,14215,14240,14265,14278,14302,14328,14343,14359,14374,14390,14405,14421,14437,14449,14462,14478,14490,14506,14518,14544,14570,14595,14620,14645,14670,14683,14706,14732,14758,14784,14799,14815,14831,14843,14855,14888,14921,14954,14987,15020,15053,15086,15119,15150,15164,15195,15225,15258,15291,15324,15357,15390,15421,15435,15466,15479,15514,15545,15559,15596,15632,15668,15704,15740,15776,15812,15848,15861,15894,15927,15960,15991,16005,16036,16049,16082,16115,16148,16181,16214,16245,16259,16290,16303,16336,16369,16400,16414,16445,16475,16508,16543,16576,16609,16640,16654,16685,16698,16731,16764,16797,16830,16863,16894,16908,16939,16952,16987,17020,17051,17065,17096,17109,17122,17166,17197,17211,17242,17272,17296,17321,17346,17371,17384,17408,17434,17449,17465,17480,17496,17511,17527,17543,17555,17568,17584,17596,17612,17624,17650,17676,17701,17726,17751,17776,17789,17812,17838,17864,17890,17905,17921,17937,17949,17961,17994,18027,18060,18093,18126,18159,18192,18225,18256,18270,18301,18331,18364,18397,18430,18463,18496,18527,18541,18572,18607,18638,18652,18689,18725,18761,18797,18833,18869,18905,18941,18954,18987,19020,19053,19084,19098,19129,19162,19195,19228,19261,19294,19325,19339,19370,19403,19436,19467,19481,19512,19542,19575,19610,19643,19676,19707,19721,19752,19785,19818,19851,19884,19917,19948,19962,19993,20028,20061,20092,20106,20137,20170,20203,20236,20269,20302,20335,20366,20380,20411,20424,20435,20441,20447,20491,20522,20536,20567,20597,20610,20634,20659,20684,20709,20722,20746,20772,20787,20803,20818,20834,20849,20865,20881,20893,20906,20922,20934,20950,20962,20988,21014,21039,21064,21089,21114,21127,21150,21176,21202,21228,21243,21259,21275,21287,21299,21332,21365,21398,21431,21464,21497,21530,21563,21594,21608,21639,21669,21702,21735,21768,21801,21834,21865,21879,21910,21923,21958,21989,22003,22040,22076,22112,22148,22184,22220,22256,22292,22305,22338,22371,22404,22435,22449,22480,22493,22526,22559,22592,22625,22658,22689,22703,22734,22747,22780,22813,22844,22858,22889,22919,22952,22987,23020,23053,23084,23098,23129,23142,23175,23208,23241,23274,23307,23338,23352,23383,23396,23431,23464,23495,23509,23540,23553,23586,23619,23652,23685,23718,23751,23782,23796,23827,23840,23873,23906,23939,23972,24005,24038,24069,24083,24114,24127,24162,24195,24226,24240,24271,24284,24317,24350,24383,24416,24449,24482,24513,24527,24558,24571,24604,24637,24670,24703,24736,24767,24781,24812,24825,24860,24893,24924,24938,24969,24982,25015,25048,25081,25114,25147,25180,25211,25225,25256,25269,25302,25335,25366,25380,25411,25441,25474,25509,25542,25575,25606,25620,25651,25664,25697,25730,25763,25796,25829,25860,25874,25905,25918,25953,25986,26017,26031,26062,26075,26108,26141,26174,26207,26240,26273,26304,26318,26349,26362,26395,26428,26461,26494,26527,26558,26572,26603,26616,26649,26682,26713,26727,26758,26788,26821,26856,26889,26922,26953,26967,26998,27011,27044,27077,27110,27143,27176,27207,27221,27252,27265,27300,27333,27364,27378,27409,27422,27455,27488,27521,27554,27587,27620,27651,27665,27696,27709,27744,27775,27789,27826,27862,27898,27934,27970,28006,28042,28078,28091,28124,28157,28190,28221,28235,28266,28299,28332,28365,28398,28431,28462,28476,28507,28540,28573,28604,28618,28649,28679,28712,28747,28780,28813,28844,28858,28889,28922,28955,28988,29021,29054,29085,29099,29130,29165,29198,29229,29243,29274,29287,29320,29353,29386,29419,29452,29485,29516,29530,29561,29587,29613,29639,29665,29691,29717,29741,29748,29773,29801,29827,29851,29858,29883,29894,29905,29912,29925,29969,3e4,30014,30045,30075,30099,30124,30149,30174,30187,30211,30237,30252,30268,30283,30299,30314,30330,30346,30358,30371,30387,30399,30415,30427,30453,30479,30504,30529,30554,30579,30592,30615,30641,30667,30693,30708,30724,30740,30752,30764,30797,30830,30863,30896,30929,30962,30995,31028,31059,31073,31104,31134,31167,31200,31233,31266,31299,31330,31344,31375,31410,31441,31455,31492,31528,31564,31600,31636,31672,31708,31744,31757,31790,31823,31856,31887,31901,31932,31965,31998,32031,32064,32097,32128,32142,32173,32206,32239,32270,32284,32315,32345,32378,32413,32446,32479,32510,32524,32555,32588,32621,32654,32687,32720,32751,32765,32796,32831,32864,32895,32909,32940,32953,32986,33019,33052,33085,33118,33151,33182,33196,33227,33232,33237,33242,33247,33252,33257,33261,33266,33268,33270,33272,33274,33275,33277];_tsip_machine_parser_header_Authorization_trans_keys=[65,80,97,112,85,117,84,116,72,104,79,111,82,114,73,105,90,122,65,97,84,116,73,105,79,111,78,110,9,32,58,9,13,32,66,68,98,100,0,65535,13,0,65535,10,9,13,32,66,68,98,100,0,65535,13,65,97,0,65535,13,83,115,0,65535,13,73,105,0,65535,13,67,99,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,67,78,79,81,82,85,97,99,110,111,113,114,117,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,37,39,44,47,65,67,78,79,81,82,85,97,99,110,111,113,114,117,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,0,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,13,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,65535,13,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,0,47,48,57,58,65535,13,93,0,47,48,57,58,65535,13,93,0,47,48,57,58,65535,13,93,0,65535,13,46,0,47,48,57,58,65535,13,46,0,65535,13,46,0,47,48,57,58,65535,13,46,0,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,65535,13,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,46,0,65535,13,58,0,65535,9,13,32,33,37,39,44,47,61,71,103,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,84,116,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,72,104,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,67,99,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,9,13,32,33,37,39,44,47,61,67,79,99,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,46,48,57,58,64,65,90,92,94,95,96,97,102,103,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,65535,9,13,32,44,0,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,67,99,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,9,13,32,33,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,81,113,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,85,117,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,83,97,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,9,13,32,33,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,83,115,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,9,13,32,33,37,39,44,47,61,82,83,114,115,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,34,92,127,0,31,32,255,256,65535,13,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,34,0,127,128,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,82,83,114,115,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,34,0,127,128,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,67,78,79,81,82,85,92,97,99,110,111,113,114,117,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,79,92,99,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,93,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,46,48,57,58,64,65,90,91,94,95,96,97,102,103,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,83,92,97,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,83,92,114,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,13,73,105,0,65535,13,71,103,0,65535,13,69,101,0,65535,13,83,115,0,65535,13,84,116,0,65535,9,13,32,0,65535,10,13,0,65535,9,13,32,0,65535,82,114,79,111,88,120,89,121,45,65,97,0];
_tsip_machine_parser_header_Authorization_single_lengths=[0,4,2,2,2,2,2,2,2,2,2,2,2,2,3,7,1,1,7,3,3,3,3,3,23,10,5,23,12,11,9,4,5,4,2,2,3,3,3,3,2,4,1,2,1,2,1,2,2,2,2,2,2,2,4,4,3,3,3,3,3,1,4,4,4,1,2,2,2,2,12,12,12,12,12,12,12,10,5,11,9,12,12,12,12,12,10,5,11,5,4,2,14,10,5,11,9,9,9,9,9,9,9,4,12,12,12,10,5,11,5,4,2,12,12,12,12,12,10,5,11,5,4,2,12,12,10,5,11,9,12,14,12,12,10,5,11,5,4,2,12,12,12,12,12,10,5,11,5,4,2,14,12,10,5,11,5,2,5,3,7,26,13,8,13,12,7,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,7,7,26,13,8,13,12,7,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,7,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,7,7,26,13,8,13,12,7,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,7,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,7,26,13,8,13,12,7,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,7,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,15,15,13,8,13,12,15,17,15,15,13,8,13,7,7,26,13,8,13,12,7,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,7,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,15,15,13,8,13,12,15,17,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,7,26,13,8,13,12,7,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,7,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,15,15,13,8,13,12,15,17,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,17,15,13,8,13,7,7,26,13,8,13,12,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,15,15,15,15,15,13,8,13,15,15,13,8,13,12,15,17,15,15,13,8,13,15,15,15,15,15,13,8,13,17,15,13,8,13,15,15,15,15,15,15,13,8,13,7,5,4,2,26,13,8,13,12,7,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,7,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,15,15,13,8,13,12,15,17,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,17,15,13,8,13,7,15,15,15,15,15,15,13,8,13,7,15,15,15,15,15,15,13,8,13,7,17,15,13,8,13,7,15,15,15,15,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,17,15,13,8,13,7,15,15,15,15,15,15,13,8,13,7,15,15,13,8,13,12,15,17,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,17,15,13,8,13,7,15,15,15,15,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,15,15,13,8,13,12,15,17,15,15,13,8,13,7,15,15,15,15,15,13,8,13,7,17,15,13,8,13,7,15,15,15,15,15,15,13,8,13,7,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,15,15,15,15,15,13,8,13,15,15,13,8,13,12,15,17,15,15,13,8,13,15,15,15,15,15,13,8,13,17,15,13,8,13,7,15,15,15,15,15,15,13,8,13,12,12,12,12,12,12,10,5,11,14,12,10,5,11,5,5,3,7,26,13,8,13,12,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,15,15,15,15,15,15,15,15,13,8,13,12,15,15,15,15,15,13,8,13,17,13,8,13,12,12,12,12,12,12,12,7,15,15,15,13,8,13,15,15,15,15,15,13,8,13,15,15,13,8,13,12,15,17,15,15,13,8,13,15,15,15,15,15,13,8,13,17,15,13,8,13,7,15,15,15,15,15,15,13,8,13,3,3,3,3,3,3,2,3,2,2,2,2,1,2,0];_tsip_machine_parser_header_Authorization_range_lengths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,7,7,1,7,7,7,7,1,3,1,2,7,7,7,7,1,7,7,3,3,3,3,3,3,3,1,3,1,3,1,7,7,7,7,7,7,1,7,7,7,7,3,3,3,1,1,7,7,7,7,7,7,7,7,1,7,7,7,7,7,7,7,7,1,7,3,1,2,7,7,1,10,10,10,10,10,10,10,10,1,7,7,7,7,1,7,3,1,2,7,7,7,7,7,7,1,7,3,1,2,7,7,7,1,7,7,7,7,7,7,7,1,7,3,1,2,7,7,7,7,7,7,1,7,3,1,2,7,7,7,1,7,3,1,3,2,3,9,9,3,9,9,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,3,9,9,3,9,9,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,3,3,9,9,3,9,9,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,3,9,9,3,9,9,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,9,9,9,9,9,9,3,9,3,3,9,9,3,9,9,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,3,9,9,3,9,9,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,3,3,9,9,3,9,9,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,3,1,2,9,9,3,9,9,3,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,3,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,9,9,9,9,9,9,3,9,3,9,9,9,9,9,9,3,9,3,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,3,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,7,7,7,7,7,7,7,1,7,7,7,7,1,7,3,3,2,3,9,9,3,9,9,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,9,9,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,9,3,9,9,9,3,12,12,12,12,12,12,12,12,3,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,9,9,9,3,9,9,9,9,3,9,3,9,9,9,9,9,9,9,3,9,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0];_tsip_machine_parser_header_Authorization_index_offsets=[0,0,5,8,11,14,17,20,23,26,29,32,35,38,41,45,54,57,59,68,73,78,83,88,93,124,142,149,180,200,219,236,242,251,257,262,272,283,294,305,310,320,332,337,343,348,354,359,365,371,375,381,385,391,395,407,419,430,441,452,463,468,477,489,501,513,518,524,530,534,538,558,578,598,618,638,658,678,696,703,722,739,759,779,799,819,839,857,864,883,892,898,903,925,943,950,972,992,1012,1032,1052,1072,1092,1112,1118,1138,1158,1178,1196,1203,1222,1231,1237,1242,1262,1282,1302,1322,1342,1360,1367,1386,1395,1401,1406,1426,1446,1464,1471,1490,1507,1527,1549,1569,1589,1607,1614,1633,1642,1648,1653,1673,1693,1713,1733,1753,1771,1778,1797,1806,1812,1817,1839,1859,1877,1884,1903,1912,1916,1925,1931,1942,1978,2001,2013,2036,2058,2069,2085,2102,2119,2136,2147,2163,2181,2192,2204,2215,2227,2238,2250,2262,2272,2284,2294,2306,2316,2334,2352,2369,2386,2403,2420,2431,2446,2464,2482,2500,2511,2523,2535,2545,2555,2580,2605,2630,2655,2680,2705,2730,2755,2778,2790,2813,2835,2860,2885,2910,2935,2960,2983,2995,3018,3029,3040,3076,3099,3111,3134,3156,3167,3183,3200,3217,3234,3245,3261,3279,3290,3302,3313,3325,3336,3348,3360,3370,3382,3392,3404,3414,3432,3450,3467,3484,3501,3518,3529,3544,3562,3580,3598,3609,3621,3633,3643,3653,3678,3703,3728,3753,3778,3803,3828,3853,3876,3888,3911,3933,3958,3983,4008,4033,4058,4081,4093,4116,4127,4154,4177,4189,4215,4240,4265,4290,4315,4340,4365,4390,4401,4426,4451,4476,4499,4511,4534,4545,4556,4592,4615,4627,4650,4672,4683,4699,4716,4733,4750,4761,4777,4795,4806,4818,4829,4841,4852,4864,4876,4886,4897,4909,4919,4931,4941,4959,4977,4994,5011,5028,5045,5056,5071,5089,5107,5125,5136,5148,5160,5170,5180,5205,5230,5255,5280,5305,5330,5355,5380,5403,5415,5438,5460,5485,5510,5535,5560,5585,5608,5620,5643,5654,5681,5704,5716,5742,5767,5792,5817,5842,5867,5892,5917,5928,5953,5978,6003,6026,6038,6061,6072,6097,6122,6147,6172,6197,6220,6232,6255,6266,6277,6313,6336,6348,6371,6393,6404,6420,6437,6454,6471,6482,6498,6516,6527,6539,6550,6562,6573,6585,6597,6607,6618,6630,6640,6652,6662,6680,6698,6715,6732,6749,6766,6777,6792,6810,6828,6846,6857,6869,6881,6891,6901,6926,6951,6976,7001,7026,7051,7076,7101,7124,7136,7159,7181,7206,7231,7256,7281,7306,7329,7341,7364,7375,7402,7425,7437,7463,7488,7513,7538,7563,7588,7613,7638,7649,7674,7699,7724,7747,7759,7782,7793,7818,7843,7868,7893,7918,7941,7953,7976,7987,8012,8037,8060,8072,8095,8117,8142,8169,8194,8219,8242,8254,8277,8288,8299,8335,8358,8370,8393,8415,8426,8442,8459,8476,8493,8504,8520,8538,8549,8561,8572,8584,8595,8607,8619,8629,8640,8652,8662,8674,8684,8702,8720,8737,8754,8771,8788,8799,8814,8832,8850,8868,8879,8891,8903,8913,8923,8948,8973,8998,9023,9048,9073,9098,9123,9146,9158,9181,9203,9228,9253,9278,9303,9328,9351,9363,9386,9397,9424,9447,9459,9485,9510,9535,9560,9585,9610,9635,9660,9671,9696,9721,9746,9769,9781,9804,9815,9840,9865,9890,9915,9940,9963,9975,9998,10009,10034,10059,10082,10094,10117,10139,10164,10191,10216,10241,10264,10276,10299,10310,10335,10360,10385,10410,10435,10458,10470,10493,10504,10515,10551,10574,10586,10609,10631,10642,10658,10675,10692,10709,10720,10736,10754,10765,10777,10788,10800,10811,10823,10835,10845,10856,10868,10878,10890,10900,10918,10936,10953,10970,10987,11004,11015,11030,11048,11066,11084,11095,11107,11119,11129,11139,11164,11189,11214,11239,11264,11289,11314,11339,11362,11374,11397,11419,11444,11469,11494,11519,11544,11567,11579,11602,11613,11640,11663,11675,11701,11726,11751,11776,11801,11826,11851,11876,11887,11912,11937,11962,11985,11997,12020,12031,12056,12081,12106,12131,12156,12179,12191,12214,12225,12250,12275,12298,12310,12333,12355,12380,12407,12432,12457,12480,12492,12515,12526,12551,12576,12601,12626,12651,12674,12686,12709,12720,12747,12772,12795,12807,12830,12841,12852,12888,12911,12923,12946,12968,12984,13001,13018,13035,13046,13062,13080,13091,13103,13114,13126,13137,13149,13161,13171,13182,13194,13204,13216,13226,13244,13262,13279,13296,13313,13330,13341,13356,13374,13392,13410,13421,13433,13445,13455,13465,13490,13515,13540,13565,13590,13615,13640,13665,13688,13700,13723,13745,13770,13795,13820,13845,13870,13893,13905,13928,13955,13978,13990,14016,14041,14066,14091,14116,14141,14166,14191,14202,14227,14252,14277,14300,14312,14335,14360,14385,14410,14435,14460,14483,14495,14518,14543,14568,14591,14603,14626,14648,14673,14700,14725,14750,14773,14785,14808,14833,14858,14883,14908,14933,14956,14968,14991,15018,15043,15066,15078,15101,15126,15151,15176,15201,15226,15251,15274,15286,15309,15320,15329,15335,15340,15376,15399,15411,15434,15456,15467,15483,15500,15517,15534,15545,15561,15579,15590,15602,15613,15625,15636,15648,15660,15670,15681,15693,15703,15715,15725,15743,15761,15778,15795,15812,15829,15840,15855,15873,15891,15909,15920,15932,15944,15954,15964,15989,16014,16039,16064,16089,16114,16139,16164,16187,16199,16222,16244,16269,16294,16319,16344,16369,16392,16404,16427,16438,16465,16488,16500,16526,16551,16576,16601,16626,16651,16676,16701,16712,16737,16762,16787,16810,16822,16845,16856,16881,16906,16931,16956,16981,17004,17016,17039,17050,17075,17100,17123,17135,17158,17180,17205,17232,17257,17282,17305,17317,17340,17351,17376,17401,17426,17451,17476,17499,17511,17534,17545,17572,17597,17620,17632,17655,17666,17691,17716,17741,17766,17791,17816,17839,17851,17874,17885,17910,17935,17960,17985,18010,18035,18058,18070,18093,18104,18131,18156,18179,18191,18214,18225,18250,18275,18300,18325,18350,18375,18398,18410,18433,18444,18469,18494,18519,18544,18569,18592,18604,18627,18638,18665,18690,18713,18725,18748,18759,18784,18809,18834,18859,18884,18909,18932,18944,18967,18978,19003,19028,19051,19063,19086,19108,19133,19160,19185,19210,19233,19245,19268,19279,19304,19329,19354,19379,19404,19427,19439,19462,19473,19500,19525,19548,19560,19583,19594,19619,19644,19669,19694,19719,19744,19767,19779,19802,19813,19838,19863,19888,19913,19938,19961,19973,19996,20007,20032,20057,20080,20092,20115,20137,20162,20189,20214,20239,20262,20274,20297,20308,20333,20358,20383,20408,20433,20456,20468,20491,20502,20529,20554,20577,20589,20612,20623,20648,20673,20698,20723,20748,20773,20796,20808,20831,20842,20869,20892,20904,20930,20955,20980,21005,21030,21055,21080,21105,21116,21141,21166,21191,21214,21226,21249,21274,21299,21324,21349,21374,21397,21409,21432,21457,21482,21505,21517,21540,21562,21587,21614,21639,21664,21687,21699,21722,21747,21772,21797,21822,21847,21870,21882,21905,21932,21957,21980,21992,22015,22026,22051,22076,22101,22126,22151,22176,22199,22211,22234,22254,22274,22294,22314,22334,22354,22372,22379,22398,22420,22440,22458,22465,22484,22493,22502,22508,22519,22555,22578,22590,22613,22635,22651,22668,22685,22702,22713,22729,22747,22758,22770,22781,22793,22804,22816,22828,22838,22849,22861,22871,22883,22893,22911,22929,22946,22963,22980,22997,23008,23023,23041,23059,23077,23088,23100,23112,23122,23132,23157,23182,23207,23232,23257,23282,23307,23332,23355,23367,23390,23412,23437,23462,23487,23512,23537,23560,23572,23595,23622,23645,23657,23683,23708,23733,23758,23783,23808,23833,23858,23869,23894,23919,23944,23967,23979,24002,24027,24052,24077,24102,24127,24150,24162,24185,24210,24235,24258,24270,24293,24315,24340,24367,24392,24417,24440,24452,24475,24500,24525,24550,24575,24600,24623,24635,24658,24685,24710,24733,24745,24768,24779,24804,24829,24854,24879,24904,24929,24952,24964,24987,24992,24997,25002,25007,25012,25017,25021,25026,25029,25032,25035,25038,25040,25043];_tsip_machine_parser_header_Authorization_indicies=[0,2,0,2,1,3,3,1,4,4,1,5,5,1,6,6,1,7,7,1,8,8,1,9,9,1,10,10,1,11,11,1,12,12,1,13,13,1,14,14,1,14,14,15,1,17,18,17,19,20,19,20,16,1,21,16,1,22,1,17,21,17,19,20,19,20,16,1,21,23,23,16,1,21,24,24,16,1,21,25,25,16,1,21,26,26,16,1,27,21,27,16,1,28,21,28,29,29,29,16,16,30,31,32,33,34,35,36,30,31,32,33,34,35,36,29,16,29,16,29,16,29,16,1,37,38,37,39,39,39,40,16,41,39,16,39,16,39,16,39,16,1,42,21,42,43,41,16,1,43,21,43,29,29,29,16,16,30,31,32,33,34,35,44,30,31,32,33,34,35,44,29,16,29,16,29,16,29,16,1,37,38,37,39,39,39,40,16,41,45,45,39,16,39,16,39,16,39,16,1,41,21,41,46,47,46,46,16,16,48,46,16,46,16,46,16,46,16,1,49,38,49,46,46,46,40,16,46,16,46,16,46,16,46,16,1,50,21,50,43,16,1,47,21,51,52,16,16,47,16,1,49,38,49,40,16,1,16,21,47,16,1,21,54,16,53,16,53,16,53,16,1,21,56,51,16,55,16,55,16,55,16,1,21,56,51,16,57,16,57,16,57,16,1,21,56,51,16,58,16,58,16,58,16,1,21,56,51,16,1,21,60,16,59,16,53,16,53,16,1,21,61,56,51,16,62,16,55,16,55,16,1,21,16,63,16,1,21,64,16,65,16,1,21,16,66,16,1,21,67,16,68,16,1,21,16,69,16,1,21,51,16,70,16,1,21,51,16,71,16,1,21,51,16,1,21,67,16,72,16,1,21,67,16,1,21,64,16,73,16,1,21,64,16,1,21,61,56,51,16,74,16,57,16,57,16,1,21,61,56,51,16,58,16,58,16,58,16,1,21,76,51,16,75,16,75,16,75,16,1,21,78,51,16,77,16,77,16,77,16,1,21,78,51,16,79,16,79,16,79,16,1,21,78,51,16,80,16,80,16,80,16,1,21,78,51,16,1,21,16,81,16,75,16,75,16,1,21,61,78,51,16,82,16,77,16,77,16,1,21,61,78,51,16,83,16,79,16,79,16,1,21,61,78,51,16,80,16,80,16,80,16,1,21,16,84,16,1,21,61,16,85,16,1,21,61,16,86,16,1,21,61,16,1,21,60,16,1,37,38,37,39,39,39,40,16,41,87,87,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,88,88,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,89,89,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,90,90,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,91,91,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,92,92,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,93,93,39,16,39,16,39,16,39,16,1,94,38,94,39,39,39,40,16,95,39,16,39,16,39,16,39,16,1,96,21,96,43,95,16,1,95,21,95,97,47,97,97,16,16,48,97,16,97,16,97,16,97,16,1,98,99,98,100,100,100,101,16,100,16,100,16,100,16,100,16,1,37,38,37,39,39,39,40,16,41,102,102,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,103,103,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,104,104,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,105,105,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,106,106,39,16,39,16,39,16,39,16,1,107,38,107,39,39,39,40,16,108,39,16,39,16,39,16,39,16,1,109,21,109,43,108,16,1,110,21,110,46,111,46,46,16,16,48,46,16,46,16,46,16,46,16,1,112,21,113,114,16,16,112,16,1,115,116,115,117,16,1,16,21,112,16,1,37,38,37,39,39,39,40,16,41,118,119,118,119,39,16,39,16,39,16,39,16,1,120,38,120,39,39,39,40,16,121,39,16,39,16,39,16,39,16,1,122,21,122,43,121,16,1,121,21,121,46,47,46,46,16,16,48,46,16,46,123,16,46,16,46,123,46,16,1,49,38,49,46,46,46,40,16,46,16,46,124,16,46,16,46,124,46,16,1,49,38,49,46,46,46,40,16,46,16,46,125,16,46,16,46,125,46,16,1,49,38,49,46,46,46,40,16,46,16,46,126,16,46,16,46,126,46,16,1,49,38,49,46,46,46,40,16,46,16,46,127,16,46,16,46,127,46,16,1,49,38,49,46,46,46,40,16,46,16,46,128,16,46,16,46,128,46,16,1,49,38,49,46,46,46,40,16,46,16,46,129,16,46,16,46,129,46,16,1,49,38,49,46,46,46,40,16,46,16,46,130,16,46,16,46,130,46,16,1,131,132,131,133,16,1,37,38,37,39,39,39,40,16,41,134,134,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,135,135,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,136,136,39,16,39,16,39,16,39,16,1,137,38,137,39,39,39,40,16,138,39,16,39,16,39,16,39,16,1,139,21,139,43,138,16,1,140,21,140,46,141,46,46,16,16,48,46,16,46,16,46,16,46,16,1,142,21,143,144,16,16,142,16,1,145,146,145,147,16,1,16,21,142,16,1,37,38,37,39,39,39,40,16,41,148,148,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,149,149,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,150,150,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,151,151,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,152,152,39,16,39,16,39,16,39,16,1,153,38,153,39,39,39,40,16,154,39,16,39,16,39,16,39,16,1,155,21,155,43,154,16,1,156,21,156,46,157,46,46,16,16,48,46,16,46,16,46,16,46,16,1,158,21,159,160,16,16,158,16,1,161,162,161,163,16,1,16,21,158,16,1,37,38,37,39,39,39,40,16,41,164,164,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,165,165,39,16,39,16,39,16,39,16,1,166,38,166,39,39,39,40,16,167,39,16,39,16,39,16,39,16,1,168,21,168,43,167,16,1,167,21,167,169,47,169,169,16,16,48,169,16,169,16,169,16,169,16,1,170,171,170,172,172,172,173,16,172,16,172,16,172,16,172,16,1,37,38,37,39,39,39,40,16,41,174,174,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,175,176,175,176,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,177,177,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,178,178,39,16,39,16,39,16,39,16,1,179,38,179,39,39,39,40,16,180,39,16,39,16,39,16,39,16,1,181,21,181,43,180,16,1,182,21,182,46,183,46,46,16,16,48,46,16,46,16,46,16,46,16,1,184,21,185,186,16,16,184,16,1,187,188,187,189,16,1,16,21,184,16,1,37,38,37,39,39,39,40,16,41,190,190,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,191,191,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,192,192,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,193,193,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,194,194,39,16,39,16,39,16,39,16,1,195,38,195,39,39,39,40,16,196,39,16,39,16,39,16,39,16,1,197,21,197,43,196,16,1,198,21,198,46,199,46,46,16,16,48,46,16,46,16,46,16,46,16,1,200,21,201,202,16,16,200,16,1,203,204,203,205,16,1,16,21,200,16,1,37,38,37,39,39,39,40,16,41,206,207,206,207,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,208,208,39,16,39,16,39,16,39,16,1,209,38,209,39,39,39,40,16,210,39,16,39,16,39,16,39,16,1,211,21,211,43,210,16,1,210,21,210,46,212,46,46,16,16,48,46,16,46,16,46,16,46,16,1,214,21,215,216,213,213,214,213,1,21,218,217,1,219,21,218,220,217,217,219,217,1,217,21,221,219,217,1,222,21,222,51,223,52,16,16,47,16,1,223,21,223,224,51,224,224,47,47,225,226,227,228,229,230,231,52,225,226,227,228,229,230,231,224,16,16,47,224,47,224,47,224,47,16,1,232,38,232,233,51,233,233,234,47,235,52,233,16,16,47,233,47,233,47,233,47,16,1,236,21,236,51,223,235,52,16,16,47,16,1,235,21,235,237,238,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,47,237,47,237,47,16,1,240,38,240,51,234,52,16,16,47,16,1,47,21,51,242,52,16,16,47,241,47,241,47,241,47,16,1,47,21,51,244,52,238,16,16,47,243,47,243,47,243,47,16,1,47,21,51,244,52,238,16,16,47,245,47,245,47,245,47,16,1,47,21,51,244,52,238,16,16,47,246,47,246,47,246,47,16,1,47,21,51,244,52,238,16,16,47,16,1,47,21,51,248,52,16,16,47,247,47,241,47,241,47,16,1,47,21,51,249,244,52,238,16,16,47,250,47,243,47,243,47,16,1,47,21,51,52,16,16,47,251,47,16,1,47,21,51,252,52,16,16,47,253,47,16,1,47,21,51,52,16,16,47,254,47,16,1,47,21,51,255,52,16,16,47,256,47,16,1,47,21,51,52,16,16,47,257,47,16,1,47,21,51,52,238,16,16,47,258,47,16,1,47,21,51,52,238,16,16,47,259,47,16,1,47,21,51,52,238,16,16,47,16,1,47,21,51,255,52,16,16,47,260,47,16,1,47,21,51,255,52,16,16,47,16,1,47,21,51,252,52,16,16,47,261,47,16,1,47,21,51,252,52,16,16,47,16,1,47,21,51,249,244,52,238,16,16,47,262,47,245,47,245,47,16,1,47,21,51,249,244,52,238,16,16,47,246,47,246,47,246,47,16,1,47,21,51,264,52,238,16,16,47,263,47,263,47,263,47,16,1,47,21,51,266,52,238,16,16,47,265,47,265,47,265,47,16,1,47,21,51,266,52,238,16,16,47,267,47,267,47,267,47,16,1,47,21,51,266,52,238,16,16,47,268,47,268,47,268,47,16,1,47,21,51,266,52,238,16,16,47,16,1,47,21,51,52,16,16,47,269,47,263,47,263,47,16,1,47,21,51,249,266,52,238,16,16,47,270,47,265,47,265,47,16,1,47,21,51,249,266,52,238,16,16,47,271,47,267,47,267,47,16,1,47,21,51,249,266,52,238,16,16,47,268,47,268,47,268,47,16,1,47,21,51,52,16,16,47,272,47,16,1,47,21,51,249,52,16,16,47,273,47,16,1,47,21,51,249,52,16,16,47,274,47,16,1,47,21,51,249,52,16,16,47,16,1,47,21,51,248,52,16,16,47,16,1,232,38,232,233,51,233,233,234,47,235,275,52,275,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,276,52,276,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,277,52,277,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,278,52,278,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,279,52,279,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,280,52,280,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,281,52,281,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,282,52,282,233,16,16,47,233,47,233,47,233,47,16,1,283,38,283,233,51,233,233,234,47,284,52,233,16,16,47,233,47,233,47,233,47,16,1,285,21,285,51,223,284,52,16,16,47,16,1,284,21,284,286,238,286,286,47,47,239,52,286,16,16,47,286,47,286,47,286,47,16,1,287,99,287,288,51,288,288,289,47,52,288,16,16,47,288,47,288,47,288,47,16,1,232,38,232,233,51,233,233,234,47,235,290,52,290,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,291,52,291,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,292,52,292,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,293,52,293,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,294,52,294,233,16,16,47,233,47,233,47,233,47,16,1,295,38,295,233,51,233,233,234,47,296,52,233,16,16,47,233,47,233,47,233,47,16,1,297,21,297,51,223,296,52,16,16,47,16,1,298,21,298,237,299,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,300,38,300,113,301,114,16,16,112,16,1,302,21,302,113,303,114,16,16,112,16,1,303,21,303,304,113,304,304,112,112,305,306,307,308,309,310,311,114,305,306,307,308,309,310,311,304,16,16,112,304,112,304,112,304,112,16,1,312,38,312,313,113,313,313,301,112,314,114,313,16,16,112,313,112,313,112,313,112,16,1,315,21,315,113,303,314,114,16,16,112,16,1,314,21,314,316,317,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,112,316,112,316,112,16,1,319,116,319,51,320,52,16,16,47,16,1,112,21,113,322,114,16,16,112,321,112,321,112,321,112,16,1,112,21,113,324,114,325,16,16,112,323,112,323,112,323,112,16,1,112,21,113,324,114,325,16,16,112,326,112,326,112,326,112,16,1,112,21,113,324,114,325,16,16,112,327,112,327,112,327,112,16,1,112,21,113,324,114,325,16,16,112,16,1,112,21,113,329,114,16,16,112,328,112,321,112,321,112,16,1,112,21,113,330,324,114,325,16,16,112,331,112,323,112,323,112,16,1,112,21,113,114,16,16,112,332,112,16,1,112,21,113,333,114,16,16,112,334,112,16,1,112,21,113,114,16,16,112,335,112,16,1,112,21,113,336,114,16,16,112,337,112,16,1,112,21,113,114,16,16,112,338,112,16,1,112,21,113,114,325,16,16,112,339,112,16,1,112,21,113,114,325,16,16,112,340,112,16,1,112,21,113,114,325,16,16,112,16,1,112,21,113,336,114,16,16,112,341,112,16,1,112,21,113,336,114,16,16,112,16,1,112,21,113,333,114,16,16,112,342,112,16,1,112,21,113,333,114,16,16,112,16,1,112,21,113,330,324,114,325,16,16,112,343,112,326,112,326,112,16,1,112,21,113,330,324,114,325,16,16,112,327,112,327,112,327,112,16,1,112,21,113,345,114,325,16,16,112,344,112,344,112,344,112,16,1,112,21,113,347,114,325,16,16,112,346,112,346,112,346,112,16,1,112,21,113,347,114,325,16,16,112,348,112,348,112,348,112,16,1,112,21,113,347,114,325,16,16,112,349,112,349,112,349,112,16,1,112,21,113,347,114,325,16,16,112,16,1,112,21,113,114,16,16,112,350,112,344,112,344,112,16,1,112,21,113,330,347,114,325,16,16,112,351,112,346,112,346,112,16,1,112,21,113,330,347,114,325,16,16,112,352,112,348,112,348,112,16,1,112,21,113,330,347,114,325,16,16,112,349,112,349,112,349,112,16,1,112,21,113,114,16,16,112,353,112,16,1,112,21,113,330,114,16,16,112,354,112,16,1,112,21,113,330,114,16,16,112,355,112,16,1,112,21,113,330,114,16,16,112,16,1,112,21,113,329,114,16,16,112,16,1,312,38,312,313,113,313,313,301,112,314,356,114,356,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,357,114,357,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,358,114,358,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,359,114,359,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,360,114,360,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,361,114,361,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,362,114,362,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,363,114,363,313,16,16,112,313,112,313,112,313,112,16,1,364,38,364,313,113,313,313,301,112,365,114,313,16,16,112,313,112,313,112,313,112,16,1,366,21,366,113,303,365,114,16,16,112,16,1,365,21,365,367,317,367,367,112,112,318,114,367,16,16,112,367,112,367,112,367,112,16,1,368,99,368,369,113,369,369,370,112,114,369,16,16,112,369,112,369,112,369,112,16,1,312,38,312,313,113,313,313,301,112,314,371,114,371,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,372,114,372,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,373,114,373,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,374,114,374,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,375,114,375,313,16,16,112,313,112,313,112,313,112,16,1,376,38,376,313,113,313,313,301,112,377,114,313,16,16,112,313,112,313,112,313,112,16,1,378,21,378,113,303,377,114,16,16,112,16,1,379,21,379,316,380,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,381,116,381,113,382,114,16,16,112,16,1,312,38,312,313,113,313,313,301,112,314,383,384,114,383,384,313,16,16,112,313,112,313,112,313,112,16,1,385,38,385,313,113,313,313,301,112,386,114,313,16,16,112,313,112,313,112,313,112,16,1,387,21,387,113,303,386,114,16,16,112,16,1,386,21,386,316,317,316,316,112,112,318,114,316,16,16,112,316,388,112,316,112,316,388,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,389,112,316,112,316,389,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,390,112,316,112,316,390,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,391,112,316,112,316,391,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,392,112,316,112,316,392,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,393,112,316,112,316,393,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,394,112,316,112,316,394,316,112,16,1,300,38,300,316,113,316,316,301,112,114,316,16,16,112,316,395,112,316,112,316,395,316,112,16,1,396,132,396,113,397,114,16,16,112,16,1,312,38,312,313,113,313,313,301,112,314,398,114,398,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,399,114,399,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,400,114,400,313,16,16,112,313,112,313,112,313,112,16,1,401,38,401,313,113,313,313,301,112,402,114,313,16,16,112,313,112,313,112,313,112,16,1,403,21,403,113,303,402,114,16,16,112,16,1,404,21,404,316,405,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,406,116,406,143,407,144,16,16,142,16,1,408,21,408,143,409,144,16,16,142,16,1,409,21,409,410,143,410,410,142,142,411,412,413,414,415,416,417,144,411,412,413,414,415,416,417,410,16,16,142,410,142,410,142,410,142,16,1,418,38,418,419,143,419,419,420,142,421,144,419,16,16,142,419,142,419,142,419,142,16,1,422,21,422,143,409,421,144,16,16,142,16,1,421,21,421,423,424,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,142,423,142,423,142,16,1,427,146,427,51,428,52,16,16,47,16,1,142,21,143,430,144,16,16,142,429,142,429,142,429,142,16,1,142,21,143,432,144,433,16,16,142,431,142,431,142,431,142,16,1,142,21,143,432,144,433,16,16,142,434,142,434,142,434,142,16,1,142,21,143,432,144,433,16,16,142,435,142,435,142,435,142,16,1,142,21,143,432,144,433,16,16,142,16,1,142,21,143,437,144,16,16,142,436,142,429,142,429,142,16,1,142,21,143,438,432,144,433,16,16,142,439,142,431,142,431,142,16,1,142,21,143,144,16,16,142,440,142,16,1,142,21,143,441,144,16,16,142,442,142,16,1,142,21,143,144,16,16,142,443,142,16,1,142,21,143,444,144,16,16,142,445,142,16,1,142,21,143,144,16,16,142,446,142,16,1,142,21,143,144,433,16,16,142,447,142,16,1,142,21,143,144,433,16,16,142,448,142,16,1,142,21,143,144,433,16,16,142,16,1,426,38,426,143,420,144,16,16,142,16,1,142,21,143,444,144,16,16,142,449,142,16,1,142,21,143,444,144,16,16,142,16,1,142,21,143,441,144,16,16,142,450,142,16,1,142,21,143,441,144,16,16,142,16,1,142,21,143,438,432,144,433,16,16,142,451,142,434,142,434,142,16,1,142,21,143,438,432,144,433,16,16,142,435,142,435,142,435,142,16,1,142,21,143,453,144,433,16,16,142,452,142,452,142,452,142,16,1,142,21,143,455,144,433,16,16,142,454,142,454,142,454,142,16,1,142,21,143,455,144,433,16,16,142,456,142,456,142,456,142,16,1,142,21,143,455,144,433,16,16,142,457,142,457,142,457,142,16,1,142,21,143,455,144,433,16,16,142,16,1,142,21,143,144,16,16,142,458,142,452,142,452,142,16,1,142,21,143,438,455,144,433,16,16,142,459,142,454,142,454,142,16,1,142,21,143,438,455,144,433,16,16,142,460,142,456,142,456,142,16,1,142,21,143,438,455,144,433,16,16,142,457,142,457,142,457,142,16,1,142,21,143,144,16,16,142,461,142,16,1,142,21,143,438,144,16,16,142,462,142,16,1,142,21,143,438,144,16,16,142,463,142,16,1,142,21,143,438,144,16,16,142,16,1,142,21,143,437,144,16,16,142,16,1,418,38,418,419,143,419,419,420,142,421,464,144,464,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,465,144,465,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,466,144,466,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,467,144,467,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,468,144,468,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,469,144,469,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,470,144,470,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,471,144,471,419,16,16,142,419,142,419,142,419,142,16,1,472,38,472,419,143,419,419,420,142,473,144,419,16,16,142,419,142,419,142,419,142,16,1,474,21,474,143,409,473,144,16,16,142,16,1,473,21,473,475,424,475,475,142,142,425,144,475,16,16,142,475,142,475,142,475,142,16,1,476,99,476,477,143,477,477,478,142,144,477,16,16,142,477,142,477,142,477,142,16,1,418,38,418,419,143,419,419,420,142,421,479,144,479,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,480,144,480,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,481,144,481,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,482,144,482,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,483,144,483,419,16,16,142,419,142,419,142,419,142,16,1,484,38,484,419,143,419,419,420,142,485,144,419,16,16,142,419,142,419,142,419,142,16,1,486,21,486,143,409,485,144,16,16,142,16,1,487,21,487,423,488,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,489,146,489,113,490,114,16,16,112,16,1,418,38,418,419,143,419,419,420,142,421,491,492,144,491,492,419,16,16,142,419,142,419,142,419,142,16,1,493,38,493,419,143,419,419,420,142,494,144,419,16,16,142,419,142,419,142,419,142,16,1,495,21,495,143,409,494,144,16,16,142,16,1,494,21,494,423,424,423,423,142,142,425,144,423,16,16,142,423,496,142,423,142,423,496,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,497,142,423,142,423,497,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,498,142,423,142,423,498,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,499,142,423,142,423,499,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,500,142,423,142,423,500,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,501,142,423,142,423,501,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,502,142,423,142,423,502,423,142,16,1,426,38,426,423,143,423,423,420,142,144,423,16,16,142,423,503,142,423,142,423,503,423,142,16,1,504,132,504,143,505,144,16,16,142,16,1,418,38,418,419,143,419,419,420,142,421,506,144,506,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,507,144,507,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,508,144,508,419,16,16,142,419,142,419,142,419,142,16,1,509,38,509,419,143,419,419,420,142,510,144,419,16,16,142,419,142,419,142,419,142,16,1,511,21,511,143,409,510,144,16,16,142,16,1,512,21,512,423,513,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,514,146,514,143,515,144,16,16,142,16,1,418,38,418,419,143,419,419,420,142,421,516,144,516,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,517,144,517,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,518,144,518,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,519,144,519,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,520,144,520,419,16,16,142,419,142,419,142,419,142,16,1,521,38,521,419,143,419,419,420,142,522,144,419,16,16,142,419,142,419,142,419,142,16,1,523,21,523,143,409,522,144,16,16,142,16,1,524,21,524,423,525,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,526,146,526,159,527,160,16,16,158,16,1,528,21,528,159,529,160,16,16,158,16,1,529,21,529,530,159,530,530,158,158,531,532,533,534,535,536,537,160,531,532,533,534,535,536,537,530,16,16,158,530,158,530,158,530,158,16,1,538,38,538,539,159,539,539,540,158,541,160,539,16,16,158,539,158,539,158,539,158,16,1,542,21,542,159,529,541,160,16,16,158,16,1,541,21,541,543,544,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,158,543,158,543,158,16,1,547,162,547,51,548,52,16,16,47,16,1,158,21,159,550,160,16,16,158,549,158,549,158,549,158,16,1,158,21,159,552,160,553,16,16,158,551,158,551,158,551,158,16,1,158,21,159,552,160,553,16,16,158,554,158,554,158,554,158,16,1,158,21,159,552,160,553,16,16,158,555,158,555,158,555,158,16,1,158,21,159,552,160,553,16,16,158,16,1,158,21,159,557,160,16,16,158,556,158,549,158,549,158,16,1,158,21,159,558,552,160,553,16,16,158,559,158,551,158,551,158,16,1,158,21,159,160,16,16,158,560,158,16,1,158,21,159,561,160,16,16,158,562,158,16,1,158,21,159,160,16,16,158,563,158,16,1,158,21,159,564,160,16,16,158,565,158,16,1,158,21,159,160,16,16,158,566,158,16,1,158,21,159,160,553,16,16,158,567,158,16,1,158,21,159,160,553,16,16,158,568,158,16,1,158,21,159,160,553,16,16,158,16,1,546,38,546,159,540,160,16,16,158,16,1,158,21,159,564,160,16,16,158,569,158,16,1,158,21,159,564,160,16,16,158,16,1,158,21,159,561,160,16,16,158,570,158,16,1,158,21,159,561,160,16,16,158,16,1,158,21,159,558,552,160,553,16,16,158,571,158,554,158,554,158,16,1,158,21,159,558,552,160,553,16,16,158,555,158,555,158,555,158,16,1,158,21,159,573,160,553,16,16,158,572,158,572,158,572,158,16,1,158,21,159,575,160,553,16,16,158,574,158,574,158,574,158,16,1,158,21,159,575,160,553,16,16,158,576,158,576,158,576,158,16,1,158,21,159,575,160,553,16,16,158,577,158,577,158,577,158,16,1,158,21,159,575,160,553,16,16,158,16,1,158,21,159,160,16,16,158,578,158,572,158,572,158,16,1,158,21,159,558,575,160,553,16,16,158,579,158,574,158,574,158,16,1,158,21,159,558,575,160,553,16,16,158,580,158,576,158,576,158,16,1,158,21,159,558,575,160,553,16,16,158,577,158,577,158,577,158,16,1,158,21,159,160,16,16,158,581,158,16,1,158,21,159,558,160,16,16,158,582,158,16,1,158,21,159,558,160,16,16,158,583,158,16,1,158,21,159,558,160,16,16,158,16,1,158,21,159,557,160,16,16,158,16,1,538,38,538,539,159,539,539,540,158,541,584,160,584,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,585,160,585,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,586,160,586,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,587,160,587,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,588,160,588,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,589,160,589,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,590,160,590,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,591,160,591,539,16,16,158,539,158,539,158,539,158,16,1,592,38,592,539,159,539,539,540,158,593,160,539,16,16,158,539,158,539,158,539,158,16,1,594,21,594,159,529,593,160,16,16,158,16,1,593,21,593,595,544,595,595,158,158,545,160,595,16,16,158,595,158,595,158,595,158,16,1,596,99,596,597,159,597,597,598,158,160,597,16,16,158,597,158,597,158,597,158,16,1,538,38,538,539,159,539,539,540,158,541,599,160,599,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,600,160,600,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,601,160,601,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,602,160,602,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,603,160,603,539,16,16,158,539,158,539,158,539,158,16,1,604,38,604,539,159,539,539,540,158,605,160,539,16,16,158,539,158,539,158,539,158,16,1,606,21,606,159,529,605,160,16,16,158,16,1,607,21,607,543,608,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,609,162,609,113,610,114,16,16,112,16,1,538,38,538,539,159,539,539,540,158,541,611,612,160,611,612,539,16,16,158,539,158,539,158,539,158,16,1,613,38,613,539,159,539,539,540,158,614,160,539,16,16,158,539,158,539,158,539,158,16,1,615,21,615,159,529,614,160,16,16,158,16,1,614,21,614,543,544,543,543,158,158,545,160,543,16,16,158,543,616,158,543,158,543,616,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,617,158,543,158,543,617,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,618,158,543,158,543,618,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,619,158,543,158,543,619,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,620,158,543,158,543,620,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,621,158,543,158,543,621,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,622,158,543,158,543,622,543,158,16,1,546,38,546,543,159,543,543,540,158,160,543,16,16,158,543,623,158,543,158,543,623,543,158,16,1,624,132,624,159,625,160,16,16,158,16,1,538,38,538,539,159,539,539,540,158,541,626,160,626,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,627,160,627,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,628,160,628,539,16,16,158,539,158,539,158,539,158,16,1,629,38,629,539,159,539,539,540,158,630,160,539,16,16,158,539,158,539,158,539,158,16,1,631,21,631,159,529,630,160,16,16,158,16,1,632,21,632,543,633,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,634,162,634,143,635,144,16,16,142,16,1,538,38,538,539,159,539,539,540,158,541,636,160,636,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,637,160,637,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,638,160,638,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,639,160,639,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,640,160,640,539,16,16,158,539,158,539,158,539,158,16,1,641,38,641,539,159,539,539,540,158,642,160,539,16,16,158,539,158,539,158,539,158,16,1,643,21,643,159,529,642,160,16,16,158,16,1,644,21,644,543,645,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,646,162,646,159,647,160,16,16,158,16,1,538,38,538,539,159,539,539,540,158,541,648,160,648,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,649,160,649,539,16,16,158,539,158,539,158,539,158,16,1,650,38,650,539,159,539,539,540,158,651,160,539,16,16,158,539,158,539,158,539,158,16,1,652,21,652,159,529,651,160,16,16,158,16,1,651,21,651,653,544,653,653,158,158,545,160,653,16,16,158,653,158,653,158,653,158,16,1,654,171,654,655,159,655,655,656,158,160,655,16,16,158,655,158,655,158,655,158,16,1,538,38,538,539,159,539,539,540,158,541,657,160,657,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,658,659,160,658,659,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,660,160,660,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,661,160,661,539,16,16,158,539,158,539,158,539,158,16,1,662,38,662,539,159,539,539,540,158,663,160,539,16,16,158,539,158,539,158,539,158,16,1,664,21,664,159,529,663,160,16,16,158,16,1,665,21,665,543,666,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,667,162,667,185,668,186,16,16,184,16,1,669,21,669,185,670,186,16,16,184,16,1,670,21,670,671,185,671,671,184,184,672,673,674,675,676,677,678,186,672,673,674,675,676,677,678,671,16,16,184,671,184,671,184,671,184,16,1,679,38,679,680,185,680,680,681,184,682,186,680,16,16,184,680,184,680,184,680,184,16,1,683,21,683,185,670,682,186,16,16,184,16,1,682,21,682,684,685,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,184,684,184,684,184,16,1,688,188,688,51,689,52,16,16,47,16,1,184,21,185,691,186,16,16,184,690,184,690,184,690,184,16,1,184,21,185,693,186,694,16,16,184,692,184,692,184,692,184,16,1,184,21,185,693,186,694,16,16,184,695,184,695,184,695,184,16,1,184,21,185,693,186,694,16,16,184,696,184,696,184,696,184,16,1,184,21,185,693,186,694,16,16,184,16,1,184,21,185,698,186,16,16,184,697,184,690,184,690,184,16,1,184,21,185,699,693,186,694,16,16,184,700,184,692,184,692,184,16,1,184,21,185,186,16,16,184,701,184,16,1,184,21,185,702,186,16,16,184,703,184,16,1,184,21,185,186,16,16,184,704,184,16,1,184,21,185,705,186,16,16,184,706,184,16,1,184,21,185,186,16,16,184,707,184,16,1,184,21,185,186,694,16,16,184,708,184,16,1,184,21,185,186,694,16,16,184,709,184,16,1,184,21,185,186,694,16,16,184,16,1,687,38,687,185,681,186,16,16,184,16,1,184,21,185,705,186,16,16,184,710,184,16,1,184,21,185,705,186,16,16,184,16,1,184,21,185,702,186,16,16,184,711,184,16,1,184,21,185,702,186,16,16,184,16,1,184,21,185,699,693,186,694,16,16,184,712,184,695,184,695,184,16,1,184,21,185,699,693,186,694,16,16,184,696,184,696,184,696,184,16,1,184,21,185,714,186,694,16,16,184,713,184,713,184,713,184,16,1,184,21,185,716,186,694,16,16,184,715,184,715,184,715,184,16,1,184,21,185,716,186,694,16,16,184,717,184,717,184,717,184,16,1,184,21,185,716,186,694,16,16,184,718,184,718,184,718,184,16,1,184,21,185,716,186,694,16,16,184,16,1,184,21,185,186,16,16,184,719,184,713,184,713,184,16,1,184,21,185,699,716,186,694,16,16,184,720,184,715,184,715,184,16,1,184,21,185,699,716,186,694,16,16,184,721,184,717,184,717,184,16,1,184,21,185,699,716,186,694,16,16,184,718,184,718,184,718,184,16,1,184,21,185,186,16,16,184,722,184,16,1,184,21,185,699,186,16,16,184,723,184,16,1,184,21,185,699,186,16,16,184,724,184,16,1,184,21,185,699,186,16,16,184,16,1,184,21,185,698,186,16,16,184,16,1,679,38,679,680,185,680,680,681,184,682,725,186,725,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,726,186,726,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,727,186,727,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,728,186,728,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,729,186,729,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,730,186,730,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,731,186,731,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,732,186,732,680,16,16,184,680,184,680,184,680,184,16,1,733,38,733,680,185,680,680,681,184,734,186,680,16,16,184,680,184,680,184,680,184,16,1,735,21,735,185,670,734,186,16,16,184,16,1,734,21,734,736,685,736,736,184,184,686,186,736,16,16,184,736,184,736,184,736,184,16,1,737,99,737,738,185,738,738,739,184,186,738,16,16,184,738,184,738,184,738,184,16,1,679,38,679,680,185,680,680,681,184,682,740,186,740,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,741,186,741,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,742,186,742,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,743,186,743,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,744,186,744,680,16,16,184,680,184,680,184,680,184,16,1,745,38,745,680,185,680,680,681,184,746,186,680,16,16,184,680,184,680,184,680,184,16,1,747,21,747,185,670,746,186,16,16,184,16,1,748,21,748,684,749,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,750,188,750,113,751,114,16,16,112,16,1,679,38,679,680,185,680,680,681,184,682,752,753,186,752,753,680,16,16,184,680,184,680,184,680,184,16,1,754,38,754,680,185,680,680,681,184,755,186,680,16,16,184,680,184,680,184,680,184,16,1,756,21,756,185,670,755,186,16,16,184,16,1,755,21,755,684,685,684,684,184,184,686,186,684,16,16,184,684,757,184,684,184,684,757,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,758,184,684,184,684,758,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,759,184,684,184,684,759,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,760,184,684,184,684,760,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,761,184,684,184,684,761,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,762,184,684,184,684,762,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,763,184,684,184,684,763,684,184,16,1,687,38,687,684,185,684,684,681,184,186,684,16,16,184,684,764,184,684,184,684,764,684,184,16,1,765,132,765,185,766,186,16,16,184,16,1,679,38,679,680,185,680,680,681,184,682,767,186,767,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,768,186,768,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,769,186,769,680,16,16,184,680,184,680,184,680,184,16,1,770,38,770,680,185,680,680,681,184,771,186,680,16,16,184,680,184,680,184,680,184,16,1,772,21,772,185,670,771,186,16,16,184,16,1,773,21,773,684,774,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,775,188,775,143,776,144,16,16,142,16,1,679,38,679,680,185,680,680,681,184,682,777,186,777,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,778,186,778,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,779,186,779,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,780,186,780,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,781,186,781,680,16,16,184,680,184,680,184,680,184,16,1,782,38,782,680,185,680,680,681,184,783,186,680,16,16,184,680,184,680,184,680,184,16,1,784,21,784,185,670,783,186,16,16,184,16,1,785,21,785,684,786,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,787,188,787,159,788,160,16,16,158,16,1,679,38,679,680,185,680,680,681,184,682,789,186,789,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,790,186,790,680,16,16,184,680,184,680,184,680,184,16,1,791,38,791,680,185,680,680,681,184,792,186,680,16,16,184,680,184,680,184,680,184,16,1,793,21,793,185,670,792,186,16,16,184,16,1,792,21,792,794,685,794,794,184,184,686,186,794,16,16,184,794,184,794,184,794,184,16,1,795,171,795,796,185,796,796,797,184,186,796,16,16,184,796,184,796,184,796,184,16,1,679,38,679,680,185,680,680,681,184,682,798,186,798,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,799,800,186,799,800,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,801,186,801,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,802,186,802,680,16,16,184,680,184,680,184,680,184,16,1,803,38,803,680,185,680,680,681,184,804,186,680,16,16,184,680,184,680,184,680,184,16,1,805,21,805,185,670,804,186,16,16,184,16,1,806,21,806,684,807,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,808,188,808,185,809,186,16,16,184,16,1,679,38,679,680,185,680,680,681,184,682,810,186,810,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,811,186,811,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,812,186,812,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,813,186,813,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,814,186,814,680,16,16,184,680,184,680,184,680,184,16,1,815,38,815,680,185,680,680,681,184,816,186,680,16,16,184,680,184,680,184,680,184,16,1,817,21,817,185,670,816,186,16,16,184,16,1,818,21,818,684,819,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,820,188,820,201,821,202,16,16,200,16,1,822,21,822,201,823,202,16,16,200,16,1,823,21,823,824,201,824,824,200,200,825,826,827,828,829,830,831,202,825,826,827,828,829,830,831,824,16,16,200,824,200,824,200,824,200,16,1,832,38,832,833,201,833,833,834,200,835,202,833,16,16,200,833,200,833,200,833,200,16,1,836,21,836,201,823,835,202,16,16,200,16,1,835,21,835,837,838,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,200,837,200,837,200,16,1,841,204,841,51,842,52,16,16,47,16,1,200,21,201,844,202,16,16,200,843,200,843,200,843,200,16,1,200,21,201,846,202,847,16,16,200,845,200,845,200,845,200,16,1,200,21,201,846,202,847,16,16,200,848,200,848,200,848,200,16,1,200,21,201,846,202,847,16,16,200,849,200,849,200,849,200,16,1,200,21,201,846,202,847,16,16,200,16,1,200,21,201,851,202,16,16,200,850,200,843,200,843,200,16,1,200,21,201,852,846,202,847,16,16,200,853,200,845,200,845,200,16,1,200,21,201,202,16,16,200,854,200,16,1,200,21,201,855,202,16,16,200,856,200,16,1,200,21,201,202,16,16,200,857,200,16,1,200,21,201,858,202,16,16,200,859,200,16,1,200,21,201,202,16,16,200,860,200,16,1,200,21,201,202,847,16,16,200,861,200,16,1,200,21,201,202,847,16,16,200,862,200,16,1,200,21,201,202,847,16,16,200,16,1,840,38,840,201,834,202,16,16,200,16,1,200,21,201,858,202,16,16,200,863,200,16,1,200,21,201,858,202,16,16,200,16,1,200,21,201,855,202,16,16,200,864,200,16,1,200,21,201,855,202,16,16,200,16,1,200,21,201,852,846,202,847,16,16,200,865,200,848,200,848,200,16,1,200,21,201,852,846,202,847,16,16,200,849,200,849,200,849,200,16,1,200,21,201,867,202,847,16,16,200,866,200,866,200,866,200,16,1,200,21,201,869,202,847,16,16,200,868,200,868,200,868,200,16,1,200,21,201,869,202,847,16,16,200,870,200,870,200,870,200,16,1,200,21,201,869,202,847,16,16,200,871,200,871,200,871,200,16,1,200,21,201,869,202,847,16,16,200,16,1,200,21,201,202,16,16,200,872,200,866,200,866,200,16,1,200,21,201,852,869,202,847,16,16,200,873,200,868,200,868,200,16,1,200,21,201,852,869,202,847,16,16,200,874,200,870,200,870,200,16,1,200,21,201,852,869,202,847,16,16,200,871,200,871,200,871,200,16,1,200,21,201,202,16,16,200,875,200,16,1,200,21,201,852,202,16,16,200,876,200,16,1,200,21,201,852,202,16,16,200,877,200,16,1,200,21,201,852,202,16,16,200,16,1,200,21,201,851,202,16,16,200,16,1,832,38,832,833,201,833,833,834,200,835,878,202,878,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,879,202,879,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,880,202,880,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,881,202,881,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,882,202,882,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,883,202,883,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,884,202,884,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,885,202,885,833,16,16,200,833,200,833,200,833,200,16,1,886,38,886,833,201,833,833,834,200,887,202,833,16,16,200,833,200,833,200,833,200,16,1,888,21,888,201,823,887,202,16,16,200,16,1,887,21,887,889,838,889,889,200,200,839,202,889,16,16,200,889,200,889,200,889,200,16,1,890,99,890,891,201,891,891,892,200,202,891,16,16,200,891,200,891,200,891,200,16,1,832,38,832,833,201,833,833,834,200,835,893,202,893,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,894,202,894,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,895,202,895,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,896,202,896,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,897,202,897,833,16,16,200,833,200,833,200,833,200,16,1,898,38,898,833,201,833,833,834,200,899,202,833,16,16,200,833,200,833,200,833,200,16,1,900,21,900,201,823,899,202,16,16,200,16,1,901,21,901,837,902,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,903,204,903,113,904,114,16,16,112,16,1,832,38,832,833,201,833,833,834,200,835,905,906,202,905,906,833,16,16,200,833,200,833,200,833,200,16,1,907,38,907,833,201,833,833,834,200,908,202,833,16,16,200,833,200,833,200,833,200,16,1,909,21,909,201,823,908,202,16,16,200,16,1,908,21,908,837,838,837,837,200,200,839,202,837,16,16,200,837,910,200,837,200,837,910,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,911,200,837,200,837,911,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,912,200,837,200,837,912,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,913,200,837,200,837,913,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,914,200,837,200,837,914,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,915,200,837,200,837,915,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,916,200,837,200,837,916,837,200,16,1,840,38,840,837,201,837,837,834,200,202,837,16,16,200,837,917,200,837,200,837,917,837,200,16,1,918,132,918,201,919,202,16,16,200,16,1,832,38,832,833,201,833,833,834,200,835,920,202,920,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,921,202,921,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,922,202,922,833,16,16,200,833,200,833,200,833,200,16,1,923,38,923,833,201,833,833,834,200,924,202,833,16,16,200,833,200,833,200,833,200,16,1,925,21,925,201,823,924,202,16,16,200,16,1,926,21,926,837,927,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,928,204,928,143,929,144,16,16,142,16,1,832,38,832,833,201,833,833,834,200,835,930,202,930,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,931,202,931,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,932,202,932,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,933,202,933,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,934,202,934,833,16,16,200,833,200,833,200,833,200,16,1,935,38,935,833,201,833,833,834,200,936,202,833,16,16,200,833,200,833,200,833,200,16,1,937,21,937,201,823,936,202,16,16,200,16,1,938,21,938,837,939,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,940,204,940,159,941,160,16,16,158,16,1,832,38,832,833,201,833,833,834,200,835,942,202,942,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,943,202,943,833,16,16,200,833,200,833,200,833,200,16,1,944,38,944,833,201,833,833,834,200,945,202,833,16,16,200,833,200,833,200,833,200,16,1,946,21,946,201,823,945,202,16,16,200,16,1,945,21,945,947,838,947,947,200,200,839,202,947,16,16,200,947,200,947,200,947,200,16,1,948,171,948,949,201,949,949,950,200,202,949,16,16,200,949,200,949,200,949,200,16,1,832,38,832,833,201,833,833,834,200,835,951,202,951,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,952,953,202,952,953,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,954,202,954,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,955,202,955,833,16,16,200,833,200,833,200,833,200,16,1,956,38,956,833,201,833,833,834,200,957,202,833,16,16,200,833,200,833,200,833,200,16,1,958,21,958,201,823,957,202,16,16,200,16,1,959,21,959,837,960,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,961,204,961,185,962,186,16,16,184,16,1,832,38,832,833,201,833,833,834,200,835,963,202,963,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,964,202,964,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,965,202,965,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,966,202,966,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,967,202,967,833,16,16,200,833,200,833,200,833,200,16,1,968,38,968,833,201,833,833,834,200,969,202,833,16,16,200,833,200,833,200,833,200,16,1,970,21,970,201,823,969,202,16,16,200,16,1,971,21,971,837,972,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,973,204,973,201,974,202,16,16,200,16,1,832,38,832,833,201,833,833,834,200,835,975,976,202,975,976,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,977,202,977,833,16,16,200,833,200,833,200,833,200,16,1,978,38,978,833,201,833,833,834,200,979,202,833,16,16,200,833,200,833,200,833,200,16,1,980,21,980,201,823,979,202,16,16,200,16,1,979,21,979,837,981,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,982,204,982,215,983,216,213,213,214,213,1,984,21,984,218,985,220,217,217,219,217,1,985,21,985,986,218,986,986,219,219,987,988,989,990,991,992,993,220,987,988,989,990,991,992,993,986,217,217,219,986,219,986,219,986,219,217,1,994,38,994,995,218,995,995,996,219,997,220,995,217,217,219,995,219,995,219,995,219,217,1,998,21,998,218,985,997,220,217,217,219,217,1,997,21,997,999,221,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,219,999,219,999,219,217,1,219,21,218,1003,220,217,217,219,1002,219,1002,219,1002,219,217,1,219,21,218,1005,220,1006,217,217,219,1004,219,1004,219,1004,219,217,1,219,21,218,1005,220,1006,217,217,219,1007,219,1007,219,1007,219,217,1,219,21,218,1005,220,1006,217,217,219,1008,219,1008,219,1008,219,217,1,219,21,218,1005,220,1006,217,217,219,217,1,219,21,218,1010,220,217,217,219,1009,219,1002,219,1002,219,217,1,219,21,218,1011,1005,220,1006,217,217,219,1012,219,1004,219,1004,219,217,1,219,21,218,220,217,217,219,1013,219,217,1,219,21,218,1014,220,217,217,219,1015,219,217,1,219,21,218,220,217,217,219,1016,219,217,1,219,21,218,1017,220,217,217,219,1018,219,217,1,219,21,218,220,217,217,219,1019,219,217,1,219,21,218,220,1006,217,217,219,1020,219,217,1,219,21,218,220,1006,217,217,219,1021,219,217,1,219,21,218,220,1006,217,217,219,217,1,1001,38,1001,218,996,220,217,217,219,217,1,219,21,218,1017,220,217,217,219,1022,219,217,1,219,21,218,1017,220,217,217,219,217,1,219,21,218,1014,220,217,217,219,1023,219,217,1,219,21,218,1014,220,217,217,219,217,1,219,21,218,1011,1005,220,1006,217,217,219,1024,219,1007,219,1007,219,217,1,219,21,218,1011,1005,220,1006,217,217,219,1008,219,1008,219,1008,219,217,1,219,21,218,1026,220,1006,217,217,219,1025,219,1025,219,1025,219,217,1,219,21,218,1028,220,1006,217,217,219,1027,219,1027,219,1027,219,217,1,219,21,218,1028,220,1006,217,217,219,1029,219,1029,219,1029,219,217,1,219,21,218,1028,220,1006,217,217,219,1030,219,1030,219,1030,219,217,1,219,21,218,1028,220,1006,217,217,219,217,1,219,21,218,220,217,217,219,1031,219,1025,219,1025,219,217,1,219,21,218,1011,1028,220,1006,217,217,219,1032,219,1027,219,1027,219,217,1,219,21,218,1011,1028,220,1006,217,217,219,1033,219,1029,219,1029,219,217,1,219,21,218,1011,1028,220,1006,217,217,219,1030,219,1030,219,1030,219,217,1,219,21,218,220,217,217,219,1034,219,217,1,219,21,218,1011,220,217,217,219,1035,219,217,1,219,21,218,1011,220,217,217,219,1036,219,217,1,219,21,218,1011,220,217,217,219,217,1,219,21,218,1010,220,217,217,219,217,1,994,38,994,995,218,995,995,996,219,997,1037,220,1037,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1038,220,1038,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1039,220,1039,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1040,220,1040,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1041,220,1041,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1042,220,1042,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1043,220,1043,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1044,220,1044,995,217,217,219,995,219,995,219,995,219,217,1,1045,38,1045,995,218,995,995,996,219,1046,220,995,217,217,219,995,219,995,219,995,219,217,1,1047,21,1047,218,985,1046,220,217,217,219,217,1,1046,21,1046,1048,221,1048,1048,219,219,1e3,220,1048,217,217,219,1048,219,1048,219,1048,219,217,1,1049,99,1049,1050,218,1050,1050,1051,219,220,1050,217,217,219,1050,219,1050,219,1050,219,217,1,994,38,994,995,218,995,995,996,219,997,1052,220,1052,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1053,220,1053,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1054,220,1054,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1055,220,1055,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1056,220,1056,995,217,217,219,995,219,995,219,995,219,217,1,1057,38,1057,995,218,995,995,996,219,1058,220,995,217,217,219,995,219,995,219,995,219,217,1,1059,21,1059,218,985,1058,220,217,217,219,217,1,1060,21,1060,999,1061,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,994,38,994,995,218,995,995,996,219,997,1062,1063,220,1062,1063,995,217,217,219,995,219,995,219,995,219,217,1,1064,38,1064,995,218,995,995,996,219,1065,220,995,217,217,219,995,219,995,219,995,219,217,1,1066,21,1066,218,985,1065,220,217,217,219,217,1,1065,21,1065,999,221,999,999,219,219,1e3,220,999,217,217,219,999,1067,219,999,219,999,1067,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,1068,219,999,219,999,1068,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,1069,219,999,219,999,1069,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,1070,219,999,219,999,1070,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,1071,219,999,219,999,1071,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,1072,219,999,219,999,1072,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,1073,219,999,219,999,1073,999,219,217,1,1001,38,1001,999,218,999,999,996,219,220,999,217,217,219,999,1074,219,999,219,999,1074,999,219,217,1,1075,132,1075,218,1076,220,217,217,219,217,1,994,38,994,995,218,995,995,996,219,997,1077,220,1077,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1078,220,1078,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1079,220,1079,995,217,217,219,995,219,995,219,995,219,217,1,1080,38,1080,995,218,995,995,996,219,1081,220,995,217,217,219,995,219,995,219,995,219,217,1,1082,21,1082,218,985,1081,220,217,217,219,217,1,1083,21,1083,999,1084,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,994,38,994,995,218,995,995,996,219,997,1085,220,1085,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1086,220,1086,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1087,220,1087,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1088,220,1088,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1089,220,1089,995,217,217,219,995,219,995,219,995,219,217,1,1090,38,1090,995,218,995,995,996,219,1091,220,995,217,217,219,995,219,995,219,995,219,217,1,1092,21,1092,218,985,1091,220,217,217,219,217,1,1093,21,1093,999,1094,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,994,38,994,995,218,995,995,996,219,997,1095,220,1095,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1096,220,1096,995,217,217,219,995,219,995,219,995,219,217,1,1097,38,1097,995,218,995,995,996,219,1098,220,995,217,217,219,995,219,995,219,995,219,217,1,1099,21,1099,218,985,1098,220,217,217,219,217,1,1098,21,1098,1100,221,1100,1100,219,219,1e3,220,1100,217,217,219,1100,219,1100,219,1100,219,217,1,1101,171,1101,1102,218,1102,1102,1103,219,220,1102,217,217,219,1102,219,1102,219,1102,219,217,1,994,38,994,995,218,995,995,996,219,997,1104,220,1104,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1105,1106,220,1105,1106,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1107,220,1107,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1108,220,1108,995,217,217,219,995,219,995,219,995,219,217,1,1109,38,1109,995,218,995,995,996,219,1110,220,995,217,217,219,995,219,995,219,995,219,217,1,1111,21,1111,218,985,1110,220,217,217,219,217,1,1112,21,1112,999,1113,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,994,38,994,995,218,995,995,996,219,997,1114,220,1114,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1115,220,1115,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1116,220,1116,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1117,220,1117,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1118,220,1118,995,217,217,219,995,219,995,219,995,219,217,1,1119,38,1119,995,218,995,995,996,219,1120,220,995,217,217,219,995,219,995,219,995,219,217,1,1121,21,1121,218,985,1120,220,217,217,219,217,1,1122,21,1122,999,1123,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,994,38,994,995,218,995,995,996,219,997,1124,1125,220,1124,1125,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1126,220,1126,995,217,217,219,995,219,995,219,995,219,217,1,1127,38,1127,995,218,995,995,996,219,1128,220,995,217,217,219,995,219,995,219,995,219,217,1,1129,21,1129,218,985,1128,220,217,217,219,217,1,1128,21,1128,999,218,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,994,38,994,995,218,995,995,996,219,997,1130,220,1130,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1131,220,1131,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1132,220,1132,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1133,220,1133,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1134,220,1134,995,217,217,219,995,219,995,219,995,219,217,1,994,38,994,995,218,995,995,996,219,997,1135,220,1135,995,217,217,219,995,219,995,219,995,219,217,1,1136,38,1136,995,218,995,995,996,219,1137,220,995,217,217,219,995,219,995,219,995,219,217,1,1138,21,1138,218,985,1137,220,217,217,219,217,1,1139,21,1139,999,1140,999,999,219,219,1e3,220,999,217,217,219,999,219,999,219,999,219,217,1,1141,21,1141,1143,1144,1145,16,16,1142,16,1,1142,21,1143,1145,16,16,1142,16,1,1146,1147,1146,1148,16,1,16,21,1142,16,1,1144,21,1144,1149,1143,1149,1149,1142,1142,1150,1151,1152,1153,1154,1155,1156,1145,1150,1151,1152,1153,1154,1155,1156,1149,16,16,1142,1149,1142,1149,1142,1149,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1161,21,1161,1143,1144,1160,1145,16,16,1142,16,1,1160,21,1160,1162,1163,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1166,1147,1166,51,1167,52,16,16,47,16,1,1142,21,1143,1169,1145,16,16,1142,1168,1142,1168,1142,1168,1142,16,1,1142,21,1143,1171,1145,1172,16,16,1142,1170,1142,1170,1142,1170,1142,16,1,1142,21,1143,1171,1145,1172,16,16,1142,1173,1142,1173,1142,1173,1142,16,1,1142,21,1143,1171,1145,1172,16,16,1142,1174,1142,1174,1142,1174,1142,16,1,1142,21,1143,1171,1145,1172,16,16,1142,16,1,1142,21,1143,1176,1145,16,16,1142,1175,1142,1168,1142,1168,1142,16,1,1142,21,1143,1177,1171,1145,1172,16,16,1142,1178,1142,1170,1142,1170,1142,16,1,1142,21,1143,1145,16,16,1142,1179,1142,16,1,1142,21,1143,1180,1145,16,16,1142,1181,1142,16,1,1142,21,1143,1145,16,16,1142,1182,1142,16,1,1142,21,1143,1183,1145,16,16,1142,1184,1142,16,1,1142,21,1143,1145,16,16,1142,1185,1142,16,1,1142,21,1143,1145,1172,16,16,1142,1186,1142,16,1,1142,21,1143,1145,1172,16,16,1142,1187,1142,16,1,1142,21,1143,1145,1172,16,16,1142,16,1,1165,38,1165,1143,1159,1145,16,16,1142,16,1,1142,21,1143,1183,1145,16,16,1142,1188,1142,16,1,1142,21,1143,1183,1145,16,16,1142,16,1,1142,21,1143,1180,1145,16,16,1142,1189,1142,16,1,1142,21,1143,1180,1145,16,16,1142,16,1,1142,21,1143,1177,1171,1145,1172,16,16,1142,1190,1142,1173,1142,1173,1142,16,1,1142,21,1143,1177,1171,1145,1172,16,16,1142,1174,1142,1174,1142,1174,1142,16,1,1142,21,1143,1192,1145,1172,16,16,1142,1191,1142,1191,1142,1191,1142,16,1,1142,21,1143,1194,1145,1172,16,16,1142,1193,1142,1193,1142,1193,1142,16,1,1142,21,1143,1194,1145,1172,16,16,1142,1195,1142,1195,1142,1195,1142,16,1,1142,21,1143,1194,1145,1172,16,16,1142,1196,1142,1196,1142,1196,1142,16,1,1142,21,1143,1194,1145,1172,16,16,1142,16,1,1142,21,1143,1145,16,16,1142,1197,1142,1191,1142,1191,1142,16,1,1142,21,1143,1177,1194,1145,1172,16,16,1142,1198,1142,1193,1142,1193,1142,16,1,1142,21,1143,1177,1194,1145,1172,16,16,1142,1199,1142,1195,1142,1195,1142,16,1,1142,21,1143,1177,1194,1145,1172,16,16,1142,1196,1142,1196,1142,1196,1142,16,1,1142,21,1143,1145,16,16,1142,1200,1142,16,1,1142,21,1143,1177,1145,16,16,1142,1201,1142,16,1,1142,21,1143,1177,1145,16,16,1142,1202,1142,16,1,1142,21,1143,1177,1145,16,16,1142,16,1,1142,21,1143,1176,1145,16,16,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1203,1145,1203,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1204,1145,1204,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1205,1145,1205,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1206,1145,1206,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1207,1145,1207,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1208,1145,1208,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1209,1145,1209,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1210,1145,1210,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1211,38,1211,1158,1143,1158,1158,1159,1142,1212,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1213,21,1213,1143,1144,1212,1145,16,16,1142,16,1,1212,21,1212,1214,1163,1214,1214,1142,1142,1164,1145,1214,16,16,1142,1214,1142,1214,1142,1214,1142,16,1,1215,99,1215,1216,1143,1216,1216,1217,1142,1145,1216,16,16,1142,1216,1142,1216,1142,1216,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1218,1145,1218,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1219,1145,1219,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1220,1145,1220,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1221,1145,1221,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1222,1145,1222,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1223,38,1223,1158,1143,1158,1158,1159,1142,1224,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1225,21,1225,1143,1144,1224,1145,16,16,1142,16,1,1226,21,1226,1162,1227,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1228,1147,1228,113,1229,114,16,16,112,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1230,1231,1145,1230,1231,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1232,38,1232,1158,1143,1158,1158,1159,1142,1233,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1234,21,1234,1143,1144,1233,1145,16,16,1142,16,1,1233,21,1233,1162,1163,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1235,1142,1162,1142,1162,1235,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1236,1142,1162,1142,1162,1236,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1237,1142,1162,1142,1162,1237,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1238,1142,1162,1142,1162,1238,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1239,1142,1162,1142,1162,1239,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1240,1142,1162,1142,1162,1240,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1241,1142,1162,1142,1162,1241,1162,1142,16,1,1165,38,1165,1162,1143,1162,1162,1159,1142,1145,1162,16,16,1142,1162,1242,1142,1162,1142,1162,1242,1162,1142,16,1,1243,132,1243,1143,1244,1145,16,16,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1245,1145,1245,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1246,1145,1246,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1247,1145,1247,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1248,38,1248,1158,1143,1158,1158,1159,1142,1249,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1250,21,1250,1143,1144,1249,1145,16,16,1142,16,1,1251,21,1251,1162,1252,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1253,1147,1253,143,1254,144,16,16,142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1255,1145,1255,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1256,1145,1256,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1257,1145,1257,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1258,1145,1258,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1259,1145,1259,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1260,38,1260,1158,1143,1158,1158,1159,1142,1261,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1262,21,1262,1143,1144,1261,1145,16,16,1142,16,1,1263,21,1263,1162,1264,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1265,1147,1265,159,1266,160,16,16,158,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1267,1145,1267,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1268,1145,1268,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1269,38,1269,1158,1143,1158,1158,1159,1142,1270,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1271,21,1271,1143,1144,1270,1145,16,16,1142,16,1,1270,21,1270,1272,1163,1272,1272,1142,1142,1164,1145,1272,16,16,1142,1272,1142,1272,1142,1272,1142,16,1,1273,171,1273,1274,1143,1274,1274,1275,1142,1145,1274,16,16,1142,1274,1142,1274,1142,1274,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1276,1145,1276,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1277,1278,1145,1277,1278,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1279,1145,1279,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1280,1145,1280,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1281,38,1281,1158,1143,1158,1158,1159,1142,1282,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1283,21,1283,1143,1144,1282,1145,16,16,1142,16,1,1284,21,1284,1162,1285,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1286,1147,1286,185,1287,186,16,16,184,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1288,1145,1288,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1289,1145,1289,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1290,1145,1290,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1291,1145,1291,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1292,1145,1292,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1293,38,1293,1158,1143,1158,1158,1159,1142,1294,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1295,21,1295,1143,1144,1294,1145,16,16,1142,16,1,1296,21,1296,1162,1297,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1298,1147,1298,201,1299,202,16,16,200,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1300,1301,1145,1300,1301,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1302,1145,1302,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1303,38,1303,1158,1143,1158,1158,1159,1142,1304,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1305,21,1305,1143,1144,1304,1145,16,16,1142,16,1,1304,21,1304,1162,1306,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1307,1147,1307,215,1308,216,213,213,214,213,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1309,1145,1309,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1310,1145,1310,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1311,1145,1311,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1312,1145,1312,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1313,1145,1313,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1157,38,1157,1158,1143,1158,1158,1159,1142,1160,1314,1145,1314,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1315,38,1315,1158,1143,1158,1158,1159,1142,1316,1145,1158,16,16,1142,1158,1142,1158,1142,1158,1142,16,1,1317,21,1317,1143,1144,1316,1145,16,16,1142,16,1,1318,21,1318,1162,1319,1162,1162,1142,1142,1164,1145,1162,16,16,1142,1162,1142,1162,1142,1162,1142,16,1,1320,1147,1320,1143,1321,1145,16,16,1142,16,1,832,38,832,833,201,833,833,834,200,835,1322,202,1322,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,1323,202,1323,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,1324,202,1324,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,1325,202,1325,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,1326,202,1326,833,16,16,200,833,200,833,200,833,200,16,1,832,38,832,833,201,833,833,834,200,835,1327,202,1327,833,16,16,200,833,200,833,200,833,200,16,1,1328,38,1328,833,201,833,833,834,200,1329,202,833,16,16,200,833,200,833,200,833,200,16,1,1330,21,1330,201,823,1329,202,16,16,200,16,1,1331,21,1331,837,1332,837,837,200,200,839,202,837,16,16,200,837,200,837,200,837,200,16,1,1333,204,1333,1143,1334,1145,16,16,1142,16,1,679,38,679,680,185,680,680,681,184,682,1335,1336,186,1335,1336,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,1337,186,1337,680,16,16,184,680,184,680,184,680,184,16,1,1338,38,1338,680,185,680,680,681,184,1339,186,680,16,16,184,680,184,680,184,680,184,16,1,1340,21,1340,185,670,1339,186,16,16,184,16,1,1339,21,1339,684,1341,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,1342,188,1342,215,1343,216,213,213,214,213,1,679,38,679,680,185,680,680,681,184,682,1344,186,1344,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,1345,186,1345,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,1346,186,1346,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,1347,186,1347,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,1348,186,1348,680,16,16,184,680,184,680,184,680,184,16,1,679,38,679,680,185,680,680,681,184,682,1349,186,1349,680,16,16,184,680,184,680,184,680,184,16,1,1350,38,1350,680,185,680,680,681,184,1351,186,680,16,16,184,680,184,680,184,680,184,16,1,1352,21,1352,185,670,1351,186,16,16,184,16,1,1353,21,1353,684,1354,684,684,184,184,686,186,684,16,16,184,684,184,684,184,684,184,16,1,1355,188,1355,1143,1356,1145,16,16,1142,16,1,538,38,538,539,159,539,539,540,158,541,1357,160,1357,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1358,160,1358,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1359,160,1359,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1360,160,1360,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1361,160,1361,539,16,16,158,539,158,539,158,539,158,16,1,1362,38,1362,539,159,539,539,540,158,1363,160,539,16,16,158,539,158,539,158,539,158,16,1,1364,21,1364,159,529,1363,160,16,16,158,16,1,1365,21,1365,543,1366,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,1367,162,1367,201,1368,202,16,16,200,16,1,538,38,538,539,159,539,539,540,158,541,1369,1370,160,1369,1370,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1371,160,1371,539,16,16,158,539,158,539,158,539,158,16,1,1372,38,1372,539,159,539,539,540,158,1373,160,539,16,16,158,539,158,539,158,539,158,16,1,1374,21,1374,159,529,1373,160,16,16,158,16,1,1373,21,1373,543,1375,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,1376,162,1376,215,1377,216,213,213,214,213,1,538,38,538,539,159,539,539,540,158,541,1378,160,1378,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1379,160,1379,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1380,160,1380,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1381,160,1381,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1382,160,1382,539,16,16,158,539,158,539,158,539,158,16,1,538,38,538,539,159,539,539,540,158,541,1383,160,1383,539,16,16,158,539,158,539,158,539,158,16,1,1384,38,1384,539,159,539,539,540,158,1385,160,539,16,16,158,539,158,539,158,539,158,16,1,1386,21,1386,159,529,1385,160,16,16,158,16,1,1387,21,1387,543,1388,543,543,158,158,545,160,543,16,16,158,543,158,543,158,543,158,16,1,1389,162,1389,1143,1390,1145,16,16,1142,16,1,418,38,418,419,143,419,419,420,142,421,1391,144,1391,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1392,144,1392,419,16,16,142,419,142,419,142,419,142,16,1,1393,38,1393,419,143,419,419,420,142,1394,144,419,16,16,142,419,142,419,142,419,142,16,1,1395,21,1395,143,409,1394,144,16,16,142,16,1,1394,21,1394,1396,424,1396,1396,142,142,425,144,1396,16,16,142,1396,142,1396,142,1396,142,16,1,1397,171,1397,1398,143,1398,1398,1399,142,144,1398,16,16,142,1398,142,1398,142,1398,142,16,1,418,38,418,419,143,419,419,420,142,421,1400,144,1400,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1401,1402,144,1401,1402,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1403,144,1403,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1404,144,1404,419,16,16,142,419,142,419,142,419,142,16,1,1405,38,1405,419,143,419,419,420,142,1406,144,419,16,16,142,419,142,419,142,419,142,16,1,1407,21,1407,143,409,1406,144,16,16,142,16,1,1408,21,1408,423,1409,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,1410,146,1410,185,1411,186,16,16,184,16,1,418,38,418,419,143,419,419,420,142,421,1412,144,1412,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1413,144,1413,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1414,144,1414,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1415,144,1415,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1416,144,1416,419,16,16,142,419,142,419,142,419,142,16,1,1417,38,1417,419,143,419,419,420,142,1418,144,419,16,16,142,419,142,419,142,419,142,16,1,1419,21,1419,143,409,1418,144,16,16,142,16,1,1420,21,1420,423,1421,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,1422,146,1422,201,1423,202,16,16,200,16,1,418,38,418,419,143,419,419,420,142,421,1424,1425,144,1424,1425,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1426,144,1426,419,16,16,142,419,142,419,142,419,142,16,1,1427,38,1427,419,143,419,419,420,142,1428,144,419,16,16,142,419,142,419,142,419,142,16,1,1429,21,1429,143,409,1428,144,16,16,142,16,1,1428,21,1428,423,1430,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,1431,146,1431,215,1432,216,213,213,214,213,1,418,38,418,419,143,419,419,420,142,421,1433,144,1433,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1434,144,1434,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1435,144,1435,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1436,144,1436,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1437,144,1437,419,16,16,142,419,142,419,142,419,142,16,1,418,38,418,419,143,419,419,420,142,421,1438,144,1438,419,16,16,142,419,142,419,142,419,142,16,1,1439,38,1439,419,143,419,419,420,142,1440,144,419,16,16,142,419,142,419,142,419,142,16,1,1441,21,1441,143,409,1440,144,16,16,142,16,1,1442,21,1442,423,1443,423,423,142,142,425,144,423,16,16,142,423,142,423,142,423,142,16,1,1444,146,1444,1143,1445,1145,16,16,1142,16,1,312,38,312,313,113,313,313,301,112,314,1446,114,1446,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1447,114,1447,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1448,114,1448,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1449,114,1449,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1450,114,1450,313,16,16,112,313,112,313,112,313,112,16,1,1451,38,1451,313,113,313,313,301,112,1452,114,313,16,16,112,313,112,313,112,313,112,16,1,1453,21,1453,113,303,1452,114,16,16,112,16,1,1454,21,1454,316,1455,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,1456,116,1456,159,1457,160,16,16,158,16,1,312,38,312,313,113,313,313,301,112,314,1458,114,1458,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1459,114,1459,313,16,16,112,313,112,313,112,313,112,16,1,1460,38,1460,313,113,313,313,301,112,1461,114,313,16,16,112,313,112,313,112,313,112,16,1,1462,21,1462,113,303,1461,114,16,16,112,16,1,1461,21,1461,1463,317,1463,1463,112,112,318,114,1463,16,16,112,1463,112,1463,112,1463,112,16,1,1464,171,1464,1465,113,1465,1465,1466,112,114,1465,16,16,112,1465,112,1465,112,1465,112,16,1,312,38,312,313,113,313,313,301,112,314,1467,114,1467,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1468,1469,114,1468,1469,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1470,114,1470,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1471,114,1471,313,16,16,112,313,112,313,112,313,112,16,1,1472,38,1472,313,113,313,313,301,112,1473,114,313,16,16,112,313,112,313,112,313,112,16,1,1474,21,1474,113,303,1473,114,16,16,112,16,1,1475,21,1475,316,1476,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,1477,116,1477,185,1478,186,16,16,184,16,1,312,38,312,313,113,313,313,301,112,314,1479,114,1479,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1480,114,1480,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1481,114,1481,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1482,114,1482,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1483,114,1483,313,16,16,112,313,112,313,112,313,112,16,1,1484,38,1484,313,113,313,313,301,112,1485,114,313,16,16,112,313,112,313,112,313,112,16,1,1486,21,1486,113,303,1485,114,16,16,112,16,1,1487,21,1487,316,1488,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,1489,116,1489,201,1490,202,16,16,200,16,1,312,38,312,313,113,313,313,301,112,314,1491,1492,114,1491,1492,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1493,114,1493,313,16,16,112,313,112,313,112,313,112,16,1,1494,38,1494,313,113,313,313,301,112,1495,114,313,16,16,112,313,112,313,112,313,112,16,1,1496,21,1496,113,303,1495,114,16,16,112,16,1,1495,21,1495,316,1497,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,1498,116,1498,215,1499,216,213,213,214,213,1,312,38,312,313,113,313,313,301,112,314,1500,114,1500,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1501,114,1501,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1502,114,1502,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1503,114,1503,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1504,114,1504,313,16,16,112,313,112,313,112,313,112,16,1,312,38,312,313,113,313,313,301,112,314,1505,114,1505,313,16,16,112,313,112,313,112,313,112,16,1,1506,38,1506,313,113,313,313,301,112,1507,114,313,16,16,112,313,112,313,112,313,112,16,1,1508,21,1508,113,303,1507,114,16,16,112,16,1,1509,21,1509,316,1510,316,316,112,112,318,114,316,16,16,112,316,112,316,112,316,112,16,1,1511,116,1511,1143,1512,1145,16,16,1142,16,1,232,38,232,233,51,233,233,234,47,235,1513,1514,52,1513,1514,233,16,16,47,233,47,233,47,233,47,16,1,1515,38,1515,233,51,233,233,234,47,1516,52,233,16,16,47,233,47,233,47,233,47,16,1,1517,21,1517,51,223,1516,52,16,16,47,16,1,1516,21,1516,237,238,237,237,47,47,239,52,237,16,16,47,237,1518,47,237,47,237,1518,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,1519,47,237,47,237,1519,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,1520,47,237,47,237,1520,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,1521,47,237,47,237,1521,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,1522,47,237,47,237,1522,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,1523,47,237,47,237,1523,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,1524,47,237,47,237,1524,237,47,16,1,240,38,240,237,51,237,237,234,47,52,237,16,16,47,237,1525,47,237,47,237,1525,237,47,16,1,1526,132,1526,51,1527,52,16,16,47,16,1,232,38,232,233,51,233,233,234,47,235,1528,52,1528,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1529,52,1529,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1530,52,1530,233,16,16,47,233,47,233,47,233,47,16,1,1531,38,1531,233,51,233,233,234,47,1532,52,233,16,16,47,233,47,233,47,233,47,16,1,1533,21,1533,51,223,1532,52,16,16,47,16,1,1534,21,1534,237,1535,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,232,38,232,233,51,233,233,234,47,235,1536,52,1536,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1537,52,1537,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1538,52,1538,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1539,52,1539,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1540,52,1540,233,16,16,47,233,47,233,47,233,47,16,1,1541,38,1541,233,51,233,233,234,47,1542,52,233,16,16,47,233,47,233,47,233,47,16,1,1543,21,1543,51,223,1542,52,16,16,47,16,1,1544,21,1544,237,1545,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,232,38,232,233,51,233,233,234,47,235,1546,52,1546,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1547,52,1547,233,16,16,47,233,47,233,47,233,47,16,1,1548,38,1548,233,51,233,233,234,47,1549,52,233,16,16,47,233,47,233,47,233,47,16,1,1550,21,1550,51,223,1549,52,16,16,47,16,1,1549,21,1549,1551,238,1551,1551,47,47,239,52,1551,16,16,47,1551,47,1551,47,1551,47,16,1,1552,171,1552,1553,51,1553,1553,1554,47,52,1553,16,16,47,1553,47,1553,47,1553,47,16,1,232,38,232,233,51,233,233,234,47,235,1555,52,1555,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1556,1557,52,1556,1557,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1558,52,1558,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1559,52,1559,233,16,16,47,233,47,233,47,233,47,16,1,1560,38,1560,233,51,233,233,234,47,1561,52,233,16,16,47,233,47,233,47,233,47,16,1,1562,21,1562,51,223,1561,52,16,16,47,16,1,1563,21,1563,237,1564,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,232,38,232,233,51,233,233,234,47,235,1565,52,1565,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1566,52,1566,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1567,52,1567,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1568,52,1568,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1569,52,1569,233,16,16,47,233,47,233,47,233,47,16,1,1570,38,1570,233,51,233,233,234,47,1571,52,233,16,16,47,233,47,233,47,233,47,16,1,1572,21,1572,51,223,1571,52,16,16,47,16,1,1573,21,1573,237,1574,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,232,38,232,233,51,233,233,234,47,235,1575,1576,52,1575,1576,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1577,52,1577,233,16,16,47,233,47,233,47,233,47,16,1,1578,38,1578,233,51,233,233,234,47,1579,52,233,16,16,47,233,47,233,47,233,47,16,1,1580,21,1580,51,223,1579,52,16,16,47,16,1,1579,21,1579,237,1581,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,1582,38,1582,215,1583,216,213,213,214,213,1,232,38,232,233,51,233,233,234,47,235,1584,52,1584,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1585,52,1585,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1586,52,1586,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1587,52,1587,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1588,52,1588,233,16,16,47,233,47,233,47,233,47,16,1,232,38,232,233,51,233,233,234,47,235,1589,52,1589,233,16,16,47,233,47,233,47,233,47,16,1,1590,38,1590,233,51,233,233,234,47,1591,52,233,16,16,47,233,47,233,47,233,47,16,1,1592,21,1592,51,223,1591,52,16,16,47,16,1,1593,21,1593,237,1594,237,237,47,47,239,52,237,16,16,47,237,47,237,47,237,47,16,1,37,38,37,39,39,39,40,16,41,1595,1595,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,1596,1596,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,1597,1597,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,1598,1598,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,1599,1599,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,1600,1600,39,16,39,16,39,16,39,16,1,1601,38,1601,39,39,39,40,16,1602,39,16,39,16,39,16,39,16,1,1603,21,1603,43,1602,16,1,1604,21,1604,46,1605,46,46,16,16,48,46,16,46,16,46,16,46,16,1,37,38,37,39,39,39,40,16,41,1606,207,1606,207,39,16,39,16,39,16,39,16,1,37,38,37,39,39,39,40,16,41,1607,1607,39,16,39,16,39,16,39,16,1,1608,38,1608,39,39,39,40,16,1609,39,16,39,16,39,16,39,16,1,1610,21,1610,43,1609,16,1,1609,21,1609,46,1611,46,46,16,16,48,46,16,46,16,46,16,46,16,1,1612,21,215,1613,213,213,1612,213,1,1614,21,218,1615,217,217,1614,217,1,217,21,1616,1614,217,1,1617,21,1617,51,1618,52,16,16,47,16,1,1618,21,1618,1619,51,1619,1619,47,47,1620,1621,1622,1623,1624,1625,1626,52,1620,1621,1622,1623,1624,1625,1626,1619,16,16,47,1619,47,1619,47,1619,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1631,21,1631,51,1618,1630,52,16,16,47,16,1,1630,21,1630,1632,238,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,47,21,51,1636,52,16,16,47,1635,47,1635,47,1635,47,16,1,47,21,51,1638,52,1639,16,16,47,1637,47,1637,47,1637,47,16,1,47,21,51,1638,52,1639,16,16,47,1640,47,1640,47,1640,47,16,1,47,21,51,1638,52,1639,16,16,47,1641,47,1641,47,1641,47,16,1,47,21,51,1638,52,1639,16,16,47,16,1,47,21,51,1643,52,16,16,47,1642,47,1635,47,1635,47,16,1,47,21,51,1644,1638,52,1639,16,16,47,1645,47,1637,47,1637,47,16,1,47,21,51,52,16,16,47,1646,47,16,1,47,21,51,1647,52,16,16,47,1648,47,16,1,47,21,51,52,16,16,47,1649,47,16,1,47,21,51,1650,52,16,16,47,1651,47,16,1,47,21,51,52,16,16,47,1652,47,16,1,47,21,51,52,1639,16,16,47,1653,47,16,1,47,21,51,52,1639,16,16,47,1654,47,16,1,47,21,51,52,1639,16,16,47,16,1,1634,38,1634,51,1629,52,16,16,47,16,1,47,21,51,1650,52,16,16,47,1655,47,16,1,47,21,51,1650,52,16,16,47,16,1,47,21,51,1647,52,16,16,47,1656,47,16,1,47,21,51,1647,52,16,16,47,16,1,47,21,51,1644,1638,52,1639,16,16,47,1657,47,1640,47,1640,47,16,1,47,21,51,1644,1638,52,1639,16,16,47,1641,47,1641,47,1641,47,16,1,47,21,51,1659,52,1639,16,16,47,1658,47,1658,47,1658,47,16,1,47,21,51,1661,52,1639,16,16,47,1660,47,1660,47,1660,47,16,1,47,21,51,1661,52,1639,16,16,47,1662,47,1662,47,1662,47,16,1,47,21,51,1661,52,1639,16,16,47,1663,47,1663,47,1663,47,16,1,47,21,51,1661,52,1639,16,16,47,16,1,47,21,51,52,16,16,47,1664,47,1658,47,1658,47,16,1,47,21,51,1644,1661,52,1639,16,16,47,1665,47,1660,47,1660,47,16,1,47,21,51,1644,1661,52,1639,16,16,47,1666,47,1662,47,1662,47,16,1,47,21,51,1644,1661,52,1639,16,16,47,1663,47,1663,47,1663,47,16,1,47,21,51,52,16,16,47,1667,47,16,1,47,21,51,1644,52,16,16,47,1668,47,16,1,47,21,51,1644,52,16,16,47,1669,47,16,1,47,21,51,1644,52,16,16,47,16,1,47,21,51,1643,52,16,16,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1670,52,1670,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1671,52,1671,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1672,52,1672,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1673,52,1673,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1674,52,1674,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1675,52,1675,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1676,52,1676,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1677,52,1677,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1678,38,1678,1628,51,1628,1628,1629,47,1679,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1680,21,1680,51,1618,1679,52,16,16,47,16,1,1679,21,1679,1681,238,1681,1681,47,47,1633,52,1681,16,16,47,1681,47,1681,47,1681,47,16,1,1682,99,1682,1683,51,1683,1683,1684,47,52,1683,16,16,47,1683,47,1683,47,1683,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1685,52,1685,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1686,52,1686,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1687,52,1687,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1688,52,1688,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1689,52,1689,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1690,38,1690,1628,51,1628,1628,1629,47,1691,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1692,21,1692,51,1618,1691,52,16,16,47,16,1,1693,21,1693,1632,299,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1694,1695,52,1694,1695,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1696,38,1696,1628,51,1628,1628,1629,47,1697,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1698,21,1698,51,1618,1697,52,16,16,47,16,1,1697,21,1697,1632,238,1632,1632,47,47,1633,52,1632,16,16,47,1632,1699,47,1632,47,1632,1699,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,1700,47,1632,47,1632,1700,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,1701,47,1632,47,1632,1701,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,1702,47,1632,47,1632,1702,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,1703,47,1632,47,1632,1703,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,1704,47,1632,47,1632,1704,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,1705,47,1632,47,1632,1705,1632,47,16,1,1634,38,1634,1632,51,1632,1632,1629,47,52,1632,16,16,47,1632,1706,47,1632,47,1632,1706,1632,47,16,1,1707,132,1707,51,1708,52,16,16,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1709,52,1709,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1710,52,1710,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1711,52,1711,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1712,38,1712,1628,51,1628,1628,1629,47,1713,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1714,21,1714,51,1618,1713,52,16,16,47,16,1,1715,21,1715,1632,1535,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1716,52,1716,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1717,52,1717,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1718,52,1718,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1719,52,1719,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1720,52,1720,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1721,38,1721,1628,51,1628,1628,1629,47,1722,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1723,21,1723,51,1618,1722,52,16,16,47,16,1,1724,21,1724,1632,1545,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1725,52,1725,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1726,52,1726,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1727,38,1727,1628,51,1628,1628,1629,47,1728,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1729,21,1729,51,1618,1728,52,16,16,47,16,1,1728,21,1728,1730,238,1730,1730,47,47,1633,52,1730,16,16,47,1730,47,1730,47,1730,47,16,1,1731,171,1731,1732,51,1732,1732,1733,47,52,1732,16,16,47,1732,47,1732,47,1732,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1734,52,1734,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1735,1736,52,1735,1736,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1737,52,1737,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1738,52,1738,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1739,38,1739,1628,51,1628,1628,1629,47,1740,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1741,21,1741,51,1618,1740,52,16,16,47,16,1,1742,21,1742,1632,1564,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1743,52,1743,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1744,52,1744,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1745,52,1745,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1746,52,1746,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1747,52,1747,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1748,38,1748,1628,51,1628,1628,1629,47,1749,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1750,21,1750,51,1618,1749,52,16,16,47,16,1,1751,21,1751,1632,1574,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1752,1753,52,1752,1753,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1754,52,1754,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1755,38,1755,1628,51,1628,1628,1629,47,1756,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1757,21,1757,51,1618,1756,52,16,16,47,16,1,1756,21,1756,1632,1758,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,1759,38,1759,215,1760,216,213,213,214,213,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1761,52,1761,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1762,52,1762,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1763,52,1763,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1764,52,1764,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1765,52,1765,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1627,38,1627,1628,51,1628,1628,1629,47,1630,1766,52,1766,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1767,38,1767,1628,51,1628,1628,1629,47,1768,52,1628,16,16,47,1628,47,1628,47,1628,47,16,1,1769,21,1769,51,1618,1768,52,16,16,47,16,1,1770,21,1770,1632,1594,1632,1632,47,47,1633,52,1632,16,16,47,1632,47,1632,47,1632,47,16,1,21,1771,1771,16,1,21,1772,1772,16,1,21,1773,1773,16,1,21,1774,1774,16,1,21,1775,1775,16,1,1776,21,1776,16,1,1777,21,16,1,17,21,17,16,1,1778,1778,1,1779,1779,1,1780,1780,1,1781,1781,1,1782,1,1783,1783,1,1,0];
_tsip_machine_parser_header_Authorization_trans_targs=[2,0,1345,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,1343,19,1337,17,1351,20,21,22,23,24,24,25,28,81,92,113,124,130,1205,26,17,25,27,29,26,27,151,70,30,32,35,31,31,33,34,36,69,37,40,38,39,41,56,42,54,43,44,52,45,46,50,47,48,49,51,53,55,57,65,58,61,59,60,62,63,64,66,67,68,71,72,73,74,75,76,77,78,79,78,80,31,17,80,27,82,83,84,85,86,87,88,87,88,89,89,90,91,31,17,27,93,104,94,95,94,96,97,98,99,100,101,102,103,31,17,27,105,106,107,108,109,108,109,110,110,111,112,31,17,27,114,115,116,117,118,119,120,119,120,121,121,122,123,31,17,27,125,126,127,128,127,129,31,17,129,27,131,132,140,133,134,135,136,135,136,137,137,138,139,31,17,27,141,142,143,144,145,146,147,146,147,148,148,149,150,31,17,27,152,1196,153,154,155,154,156,157,158,31,159,157,31,158,159,160,160,161,162,202,214,1134,1152,1160,1166,1181,163,162,161,164,163,165,166,167,160,168,201,169,172,170,171,173,188,174,186,175,176,184,177,178,182,179,180,181,183,185,187,189,197,190,193,191,192,194,195,196,198,199,200,203,204,205,206,207,208,209,210,211,212,211,213,160,213,161,215,216,217,218,219,220,221,220,221,222,223,224,223,224,225,265,277,286,1086,1095,1101,1118,226,225,227,226,228,229,230,160,161,231,264,232,235,222,233,234,236,251,237,249,238,239,247,240,241,245,242,243,244,246,248,250,252,260,253,256,254,255,257,258,259,261,262,263,266,267,268,269,270,271,272,273,274,275,274,276,223,276,224,278,279,280,281,282,283,284,283,284,285,223,224,287,298,288,289,288,290,291,292,293,294,295,296,297,223,224,299,300,301,302,303,302,303,304,305,306,305,306,307,348,360,369,388,1047,1053,1070,308,307,306,309,308,310,311,312,305,160,161,313,347,314,317,327,315,316,318,334,319,332,320,321,330,322,323,328,324,325,326,329,331,333,335,343,336,339,337,338,340,341,342,344,345,346,349,350,351,352,353,354,355,356,357,358,357,359,305,359,306,361,362,363,364,365,366,367,366,367,368,223,224,370,381,371,372,371,373,374,375,376,377,378,379,380,305,306,382,383,384,385,386,385,386,387,305,306,389,390,391,392,393,394,395,394,395,396,397,398,397,398,399,440,452,461,480,489,495,1031,400,399,398,401,400,402,403,404,397,160,161,405,439,406,409,419,407,408,410,426,411,424,412,413,422,414,415,420,416,417,418,421,423,425,427,435,428,431,429,430,432,433,434,436,437,438,441,442,443,444,445,446,447,448,449,450,449,451,397,451,398,453,454,455,456,457,458,459,458,459,460,223,224,462,473,463,464,463,465,466,467,468,469,470,471,472,397,398,474,475,476,477,478,477,478,479,305,306,481,482,483,484,485,486,487,486,487,488,397,398,490,491,492,493,492,494,397,494,398,496,497,1022,498,499,500,501,500,501,502,503,504,503,504,505,546,558,567,586,595,601,1006,506,505,504,507,506,508,509,510,503,160,161,511,545,512,515,525,513,514,516,532,517,530,518,519,528,520,521,526,522,523,524,527,529,531,533,541,534,537,535,536,538,539,540,542,543,544,547,548,549,550,551,552,553,554,555,556,555,557,503,557,504,559,560,561,562,563,564,565,564,565,566,223,224,568,579,569,570,569,571,572,573,574,575,576,577,578,503,504,580,581,582,583,584,583,584,585,305,306,587,588,589,590,591,592,593,592,593,594,397,398,596,597,598,599,598,600,503,600,504,602,603,609,604,605,606,607,606,607,608,503,504,610,611,612,613,614,615,616,615,616,617,618,619,618,619,620,661,673,682,701,710,716,733,621,620,619,622,621,623,624,625,618,160,161,626,660,627,630,640,628,629,631,647,632,645,633,634,643,635,636,641,637,638,639,642,644,646,648,656,649,652,650,651,653,654,655,657,658,659,662,663,664,665,666,667,668,669,670,671,670,672,618,672,619,674,675,676,677,678,679,680,679,680,681,223,224,683,694,684,685,684,686,687,688,689,690,691,692,693,618,619,695,696,697,698,699,698,699,700,305,306,702,703,704,705,706,707,708,707,708,709,397,398,711,712,713,714,713,715,618,715,619,717,718,724,719,720,721,722,721,722,723,503,504,725,726,727,728,729,730,731,730,731,732,618,619,734,996,735,736,737,736,738,739,740,739,740,741,781,793,801,819,827,833,848,742,741,740,743,742,744,745,739,746,780,747,750,760,748,749,751,767,752,765,753,754,763,755,756,761,757,758,759,762,764,766,768,776,769,772,770,771,773,774,775,777,778,779,782,783,784,785,786,787,788,789,790,791,790,792,739,792,740,794,795,796,797,798,799,800,799,800,223,802,813,803,804,803,805,806,807,808,809,810,811,812,739,740,814,815,816,817,818,817,818,305,820,821,822,823,824,825,826,825,826,397,828,829,830,831,830,832,739,832,740,834,835,840,836,837,838,839,838,839,503,841,842,843,844,845,846,847,846,847,618,849,853,850,851,852,851,854,855,856,857,858,859,860,861,860,861,862,862,863,864,866,865,31,17,27,867,908,920,929,948,957,963,980,868,867,866,869,868,870,871,872,862,160,161,873,907,874,877,887,875,876,878,894,879,892,880,881,890,882,883,888,884,885,886,889,891,893,895,903,896,899,897,898,900,901,902,904,905,906,909,910,911,912,913,914,915,916,917,918,917,919,862,919,866,921,922,923,924,925,926,927,926,927,928,223,224,930,941,931,932,931,933,934,935,936,937,938,939,940,862,866,942,943,944,945,946,945,946,947,305,306,949,950,951,952,953,954,955,954,955,956,397,398,958,959,960,961,960,962,862,962,866,964,965,971,966,967,968,969,968,969,970,503,504,972,973,974,975,976,977,978,977,978,979,618,619,981,986,982,983,984,983,985,739,740,987,988,989,990,991,992,993,994,993,994,995,862,866,997,998,999,1e3,1001,1002,1003,1004,1003,1004,1005,862,866,1007,1012,1008,1009,1010,1009,1011,739,740,1013,1014,1015,1016,1017,1018,1019,1020,1019,1020,1021,862,866,1023,1024,1025,1026,1027,1028,1029,1028,1029,1030,618,619,1032,1037,1033,1034,1035,1034,1036,739,740,1038,1039,1040,1041,1042,1043,1044,1045,1044,1045,1046,862,866,1048,1049,1050,1051,1050,1052,305,1052,306,1054,1055,1061,1056,1057,1058,1059,1058,1059,1060,503,504,1062,1063,1064,1065,1066,1067,1068,1067,1068,1069,618,619,1071,1076,1072,1073,1074,1073,1075,739,740,1077,1078,1079,1080,1081,1082,1083,1084,1083,1084,1085,862,866,1087,1088,1089,1090,1091,1092,1093,1092,1093,1094,397,398,1096,1097,1098,1099,1098,1100,223,1100,224,1102,1103,1109,1104,1105,1106,1107,1106,1107,1108,503,504,1110,1111,1112,1113,1114,1115,1116,1115,1116,1117,618,619,1119,1124,1120,1121,1122,1121,1123,739,740,1125,1126,1127,1128,1129,1130,1131,1132,1131,1132,1133,862,866,1135,1146,1136,1137,1136,1138,1139,1140,1141,1142,1143,1144,1145,160,161,1147,1148,1149,1150,1151,1150,1151,327,1153,1154,1155,1156,1157,1158,1159,1158,1159,419,1161,1162,1163,1164,1163,1165,160,1165,161,1167,1168,1173,1169,1170,1171,1172,1171,1172,525,1174,1175,1176,1177,1178,1179,1180,1179,1180,640,1182,1187,1183,1184,1185,1184,1186,739,740,1188,1189,1190,1191,1192,1193,1194,1195,1194,1195,887,1197,1198,1199,1200,1201,1202,1203,1204,1203,1204,863,1206,1207,1208,1209,1208,1210,1211,1212,1211,1212,1213,1213,1214,1215,1255,1267,1275,1293,1301,1307,1322,1216,1215,1214,1217,1216,1218,1219,1213,1220,1254,1221,1224,1234,1222,1223,1225,1241,1226,1239,1227,1228,1237,1229,1230,1235,1231,1232,1233,1236,1238,1240,1242,1250,1243,1246,1244,1245,1247,1248,1249,1251,1252,1253,1256,1257,1258,1259,1260,1261,1262,1263,1264,1265,1264,1266,1213,1266,1214,1268,1269,1270,1271,1272,1273,1274,1273,1274,1276,1287,1277,1278,1277,1279,1280,1281,1282,1283,1284,1285,1286,1213,1214,1288,1289,1290,1291,1292,1291,1292,1294,1295,1296,1297,1298,1299,1300,1299,1300,1302,1303,1304,1305,1304,1306,1213,1306,1214,1308,1309,1314,1310,1311,1312,1313,1312,1313,1315,1316,1317,1318,1319,1320,1321,1320,1321,1323,1328,1324,1325,1326,1325,1327,739,740,1329,1330,1331,1332,1333,1334,1335,1336,1335,1336,1338,1339,1340,1341,1342,24,1344,1346,1347,1348,1349,1350,2];_tsip_machine_parser_header_Authorization_trans_actions=[7,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,0,0,5,0,1,1,1,1,1,1,1,1,31,31,0,31,0,0,0,1,0,0,0,0,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,21,0,21,0,0,0,0,0,31,0,0,1,1,0,0,0,23,23,23,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,29,0,0,0,31,0,0,1,1,0,0,0,15,15,15,0,0,0,0,0,31,0,0,1,1,0,0,0,25,25,25,0,0,31,0,0,1,27,27,0,27,0,0,0,0,0,31,0,0,1,1,0,0,0,13,13,13,0,0,0,0,0,31,0,0,1,1,0,0,0,19,19,19,0,0,0,31,0,0,0,1,1,35,1,0,17,0,0,17,0,0,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,0,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,1,31,31,0,0,1,1,1,1,1,1,1,1,31,0,0,0,0,0,0,23,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,1,23,23,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,1,23,23,0,0,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,0,31,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,1,15,15,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,1,15,15,0,0,0,0,0,31,0,0,1,1,15,15,0,0,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,0,31,25,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,1,25,25,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,1,25,25,0,0,0,0,0,31,0,0,1,1,25,25,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,1,25,25,0,0,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,0,31,13,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,1,13,13,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,1,13,13,0,0,0,0,0,31,0,0,1,1,13,13,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,1,13,13,0,0,0,0,0,31,0,0,1,1,13,13,0,0,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,0,31,19,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,1,19,19,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,1,19,19,0,0,0,0,0,31,0,0,1,1,19,19,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,1,19,19,0,0,0,0,0,31,0,0,1,1,19,19,0,0,0,31,0,0,0,38,38,0,0,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,59,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,35,0,0,0,0,0,31,0,0,1,59,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,35,0,0,0,0,0,31,0,0,1,59,0,0,0,31,0,0,0,0,0,0,0,0,31,0,0,1,35,0,0,0,0,0,11,11,11,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,0,31,11,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,1,11,11,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,1,11,11,0,0,0,0,0,31,0,0,1,1,11,11,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,1,11,11,0,0,0,0,0,31,0,0,1,1,11,11,0,0,0,31,0,0,0,50,50,0,0,0,0,0,0,31,0,0,1,1,11,11,0,0,0,0,0,0,31,0,0,1,1,19,19,0,0,0,31,0,0,0,53,53,0,0,0,0,0,0,31,0,0,1,1,13,13,0,0,0,0,0,31,0,0,1,1,25,25,0,0,0,31,0,0,0,44,44,0,0,0,0,0,0,31,0,0,1,1,25,25,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,1,15,15,0,0,0,0,0,31,0,0,1,1,15,15,0,0,0,31,0,0,0,56,56,0,0,0,0,0,0,31,0,0,1,1,15,15,0,0,0,0,0,31,0,0,1,1,23,23,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,1,23,23,0,0,0,0,0,31,0,0,1,1,23,23,0,0,0,31,0,0,0,41,41,0,0,0,0,0,0,31,0,0,1,1,23,23,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,1,0,0,0,0,0,31,0,0,1,1,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,1,0,0,0,0,0,31,0,0,1,1,0,0,0,31,0,0,0,47,47,0,0,0,0,0,0,31,0,0,1,1,0,0,0,0,0,0,31,0,0,1,1,0,0,31,0,0,0,1,1,0,0,17,0,0,1,1,1,1,1,1,1,1,31,0,31,0,0,0,0,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,1,21,0,21,0,0,0,0,0,31,0,0,1,0,0,31,0,0,1,0,0,0,0,0,0,0,29,29,0,0,0,31,0,0,1,0,0,0,0,0,31,0,0,1,0,0,31,0,0,1,27,0,27,0,0,0,0,0,31,0,0,1,0,0,0,0,0,31,0,0,1,0,0,0,31,0,0,0,62,62,0,0,0,0,0,0,31,0,0,1,0,0,0,0,0,3,0,0,0,0,0,0,0];tsip_machine_parser_header_Authorization_start=1;tsip_machine_parser_header_Authorization_first_final=1351;tsip_machine_parser_header_Authorization_error=0;tsip_machine_parser_header_Authorization_en_main=1;function tsip_header_Authorization(){tsip_header.call(this,tsip_header_type_e.Authorization);this.s_scheme=null;this.s_username=null;this.s_realm=null;this.s_nonce=null;this.s_uri=null;this.s_response=null;this.s_algorithm=null;this.s_cnonce=null;this.s_opaque=null;this.s_qop=null;this.s_nc=null}tsip_header_Authorization.prototype.toString=function(){if(tsk_string_iequals(this.s_scheme,"Basic")){return tsk_string_format("{0} {1}",this.s_scheme,this.s_response)}else{return tsk_string_format("{0} {1}{2}{3}{4}{5}{6}{7}{8}{9}{10}{11}{12}{13}{14}{15}{16}{17}{18}{19}{20}{21}{22}{23}{24}{25}{26}{27}",this.s_scheme,this.s_username?'username="':"",this.s_username?this.s_username:"",this.s_username?'"':"",this.s_realm?',realm="':"",this.s_realm?this.s_realm:"",this.s_realm?'"':"",this.s_nonce||this.s_nonce===""?',nonce="':"",this.s_nonce||this.s_nonce===""?this.s_nonce:"",this.s_nonce||this.s_nonce===""?'"':"",this.s_uri?',uri="':"",this.s_uri?this.s_uri:"",this.s_uri?'"':"",this.s_response||this.s_response===""?',response="':"",this.s_response||this.s_response===""?this.s_response:"",this.s_response||this.s_response===""?'"':"",this.s_algorithm?",algorithm=":"",this.s_algorithm?this.s_algorithm:"",this.s_cnonce?',cnonce="':"",this.s_cnonce?this.s_cnonce:"",this.s_cnonce?'"':"",this.s_opaque?',opaque="':"",this.s_opaque?this.s_opaque:"",this.s_opaque?'"':"",this.s_qop?",qop=":"",this.s_qop?this.s_qop:"",this.s_nc?",nc=":"",this.s_nc?this.s_nc:"")}};tsip_header_Authorization.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_Authorization=new tsip_header_Authorization;{cs=tsip_machine_parser_header_Authorization_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Authorization_key_offsets[cs];_trans=_tsip_machine_parser_header_Authorization_index_offsets[cs];_klen=_tsip_machine_parser_header_Authorization_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Authorization_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Authorization_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Authorization_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Authorization_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Authorization_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Authorization_indicies[_trans];cs=_tsip_machine_parser_header_Authorization_trans_targs[_trans];if(_tsip_machine_parser_header_Authorization_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Authorization_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Authorization_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Authorization_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_Authorization.s_scheme="Digest";break;case 2:hdr_Authorization.s_scheme="Basic";break;case 3:tsip_header.call(hdr_Authorization,tsip_header_type_e.Authorization);break;case 4:tsip_header.call(hdr_Authorization,tsip_header_type_e.Proxy_Authorization);break;case 5:hdr_Authorization.s_username=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 6:hdr_Authorization.s_realm=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 7:hdr_Authorization.s_nonce=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 8:hdr_Authorization.s_uri=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 9:hdr_Authorization.s_response=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 10:hdr_Authorization.s_algorithm=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 11:hdr_Authorization.s_cnonce=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 12:hdr_Authorization.s_opaque=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 13:hdr_Authorization.s_qop=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 14:hdr_Authorization.s_nc=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 15:tsk_ragel_add_param(s_str,p,i_tag_start,hdr_Authorization.ao_params);break;case 16:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<1351){tsk_utils_log_error("Failed to parse 'Authorization' header: "+s_str);return null}return hdr_Authorization};tsip_header_Contact.prototype=Object.create(tsip_header.prototype);_tsip_machine_parser_header_Contact_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,2,1,0,2,3,6,2,4,6,2,5,6];_tsip_machine_parser_header_Contact_key_offsets=[0,0,4,6,8,10,12,14,16,19,40,41,43,64,65,67,71,74,75,79,91,94,96,99,104,109,110,112,116,137,138,140,161,162,164,167,184,202,206,207,209,217,218,220,224,230,250,269,274,276,283,302,303,305,323,341,347,348,350,355,374,375,377,396,397,399,402,410,411,413,418,424,441,448,456,464,472,474,481,490,492,495,497,500,502,505,508,509,512,513,516,517,526,535,543,551,559,567,569,575,584,593,602,604,607,610,611,612,632,652,672,692,712,732,750,756,757,759,764,783,784,786,805,812,829,847,851];_tsip_machine_parser_header_Contact_trans_keys=[67,77,99,109,79,111,78,110,84,116,65,97,67,99,84,116,9,32,58,9,13,32,33,34,37,39,42,43,60,126,45,46,48,57,65,90,95,96,97,122,10,9,32,9,13,32,33,34,37,39,42,43,60,126,45,46,48,57,65,90,95,96,97,122,10,9,32,9,32,42,60,9,13,32,10,65,90,97,122,9,32,43,58,45,46,48,57,65,90,97,122,9,32,58,0,65535,62,0,65535,9,13,32,44,59,9,13,32,44,59,10,9,32,9,32,44,59,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,32,60,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,60,10,9,32,9,13,34,92,32,126,128,255,10,9,32,9,13,32,60,0,9,11,12,14,127,9,13,32,33,37,39,42,43,58,126,45,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,58,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,58,60,0,65535,9,13,32,44,59,0,65535,9,13,32,33,37,39,69,101,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,69,101,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,44,59,0,9,11,12,14,127,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,44,59,61,88,120,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,80,112,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,73,105,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,82,114,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,69,101,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,83,115,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,44,59,48,57,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,60,0];_tsip_machine_parser_header_Contact_single_lengths=[0,4,2,2,2,2,2,2,3,11,1,2,11,1,2,4,3,1,0,4,3,0,1,5,5,1,2,4,9,1,2,9,1,2,3,7,8,4,1,2,4,1,2,4,0,10,9,5,0,5,9,1,2,8,10,6,1,2,5,9,1,2,9,1,2,3,4,1,2,5,0,9,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,12,12,12,12,12,12,10,6,1,2,5,9,1,2,9,5,7,8,4,0];_tsip_machine_parser_header_Contact_range_lengths=[0,0,0,0,0,0,0,0,0,5,0,0,5,0,0,0,0,0,2,4,0,1,1,0,0,0,0,0,6,0,0,6,0,0,0,5,5,0,0,0,2,0,0,0,3,5,5,0,1,1,5,0,0,5,4,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,3,4,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,4,4,4,4,4,4,4,0,0,0,0,5,0,0,5,1,5,5,0,0];_tsip_machine_parser_header_Contact_index_offsets=[0,0,5,8,11,14,17,20,23,27,44,46,49,66,68,71,76,80,82,85,94,98,100,103,109,115,117,120,125,141,143,146,162,164,167,171,184,198,203,205,208,215,217,220,225,229,245,260,266,268,275,290,292,295,309,324,331,333,336,342,357,359,362,377,379,382,386,393,395,398,404,408,422,427,433,439,445,448,453,460,462,465,467,470,472,475,478,480,483,485,488,490,497,504,510,516,522,528,531,535,542,549,556,558,561,564,566,568,585,602,619,636,653,670,685,692,694,697,703,718,720,723,738,745,758,772,777];_tsip_machine_parser_header_Contact_indicies=[0,2,0,2,1,3,3,1,4,4,1,5,5,1,6,6,1,7,7,1,2,2,1,2,2,8,1,9,10,9,11,12,11,11,13,11,14,11,11,11,15,11,15,1,16,1,17,17,1,18,19,18,11,12,11,11,13,11,14,11,11,11,15,11,15,1,20,1,21,21,1,21,21,22,23,1,22,24,22,1,25,1,26,26,1,27,27,28,29,28,28,28,28,1,27,27,29,1,30,1,31,30,1,32,33,32,34,35,1,36,37,36,38,35,1,39,1,40,40,1,40,40,38,35,1,41,42,41,11,12,11,11,14,11,11,11,11,15,11,15,1,43,1,44,44,1,45,46,45,11,12,11,11,14,11,11,11,11,15,11,15,1,47,1,48,48,1,48,48,23,1,49,50,49,51,51,51,51,51,51,51,51,51,1,52,53,52,51,51,51,54,51,51,51,51,51,51,1,55,56,55,23,1,57,1,49,49,1,58,59,60,61,58,58,1,62,1,58,58,1,52,53,52,54,1,58,58,58,1,63,50,63,51,51,51,51,64,65,51,64,64,64,51,64,1,66,53,66,51,51,51,65,54,51,51,51,51,51,51,1,67,56,67,65,23,1,68,1,69,70,69,71,72,68,1,35,73,35,74,74,74,75,75,74,74,74,74,74,74,1,76,1,77,77,1,77,77,74,74,74,75,75,74,74,74,74,74,74,1,78,79,78,80,80,80,81,82,83,80,80,80,80,80,1,84,85,84,38,35,83,1,86,1,87,87,1,87,87,38,35,83,1,83,88,83,89,90,89,89,91,89,89,89,89,89,89,1,92,1,93,93,1,93,94,93,89,90,89,89,91,89,89,89,89,89,89,1,95,1,96,96,1,96,96,90,1,90,97,98,99,90,90,1,100,1,90,90,1,101,79,101,81,82,1,90,90,90,1,101,79,101,89,89,89,81,82,89,89,89,89,89,1,103,102,102,102,1,105,98,104,104,104,1,105,98,106,106,106,1,105,98,107,107,107,1,105,98,1,109,108,102,102,1,110,105,98,111,104,104,1,112,1,113,114,1,115,1,116,117,1,118,1,98,119,1,98,120,1,98,1,116,121,1,116,1,113,122,1,113,1,110,105,98,123,106,106,1,110,105,98,107,107,107,1,125,98,124,124,124,1,127,98,126,126,126,1,127,98,128,128,128,1,127,98,129,129,129,1,127,98,1,130,124,124,1,110,127,98,131,126,126,1,110,127,98,132,128,128,1,110,127,98,129,129,129,1,133,1,110,134,1,110,135,1,110,1,109,1,78,79,78,80,80,80,81,82,83,136,136,80,80,80,80,80,1,78,79,78,80,80,80,81,82,83,137,137,80,80,80,80,80,1,78,79,78,80,80,80,81,82,83,138,138,80,80,80,80,80,1,78,79,78,80,80,80,81,82,83,139,139,80,80,80,80,80,1,78,79,78,80,80,80,81,82,83,140,140,80,80,80,80,80,1,78,79,78,80,80,80,81,82,83,141,141,80,80,80,80,80,1,142,79,142,80,80,80,81,82,143,80,80,80,80,80,1,144,145,144,38,35,143,1,146,1,147,147,1,147,147,38,35,143,1,143,148,143,89,90,89,89,91,89,89,89,149,89,89,1,150,1,151,151,1,151,94,151,89,90,89,89,91,89,89,89,149,89,89,1,152,153,152,154,156,155,1,157,24,157,51,51,51,51,51,51,51,51,51,1,158,24,158,51,51,51,54,51,51,51,51,51,51,1,159,24,159,23,1,1,0];_tsip_machine_parser_header_Contact_trans_targs=[2,0,8,3,4,5,6,7,9,9,10,35,40,123,18,45,11,12,12,13,14,15,16,18,17,126,19,20,19,21,22,23,24,17,28,50,24,25,28,26,27,28,29,30,31,31,32,33,34,36,38,35,37,32,18,37,32,39,40,41,43,44,42,46,45,48,47,47,49,24,17,28,50,51,54,107,52,53,55,17,54,28,50,59,55,56,57,58,60,71,66,72,61,62,63,64,65,67,69,70,68,24,73,106,74,77,75,76,78,93,79,91,80,81,89,82,83,87,84,85,86,88,90,92,94,102,95,98,96,97,99,100,101,103,104,105,108,109,110,111,112,113,114,118,114,115,116,117,119,122,120,121,24,17,28,122,50,124,125,125];_tsip_machine_parser_header_Contact_trans_actions=[0,0,0,0,0,0,0,0,0,3,3,17,17,17,3,17,0,0,3,3,0,0,0,0,0,15,1,0,0,0,0,7,13,13,13,0,0,0,0,0,0,3,3,0,0,3,3,0,0,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,0,5,0,0,20,20,20,7,0,1,1,0,0,26,26,0,26,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,0,0,0,0,0,0,1,0,0,23,23,23,0,9,0,5,0];tsip_machine_parser_header_Contact_start=1;tsip_machine_parser_header_Contact_first_final=126;tsip_machine_parser_header_Contact_error=0;tsip_machine_parser_header_Contact_en_main=1;function tsip_header_Contact(){tsip_header.call(this,tsip_header_type_e.Contact);this.s_display_name=null;this.o_uri=null;this.i_expires=-1}tsip_header_Contact.prototype.toString=function(){var s_str=tsip_uri_tostring(this.o_uri,true,true);if(s_str&&this.i_expires>=0){s_str+=tsk_string_format(";expires={0}",this.i_expires)}return s_str};tsip_header_Contact.prototype.Parse=function(s_str){var s_display_name_start=s_str.indexOf(" ");var s_display_name_end=s_str.lastIndexOf("<");var s_name=null;if(s_display_name_end-3>s_display_name_start){s_name=s_str.slice(s_display_name_start+2,s_display_name_end-1);var sstr='"'+s_name+'"';s_str=s_str.replace(sstr,'""')}var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_i_tag_start;var hdr_contacts=new Array;var curr_contact=null;{cs=tsip_machine_parser_header_Contact_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Contact_key_offsets[cs];_trans=_tsip_machine_parser_header_Contact_index_offsets[cs];_klen=_tsip_machine_parser_header_Contact_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Contact_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Contact_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Contact_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Contact_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Contact_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Contact_indicies[_trans];cs=_tsip_machine_parser_header_Contact_trans_targs[_trans];if(_tsip_machine_parser_header_Contact_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Contact_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Contact_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Contact_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:if(!curr_contact){curr_contact=new tsip_header_Contact}break;case 2:if(curr_contact){curr_contact.s_display_name=tsk_ragel_parser_get_string(s_str,p,i_tag_start);curr_contact.s_display_name=tsk_string_unquote_2(curr_contact.s_display_name)}break;case 3:if(curr_contact&&!curr_contact.o_uri){var s_uri=tsk_ragel_parser_get_string(s_str,p,i_tag_start);if((curr_contact.o_uri=tsip_uri.prototype.Parse(s_uri))&&curr_contact.s_display_name){curr_contact.o_uri.s_display_name=tsk_strdup(curr_contact.s_display_name)}}break;case 4:if(curr_contact){curr_contact.i_expires=tsk_ragel_parser_get_int(s_str,p,i_tag_start)}break;case 5:if(curr_contact){tsk_ragel_add_param(s_str,p,i_tag_start,curr_contact.ao_params)}break;case 6:if(curr_contact){hdr_contacts.push(curr_contact);curr_contact=null}break;case 7:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<126){tsk_utils_log_error("Failed to parse 'Contact' header: "+s_str);return null}if(s_name!=null)hdr_contacts.s_display_name=s_name;return hdr_contacts};tsip_header_Content_Type.prototype=Object.create(tsip_header.prototype);_tsip_machine_parser_header_Content_Type_actions=[0,1,0,1,1,1,2,1,3];_tsip_machine_parser_header_Content_Type_key_offsets=[0,0,2,7,10,27,28,30,46,62,66,67,69,72,89,90,92,108,126,130,131,133,136,153,154,156,172,190,194,195,197,200,218,219,221,239,240,242,245,253,254,256,260,261,267,285,287,289,291,293,295,296,298,300,302,304];_tsip_machine_parser_header_Content_Type_trans_keys=[67,99,9,32,58,79,111,9,32,58,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,47,126,42,43,45,57,65,90,95,122,9,13,32,47,10,9,32,9,32,47,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,10,9,32,9,32,59,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,61,10,9,32,9,32,61,9,13,32,33,34,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,59,10,0,9,11,12,14,127,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,78,110,84,116,69,101,78,110,84,116,45,84,116,89,121,80,112,69,101,0];_tsip_machine_parser_header_Content_Type_single_lengths=[0,2,5,3,7,1,2,6,8,4,1,2,3,7,1,2,6,8,4,1,2,3,7,1,2,6,8,4,1,2,3,8,1,2,8,1,2,3,4,1,2,4,1,0,8,2,2,2,2,2,1,2,2,2,2,0];_tsip_machine_parser_header_Content_Type_range_lengths=[0,0,0,0,5,0,0,5,4,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_header_Content_Type_index_offsets=[0,0,3,9,13,26,28,31,43,56,61,63,66,70,83,85,88,100,114,119,121,124,128,141,143,146,158,172,177,179,182,186,200,202,205,219,221,224,228,235,237,240,245,247,251,265,268,271,274,277,280,282,285,288,291,294];_tsip_machine_parser_header_Content_Type_indicies=[0,0,1,2,2,3,4,4,1,2,2,3,1,3,5,3,6,6,6,6,6,6,6,6,6,1,7,1,8,8,1,8,8,6,6,6,6,6,6,6,6,6,1,9,10,9,11,11,11,12,11,11,11,11,11,1,9,10,9,12,1,13,1,14,14,1,14,14,12,1,12,15,12,16,16,16,16,16,16,16,16,16,1,17,1,18,18,1,18,18,16,16,16,16,16,16,16,16,16,1,19,20,19,16,16,16,21,16,16,16,16,16,16,1,22,23,22,24,1,25,1,26,26,1,26,26,24,1,24,27,24,28,28,28,28,28,28,28,28,28,1,29,1,30,30,1,30,30,28,28,28,28,28,28,28,28,28,1,31,32,31,33,33,33,34,33,33,33,33,33,33,1,31,32,31,34,1,35,1,36,36,1,36,36,34,1,34,37,34,38,39,38,38,38,38,38,38,38,38,1,40,1,41,41,1,41,42,41,38,39,38,38,38,38,38,38,38,38,1,43,1,44,44,1,44,44,39,1,39,45,46,47,39,39,1,48,1,39,39,1,49,50,49,51,1,52,1,39,39,39,1,49,50,49,38,38,38,51,38,38,38,38,38,38,1,53,53,1,54,54,1,55,55,1,56,56,1,57,57,1,58,1,59,59,1,60,60,1,61,61,1,2,2,1,1,0];_tsip_machine_parser_header_Content_Type_trans_targs=[2,0,3,4,45,5,8,6,7,9,10,8,13,11,12,14,17,15,16,18,42,22,18,19,22,20,21,23,26,24,25,27,28,26,31,29,30,32,44,38,33,34,35,36,37,39,41,43,40,18,42,22,55,46,47,48,49,50,51,52,53,54];_tsip_machine_parser_header_Content_Type_trans_actions=[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,7,0,0,0,0,0,0,0,0,0];
tsip_machine_parser_header_Content_Type_start=1;tsip_machine_parser_header_Content_Type_first_final=55;tsip_machine_parser_header_Content_Type_error=0;tsip_machine_parser_header_Content_Type_en_main=1;function tsip_header_Content_Type(s_type){tsip_header.call(this,tsip_header_type_e.Content_Type);this.s_type=s_type}tsip_header_Content_Type.prototype.toString=function(){return this.s_type};tsip_header_Content_Type.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_i_tag_start;var hdr_ctype=new tsip_header_Content_Type(null);{cs=tsip_machine_parser_header_Content_Type_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Content_Type_key_offsets[cs];_trans=_tsip_machine_parser_header_Content_Type_index_offsets[cs];_klen=_tsip_machine_parser_header_Content_Type_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Content_Type_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Content_Type_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Content_Type_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Content_Type_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Content_Type_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Content_Type_indicies[_trans];cs=_tsip_machine_parser_header_Content_Type_trans_targs[_trans];if(_tsip_machine_parser_header_Content_Type_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Content_Type_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Content_Type_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Content_Type_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_ctype.s_type=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 2:tsk_ragel_add_param(s_str,p,i_tag_start,hdr_ctype.ao_params);break;case 3:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<55){tsk_utils_log_error("Failed to parse 'Content-Type' header: "+s_str);return null}return hdr_ctype};tsip_header_CSeq.prototype=Object.create(tsip_header.prototype);var TSIP_HEADER_CSEQ_NONE=0;var TSIP_HEADER_CSEQ_DEFAULT=1;_tsip_machine_parser_header_CSeq_actions=[0,1,0,1,1,1,2,1,3];_tsip_machine_parser_header_CSeq_key_offsets=[0,0,2,4,6,8,11,16,17,19,23,28,45,46,48,64,79,80];_tsip_machine_parser_header_CSeq_trans_keys=[67,99,83,115,69,101,81,113,9,32,58,9,13,32,48,57,10,9,32,9,32,48,57,9,13,32,48,57,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,0];_tsip_machine_parser_header_CSeq_single_lengths=[0,2,2,2,2,3,3,1,2,2,3,7,1,2,6,5,1,0];_tsip_machine_parser_header_CSeq_range_lengths=[0,0,0,0,0,0,1,0,0,1,1,5,0,0,5,5,0,0];_tsip_machine_parser_header_CSeq_index_offsets=[0,0,3,6,9,12,16,21,23,26,30,35,48,50,53,65,76,78];_tsip_machine_parser_header_CSeq_indicies=[0,0,1,2,2,1,3,3,1,4,4,1,4,4,5,1,5,6,5,7,1,8,1,9,9,1,9,9,7,1,10,11,10,12,1,13,14,13,15,15,15,15,15,15,15,15,15,1,16,1,17,17,1,17,17,15,15,15,15,15,15,15,15,15,1,18,19,19,19,19,19,19,19,19,19,1,20,1,1,0];_tsip_machine_parser_header_CSeq_trans_targs=[2,0,3,4,5,6,7,10,8,9,11,12,10,11,12,15,13,14,16,15,17];_tsip_machine_parser_header_CSeq_trans_actions=[0,0,0,0,0,0,0,1,0,0,5,5,0,0,0,1,0,0,3,0,7];tsip_machine_parser_header_CSeq_start=1;tsip_machine_parser_header_CSeq_first_final=17;tsip_machine_parser_header_CSeq_error=0;tsip_machine_parser_header_CSeq_en_main=1;function tsip_header_CSeq(i_seq,s_method){tsip_header.call(this,tsip_header_type_e.CSeq);this.i_seq=i_seq;this.s_method=s_method;if(s_method){this.e_req_type=tsip_message.prototype.GetRequestType(this.s_method)}else{this.e_req_type=tsip_request_type_e.UNKNOWN}}tsip_header_CSeq.prototype.toString=function(){return tsk_string_format("{0} {1}",this.i_seq,this.s_method)};tsip_header_CSeq.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_cseq=new tsip_header_CSeq(TSIP_HEADER_CSEQ_NONE);{cs=tsip_machine_parser_header_CSeq_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_CSeq_key_offsets[cs];_trans=_tsip_machine_parser_header_CSeq_index_offsets[cs];_klen=_tsip_machine_parser_header_CSeq_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_CSeq_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_CSeq_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_CSeq_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_CSeq_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_CSeq_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_CSeq_indicies[_trans];cs=_tsip_machine_parser_header_CSeq_trans_targs[_trans];if(_tsip_machine_parser_header_CSeq_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_CSeq_trans_actions[_trans];_nacts=_tsip_machine_parser_header_CSeq_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_CSeq_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_cseq.s_method=tsk_ragel_parser_get_string(s_str,p,i_tag_start);hdr_cseq.e_req_type=tsip_message.prototype.GetRequestType(hdr_cseq.s_method);break;case 2:hdr_cseq.i_seq=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 3:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<17){tsk_utils_log_error("Failed to parse 'CSeq' header: "+s_str);return null}return hdr_cseq};tsip_header_RAck.prototype=Object.create(tsip_header.prototype);_tsip_machine_parser_header_RAck_actions=[0,1,0,1,1,1,2,1,3,1,4];_tsip_machine_parser_header_RAck_key_offsets=[0,0,2,4,6,8,11,16,17,19,23,28,33,34,36,40,45,62,63,65,81,96,97];_tsip_machine_parser_header_RAck_trans_keys=[82,114,65,97,67,99,75,107,9,32,58,9,13,32,48,57,10,9,32,9,32,48,57,9,13,32,48,57,9,13,32,48,57,10,9,32,9,32,48,57,9,13,32,48,57,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,13,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,0];_tsip_machine_parser_header_RAck_single_lengths=[0,2,2,2,2,3,3,1,2,2,3,3,1,2,2,3,7,1,2,6,5,1,0];_tsip_machine_parser_header_RAck_range_lengths=[0,0,0,0,0,0,1,0,0,1,1,1,0,0,1,1,5,0,0,5,5,0,0];_tsip_machine_parser_header_RAck_index_offsets=[0,0,3,6,9,12,16,21,23,26,30,35,40,42,45,49,54,67,69,72,84,95,97];_tsip_machine_parser_header_RAck_indicies=[0,0,1,2,2,1,3,3,1,4,4,1,4,4,5,1,5,6,5,7,1,8,1,9,9,1,9,9,7,1,10,11,10,12,1,13,14,13,15,1,16,1,17,17,1,17,17,15,1,18,19,18,20,1,21,22,21,23,23,23,23,23,23,23,23,23,1,24,1,25,25,1,25,25,23,23,23,23,23,23,23,23,23,1,26,27,27,27,27,27,27,27,27,27,1,28,1,1,0];_tsip_machine_parser_header_RAck_trans_targs=[2,0,3,4,5,6,7,10,8,9,11,12,10,11,12,15,13,14,16,17,15,16,17,20,18,19,21,20,22];_tsip_machine_parser_header_RAck_trans_actions=[0,0,0,0,0,0,0,1,0,0,3,3,0,0,0,1,0,0,5,5,0,0,0,1,0,0,7,0,9];tsip_machine_parser_header_RAck_start=1;tsip_machine_parser_header_RAck_first_final=22;tsip_machine_parser_header_RAck_error=0;tsip_machine_parser_header_RAck_en_main=1;function tsip_header_RAck(i_seq,i_cseq,s_method){tsip_header.call(this,tsip_header_type_e.RAck);this.i_seq=i_seq;this.i_cseq=i_cseq;this.s_method=s_method}tsip_header_RAck.prototype.toString=function(){return tsk_string_format("{0} {1} {2}",this.i_seq,this.i_cseq,this.s_method)};tsip_header_RAck.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_rack=new tsip_header_RAck(0,0,null);{cs=tsip_machine_parser_header_RAck_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_RAck_key_offsets[cs];_trans=_tsip_machine_parser_header_RAck_index_offsets[cs];_klen=_tsip_machine_parser_header_RAck_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_RAck_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_RAck_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_RAck_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_RAck_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_RAck_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_RAck_indicies[_trans];cs=_tsip_machine_parser_header_RAck_trans_targs[_trans];if(_tsip_machine_parser_header_RAck_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_RAck_trans_actions[_trans];_nacts=_tsip_machine_parser_header_RAck_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_RAck_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_rack.i_seq=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 2:hdr_rack.i_cseq=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 3:hdr_rack.s_method=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 4:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<22){tsk_utils_log_error("Failed to parse 'RAck' header: "+s_str);return null}return hdr_rack};tsip_header_Refer_Sub.prototype=Object.create(tsip_header.prototype);_tsip_machine_parser_header_Refer_Sub_actions=[0,1,0,1,1,1,2,1,3,1,4];_tsip_machine_parser_header_Refer_Sub_key_offsets=[0,0,2,4,6,8,10,11,13,15,17,20,27,28,30,36,38,40,42,44,48,52,53,55,58,75,76,78,94,113,118,119,121,125,144,145,147,166,167,169,172,180,181,183,187,188,194,212,219,227,235,243,245,252,261,263,266,268,271,273,276,279,280,283,284,287,288,297,306,314,322,330,338,340,346,355,364,373,375,378,381,382,383,385,387,389,393];_tsip_machine_parser_header_Refer_Sub_trans_keys=[82,114,69,101,70,102,69,101,82,114,45,83,115,85,117,66,98,9,32,58,9,13,32,70,84,102,116,10,9,32,9,32,70,84,102,116,65,97,76,108,83,115,69,101,9,13,32,59,9,13,32,59,10,9,32,9,32,59,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,59,10,0,9,11,12,14,127,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,82,114,85,117,69,101,9,13,32,59,0];_tsip_machine_parser_header_Refer_Sub_single_lengths=[0,2,2,2,2,2,1,2,2,2,3,7,1,2,6,2,2,2,2,4,4,1,2,3,7,1,2,6,9,5,1,2,4,9,1,2,9,1,2,3,4,1,2,4,1,0,8,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,2,2,2,4,0];_tsip_machine_parser_header_Refer_Sub_range_lengths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,5,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,0,0,0,0,0];_tsip_machine_parser_header_Refer_Sub_index_offsets=[0,0,3,6,9,12,15,17,20,23,26,30,38,40,43,50,53,56,59,62,67,72,74,77,81,94,96,99,111,126,132,134,137,142,157,159,162,177,179,182,186,193,195,198,203,205,209,223,228,234,240,246,249,254,261,263,266,268,271,273,276,279,281,284,286,289,291,298,305,311,317,323,329,332,336,343,350,357,359,362,365,367,369,372,375,378,383];_tsip_machine_parser_header_Refer_Sub_indicies=[0,0,1,2,2,1,3,3,1,4,4,1,5,5,1,6,1,7,7,1,8,8,1,9,9,1,9,9,10,1,10,11,10,12,13,12,13,1,14,1,15,15,1,15,15,12,13,12,13,1,16,16,1,17,17,1,18,18,1,19,19,1,20,21,20,22,1,23,24,23,25,1,26,1,27,27,1,27,27,25,1,25,28,25,29,29,29,29,29,29,29,29,29,1,30,1,31,31,1,31,31,29,29,29,29,29,29,29,29,29,1,32,33,32,34,34,34,35,36,34,34,34,34,34,34,1,37,38,37,25,36,1,39,1,40,40,1,40,40,25,36,1,36,41,36,42,43,42,42,44,42,42,42,42,42,42,1,45,1,46,46,1,46,47,46,42,43,42,42,44,42,42,42,42,42,42,1,48,1,49,49,1,49,49,43,1,43,50,51,52,43,43,1,53,1,43,43,1,54,33,54,35,1,55,1,43,43,43,1,54,33,54,42,42,42,35,42,42,42,42,42,42,1,57,56,56,56,1,59,51,58,58,58,1,59,51,60,60,60,1,59,51,61,61,61,1,59,51,1,63,62,56,56,1,64,59,51,65,58,58,1,66,1,67,68,1,69,1,70,71,1,72,1,51,73,1,51,74,1,51,1,70,75,1,70,1,67,76,1,67,1,64,59,51,77,60,60,1,64,59,51,61,61,61,1,79,51,78,78,78,1,81,51,80,80,80,1,81,51,82,82,82,1,81,51,83,83,83,1,81,51,1,84,78,78,1,64,81,51,85,80,80,1,64,81,51,86,82,82,1,64,81,51,83,83,83,1,87,1,64,88,1,64,89,1,64,1,63,1,90,90,1,91,91,1,92,92,1,93,94,93,95,1,1,0];_tsip_machine_parser_header_Refer_Sub_trans_targs=[2,0,3,4,5,6,7,8,9,10,11,12,15,82,13,14,16,17,18,19,20,44,24,20,21,24,22,23,25,28,26,27,29,44,28,24,33,29,30,31,32,34,46,40,47,35,36,37,38,39,41,43,45,42,20,86,48,81,49,52,50,51,53,68,54,66,55,56,64,57,58,62,59,60,61,63,65,67,69,77,70,73,71,72,74,75,76,78,79,80,83,84,85,20,44,24];_tsip_machine_parser_header_Refer_Sub_trans_actions=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,5,5,5,0,0,0,0,0,0,1,0,0,7,7,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3];tsip_machine_parser_header_Refer_Sub_start=1;tsip_machine_parser_header_Refer_Sub_first_final=86;tsip_machine_parser_header_Refer_Sub_error=0;tsip_machine_parser_header_Refer_Sub_en_main=1;function tsip_header_Refer_Sub(b_sub){tsip_header.call(this,tsip_header_type_e.Refer_Sub);this.b_sub=b_sub}tsip_header_Refer_Sub.prototype.toString=function(){return this.b_sub?"true":"false"};tsip_header_Refer_Sub.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_rsub=new tsip_header_Refer_Sub(true);{cs=tsip_machine_parser_header_Refer_Sub_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Refer_Sub_key_offsets[cs];_trans=_tsip_machine_parser_header_Refer_Sub_index_offsets[cs];_klen=_tsip_machine_parser_header_Refer_Sub_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Refer_Sub_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Refer_Sub_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Refer_Sub_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Refer_Sub_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Refer_Sub_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Refer_Sub_indicies[_trans];cs=_tsip_machine_parser_header_Refer_Sub_trans_targs[_trans];if(_tsip_machine_parser_header_Refer_Sub_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Refer_Sub_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Refer_Sub_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Refer_Sub_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_rsub.b_sub=true;break;case 2:hdr_rsub.b_sub=false;break;case 3:tsk_ragel_add_param(s_str,p,i_tag_start,hdr_rsub.ao_params);break;case 4:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<86){tsk_utils_log_error("Failed to parse 'Refer-Sub' header: "+s_str);return null}return hdr_rsub};tsip_header_Session_Expires.prototype=Object.create(tsip_header.prototype);var TSIP_SESSION_EXPIRES_DEFAULT_VALUE=1800;var TSIP_SESSION_EXPIRES_DEFAULT_VALUE=14400;_tsip_machine_parser_header_Session_Expires_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5];_tsip_machine_parser_header_Session_Expires_key_offsets=[0,0,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,34,39,40,42,46,52,56,57,59,62,81,82,84,102,121,126,127,129,133,152,153,155,174,175,177,180,188,189,191,195,196,202,220,227,235,243,251,253,260,269,271,274,276,279,281,284,287,288,291,292,295,296,305,314,322,330,338,346,348,354,363,372,381,383,386,389,390,391,412,433,454,475,496,517,538,559,578,583,584,586,590,611,612,614,635,655,677,681,685];_tsip_machine_parser_header_Session_Expires_trans_keys=[83,88,115,120,69,101,83,115,83,115,73,105,79,111,78,110,45,69,101,88,120,80,112,73,105,82,114,69,101,83,115,9,32,58,9,13,32,48,57,10,9,32,9,32,48,57,9,13,32,59,48,57,9,13,32,59,10,9,32,9,32,59,9,13,32,33,37,39,82,114,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,82,114,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,59,10,0,9,11,12,14,127,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,59,61,69,101,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,70,102,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,82,114,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,69,101,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,83,115,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,72,104,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,69,101,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,82,114,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,85,91,117,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,85,91,117,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,65,97,126,42,43,45,46,48,57,66,90,95,122,9,13,32,33,37,39,59,67,83,99,115,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,9,13,32,59,0];_tsip_machine_parser_header_Session_Expires_single_lengths=[0,4,2,2,2,2,2,2,1,2,2,2,2,2,2,2,3,3,1,2,2,4,4,1,2,3,9,1,2,8,9,5,1,2,4,9,1,2,9,1,2,3,4,1,2,4,1,0,8,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,11,11,11,11,11,11,11,11,9,5,1,2,4,11,1,2,11,10,12,4,4,0];_tsip_machine_parser_header_Session_Expires_range_lengths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,5,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,5,5,5,5,5,5,5,5,5,0,0,0,0,5,0,0,5,5,5,0,0,0];_tsip_machine_parser_header_Session_Expires_index_offsets=[0,0,5,8,11,14,17,20,23,25,28,31,34,37,40,43,46,50,55,57,60,64,70,75,77,80,84,99,101,104,118,133,139,141,144,149,164,166,169,184,186,189,193,200,202,205,210,212,216,230,235,241,247,253,256,261,268,270,273,275,278,280,283,286,288,291,293,296,298,305,312,318,324,330,336,339,343,350,357,364,366,369,372,374,376,393,410,427,444,461,478,495,512,527,533,535,538,543,560,562,565,582,598,616,621,626];_tsip_machine_parser_header_Session_Expires_indicies=[0,2,0,2,1,3,3,1,4,4,1,5,5,1,6,6,1,7,7,1,8,8,1,9,1,10,10,1,11,11,1,12,12,1,13,13,1,14,14,1,15,15,1,2,2,1,2,2,16,1,16,17,16,18,1,19,1,20,20,1,20,20,18,1,21,22,21,24,23,1,25,26,25,27,1,28,1,29,29,1,29,29,27,1,27,30,27,31,31,31,32,32,31,31,31,31,31,31,1,33,1,34,34,1,34,34,31,31,31,32,32,31,31,31,31,31,31,1,35,36,35,37,37,37,38,39,37,37,37,37,37,37,1,40,41,40,27,39,1,42,1,43,43,1,43,43,27,39,1,39,44,39,45,46,45,45,47,45,45,45,45,45,45,1,48,1,49,49,1,49,50,49,45,46,45,45,47,45,45,45,45,45,45,1,51,1,52,52,1,52,52,46,1,46,53,54,55,46,46,1,56,1,46,46,1,57,36,57,38,1,58,1,46,46,46,1,57,36,57,45,45,45,38,45,45,45,45,45,45,1,60,59,59,59,1,62,54,61,61,61,1,62,54,63,63,63,1,62,54,64,64,64,1,62,54,1,66,65,59,59,1,67,62,54,68,61,61,1,69,1,70,71,1,72,1,73,74,1,75,1,54,76,1,54,77,1,54,1,73,78,1,73,1,70,79,1,70,1,67,62,54,80,63,63,1,67,62,54,64,64,64,1,82,54,81,81,81,1,84,54,83,83,83,1,84,54,85,85,85,1,84,54,86,86,86,1,84,54,1,87,81,81,1,67,84,54,88,83,83,1,67,84,54,89,85,85,1,67,84,54,86,86,86,1,90,1,67,91,1,67,92,1,67,1,66,1,35,36,35,37,37,37,38,39,93,93,37,37,37,37,37,37,1,35,36,35,37,37,37,38,39,94,94,37,37,37,37,37,37,1,35,36,35,37,37,37,38,39,95,95,37,37,37,37,37,37,1,35,36,35,37,37,37,38,39,96,96,37,37,37,37,37,37,1,35,36,35,37,37,37,38,39,97,97,37,37,37,37,37,37,1,35,36,35,37,37,37,38,39,98,98,37,37,37,37,37,37,1,35,36,35,37,37,37,38,39,99,99,37,37,37,37,37,37,1,35,36,35,37,37,37,38,39,100,100,37,37,37,37,37,37,1,101,36,101,37,37,37,38,102,37,37,37,37,37,37,1,103,104,103,27,102,1,105,1,106,106,1,106,106,27,102,1,102,107,102,45,46,45,45,108,47,108,45,45,45,45,45,45,1,109,1,110,110,1,110,50,110,45,46,45,45,108,47,108,45,45,45,45,45,45,1,57,36,57,45,45,45,38,111,111,45,45,45,45,45,45,1,57,36,57,45,45,45,38,112,113,112,113,45,45,45,45,45,45,1,114,115,114,116,1,117,118,117,119,1,1,0];_tsip_machine_parser_header_Session_Expires_trans_targs=[2,0,16,3,4,5,6,7,8,9,10,11,12,13,14,15,17,18,21,19,20,22,46,21,26,22,23,26,24,25,27,30,84,28,29,31,46,30,26,35,31,32,33,34,36,48,42,49,37,38,39,40,41,43,45,47,44,22,105,50,83,51,54,52,53,55,70,56,68,57,58,66,59,60,64,61,62,63,65,67,69,71,79,72,75,73,74,76,77,78,80,81,82,85,86,87,88,89,90,91,92,93,97,93,94,95,96,98,101,99,100,102,103,104,22,46,26,22,46,26];_tsip_machine_parser_header_Session_Expires_trans_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,3,0,3,0,0,0,0,0,0,1,1,0,0,9,9,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,1,0,0,0,0,0,7,7,7,5,5,5];tsip_machine_parser_header_Session_Expires_start=1;tsip_machine_parser_header_Session_Expires_first_final=105;tsip_machine_parser_header_Session_Expires_error=0;tsip_machine_parser_header_Session_Expires_en_main=1;function tsip_header_Session_Expires(i_delta_seconds,b_refresher_uas){tsip_header.call(this,tsip_header_type_e.Session_Expires);this.i_delta_seconds=i_delta_seconds;this.b_refresher_uas=b_refresher_uas}tsip_header_Session_Expires.prototype.toString=function(){if(this.i_delta_seconds>=0){return tsk_string_format("{0};refresher={1}",this.i_delta_seconds,this.b_refresher_uas?"uas":"uac")}return null};tsip_header_Session_Expires.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_session_expires=new tsip_header_Session_Expires(TSIP_SESSION_EXPIRES_DEFAULT_VALUE,false);{cs=tsip_machine_parser_header_Session_Expires_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Session_Expires_key_offsets[cs];_trans=_tsip_machine_parser_header_Session_Expires_index_offsets[cs];_klen=_tsip_machine_parser_header_Session_Expires_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Session_Expires_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Session_Expires_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Session_Expires_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Session_Expires_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Session_Expires_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Session_Expires_indicies[_trans];cs=_tsip_machine_parser_header_Session_Expires_trans_targs[_trans];if(_tsip_machine_parser_header_Session_Expires_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Session_Expires_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Session_Expires_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Session_Expires_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_session_expires.i_delta_seconds=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 2:hdr_session_expires.b_refresher_uas=true;break;case 3:hdr_session_expires.b_refresher_uas=false;break;case 4:tsk_ragel_add_param(s_str,p,i_tag_start,hdr_session_expires.ao_params);break;case 5:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<105){tsk_utils_log_error("Failed to parse 'Session-Expires' header: "+s_str);return null}return hdr_session_expires};tsip_header_Subscription_State.prototype=Object.create(tsip_header.prototype);_tsip_machine_parser_header_Subscription_State_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6];_tsip_machine_parser_header_Subscription_State_key_offsets=[0,0,2,4,6,8,10,12,14,16,18,20,22,24,25,27,29,31,33,35,38,55,56,58,74,92,96,97,99,102,123,124,126,146,165,170,171,173,177,196,197,199,218,219,221,224,232,233,235,239,240,246,264,271,279,287,295,297,304,313,315,318,320,323,325,328,331,332,335,336,339,340,349,358,366,374,382,390,392,398,407,416,425,427,430,433,434,435,456,477,498,519,540,561,580,585,586,588,592,611,612,614,633,639,660,683,704,725,746,765,770,771,773,777,796,797,799,818,836,857,878,897,918,939,960,981,1002,1021,1026,1027,1029,1033,1052,1053,1055,1074,1080];_tsip_machine_parser_header_Subscription_State_trans_keys=[83,115,85,117,66,98,83,115,67,99,82,114,73,105,80,112,84,116,73,105,79,111,78,110,45,83,115,84,116,65,97,84,116,69,101,9,32,58,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,10,9,32,9,32,59,9,13,32,33,37,39,69,82,101,114,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,69,82,101,114,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,59,10,0,9,11,12,14,127,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,59,61,88,120,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,80,112,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,73,105,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,82,114,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,69,101,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,83,115,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,48,57,9,13,32,33,37,39,59,61,69,101,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,65,84,97,116,126,42,43,45,46,48,57,66,90,95,122,9,13,32,33,37,39,59,61,83,115,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,79,111,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,78,110,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,82,114,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,89,121,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,45,46,59,61,126,42,43,48,57,65,90,95,122,9,13,32,33,37,39,59,61,65,97,126,42,43,45,46,48,57,66,90,95,122,9,13,32,33,37,39,59,61,70,102,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,84,116,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,69,101,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,82,114,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,48,57,0];
_tsip_machine_parser_header_Subscription_State_single_lengths=[0,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,3,7,1,2,6,8,4,1,2,3,11,1,2,10,9,5,1,2,4,9,1,2,9,1,2,3,4,1,2,4,1,0,8,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,11,11,11,11,11,11,9,5,1,2,4,9,1,2,9,4,11,13,11,11,11,9,5,1,2,4,9,1,2,9,8,11,11,11,11,11,11,11,11,9,5,1,2,4,9,1,2,9,4,0];_tsip_machine_parser_header_Subscription_State_range_lengths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,5,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,5,5,5,5,5,5,5,0,0,0,0,5,0,0,5,1,5,5,5,5,5,5,0,0,0,0,5,0,0,5,5,5,5,4,5,5,5,5,5,5,0,0,0,0,5,0,0,5,1,0];_tsip_machine_parser_header_Subscription_State_index_offsets=[0,0,3,6,9,12,15,18,21,24,27,30,33,36,38,41,44,47,50,53,57,70,72,75,87,101,106,108,111,115,132,134,137,153,168,174,176,179,184,199,201,204,219,221,224,228,235,237,240,245,247,251,265,270,276,282,288,291,296,303,305,308,310,313,315,318,321,323,326,328,331,333,340,347,353,359,365,371,374,378,385,392,399,401,404,407,409,411,428,445,462,479,496,513,528,534,536,539,544,559,561,564,579,585,602,621,638,655,672,687,693,695,698,703,718,720,723,738,752,769,786,802,819,836,853,870,887,902,908,910,913,918,933,935,938,953,959];_tsip_machine_parser_header_Subscription_State_indicies=[0,0,1,2,2,1,3,3,1,4,4,1,5,5,1,6,6,1,7,7,1,8,8,1,9,9,1,10,10,1,11,11,1,12,12,1,13,1,14,14,1,15,15,1,16,16,1,17,17,1,18,18,1,18,18,19,1,19,20,19,21,21,21,21,21,21,21,21,21,1,22,1,23,23,1,23,23,21,21,21,21,21,21,21,21,21,1,24,25,24,26,26,26,27,26,26,26,26,26,26,1,28,29,28,30,1,31,1,32,32,1,32,32,30,1,30,33,30,34,34,34,35,36,35,36,34,34,34,34,34,34,1,37,1,38,38,1,38,38,34,34,34,35,36,35,36,34,34,34,34,34,34,1,39,40,39,41,41,41,42,43,41,41,41,41,41,41,1,44,45,44,30,43,1,46,1,47,47,1,47,47,30,43,1,43,48,43,49,50,49,49,51,49,49,49,49,49,49,1,52,1,53,53,1,53,54,53,49,50,49,49,51,49,49,49,49,49,49,1,55,1,56,56,1,56,56,50,1,50,57,58,59,50,50,1,60,1,50,50,1,61,40,61,42,1,62,1,50,50,50,1,61,40,61,49,49,49,42,49,49,49,49,49,49,1,64,63,63,63,1,66,58,65,65,65,1,66,58,67,67,67,1,66,58,68,68,68,1,66,58,1,70,69,63,63,1,71,66,58,72,65,65,1,73,1,74,75,1,76,1,77,78,1,79,1,58,80,1,58,81,1,58,1,77,82,1,77,1,74,83,1,74,1,71,66,58,84,67,67,1,71,66,58,68,68,68,1,86,58,85,85,85,1,88,58,87,87,87,1,88,58,89,89,89,1,88,58,90,90,90,1,88,58,1,91,85,85,1,71,88,58,92,87,87,1,71,88,58,93,89,89,1,71,88,58,90,90,90,1,94,1,71,95,1,71,96,1,71,1,70,1,39,40,39,41,41,41,42,43,97,97,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,98,98,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,99,99,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,100,100,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,101,101,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,102,102,41,41,41,41,41,41,1,103,40,103,41,41,41,42,104,41,41,41,41,41,41,1,105,106,105,30,104,1,107,1,108,108,1,108,108,30,104,1,104,109,104,49,50,49,49,51,49,49,49,110,49,49,1,111,1,112,112,1,112,54,112,49,50,49,49,51,49,49,49,110,49,49,1,113,114,113,116,115,1,39,40,39,41,41,41,42,43,117,117,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,118,119,118,119,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,120,120,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,121,121,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,122,122,41,41,41,41,41,41,1,123,40,123,41,41,41,42,124,41,41,41,41,41,41,1,125,126,125,30,124,1,127,1,128,128,1,128,128,30,124,1,124,129,124,130,50,130,130,51,130,130,130,130,130,130,1,131,1,132,132,1,132,54,132,130,50,130,130,51,130,130,130,130,130,130,1,133,134,133,135,135,135,136,135,135,135,135,135,135,1,39,40,39,41,41,41,42,43,137,137,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,138,138,41,41,41,41,41,41,1,39,40,39,41,41,41,139,41,42,43,41,41,41,41,41,1,39,40,39,41,41,41,42,43,140,140,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,141,141,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,142,142,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,143,143,41,41,41,41,41,41,1,39,40,39,41,41,41,42,43,144,144,41,41,41,41,41,41,1,145,40,145,41,41,41,42,146,41,41,41,41,41,41,1,147,148,147,30,146,1,149,1,150,150,1,150,150,30,146,1,146,151,146,49,50,49,49,51,49,49,49,152,49,49,1,153,1,154,154,1,154,54,154,49,50,49,49,51,49,49,49,152,49,49,1,155,156,155,158,157,1,1,0];_tsip_machine_parser_header_Subscription_State_trans_targs=[2,0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,24,22,23,25,49,24,29,25,26,29,27,28,30,33,87,103,31,32,34,49,33,29,38,34,35,36,37,39,51,45,52,40,41,42,43,44,46,48,50,47,25,136,53,86,54,57,55,56,58,73,59,71,60,61,69,62,63,67,64,65,66,68,70,72,74,82,75,78,76,77,79,80,81,83,84,85,88,89,90,91,92,93,94,98,94,95,96,97,99,102,100,101,25,49,102,29,104,105,118,106,107,108,109,113,109,110,111,112,114,117,115,116,25,49,117,29,119,120,121,122,123,124,125,126,127,131,127,128,129,130,132,135,133,134,25,49,135,29];_tsip_machine_parser_header_Subscription_State_trans_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,3,0,3,0,0,0,0,0,0,1,1,1,0,0,11,11,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,1,0,0,7,7,0,7,0,0,0,0,0,0,11,0,0,0,0,0,0,1,0,0,5,5,0,5,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,1,0,0,9,9,0,9];tsip_machine_parser_header_Subscription_State_start=1;tsip_machine_parser_header_Subscription_State_first_final=136;tsip_machine_parser_header_Subscription_State_error=0;tsip_machine_parser_header_Subscription_State_en_main=1;function tsip_header_Subscription_State(s_state,s_reason,i_expires,i_retry_after){tsip_header.call(this,tsip_header_type_e.Subscription_State);this.s_state=s_state;this.s_reason=s_reason;this.i_expires=i_expires;this.i_retry_after=i_retry_after}tsip_header_Subscription_State.prototype.toString=function(){var s_str=tsk_string_format("{0}{1}{2}",this.s_state,this.s_reason?";reason=":"",this.s_reason?this.s_reason:"");if(this.i_expires>=0){s_str+=tsk_string_format(";expires={0}",this.i_expires)}if(this.i_retry_after>=0){s_str+=tsk_string_format(";retry-after={0}",this.i_retry_after)}return s_str};tsip_header_Subscription_State.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_Subscription_State=new tsip_header_Subscription_State(null,null,(-1),(-1));{cs=tsip_machine_parser_header_Subscription_State_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Subscription_State_key_offsets[cs];_trans=_tsip_machine_parser_header_Subscription_State_index_offsets[cs];_klen=_tsip_machine_parser_header_Subscription_State_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Subscription_State_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Subscription_State_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Subscription_State_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Subscription_State_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Subscription_State_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Subscription_State_indicies[_trans];cs=_tsip_machine_parser_header_Subscription_State_trans_targs[_trans];if(_tsip_machine_parser_header_Subscription_State_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Subscription_State_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Subscription_State_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Subscription_State_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_Subscription_State.s_state=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 2:hdr_Subscription_State.s_reason=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 3:hdr_Subscription_State.i_expires=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 4:hdr_Subscription_State.i_retry_after=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 5:tsk_ragel_add_param(s_str,p,i_tag_start,hdr_Subscription_State.ao_params);break;case 6:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<136){tsk_utils_log_error("Failed to parse 'Subscription-State' header: "+s_str);return null}return hdr_Subscription_State};tsip_header_Via.prototype=Object.create(tsip_header.prototype);tsip_header_Via.prototype.__s_proto_name_default="SIP";tsip_header_Via.prototype.__s_proto_version_default="2.0";_tsip_machine_parser_header_Via_actions=[0,1,0,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,13,1,14,1,16,2,1,0,2,4,15,2,5,15,2,7,15,2,8,15,2,9,15,2,10,15,2,11,15,2,12,13,2,13,15,2,14,15,3,12,13,15];_tsip_machine_parser_header_Via_key_offsets=[0,0,2,7,10,27,28,30,46,62,66,67,69,72,89,90,92,108,124,128,129,131,134,151,152,154,170,187,197,198,200,209,217,224,232,238,252,258,259,261,266,271,272,274,278,285,290,291,293,297,324,325,327,353,371,377,378,380,385,404,405,407,426,427,429,432,440,441,443,448,449,455,472,479,487,495,503,505,512,521,523,526,528,531,533,536,539,540,543,544,547,548,557,566,574,582,590,598,600,606,615,624,633,635,638,641,642,643,663,683,703,723,743,761,767,768,770,775,794,795,797,816,833,853,873,893,911,917,918,920,925,944,945,947,966,983,1003,1023,1043,1063,1081,1087,1088,1090,1095,1116,1117,1119,1140,1161,1181,1202,1221,1234,1241,1252,1260,1267,1273,1292,1313,1332,1353,1372,1385,1398,1411,1432,1453,1474,1495,1516,1537,1544,1552,1560,1568,1570,1577,1586,1588,1591,1593,1596,1598,1601,1604,1605,1610,1613,1614,1617,1618,1627,1636,1644,1652,1660,1668,1670,1676,1685,1694,1703,1705,1708,1711,1712,1713,1735,1755,1775,1795,1815,1835,1855,1873,1879,1880,1882,1887,1913,1914,1916,1942,1955,1957,1960,1962,1965,1967,1974,1981,1986,1989,1990,1993,1994,2007,2020,2026,2033,2045,2057,2069,2081,2087,2093,2106,2119,2132,2134,2137,2140,2141,2153,2165,2177,2178,2198,2218,2238,2244,2250,2251,2253,2258,2263,2264,2266,2270,2277,2297,2317,2335,2341,2342,2344,2349,2368,2369,2371,2390,2397,2404,2409,2416,2428,2434,2442,2448,2456,2462,2476,2490,2504,2512,2520,2528,2536,2544,2552,2559,2567,2575,2583,2585,2592,2601,2603,2606,2608,2611,2613,2616,2619,2620,2626,2629,2630,2633,2634,2643,2652,2660,2668,2676,2684,2686,2692,2701,2710,2719,2721,2724,2727,2728,2729,2731];_tsip_machine_parser_header_Via_trans_keys=[86,118,9,32,58,73,105,9,32,58,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,47,126,42,43,45,57,65,90,95,122,9,13,32,47,10,9,32,9,32,47,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,47,126,42,43,45,57,65,90,95,122,9,13,32,47,10,9,32,9,32,47,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,91,48,57,65,90,97,122,10,9,32,9,32,91,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,48,57,65,90,97,122,45,46,48,57,65,90,97,122,48,57,65,90,97,122,9,13,32,44,45,46,58,59,48,57,65,90,97,122,9,13,32,44,58,59,10,9,32,9,32,44,58,59,9,13,32,48,57,10,9,32,9,32,48,57,9,13,32,44,59,48,57,9,13,32,44,59,10,9,32,9,32,44,59,9,13,32,33,37,39,66,67,77,82,84,98,99,109,114,116,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,66,67,77,82,84,98,99,109,114,116,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,44,59,10,0,9,11,12,14,127,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,44,59,61,82,114,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,65,97,126,42,46,48,57,66,90,95,122,9,13,32,33,37,39,44,59,61,78,110,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,67,99,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,72,104,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,79,111,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,77,109,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,80,112,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,65,97,126,42,46,48,57,66,90,95,122,9,13,32,33,37,39,44,59,61,68,100,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,68,100,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,82,114,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,59,126,42,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,96,97,122,9,13,32,44,45,46,59,48,57,65,90,97,122,45,48,57,65,90,97,122,9,13,32,44,59,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,48,57,65,90,97,122,48,57,65,90,97,122,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,59,126,42,46,48,57,65,90,95,96,97,122,9,13,32,44,45,46,59,48,57,65,90,97,122,9,13,32,44,45,46,59,48,57,65,90,97,122,9,13,32,44,45,46,59,48,57,65,90,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,9,13,32,33,37,39,44,45,46,59,126,42,43,48,57,65,90,95,96,97,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,9,13,32,44,59,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,44,59,61,69,80,101,112,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,67,99,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,69,101,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,73,105,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,86,118,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,69,101,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,68,100,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,58,91,126,42,43,45,46,48,57,65,70,71,90,95,96,97,102,103,122,10,9,32,9,13,32,33,34,37,39,58,91,126,42,43,45,46,48,57,65,70,71,90,95,96,97,102,103,122,9,13,32,44,46,58,59,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,9,13,32,44,59,48,57,9,13,32,44,59,48,57,9,13,32,44,59,46,48,57,46,46,48,57,46,9,13,32,44,46,58,59,48,57,65,70,97,102,9,13,32,44,46,58,59,48,57,65,70,97,102,9,13,32,44,58,59,58,48,57,65,70,97,102,9,13,32,44,58,59,48,57,65,70,97,102,9,13,32,44,58,59,48,57,65,70,97,102,9,13,32,44,58,59,48,57,65,70,97,102,9,13,32,44,58,59,48,57,65,70,97,102,9,13,32,44,58,59,48,57,65,70,97,102,9,13,32,44,46,58,59,48,57,65,70,97,102,9,13,32,44,46,58,59,48,57,65,70,97,102,9,13,32,44,46,58,59,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,9,13,32,44,58,59,48,57,65,70,97,102,9,13,32,44,58,59,48,57,65,70,97,102,9,13,32,44,58,59,48,57,65,70,97,102,58,9,13,32,33,37,39,44,59,61,79,111,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,82,114,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,84,116,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,48,57,10,9,32,9,32,48,57,9,13,32,44,59,48,57,9,13,32,33,37,39,44,59,61,84,116,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,76,108,126,42,46,48,57,65,90,95,122,9,13,32,33,37,39,44,59,61,126,42,46,48,57,65,90,95,122,9,13,32,44,59,61,10,9,32,9,32,44,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,44,59,48,57,9,13,32,44,59,48,57,9,13,32,44,59,45,48,57,65,90,97,122,9,13,32,44,58,59,48,57,65,90,97,122,48,57,65,90,97,122,45,46,48,57,65,90,97,122,48,57,65,90,97,122,45,46,48,57,65,90,97,122,48,57,65,90,97,122,9,13,32,44,45,46,58,59,48,57,65,90,97,122,9,13,32,44,45,46,58,59,48,57,65,90,97,122,9,13,32,44,45,46,58,59,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,46,48,57,65,90,97,122,45,46,48,57,65,90,97,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,9,13,32,44,58,59,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,65,97,0];_tsip_machine_parser_header_Via_single_lengths=[0,2,5,3,7,1,2,6,8,4,1,2,3,7,1,2,6,8,4,1,2,3,7,1,2,6,7,4,1,2,3,2,1,2,0,8,6,1,2,5,3,1,2,2,5,5,1,2,4,17,1,2,16,10,6,1,2,5,9,1,2,9,1,2,3,4,1,2,5,1,0,9,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,12,12,12,12,12,10,6,1,2,5,9,1,2,9,9,12,12,12,10,6,1,2,5,9,1,2,9,9,12,12,12,12,10,6,1,2,5,9,1,2,9,11,10,11,9,7,1,5,2,1,0,9,11,9,11,9,7,7,7,11,11,11,11,11,11,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,5,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,14,12,12,12,12,12,12,10,6,1,2,5,10,1,2,10,7,0,1,0,1,0,5,5,5,1,1,1,1,7,7,6,1,6,6,6,6,6,0,7,7,7,0,1,1,1,6,6,6,1,12,12,12,6,6,1,2,5,3,1,2,2,5,12,12,10,6,1,2,5,9,1,2,9,5,5,5,1,6,0,2,0,2,0,8,8,8,2,2,2,2,2,2,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,6,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,2,0];_tsip_machine_parser_header_Via_range_lengths=[0,0,0,0,5,0,0,5,4,0,0,0,0,5,0,0,5,4,0,0,0,0,5,0,0,5,5,3,0,0,3,3,3,3,3,3,0,0,0,0,1,0,0,1,1,0,0,0,0,5,0,0,5,4,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,4,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,4,4,4,4,4,4,0,0,0,0,5,0,0,5,4,4,4,4,4,0,0,0,0,5,0,0,5,4,4,4,4,4,4,0,0,0,0,6,0,0,6,5,5,5,5,3,3,3,3,3,3,5,5,5,5,5,3,3,3,5,5,5,5,5,5,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,4,4,4,4,4,4,4,4,0,0,0,0,8,0,0,8,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,0,3,3,3,3,3,0,3,3,3,3,1,1,1,0,3,3,3,0,4,4,4,0,0,0,0,0,1,0,0,1,1,4,4,4,0,0,0,0,5,0,0,5,1,1,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,0,0];_tsip_machine_parser_header_Via_index_offsets=[0,0,3,9,13,26,28,31,43,56,61,63,66,70,83,85,88,100,113,118,120,123,127,140,142,145,157,170,178,180,183,190,196,201,207,211,223,230,232,235,241,246,248,251,255,262,268,270,273,278,301,303,306,328,343,350,352,355,361,376,378,381,396,398,401,405,412,414,417,423,425,429,443,448,454,460,466,469,474,481,483,486,488,491,493,496,499,501,504,506,509,511,518,525,531,537,543,549,552,556,563,570,577,579,582,585,587,589,606,623,640,657,674,689,696,698,701,707,722,724,727,742,756,773,790,807,822,829,831,834,840,855,857,860,875,889,906,923,940,957,972,979,981,984,990,1006,1008,1011,1027,1044,1060,1077,1092,1103,1108,1117,1123,1128,1132,1147,1164,1179,1196,1211,1222,1233,1244,1261,1278,1295,1312,1329,1346,1351,1357,1363,1369,1372,1377,1384,1386,1389,1391,1394,1396,1399,1402,1404,1410,1413,1415,1418,1420,1427,1434,1440,1446,1452,1458,1461,1465,1472,1479,1486,1488,1491,1494,1496,1498,1517,1534,1551,1568,1585,1602,1619,1634,1641,1643,1646,1652,1671,1673,1676,1695,1706,1708,1711,1713,1716,1718,1725,1732,1738,1741,1743,1746,1748,1759,1770,1777,1782,1792,1802,1812,1822,1829,1833,1844,1855,1866,1868,1871,1874,1876,1886,1896,1906,1908,1925,1942,1959,1966,1973,1975,1978,1984,1989,1991,1994,1998,2005,2022,2039,2054,2061,2063,2066,2072,2087,2089,2092,2107,2114,2121,2127,2132,2142,2146,2152,2156,2162,2166,2178,2190,2202,2208,2214,2220,2226,2232,2238,2243,2249,2255,2261,2264,2269,2276,2278,2281,2283,2286,2288,2291,2294,2296,2303,2306,2308,2311,2313,2320,2327,2333,2339,2345,2351,2354,2358,2365,2372,2379,2381,2384,2387,2389,2391,2394];_tsip_machine_parser_header_Via_indicies=[0,0,1,2,2,3,4,4,1,2,2,3,1,3,5,3,6,6,6,6,6,6,6,6,6,1,7,1,8,8,1,8,8,6,6,6,6,6,6,6,6,6,1,9,10,9,11,11,11,12,11,11,11,11,11,1,13,14,13,15,1,16,1,17,17,1,17,17,15,1,15,18,15,19,19,19,19,19,19,19,19,19,1,20,1,21,21,1,21,21,19,19,19,19,19,19,19,19,19,1,22,23,22,24,24,24,25,24,24,24,24,24,1,26,27,26,28,1,29,1,30,30,1,30,30,28,1,28,31,28,32,32,32,32,32,32,32,32,32,1,33,1,34,34,1,34,34,32,32,32,32,32,32,32,32,32,1,35,36,35,37,37,37,37,37,37,37,37,37,1,38,39,38,42,40,41,41,1,43,1,44,44,1,44,44,42,40,41,41,1,45,46,47,48,48,1,45,48,48,48,1,45,49,48,48,48,1,48,50,50,1,51,52,51,53,54,55,56,57,50,50,50,1,58,59,58,3,60,61,1,62,1,63,63,1,63,63,3,60,61,1,60,64,60,65,1,66,1,67,67,1,67,67,65,1,68,69,68,70,72,71,1,73,74,73,3,61,1,75,1,76,76,1,76,76,3,61,1,61,77,61,78,78,78,79,80,81,82,83,79,80,81,82,83,78,78,78,78,78,78,1,84,1,85,85,1,85,85,78,78,78,79,80,81,82,83,79,80,81,82,83,78,78,78,78,78,78,1,86,87,86,88,88,88,89,90,91,88,88,88,88,88,1,92,93,92,3,61,91,1,94,1,95,95,1,95,95,3,61,91,1,91,96,91,97,98,97,97,99,97,97,97,97,97,97,1,100,1,101,101,1,101,102,101,97,98,97,97,99,97,97,97,97,97,97,1,103,1,104,104,1,104,104,98,1,98,105,106,107,98,98,1,108,1,98,98,1,109,87,109,89,90,1,110,1,98,98,98,1,109,87,109,97,97,97,89,90,97,97,97,97,97,1,112,111,111,111,1,114,106,113,113,113,1,114,106,115,115,115,1,114,106,116,116,116,1,114,106,1,118,117,111,111,1,119,114,106,120,113,113,1,121,1,122,123,1,124,1,125,126,1,127,1,106,128,1,106,129,1,106,1,125,130,1,125,1,122,131,1,122,1,119,114,106,132,115,115,1,119,114,106,116,116,116,1,134,106,133,133,133,1,136,106,135,135,135,1,136,106,137,137,137,1,136,106,138,138,138,1,136,106,1,139,133,133,1,119,136,106,140,135,135,1,119,136,106,141,137,137,1,119,136,106,138,138,138,1,142,1,119,143,1,119,144,1,119,1,118,1,86,87,86,88,88,88,89,90,91,145,145,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,146,146,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,147,147,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,148,148,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,149,149,88,88,88,88,88,1,150,87,150,88,88,88,89,90,151,88,88,88,88,88,1,152,153,152,3,61,151,1,154,1,155,155,1,155,155,3,61,151,1,151,156,151,157,98,157,157,99,157,157,157,157,157,157,1,158,1,159,159,1,159,102,159,157,98,157,157,99,157,157,157,157,157,157,1,160,161,160,162,162,162,163,164,162,162,162,162,162,1,86,87,86,88,88,88,89,90,91,165,165,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,166,166,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,167,167,88,88,88,88,88,1,168,87,168,88,88,88,89,90,169,88,88,88,88,88,1,170,171,170,3,61,169,1,172,1,173,173,1,173,173,3,61,169,1,169,174,169,175,98,175,175,99,175,175,175,175,175,175,1,176,1,177,177,1,177,102,177,175,98,175,175,99,175,175,175,175,175,175,1,178,179,178,180,180,180,181,182,180,180,180,180,180,1,86,87,86,88,88,88,89,90,91,183,183,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,184,184,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,185,185,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,186,186,88,88,88,88,88,1,187,87,187,88,88,88,89,90,188,88,88,88,88,88,1,189,190,189,3,61,188,1,191,1,192,192,1,192,192,3,61,188,1,188,193,188,97,98,97,97,196,97,97,97,194,195,97,195,1,197,1,198,198,1,198,102,198,97,98,97,97,196,97,97,97,194,195,97,195,1,109,87,109,97,97,97,89,199,200,90,97,97,201,202,97,202,1,109,87,109,97,97,97,89,199,90,97,97,202,202,97,202,1,109,87,109,97,97,97,89,199,203,90,97,97,202,202,97,202,1,109,87,109,97,97,97,89,90,97,97,202,204,97,204,1,205,206,205,207,208,209,210,204,204,204,1,208,204,204,204,1,205,206,205,207,210,211,204,204,1,212,213,211,211,211,1,212,211,211,211,1,211,204,204,1,109,87,109,97,97,97,89,90,97,97,214,204,97,204,1,109,87,109,97,97,97,89,199,215,90,97,97,216,202,97,202,1,109,87,109,97,97,97,89,90,97,97,217,204,97,204,1,109,87,109,97,97,97,89,199,218,90,97,97,219,202,97,202,1,109,87,109,97,97,97,89,90,97,97,220,204,97,204,1,205,206,205,207,212,213,210,221,211,211,1,205,206,205,207,212,213,210,222,211,211,1,205,206,205,207,212,213,210,211,211,211,1,109,87,109,97,97,97,89,199,218,90,97,97,223,202,97,202,1,109,87,109,97,97,97,89,199,218,90,97,97,202,202,97,202,1,109,87,109,97,97,97,89,199,215,90,97,97,224,202,97,202,1,109,87,109,97,97,97,89,199,215,90,97,97,202,202,97,202,1,109,87,109,97,97,97,89,199,200,90,97,97,225,202,97,202,1,109,87,109,97,97,97,89,199,200,90,97,97,202,202,97,202,1,227,226,226,226,1,229,230,228,228,228,1,229,230,231,231,231,1,229,230,232,232,232,1,229,230,1,234,233,226,226,1,235,229,230,236,228,228,1,237,1,238,239,1,240,1,241,242,1,243,1,230,244,1,230,245,1,230,1,205,206,205,207,210,1,241,246,1,241,1,238,247,1,238,1,235,229,230,248,231,231,1,235,229,230,232,232,232,1,250,230,249,249,249,1,252,230,251,251,251,1,252,230,253,253,253,1,252,230,254,254,254,1,252,230,1,255,249,249,1,235,252,230,256,251,251,1,235,252,230,257,253,253,1,235,252,230,254,254,254,1,258,1,235,259,1,235,260,1,235,1,234,1,86,87,86,88,88,88,89,90,91,261,262,261,262,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,263,263,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,264,264,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,265,265,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,266,266,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,267,267,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,268,268,88,88,88,88,88,1,269,87,269,88,88,88,89,90,270,88,88,88,88,88,1,271,272,271,3,61,270,1,273,1,274,274,1,274,274,3,61,270,1,270,275,270,97,98,97,97,277,99,97,97,97,276,278,97,97,278,97,1,279,1,280,280,1,280,102,280,97,98,97,97,277,99,97,97,97,276,278,97,97,278,97,1,281,282,281,283,284,286,287,285,288,288,1,289,1,290,291,1,292,1,293,294,1,295,1,281,282,281,283,287,296,1,281,282,281,283,287,297,1,281,282,281,283,287,1,293,298,1,293,1,290,299,1,290,1,281,282,281,283,284,286,287,300,301,301,1,281,282,281,283,284,286,287,302,302,302,1,281,282,281,283,286,287,1,304,303,305,305,1,281,282,281,283,307,287,306,306,306,1,281,282,281,283,309,287,308,308,308,1,281,282,281,283,309,287,310,310,310,1,281,282,281,283,309,287,311,311,311,1,281,282,281,283,309,287,1,312,306,306,1,281,282,281,283,284,309,287,313,308,308,1,281,282,281,283,284,309,287,314,310,310,1,281,282,281,283,284,309,287,311,311,311,1,315,1,284,316,1,284,317,1,284,1,281,282,281,283,286,287,288,288,288,1,281,282,281,283,286,287,301,301,301,1,281,282,281,283,286,287,302,302,302,1,304,1,86,87,86,88,88,88,89,90,91,318,318,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,319,319,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,320,320,88,88,88,88,88,1,321,322,321,323,324,325,1,326,327,326,3,61,325,1,328,1,329,329,1,329,329,3,61,325,1,325,330,325,331,1,332,1,333,333,1,333,333,331,1,334,335,334,336,338,337,1,86,87,86,88,88,88,89,90,91,339,339,88,88,88,88,88,1,86,87,86,88,88,88,89,90,91,340,340,88,88,88,88,88,1,341,87,341,88,88,88,89,90,342,88,88,88,88,88,1,343,344,343,3,61,342,1,345,1,346,346,1,346,346,3,61,342,1,342,347,342,97,98,97,97,99,97,97,97,348,97,97,1,349,1,350,350,1,350,102,350,97,98,97,97,99,97,97,97,348,97,97,1,351,352,351,353,355,354,1,351,352,351,353,355,356,1,351,352,351,353,355,1,54,50,50,50,1,51,52,51,53,56,57,48,50,50,1,357,50,50,1,45,358,359,48,48,1,360,50,50,1,45,361,362,48,48,1,363,50,50,1,51,52,51,53,45,49,56,57,364,48,48,1,51,52,51,53,45,49,56,57,365,48,48,1,51,52,51,53,45,49,56,57,48,48,48,1,45,361,366,48,48,1,45,361,48,48,48,1,45,358,367,48,48,1,45,358,48,48,48,1,45,46,368,48,48,1,45,46,48,48,48,1,370,369,369,369,1,372,373,371,371,371,1,372,373,374,374,374,1,372,373,375,375,375,1,372,373,1,377,376,369,369,1,378,372,373,379,371,371,1,380,1,381,382,1,383,1,384,385,1,386,1,373,387,1,373,388,1,373,1,51,52,51,53,56,57,1,384,389,1,384,1,381,390,1,381,1,378,372,373,391,374,374,1,378,372,373,375,375,375,1,393,373,392,392,392,1,395,373,394,394,394,1,395,373,396,396,396,1,395,373,397,397,397,1,395,373,1,398,392,392,1,378,395,373,399,394,394,1,378,395,373,400,396,396,1,378,395,373,397,397,397,1,401,1,378,402,1,378,403,1,378,1,377,1,2,2,1,1,0];_tsip_machine_parser_header_Via_trans_targs=[2,0,3,4,337,5,8,6,7,9,10,8,13,9,10,13,11,12,14,17,15,16,18,19,17,22,18,19,22,20,21,23,26,24,25,27,28,26,27,28,31,35,301,29,30,32,287,299,33,34,35,36,69,4,285,286,40,49,36,37,40,49,38,39,41,44,42,43,45,69,4,44,49,45,46,47,48,50,53,107,122,135,208,271,51,52,54,69,53,4,49,58,54,55,56,57,59,71,65,72,60,61,62,63,64,66,68,70,67,45,338,73,106,74,77,75,76,78,93,79,91,80,81,89,82,83,87,84,85,86,88,90,92,94,102,95,98,96,97,99,100,101,103,104,105,108,109,110,111,112,113,117,113,114,115,116,118,121,119,120,45,69,121,4,49,123,124,125,126,130,126,127,128,129,131,134,132,133,45,69,134,4,49,136,137,138,139,140,144,140,141,142,143,145,148,152,172,146,147,149,158,170,150,151,152,45,69,4,153,154,49,155,156,157,159,160,168,161,162,166,163,164,165,167,169,171,173,207,174,177,187,175,176,178,194,179,192,180,181,190,182,183,188,184,185,186,189,191,193,195,203,196,199,197,198,200,201,202,204,205,206,209,258,210,211,212,213,214,215,216,220,216,217,218,219,221,224,257,254,222,223,45,69,4,225,237,240,49,255,226,227,235,228,229,233,230,231,232,234,236,238,256,239,224,241,254,242,250,243,246,244,245,247,248,249,251,252,253,259,260,261,262,69,4,49,266,262,263,264,265,267,270,268,269,45,69,4,270,49,272,273,274,278,274,275,276,277,279,282,280,281,45,69,4,283,49,284,288,289,297,290,291,295,292,293,294,296,298,300,302,336,303,306,316,304,305,307,323,308,321,309,310,319,311,312,317,313,314,315,318,320,322,324,332,325,328,326,327,329,330,331,333,334,335];_tsip_machine_parser_header_Via_trans_actions=[0,0,0,0,0,0,29,0,0,3,3,0,3,0,0,0,0,0,0,1,0,0,5,5,0,5,0,0,0,0,0,0,1,0,0,11,11,0,0,0,1,1,1,0,0,0,0,0,0,0,0,32,32,32,0,0,7,7,0,0,0,0,0,0,0,1,0,0,35,35,35,0,9,0,0,0,0,0,1,1,1,1,1,1,0,0,59,59,0,59,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,0,0,0,0,0,0,1,0,0,47,47,0,47,19,0,0,0,59,0,0,0,0,0,0,1,0,0,50,50,0,50,21,0,0,0,0,59,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,41,41,41,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,0,0,0,0,0,0,1,1,1,0,0,44,44,44,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,56,56,23,0,0,0,0,0,0,1,0,0,62,62,62,0,53,0,0,59,0,0,0,0,0,0,1,0,0,38,38,38,0,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
tsip_machine_parser_header_Via_start=1;tsip_machine_parser_header_Via_first_final=338;tsip_machine_parser_header_Via_error=0;tsip_machine_parser_header_Via_en_main=1;function tsip_header_Via(s_proto_name,s_proto_version,s_transport,s_host,i_port){tsip_header.call(this,tsip_header_type_e.Via);this.s_branch=null;this.s_host=s_host;this.i_port=i_port;this.s_comp=null;this.s_sigcomp_id=null;this.s_received=null;this.s_maddr=null;this.s_proto_name=s_proto_name;this.s_proto_version=s_proto_version;this.s_transport=s_transport;this.i_rport=-1;this.i_ttl=-1;this.is_transport_reliable=function(){return tsk_string_iequals(this.s_transport,"UDP")};this.is_transport_unreliable=function(){return!this.is_transport_reliable()}}tsip_header_Via.prototype.toString=function(){var b_ipv6=this.s_host&&tsk_string_contains(this.s_host,this.s_host.length,":");return tsk_string_format("{0}/{1}/{2} {3}{4}{5}{6}{7}{8}{9}{10}{11}{12}{13}{14}{15}{16}{17}{18}{19}{20}{21}",this.s_proto_name?this.s_proto_name:"SIP",this.s_proto_version?this.s_proto_version:"2.0",this.s_transport?this.s_transport:"UDP",b_ipv6?"[":"",this.s_host?this.s_host:"127.0.0.1",b_ipv6?"]":"",this.i_port>0?":":"",this.i_port>0?this.i_port:"",this.s_maddr?";maddr=":"",this.s_maddr?this.s_maddr:"",this.s_sigcomp_id?";sigcomp-id=":"",this.s_sigcomp_id?this.s_sigcomp_id:"",this.s_comp?";comp=":"",this.s_comp?this.s_comp:"",this.i_rport>=0?this.i_rport>0?";rport=":";rport":"",this.i_rport>0?this.i_rport:"",this.i_ttl>=0?this.i_ttl>0?";ttl=":";ttl":"",this.i_ttl>0?this.i_ttl:"",this.s_received?";received=":"",this.s_received?this.s_received:"",this.s_branch?";branch=":"",this.s_branch?this.s_branch:"")};tsip_header_Via.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_vias=new Array;var curr_via=null;{cs=tsip_machine_parser_header_Via_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_Via_key_offsets[cs];_trans=_tsip_machine_parser_header_Via_index_offsets[cs];_klen=_tsip_machine_parser_header_Via_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_Via_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_Via_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_Via_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_Via_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_Via_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_Via_indicies[_trans];cs=_tsip_machine_parser_header_Via_trans_targs[_trans];if(_tsip_machine_parser_header_Via_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_Via_trans_actions[_trans];_nacts=_tsip_machine_parser_header_Via_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_Via_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:if(!curr_via){curr_via=new tsip_header_Via(null,null,null,null,0)}break;case 2:curr_via.s_proto_name=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 3:curr_via.s_proto_version=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 4:curr_via.s_host=tsk_ragel_parser_get_string(s_str,p,i_tag_start);curr_via.s_host=tsk_string_unquote(curr_via.s_host,"[","]");break;case 5:curr_via.i_port=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 6:curr_via.s_transport=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 7:curr_via.i_ttl=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 8:curr_via.s_maddr=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 9:curr_via.s_received=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 10:curr_via.s_branch=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 11:curr_via.s_comp=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 12:curr_via.i_rport=tsk_ragel_parser_get_int(s_str,p,i_tag_start);break;case 13:if(curr_via.i_rport<0){curr_via.i_rport=0}break;case 14:if(curr_via){tsk_ragel_add_param(s_str,p,i_tag_start,curr_via.ao_params)}break;case 15:if(curr_via){hdr_vias.push(curr_via);curr_via=null}break;case 16:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<338){tsk_utils_log_error("Failed to parse 'Via' header: "+s_str);return null}return hdr_vias};tsip_header_WWW_Authenticate.prototype=Object.create(tsip_header.prototype);_tsip_machine_parser_header_WWW_Authenticate_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,1,13,2,0,6,2,0,7,2,0,8,2,0,11,2,0,12,2,5,0,2,6,0,2,7,0,2,8,0,2,12,0];_tsip_machine_parser_header_WWW_Authenticate_key_offsets=[0,0,4,6,8,10,12,13,15,17,19,21,23,25,27,29,31,33,35,37,40,49,52,56,65,69,78,83,88,93,98,103,140,144,181,205,212,216,223,260,264,301,327,331,357,382,386,411,415,421,432,436,442,448,452,458,462,488,514,540,566,590,597,601,608,633,637,662,666,672,683,687,693,699,722,738,755,772,789,794,810,828,835,843,850,858,865,873,881,885,893,897,905,909,927,945,962,979,996,1013,1018,1033,1051,1069,1087,1094,1102,1110,1114,1118,1122,1148,1174,1200,1226,1252,1276,1283,1287,1294,1319,1323,1348,1352,1358,1369,1373,1379,1385,1389,1415,1441,1465,1472,1476,1483,1508,1512,1537,1541,1547,1558,1562,1567,1573,1577,1583,1609,1635,1661,1687,1711,1718,1722,1729,1754,1758,1783,1787,1793,1804,1808,1814,1820,1824,1850,1876,1902,1928,1952,1959,1963,1970,1999,2003,2032,2057,2082,2107,2132,2138,2163,2188,2192,2203,2208,2215,2228,2232,2245,2249,2262,2306,2310,2354,2385,2399,2403,2417,2448,2452,2483,2487,2499,2512,2525,2529,2535,2565,2589,2614,2639,2664,2677,2701,2727,2742,2758,2773,2789,2804,2820,2836,2848,2864,2876,2892,2904,2930,2956,2981,3006,3031,3056,3069,3092,3118,3144,3170,3185,3201,3217,3229,3241,3245,3278,3311,3344,3377,3410,3443,3476,3509,3540,3554,3558,3572,3603,3607,3638,3668,3672,3705,3738,3771,3804,3837,3868,3882,3886,3900,3931,3935,3966,3970,3982,3995,3999,4004,4017,4022,4035,4040,4051,4058,4102,4107,4151,4182,4196,4201,4215,4246,4251,4282,4287,4299,4329,4334,4359,4367,4372,4380,4418,4423,4461,4488,4493,4520,4545,4550,4575,4580,4586,4610,4617,4622,4629,4634,4661,4688,4715,4742,4767,4775,4780,4788,4813,4818,4843,4848,4854,4867,4871,4884,4888,4901,4945,4949,4993,5024,5038,5042,5056,5087,5091,5122,5126,5138,5151,5181,5194,5198,5222,5247,5272,5297,5310,5334,5360,5375,5391,5406,5422,5437,5453,5469,5481,5494,5510,5522,5538,5550,5576,5602,5627,5652,5677,5702,5715,5738,5764,5790,5816,5831,5847,5863,5875,5887,5891,5924,5957,5990,6023,6056,6089,6122,6155,6186,6200,6204,6218,6249,6253,6284,6314,6318,6351,6384,6417,6450,6483,6514,6528,6532,6546,6577,6581,6612,6616,6628,6641,6645,6678,6711,6744,6777,6808,6822,6826,6840,6871,6875,6906,6910,6922,6935,6939,6972,7005,7038,7071,7104,7135,7149,7153,7167,7198,7202,7233,7237,7249,7262,7275,7279,7292,7336,7340,7384,7415,7429,7433,7447,7478,7482,7513,7517,7529,7542,7572,7576,7600,7625,7650,7675,7688,7712,7738,7753,7769,7784,7800,7815,7831,7847,7859,7872,7888,7900,7916,7928,7954,7980,8005,8030,8055,8080,8093,8116,8142,8168,8194,8209,8225,8241,8253,8265,8269,8302,8335,8368,8401,8434,8467,8500,8533,8564,8578,8582,8596,8627,8631,8662,8692,8696,8729,8762,8795,8828,8861,8892,8906,8910,8924,8955,8959,8990,8994,9006,9019,9023,9056,9089,9122,9155,9186,9200,9204,9218,9249,9253,9284,9288,9300,9313,9317,9350,9383,9416,9449,9482,9513,9527,9531,9545,9576,9580,9611,9615,9627,9640,9644,9677,9710,9741,9755,9759,9773,9804,9808,9839,9843,9855,9868,9881,9886,9899,9943,9948,9992,10023,10037,10042,10056,10087,10092,10123,10128,10140,10170,10175,10200,10208,10213,10221,10259,10264,10302,10329,10334,10361,10386,10391,10416,10421,10427,10451,10458,10463,10470,10475,10502,10529,10556,10583,10608,10616,10621,10629,10654,10659,10684,10689,10695,10712,10730,10748,10766,10772,10789,10808,10816,10825,10833,10842,10850,10859,10868,10873,10880,10889,10894,10903,10908,10927,10946,10964,10982,11e3,11018,11024,11040,11059,11078,11097,11105,11114,11123,11128,11133,11138,11165,11192,11219,11246,11273,11298,11306,11311,11319,11344,11349,11374,11379,11385,11398,11402,11415,11420,11447,11474,11499,11507,11512,11520,11545,11550,11575,11580,11607,11634,11661,11688,11713,11721,11726,11734,11759,11764,11789,11794,11800,11813,11817,11830,11834,11847,11891,11895,11939,11970,11984,11988,12002,12033,12037,12068,12072,12084,12097,12127,12140,12144,12168,12193,12218,12243,12256,12280,12306,12321,12337,12352,12368,12383,12399,12415,12427,12440,12456,12468,12484,12496,12522,12548,12573,12598,12623,12648,12661,12684,12710,12736,12762,12777,12793,12809,12821,12833,12837,12870,12903,12936,12969,13002,13035,13068,13101,13132,13146,13150,13164,13195,13199,13230,13260,13264,13297,13330,13363,13396,13429,13460,13474,13478,13492,13523,13527,13558,13562,13574,13587,13591,13624,13657,13690,13723,13754,13768,13772,13786,13817,13821,13852,13856,13868,13881,13885,13918,13951,13984,14017,14050,14081,14095,14099,14113,14144,14148,14179,14183,14195,14208,14212,14245,14278,14309,14323,14327,14341,14372,14376,14407,14411,14423,14436,14440,14473,14506,14539,14572,14603,14617,14621,14635,14666,14670,14701,14705,14717,14730,14734,14767,14800,14833,14866,14897,14911,14915,14929,14964,14968,15003,15035,15067,15099,15131,15144,15176,15208,15212,15217,15244,15271,15298,15325,15350,15358,15363,15371,15400,15405,15434,15460,15486,15512,15538,15545,15571,15597,15602,15629,15656,15683,15710,15735,15743,15748,15756,15781,15786,15811,15816,15822,15835,15848,15853,15866,15893,15920,15947,15974,16001,16026,16034,16039,16047,16072,16077,16102,16107,16113,16130,16148,16166,16184,16190,16207,16226,16234,16243,16251,16260,16268,16277,16286,16291,16298,16307,16312,16321,16326,16345,16364,16382,16400,16418,16436,16442,16458,16477,16496,16515,16523,16532,16541,16546,16551,16556,16583,16610,16635,16643,16648,16656,16681,16686,16711,16716,16722,16735,16748,16753,16766,16771,16798,16825,16852,16879,16904,16912,16917,16925,16950,16955,16980,16985,16991,16996,17023,17050,17077,17104,17129,17137,17142,17150,17179,17184,17213,17239,17265,17291,17317,17324,17350,17376,17381,17386,17413,17440,17467,17494,17521,17548,17575,17600,17608,17613,17621,17646,17651,17676,17700,17705,17729,17754,17779,17804,17817,17841,17867,17882,17898,17913,17929,17944,17960,17976,17988,18001,18017,18029,18045,18057,18083,18109,18134,18159,18184,18209,18222,18245,18271,18297,18323,18338,18354,18370,18382,18394,18399,18432,18465,18498,18531,18564,18597,18630,18663,18694,18708,18713,18727,18758,18763,18794,18824,18829,18862,18895,18928,18961,18994,19025,19039,19044,19058,19089,19094,19125,19130,19142,19147,19180,19213,19246,19279,19310,19324,19329,19343,19374,19379,19410,19415,19427,19432,19465,19498,19531,19564,19597,19628,19642,19647,19661,19692,19697,19728,19733,19745,19750,19783,19816,19847,19861,19866,19880,19911,19916,19947,19952,19985,20018,20051,20084,20115,20129,20134,20148,20179,20184,20215,20220,20232,20237,20270,20303,20336,20369,20400,20414,20419,20433,20468,20473,20508,20540,20572,20604,20636,20649,20681,20713,20718,20722,20755,20788,20821,20854,20885,20899,20903,20917,20948,20952,20983,20987,20999,21012,21016,21049,21082,21115,21148,21179,21193,21197,21211,21246,21250,21285,21317,21349,21381,21413,21426,21458,21490,21494,21498,21531,21564,21595,21609,21613,21627,21658,21662,21693,21697,21709,21722,21726,21759,21792,21825,21858,21889,21903,21907,21921,21952,21956,21987,21991,22003,22016,22020,22053,22086,22119,22152,22183,22197,22201,22215,22250,22254,22289,22321,22353,22385,22417,22430,22462,22494,22498,22503,22530,22557,22584,22611,22636,22644,22649,22657,22682,22687,22712,22717,22744,22771,22798,22825,22852,22879,22906,22931,22939,22944,22952,22977,22982,23007,23031,23036,23060,23085,23110,23135,23148,23172,23198,23213,23229,23244,23260,23275,23291,23307,23319,23332,23348,23360,23376,23388,23414,23440,23465,23490,23515,23540,23553,23576,23602,23628,23654,23669,23685,23701,23713,23725,23730,23763,23796,23829,23862,23895,23928,23961,23994,24025,24039,24044,24058,24089,24094,24125,24155,24160,24193,24226,24259,24292,24325,24356,24370,24375,24389,24420,24425,24456,24461,24494,24527,24560,24593,24624,24638,24643,24657,24688,24693,24724,24729,24741,24746,24779,24812,24845,24878,24911,24942,24956,24961,24975,25006,25011,25042,25047,25059,25064,25097,25130,25161,25175,25180,25194,25225,25230,25261,25266,25278,25283,25316,25349,25382,25415,25446,25460,25465,25479,25510,25515,25546,25551,25563,25568,25601,25634,25667,25700,25731,25745,25750,25764,25799,25804,25839,25871,25903,25935,25967,25980,26012,26044,26049,26053,26086,26119,26152,26185,26216,26230,26234,26248,26279,26283,26314,26318,26330,26334,26367,26400,26433,26466,26499,26530,26544,26548,26562,26593,26597,26628,26632,26644,26648,26681,26714,26745,26759,26763,26777,26808,26812,26843,26847,26859,26872,26876,26909,26942,26975,27008,27039,27053,27057,27071,27102,27106,27137,27141,27153,27157,27190,27223,27256,27289,27320,27334,27338,27352,27387,27391,27426,27458,27490,27522,27554,27567,27599,27631,27635,27639,27665,27691,27717,27743,27767,27774,27778,27785,27810,27814,27839,27843,27849,27860,27864,27890,27916,27942,27968,27994,28020,28046,28070,28077,28081,28088,28113,28117,28142,28165,28169,28195,28221,28247,28273,28299,28323,28330,28334,28341,28366,28370,28395,28399,28405,28416,28427,28432,28439,28452,28456,28469,28473,28486,28530,28534,28578,28609,28623,28627,28641,28672,28676,28707,28737,28750,28754,28778,28803,28828,28853,28866,28890,28916,28931,28947,28962,28978,28993,29009,29025,29037,29050,29066,29078,29094,29106,29132,29158,29183,29208,29233,29258,29271,29294,29320,29346,29372,29387,29403,29419,29431,29443,29447,29480,29513,29546,29579,29612,29645,29678,29711,29742,29756,29760,29774,29805,29809,29840,29870,29874,29907,29940,29973,30006,30039,30070,30084,30088,30102,30133,30137,30168,30172,30184,30197,30201,30234,30267,30300,30333,30364,30378,30382,30396,30427,30431,30462,30466,30499,30532,30565,30598,30631,30662,30676,30680,30694,30725,30729,30760,30764,30797,30830,30861,30875,30879,30893,30924,30928,30959,30963,30975,30988,30992,31025,31058,31091,31124,31155,31169,31173,31187,31218,31222,31253,31257,31290,31323,31356,31389,31420,31434,31438,31452,31487,31491,31526,31558,31590,31622,31654,31667,31699,31731,31735,31739,31765,31791,31815,31822,31826,31833,31858,31862,31887,31891,31897,31908,31919,31924,31931,31935,31940,31945,31950,31955,31960,31965,31969,31974,31976,31978,31981,31986,31991,31996,32001,32038,32043,32048,32053,32058,32095,32100,32105,32110,32115,32152,32157,32162,32167,32172,32209,32214,32219,32224,32228,32265,32270,32275,32280,32285,32322,32327,32332,32369,32375,32412,32449,32454,32459,32464,32469,32474,32511,32516,32521,32558,32563,32568,32573,32577,32583,32589,32595,32601,32607,32613,32651,32657,32663,32701,32707,32713,32719,32757,32763,32769,32775,32812,32849,32854,32859,32864,32869,32874,32911,32916,32921,32958,32963,32968,32973,33010,33015,33020,33025,33062,33067,33072,33077,33082,33087,33092,33097,33102,33139,33176,33181,33186,33223,33228,33233,33238,33275,33280,33285,33290,33327,33332,33337,33342,33379,33384,33389,33394,33400,33406,33412,33418,33424,33462,33468,33474,33512,33518,33524,33530,33568,33574,33580,33586,33624,33630,33636,33642,33679,33717,33723,33729,33767,33773,33779,33785,33822,33859,33864,33869,33874,33879,33884,33921,33926,33931,33968,33973,33978,33983,34020,34025,34030,34035,34072,34077,34082,34087,34124,34129,34134,34139,34176,34181,34186,34191,34228,34233,34238,34275,34313,34319,34325,34363,34369,34375,34381,34419,34425,34431,34437,34475,34481,34487,34493,34531,34569,34575,34581,34587,34625,34631,34637,34675,34713,34719,34725,34763,34801,34807,34813,34851,34857,34863,34869,34907,34913,34919,34925,34963,34969,34975,34981,35019,35025,35031,35069,35075,35081,35087,35125,35131,35137,35175,35212,35217,35222,35227,35264,35269,35274,35311,35348,35353,35358,35363,35400,35405,35410,35415,35452,35457,35462,35499,35537,35543,35549,35587,35593,35599,35637,35675,35681,35687,35725,35731,35737,35775,35781,35787,35793,35831,35837,35843,35849,35887,35893,35899,35905,35943,35949,35955,35961,35999,36005,36011,36049,36086,36091,36096,36101,36138,36143,36148,36153,36190,36195,36200,36205,36242,36247,36252,36257,36294,36299,36304,36341,36378,36383,36388,36393,36430,36435,36440,36477,36482,36487,36492,36498,36535,36572,36577,36582,36587,36592,36629,36634,36639,36676,36681,36686,36691,36728,36733,36738,36775,36780,36785,36822,36827,36832,36837,36874,36879,36884,36921,36926,36931,36968,37005,37010,37015,37020,37026];_tsip_machine_parser_header_WWW_Authenticate_trans_keys=[80,87,112,119,82,114,79,111,88,120,89,121,45,65,97,85,117,84,116,72,104,69,101,78,110,84,116,73,105,67,99,65,97,84,116,69,101,9,32,58,9,13,32,66,68,98,100,0,65535,13,0,65535,10,13,0,65535,9,13,32,66,68,98,100,0,65535,10,13,0,65535,9,13,32,66,68,98,100,0,65535,13,65,97,0,65535,13,83,115,0,65535,13,73,105,0,65535,13,67,99,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,10,13,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,10,13,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,44,0,65535,9,13,32,44,0,65535,10,13,0,65535,9,13,32,44,0,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,67,99,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,9,13,32,33,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,13,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,65535,13,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,0,47,48,57,58,65535,13,93,0,47,48,57,58,65535,13,93,0,47,48,57,58,65535,13,93,0,65535,13,46,0,47,48,57,58,65535,13,46,0,65535,13,46,0,47,48,57,58,65535,13,46,0,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,58,93,0,65535,13,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,46,0,47,48,57,58,65535,13,46,0,65535,13,58,0,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,81,113,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,85,117,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,13,34,0,65535,10,13,34,0,65535,9,13,32,44,0,65535,10,13,0,65535,9,13,32,44,0,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,44,0,65535,10,13,0,127,128,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,84,116,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,102,116,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,102,116,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,83,115,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,0,65535,9,13,32,33,37,39,44,47,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,85,117,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,34,0,65535,10,13,34,0,127,128,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,10,13,0,127,128,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,13,34,0,65535,10,13,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,34,0,127,128,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,0,65535,10,13,34,0,65535,9,13,32,34,44,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,67,99,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,0,65535,10,13,34,0,65535,9,13,32,34,44,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,67,99,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,13,34,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,65535,13,34,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,0,47,48,57,58,65535,13,34,93,0,47,48,57,58,65535,13,34,93,0,47,48,57,58,65535,13,34,93,0,65535,9,13,32,34,44,0,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,65535,13,34,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,65535,13,34,58,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,81,113,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,85,117,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,84,116,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,102,116,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,102,116,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,83,115,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,0,65535,9,13,32,33,34,37,39,44,47,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,85,117,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,81,113,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,85,117,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,13,34,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,65535,13,34,58,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,0,47,48,57,58,65535,13,34,93,0,47,48,57,58,65535,13,34,93,0,47,48,57,58,65535,13,34,93,0,65535,9,13,32,34,44,0,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,58,93,0,65535,13,34,0,47,48,57,58,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,46,58,93,0,47,48,57,59,64,65,70,71,96,97,102,103,65535,13,34,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,47,48,57,58,65535,13,34,46,0,65535,13,34,58,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,34,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,84,116,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,102,116,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,102,116,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,76,108,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,83,115,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,69,101,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,0,65535,9,13,32,33,34,37,39,44,47,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,85,117,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,34,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,71,103,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,84,116,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,72,104,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,34,0,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,71,103,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,84,116,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,72,104,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,34,44,61,0,65535,10,13,34,0,65535,9,13,32,34,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,34,0,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,34,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,34,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,34,0,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,71,103,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,82,114,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,84,116,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,72,104,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,9,13,32,33,37,39,44,47,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,77,109,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,65,97,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,73,105,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,78,110,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,34,0,65535,10,13,34,0,127,128,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,92,97,100,110,111,113,114,115,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,92,93,127,0,31,32,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,58,92,93,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,46,58,92,93,127,0,31,32,47,48,57,59,64,65,70,71,96,97,102,103,255,256,65535,9,13,34,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,47,48,57,58,255,256,65535,9,13,34,46,92,127,0,31,32,255,256,65535,9,13,34,58,92,127,0,31,32,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,71,92,103,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,72,92,104,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,73,92,105,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,78,92,110,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,67,92,99,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,81,92,113,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,79,92,111,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,80,92,112,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,34,92,127,0,31,33,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,77,92,109,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,92,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,61,84,92,116,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,61,92,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,10,13,0,65535,9,13,32,34,44,61,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,70,84,91,92,102,116,126,127,0,31,35,41,42,57,58,64,65,90,93,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,65,92,97,126,127,0,31,35,41,42,57,58,64,66,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,76,92,108,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,83,92,115,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,69,92,101,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,34,44,92,127,0,31,33,255,256,65535,9,13,32,33,34,37,39,44,47,82,92,114,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,9,13,32,33,34,37,39,44,47,85,92,117,126,127,0,31,35,41,42,57,58,64,65,90,91,94,95,122,123,255,256,65535,10,13,0,65535,10,13,0,65535,9,13,32,33,37,39,44,47,61,79,111,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,80,112,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,61,126,0,41,42,57,58,64,65,90,91,94,95,122,123,65535,9,13,32,44,61,0,65535,10,13,0,65535,9,13,32,44,61,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,33,34,37,39,44,47,91,126,0,41,42,57,58,64,65,90,92,94,95,122,123,65535,10,13,0,65535,9,13,32,34,0,65535,9,13,34,92,127,0,31,32,255,256,65535,9,13,34,92,127,0,31,32,255,256,65535,10,13,34,0,65535,10,13,34,0,127,128,65535,10,13,0,65535,13,73,105,0,65535,13,71,103,0,65535,13,69,101,0,65535,13,83,115,0,65535,13,84,116,0,65535,9,13,32,0,65535,10,13,0,65535,9,13,32,0,65535,87,119,87,119,13,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,13,34,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,13,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,34,0,65535,9,13,32,34,0,65535,9,13,32,33,34,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,34,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,0,65535,9,13,32,34,0,65535,9,13,32,33,37,39,44,47,65,68,78,79,81,82,83,97,100,110,111,113,114,115,126,0,41,42,57,58,64,66,90,91,94,95,122,123,65535,0];
_tsip_machine_parser_header_WWW_Authenticate_single_lengths=[0,4,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,3,7,1,2,7,2,7,3,3,3,3,3,23,2,23,10,5,2,5,23,2,23,12,2,12,11,2,11,2,4,5,2,4,4,2,4,2,12,12,12,12,10,5,2,5,11,2,11,2,4,5,2,4,2,9,2,3,3,3,3,2,4,1,2,1,2,1,2,2,2,2,2,2,2,4,4,3,3,3,3,3,1,4,4,4,1,2,2,2,2,2,12,12,12,12,12,10,5,2,5,11,2,11,2,4,5,2,4,2,2,12,12,10,5,2,5,11,2,11,2,4,5,2,3,4,2,4,12,12,12,12,10,5,2,5,11,2,11,2,4,5,2,4,2,2,12,12,12,12,10,5,2,5,15,2,15,11,11,11,11,4,11,11,2,5,3,3,7,2,7,2,7,26,2,26,13,8,2,8,13,2,13,2,6,7,7,2,2,12,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,2,15,15,15,15,15,15,15,15,13,8,2,8,13,2,13,12,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,3,7,3,7,3,5,3,26,3,26,13,8,3,8,13,3,13,3,6,12,3,11,6,3,6,24,3,24,13,3,13,11,3,11,3,4,10,5,3,5,3,13,13,13,13,11,6,3,6,11,3,11,3,4,7,2,7,2,7,26,2,26,13,8,2,8,13,2,13,2,6,7,12,7,2,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,2,15,15,15,15,15,15,15,15,13,8,2,8,13,2,13,12,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,7,2,7,26,2,26,13,8,2,8,13,2,13,2,6,7,12,2,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,2,15,15,15,15,15,15,15,15,13,8,2,8,13,2,13,12,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,13,8,2,8,13,2,13,2,6,7,7,3,7,26,3,26,13,8,3,8,13,3,13,3,6,12,3,11,6,3,6,24,3,24,13,3,13,11,3,11,3,4,10,5,3,5,3,13,13,13,13,11,6,3,6,11,3,11,3,4,3,4,4,4,4,3,5,2,3,2,3,2,3,3,3,5,3,3,3,3,5,5,4,4,4,4,4,2,5,5,5,2,3,3,3,3,3,13,13,13,13,13,11,6,3,6,11,3,11,3,4,7,2,7,3,13,13,11,6,3,6,11,3,11,3,13,13,13,13,11,6,3,6,11,3,11,3,4,7,2,7,2,7,26,2,26,13,8,2,8,13,2,13,2,6,7,12,7,2,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,2,15,15,15,15,15,15,15,15,13,8,2,8,13,2,13,12,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,17,2,17,14,14,14,14,7,14,14,2,3,13,13,13,13,11,6,3,6,15,3,15,12,12,12,12,5,12,12,3,13,13,13,13,11,6,3,6,11,3,11,3,4,7,7,3,7,13,13,13,13,13,11,6,3,6,11,3,11,3,4,3,4,4,4,4,3,5,2,3,2,3,2,3,3,3,5,3,3,3,3,5,5,4,4,4,4,4,2,5,5,5,2,3,3,3,3,3,13,13,11,6,3,6,11,3,11,3,4,7,7,3,7,3,13,13,13,13,11,6,3,6,11,3,11,3,4,3,13,13,13,13,11,6,3,6,15,3,15,12,12,12,12,5,12,12,3,3,13,13,13,13,13,13,13,11,6,3,6,11,3,11,10,3,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,3,15,15,15,15,15,15,15,15,13,8,3,8,13,3,13,12,3,15,15,15,15,15,13,8,3,8,13,3,13,3,6,3,15,15,15,15,13,8,3,8,13,3,13,3,6,3,15,15,15,15,15,13,8,3,8,13,3,13,3,6,3,15,15,13,8,3,8,13,3,13,3,15,15,15,15,13,8,3,8,13,3,13,3,6,3,15,15,15,15,13,8,3,8,17,3,17,14,14,14,14,7,14,14,3,2,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,17,2,17,14,14,14,14,7,14,14,2,2,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,17,2,17,14,14,14,14,7,14,14,2,3,13,13,13,13,11,6,3,6,11,3,11,3,13,13,13,13,13,13,13,11,6,3,6,11,3,11,10,3,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,3,15,15,15,15,15,15,15,15,13,8,3,8,13,3,13,12,3,15,15,15,15,15,13,8,3,8,13,3,13,3,15,15,15,15,13,8,3,8,13,3,13,3,6,3,15,15,15,15,15,13,8,3,8,13,3,13,3,6,3,15,15,13,8,3,8,13,3,13,3,6,3,15,15,15,15,13,8,3,8,13,3,13,3,6,3,15,15,15,15,13,8,3,8,17,3,17,14,14,14,14,7,14,14,3,2,15,15,15,15,13,8,2,8,13,2,13,2,6,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,2,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,6,2,15,15,15,15,13,8,2,8,17,2,17,14,14,14,14,7,14,14,2,2,12,12,12,12,10,5,2,5,11,2,11,2,4,5,2,12,12,12,12,12,12,12,10,5,2,5,11,2,11,9,2,12,12,12,12,12,10,5,2,5,11,2,11,2,4,5,5,3,3,7,2,7,2,7,26,2,26,13,8,2,8,13,2,13,12,7,2,6,7,7,7,7,6,8,5,6,5,6,5,6,6,6,7,6,6,6,6,8,8,7,7,7,7,7,5,8,8,8,5,6,6,6,6,2,15,15,15,15,15,15,15,15,13,8,2,8,13,2,13,12,2,15,15,15,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,15,15,15,15,15,13,8,2,8,13,2,13,2,15,15,13,8,2,8,13,2,13,2,6,7,2,15,15,15,15,13,8,2,8,13,2,13,2,15,15,15,15,13,8,2,8,17,2,17,14,14,14,14,7,14,14,2,2,12,12,10,5,2,5,11,2,11,2,4,5,5,3,3,2,3,3,3,3,3,3,2,3,2,2,1,3,3,3,3,23,3,3,3,3,23,3,3,3,3,23,3,3,3,3,23,3,3,3,2,23,3,3,3,3,23,3,3,23,4,23,23,3,3,3,3,3,23,3,3,23,3,3,3,2,4,4,4,4,4,4,24,4,4,24,4,4,4,24,4,4,4,23,23,3,3,3,3,3,23,3,3,23,3,3,3,23,3,3,3,23,3,3,3,3,3,3,3,3,23,23,3,3,23,3,3,3,23,3,3,3,23,3,3,3,23,3,3,3,4,4,4,4,4,24,4,4,24,4,4,4,24,4,4,4,24,4,4,4,23,24,4,4,24,4,4,4,23,23,3,3,3,3,3,23,3,3,23,3,3,3,23,3,3,3,23,3,3,3,23,3,3,3,23,3,3,3,23,3,3,23,24,4,4,24,4,4,4,24,4,4,4,24,4,4,4,24,24,4,4,4,24,4,4,24,24,4,4,24,24,4,4,24,4,4,4,24,4,4,4,24,4,4,4,24,4,4,24,4,4,4,24,4,4,24,23,3,3,3,23,3,3,23,23,3,3,3,23,3,3,3,23,3,3,23,24,4,4,24,4,4,24,24,4,4,24,4,4,24,4,4,4,24,4,4,4,24,4,4,4,24,4,4,4,24,4,4,24,23,3,3,3,23,3,3,3,23,3,3,3,23,3,3,3,23,3,3,23,23,3,3,3,23,3,3,23,3,3,3,4,23,23,3,3,3,3,23,3,3,23,3,3,3,23,3,3,23,3,3,23,3,3,3,23,3,3,23,3,3,23,23,3,3,3,4,23];_tsip_machine_parser_header_WWW_Authenticate_range_lengths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,7,1,7,7,1,1,1,7,1,7,7,1,7,7,1,7,1,1,3,1,1,1,1,1,1,7,7,7,7,7,1,1,1,7,1,7,1,1,3,1,1,2,7,7,7,7,7,1,7,7,3,3,3,3,3,3,3,1,3,1,3,1,7,7,7,7,7,7,1,7,7,7,7,3,3,3,1,1,1,7,7,7,7,7,7,1,1,1,7,1,7,1,1,3,1,1,2,1,7,7,7,1,1,1,7,1,7,1,1,3,1,1,1,1,1,7,7,7,7,7,1,1,1,7,1,7,1,1,3,1,1,2,1,7,7,7,7,7,1,1,1,7,1,7,7,7,7,7,1,7,7,1,3,1,2,3,1,3,1,3,9,1,9,9,3,1,3,9,1,9,1,3,3,3,1,2,9,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,1,9,9,9,9,9,9,9,9,9,3,1,3,9,1,9,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,1,3,1,3,1,3,2,9,1,9,9,3,1,3,9,1,9,1,3,9,1,7,1,1,1,7,1,7,7,1,7,7,1,7,1,1,7,1,1,1,1,7,7,7,7,7,1,1,1,7,1,7,1,1,3,1,3,1,3,9,1,9,9,3,1,3,9,1,9,1,3,3,9,3,1,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,1,9,9,9,9,9,9,9,9,9,3,1,3,9,1,9,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,3,1,3,9,1,9,9,3,1,3,9,1,9,1,3,3,9,1,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,1,9,9,9,9,9,9,9,9,9,3,1,3,9,1,9,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,3,1,3,9,1,9,1,3,3,3,1,3,9,1,9,9,3,1,3,9,1,9,1,3,9,1,7,1,1,1,7,1,7,7,1,7,7,1,7,1,1,7,1,1,1,1,7,7,7,7,7,1,1,1,7,1,7,1,1,7,7,7,7,1,7,7,3,3,3,3,3,3,3,1,1,3,1,3,1,7,7,7,7,7,7,1,7,7,7,7,3,3,3,1,1,1,7,7,7,7,7,7,1,1,1,7,1,7,1,1,3,1,3,1,7,7,7,1,1,1,7,1,7,1,7,7,7,7,7,1,1,1,7,1,7,1,1,3,1,3,1,3,9,1,9,9,3,1,3,9,1,9,1,3,3,9,3,1,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,1,9,9,9,9,9,9,9,9,9,3,1,3,9,1,9,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,9,9,9,9,3,9,9,1,1,7,7,7,7,7,1,1,1,7,1,7,7,7,7,7,1,7,7,1,7,7,7,7,7,1,1,1,7,1,7,1,1,3,3,1,3,7,7,7,7,7,7,1,1,1,7,1,7,1,1,7,7,7,7,1,7,7,3,3,3,3,3,3,3,1,1,3,1,3,1,7,7,7,7,7,7,1,7,7,7,7,3,3,3,1,1,1,7,7,7,1,1,1,7,1,7,1,1,3,3,1,3,1,7,7,7,7,7,1,1,1,7,1,7,1,1,1,7,7,7,7,7,1,1,1,7,1,7,7,7,7,7,1,7,7,1,1,7,7,7,7,7,7,7,7,1,1,1,7,1,7,7,1,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,1,9,9,9,9,9,9,9,9,9,3,1,3,9,1,9,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,3,1,3,9,1,9,1,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,3,1,3,9,1,9,9,9,9,9,3,9,9,1,1,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,9,9,9,9,3,9,9,1,1,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,9,9,9,9,3,9,9,1,1,7,7,7,7,7,1,1,1,7,1,7,1,7,7,7,7,7,7,7,7,1,1,1,7,1,7,7,1,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,1,9,9,9,9,9,9,9,9,9,3,1,3,9,1,9,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,3,1,3,9,1,9,9,9,9,9,3,9,9,1,1,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,3,1,9,9,9,9,9,3,1,3,9,1,9,9,9,9,9,3,9,9,1,1,7,7,7,7,7,1,1,1,7,1,7,1,1,3,1,7,7,7,7,7,7,7,7,1,1,1,7,1,7,7,1,7,7,7,7,7,7,1,1,1,7,1,7,1,1,3,3,1,2,3,1,3,1,3,9,1,9,9,3,1,3,9,1,9,9,3,1,9,9,9,9,3,9,9,5,5,5,5,5,5,5,3,3,5,3,5,3,9,9,9,9,9,9,3,9,9,9,9,5,5,5,3,3,1,9,9,9,9,9,9,9,9,9,3,1,3,9,1,9,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,9,9,9,9,9,9,3,1,3,9,1,9,1,9,9,9,3,1,3,9,1,9,1,3,3,1,9,9,9,9,9,3,1,3,9,1,9,1,9,9,9,9,9,3,1,3,9,1,9,9,9,9,9,3,9,9,1,1,7,7,7,1,1,1,7,1,7,1,1,3,3,1,2,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,7,1,1,1,1,7,1,1,1,1,7,1,1,1,1,7,1,1,1,1,7,1,1,1,1,7,1,1,7,1,7,7,1,1,1,1,1,7,1,1,7,1,1,1,1,1,1,1,1,1,1,7,1,1,7,1,1,1,7,1,1,1,7,7,1,1,1,1,1,7,1,1,7,1,1,1,7,1,1,1,7,1,1,1,1,1,1,1,1,7,7,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,1,1,1,1,1,1,7,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,7,1,1,7,1,1,1,7,7,1,1,1,1,1,7,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,7,7,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,7,1,1,1,7,1,1,7,7,1,1,7,7,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,7,1,1,1,7,1,1,7,7,1,1,1,7,1,1,7,7,1,1,1,7,1,1,1,7,1,1,7,7,1,1,7,1,1,7,7,1,1,7,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,7,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,1,7,1,1,7,7,1,1,1,7,1,1,7,1,1,1,1,7,7,1,1,1,1,7,1,1,7,1,1,1,7,1,1,7,1,1,7,1,1,1,7,1,1,7,1,1,7,7,1,1,1,1,7];_tsip_machine_parser_header_WWW_Authenticate_index_offsets=[0,0,5,8,11,14,17,19,22,25,28,31,34,37,40,43,46,49,52,55,59,68,71,75,84,88,97,102,107,112,117,122,153,157,188,206,213,217,224,255,259,290,310,314,334,353,357,376,380,386,395,399,405,411,415,421,425,445,465,485,505,523,530,534,541,560,564,583,587,593,602,606,612,617,634,644,655,666,677,682,692,704,709,715,720,726,731,737,743,747,753,757,763,767,779,791,802,813,824,835,840,849,861,873,885,890,896,902,906,910,914,934,954,974,994,1014,1032,1039,1043,1050,1069,1073,1092,1096,1102,1111,1115,1121,1126,1130,1150,1170,1188,1195,1199,1206,1225,1229,1248,1252,1258,1267,1271,1276,1282,1286,1292,1312,1332,1352,1372,1390,1397,1401,1408,1427,1431,1450,1454,1460,1469,1473,1479,1484,1488,1508,1528,1548,1568,1586,1593,1597,1604,1627,1631,1654,1673,1692,1711,1730,1736,1755,1774,1778,1787,1792,1798,1809,1813,1824,1828,1839,1875,1879,1915,1938,1950,1954,1966,1989,1993,2016,2020,2030,2041,2052,2056,2061,2083,2099,2116,2133,2150,2161,2177,2195,2206,2218,2229,2241,2252,2264,2276,2286,2298,2308,2320,2330,2348,2366,2383,2400,2417,2434,2445,2460,2478,2496,2514,2525,2537,2549,2559,2569,2573,2598,2623,2648,2673,2698,2723,2748,2773,2796,2808,2812,2824,2847,2851,2874,2896,2900,2925,2950,2975,3e3,3025,3048,3060,3064,3076,3099,3103,3126,3130,3140,3151,3155,3160,3171,3176,3187,3192,3201,3207,3243,3248,3284,3307,3319,3324,3336,3359,3364,3387,3392,3402,3424,3429,3448,3456,3461,3469,3501,3506,3538,3559,3564,3585,3604,3609,3628,3633,3639,3657,3664,3669,3676,3681,3702,3723,3744,3765,3784,3792,3797,3805,3824,3829,3848,3853,3859,3870,3874,3885,3889,3900,3936,3940,3976,3999,4011,4015,4027,4050,4054,4077,4081,4091,4102,4124,4135,4139,4155,4172,4189,4206,4217,4233,4251,4262,4274,4285,4297,4308,4320,4332,4342,4353,4365,4375,4387,4397,4415,4433,4450,4467,4484,4501,4512,4527,4545,4563,4581,4592,4604,4616,4626,4636,4640,4665,4690,4715,4740,4765,4790,4815,4840,4863,4875,4879,4891,4914,4918,4941,4963,4967,4992,5017,5042,5067,5092,5115,5127,5131,5143,5166,5170,5193,5197,5207,5218,5222,5247,5272,5297,5322,5345,5357,5361,5373,5396,5400,5423,5427,5437,5448,5452,5477,5502,5527,5552,5577,5600,5612,5616,5628,5651,5655,5678,5682,5692,5703,5714,5718,5729,5765,5769,5805,5828,5840,5844,5856,5879,5883,5906,5910,5920,5931,5953,5957,5973,5990,6007,6024,6035,6051,6069,6080,6092,6103,6115,6126,6138,6150,6160,6171,6183,6193,6205,6215,6233,6251,6268,6285,6302,6319,6330,6345,6363,6381,6399,6410,6422,6434,6444,6454,6458,6483,6508,6533,6558,6583,6608,6633,6658,6681,6693,6697,6709,6732,6736,6759,6781,6785,6810,6835,6860,6885,6910,6933,6945,6949,6961,6984,6988,7011,7015,7025,7036,7040,7065,7090,7115,7140,7163,7175,7179,7191,7214,7218,7241,7245,7255,7266,7270,7295,7320,7345,7370,7395,7418,7430,7434,7446,7469,7473,7496,7500,7510,7521,7525,7550,7575,7598,7610,7614,7626,7649,7653,7676,7680,7690,7701,7712,7717,7728,7764,7769,7805,7828,7840,7845,7857,7880,7885,7908,7913,7923,7945,7950,7969,7977,7982,7990,8022,8027,8059,8080,8085,8106,8125,8130,8149,8154,8160,8178,8185,8190,8197,8202,8223,8244,8265,8286,8305,8313,8318,8326,8345,8350,8369,8374,8380,8391,8403,8415,8427,8433,8444,8457,8463,8470,8476,8483,8489,8496,8503,8508,8515,8522,8527,8534,8539,8552,8565,8577,8589,8601,8613,8619,8629,8642,8655,8668,8674,8681,8688,8693,8698,8703,8724,8745,8766,8787,8808,8827,8835,8840,8848,8867,8872,8891,8896,8902,8913,8917,8928,8933,8954,8975,8994,9002,9007,9015,9034,9039,9058,9063,9084,9105,9126,9147,9166,9174,9179,9187,9206,9211,9230,9235,9241,9252,9256,9267,9271,9282,9318,9322,9358,9381,9393,9397,9409,9432,9436,9459,9463,9473,9484,9506,9517,9521,9537,9554,9571,9588,9599,9615,9633,9644,9656,9667,9679,9690,9702,9714,9724,9735,9747,9757,9769,9779,9797,9815,9832,9849,9866,9883,9894,9909,9927,9945,9963,9974,9986,9998,10008,10018,10022,10047,10072,10097,10122,10147,10172,10197,10222,10245,10257,10261,10273,10296,10300,10323,10345,10349,10374,10399,10424,10449,10474,10497,10509,10513,10525,10548,10552,10575,10579,10589,10600,10604,10629,10654,10679,10704,10727,10739,10743,10755,10778,10782,10805,10809,10819,10830,10834,10859,10884,10909,10934,10959,10982,10994,10998,11010,11033,11037,11060,11064,11074,11085,11089,11114,11139,11162,11174,11178,11190,11213,11217,11240,11244,11254,11265,11269,11294,11319,11344,11369,11392,11404,11408,11420,11443,11447,11470,11474,11484,11495,11499,11524,11549,11574,11599,11622,11634,11638,11650,11677,11681,11708,11732,11756,11780,11804,11815,11839,11863,11867,11872,11893,11914,11935,11956,11975,11983,11988,11996,12019,12024,12047,12067,12087,12107,12127,12134,12154,12174,12179,12200,12221,12242,12263,12282,12290,12295,12303,12322,12327,12346,12351,12357,12368,12379,12384,12395,12416,12437,12458,12479,12500,12519,12527,12532,12540,12559,12564,12583,12588,12594,12605,12617,12629,12641,12647,12658,12671,12677,12684,12690,12697,12703,12710,12717,12722,12729,12736,12741,12748,12753,12766,12779,12791,12803,12815,12827,12833,12843,12856,12869,12882,12888,12895,12902,12907,12912,12917,12938,12959,12978,12986,12991,12999,13018,13023,13042,13047,13053,13064,13075,13080,13091,13096,13117,13138,13159,13180,13199,13207,13212,13220,13239,13244,13263,13268,13274,13279,13300,13321,13342,13363,13382,13390,13395,13403,13426,13431,13454,13474,13494,13514,13534,13541,13561,13581,13586,13591,13612,13633,13654,13675,13696,13717,13738,13757,13765,13770,13778,13797,13802,13821,13839,13844,13860,13877,13894,13911,13922,13938,13956,13967,13979,13990,14002,14013,14025,14037,14047,14058,14070,14080,14092,14102,14120,14138,14155,14172,14189,14206,14217,14232,14250,14268,14286,14297,14309,14321,14331,14341,14346,14371,14396,14421,14446,14471,14496,14521,14546,14569,14581,14586,14598,14621,14626,14649,14671,14676,14701,14726,14751,14776,14801,14824,14836,14841,14853,14876,14881,14904,14909,14919,14924,14949,14974,14999,15024,15047,15059,15064,15076,15099,15104,15127,15132,15142,15147,15172,15197,15222,15247,15272,15295,15307,15312,15324,15347,15352,15375,15380,15390,15395,15420,15445,15468,15480,15485,15497,15520,15525,15548,15553,15578,15603,15628,15653,15676,15688,15693,15705,15728,15733,15756,15761,15771,15776,15801,15826,15851,15876,15899,15911,15916,15928,15955,15960,15987,16011,16035,16059,16083,16094,16118,16142,16147,16151,16176,16201,16226,16251,16274,16286,16290,16302,16325,16329,16352,16356,16366,16377,16381,16406,16431,16456,16481,16504,16516,16520,16532,16559,16563,16590,16614,16638,16662,16686,16697,16721,16745,16749,16753,16778,16803,16826,16838,16842,16854,16877,16881,16904,16908,16918,16929,16933,16958,16983,17008,17033,17056,17068,17072,17084,17107,17111,17134,17138,17148,17159,17163,17188,17213,17238,17263,17286,17298,17302,17314,17341,17345,17372,17396,17420,17444,17468,17479,17503,17527,17531,17536,17557,17578,17599,17620,17639,17647,17652,17660,17679,17684,17703,17708,17729,17750,17771,17792,17813,17834,17855,17874,17882,17887,17895,17914,17919,17938,17956,17961,17977,17994,18011,18028,18039,18055,18073,18084,18096,18107,18119,18130,18142,18154,18164,18175,18187,18197,18209,18219,18237,18255,18272,18289,18306,18323,18334,18349,18367,18385,18403,18414,18426,18438,18448,18458,18463,18488,18513,18538,18563,18588,18613,18638,18663,18686,18698,18703,18715,18738,18743,18766,18788,18793,18818,18843,18868,18893,18918,18941,18953,18958,18970,18993,18998,19021,19026,19051,19076,19101,19126,19149,19161,19166,19178,19201,19206,19229,19234,19244,19249,19274,19299,19324,19349,19374,19397,19409,19414,19426,19449,19454,19477,19482,19492,19497,19522,19547,19570,19582,19587,19599,19622,19627,19650,19655,19665,19670,19695,19720,19745,19770,19793,19805,19810,19822,19845,19850,19873,19878,19888,19893,19918,19943,19968,19993,20016,20028,20033,20045,20072,20077,20104,20128,20152,20176,20200,20211,20235,20259,20264,20268,20293,20318,20343,20368,20391,20403,20407,20419,20442,20446,20469,20473,20483,20487,20512,20537,20562,20587,20612,20635,20647,20651,20663,20686,20690,20713,20717,20727,20731,20756,20781,20804,20816,20820,20832,20855,20859,20882,20886,20896,20907,20911,20936,20961,20986,21011,21034,21046,21050,21062,21085,21089,21112,21116,21126,21130,21155,21180,21205,21230,21253,21265,21269,21281,21308,21312,21339,21363,21387,21411,21435,21446,21470,21494,21498,21502,21522,21542,21562,21582,21600,21607,21611,21618,21637,21641,21660,21664,21670,21679,21683,21703,21723,21743,21763,21783,21803,21823,21841,21848,21852,21859,21878,21882,21901,21918,21922,21942,21962,21982,22002,22022,22040,22047,22051,22058,22077,22081,22100,22104,22110,22119,22128,22133,22139,22150,22154,22165,22169,22180,22216,22220,22256,22279,22291,22295,22307,22330,22334,22357,22379,22390,22394,22410,22427,22444,22461,22472,22488,22506,22517,22529,22540,22552,22563,22575,22587,22597,22608,22620,22630,22642,22652,22670,22688,22705,22722,22739,22756,22767,22782,22800,22818,22836,22847,22859,22871,22881,22891,22895,22920,22945,22970,22995,23020,23045,23070,23095,23118,23130,23134,23146,23169,23173,23196,23218,23222,23247,23272,23297,23322,23347,23370,23382,23386,23398,23421,23425,23448,23452,23462,23473,23477,23502,23527,23552,23577,23600,23612,23616,23628,23651,23655,23678,23682,23707,23732,23757,23782,23807,23830,23842,23846,23858,23881,23885,23908,23912,23937,23962,23985,23997,24001,24013,24036,24040,24063,24067,24077,24088,24092,24117,24142,24167,24192,24215,24227,24231,24243,24266,24270,24293,24297,24322,24347,24372,24397,24420,24432,24436,24448,24475,24479,24506,24530,24554,24578,24602,24613,24637,24661,24665,24669,24689,24709,24727,24734,24738,24745,24764,24768,24787,24791,24797,24806,24815,24820,24826,24830,24835,24840,24845,24850,24855,24860,24864,24869,24872,24875,24878,24883,24888,24893,24898,24929,24934,24939,24944,24949,24980,24985,24990,24995,25e3,25031,25036,25041,25046,25051,25082,25087,25092,25097,25101,25132,25137,25142,25147,25152,25183,25188,25193,25224,25230,25261,25292,25297,25302,25307,25312,25317,25348,25353,25358,25389,25394,25399,25404,25408,25414,25420,25426,25432,25438,25444,25476,25482,25488,25520,25526,25532,25538,25570,25576,25582,25588,25619,25650,25655,25660,25665,25670,25675,25706,25711,25716,25747,25752,25757,25762,25793,25798,25803,25808,25839,25844,25849,25854,25859,25864,25869,25874,25879,25910,25941,25946,25951,25982,25987,25992,25997,26028,26033,26038,26043,26074,26079,26084,26089,26120,26125,26130,26135,26141,26147,26153,26159,26165,26197,26203,26209,26241,26247,26253,26259,26291,26297,26303,26309,26341,26347,26353,26359,26390,26422,26428,26434,26466,26472,26478,26484,26515,26546,26551,26556,26561,26566,26571,26602,26607,26612,26643,26648,26653,26658,26689,26694,26699,26704,26735,26740,26745,26750,26781,26786,26791,26796,26827,26832,26837,26842,26873,26878,26883,26914,26946,26952,26958,26990,26996,27002,27008,27040,27046,27052,27058,27090,27096,27102,27108,27140,27172,27178,27184,27190,27222,27228,27234,27266,27298,27304,27310,27342,27374,27380,27386,27418,27424,27430,27436,27468,27474,27480,27486,27518,27524,27530,27536,27568,27574,27580,27612,27618,27624,27630,27662,27668,27674,27706,27737,27742,27747,27752,27783,27788,27793,27824,27855,27860,27865,27870,27901,27906,27911,27916,27947,27952,27957,27988,28020,28026,28032,28064,28070,28076,28108,28140,28146,28152,28184,28190,28196,28228,28234,28240,28246,28278,28284,28290,28296,28328,28334,28340,28346,28378,28384,28390,28396,28428,28434,28440,28472,28503,28508,28513,28518,28549,28554,28559,28564,28595,28600,28605,28610,28641,28646,28651,28656,28687,28692,28697,28728,28759,28764,28769,28774,28805,28810,28815,28846,28851,28856,28861,28867,28898,28929,28934,28939,28944,28949,28980,28985,28990,29021,29026,29031,29036,29067,29072,29077,29108,29113,29118,29149,29154,29159,29164,29195,29200,29205,29236,29241,29246,29277,29308,29313,29318,29323,29329];_tsip_machine_parser_header_WWW_Authenticate_indicies=[0,2,0,2,1,3,3,1,4,4,1,5,5,1,6,6,1,7,1,8,8,1,9,9,1,10,10,1,11,11,1,12,12,1,13,13,1,14,14,1,15,15,1,16,16,1,17,17,1,18,18,1,19,19,1,19,19,20,1,22,23,22,24,25,24,25,21,1,26,21,1,27,26,21,1,22,28,22,24,25,24,25,21,1,29,26,21,1,30,26,30,24,25,24,25,21,1,26,31,31,21,1,26,32,32,21,1,26,33,33,21,1,26,34,34,21,1,35,36,35,21,1,37,38,37,39,39,39,21,21,40,41,42,43,44,45,46,40,41,42,43,44,45,46,39,21,39,21,39,21,39,21,1,47,26,21,1,48,26,48,39,39,39,21,21,40,41,42,43,44,45,46,40,41,42,43,44,45,46,39,21,39,21,39,21,39,21,1,49,50,49,51,51,51,52,21,53,51,21,51,21,51,21,51,21,1,54,55,54,56,53,21,1,57,26,21,1,58,26,58,56,53,21,1,56,59,56,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,62,26,21,1,63,26,63,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,49,50,49,51,51,51,52,21,53,64,64,51,21,51,21,51,21,51,21,1,65,26,21,1,49,50,49,51,51,51,52,21,53,66,66,51,21,51,21,51,21,51,21,1,53,67,53,68,69,68,68,21,21,70,68,21,68,21,68,21,68,21,1,71,26,21,1,72,73,72,68,69,68,68,21,21,70,68,21,68,21,68,21,68,21,1,74,26,21,1,75,26,75,69,21,1,69,76,77,78,21,21,69,21,1,79,26,21,1,80,81,80,52,21,1,82,83,82,56,21,1,84,26,21,1,85,26,85,56,21,1,86,26,21,1,49,50,49,51,51,51,52,21,53,87,87,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,88,88,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,89,89,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,90,90,51,21,51,21,51,21,51,21,1,91,92,91,51,51,51,52,21,93,51,21,51,21,51,21,51,21,1,94,95,94,56,93,21,1,96,26,21,1,97,26,97,56,93,21,1,98,99,98,68,100,68,68,21,21,70,68,21,68,21,68,21,68,21,1,101,26,21,1,102,103,102,68,100,68,68,21,21,70,68,21,68,21,68,21,68,21,1,104,26,21,1,105,26,105,106,21,1,106,107,108,109,21,21,106,21,1,110,26,21,1,111,112,111,113,21,1,21,26,106,21,1,80,81,80,68,68,68,52,21,68,21,68,21,68,21,68,21,1,26,115,21,114,21,114,21,114,21,1,26,117,77,21,116,21,116,21,116,21,1,26,117,77,21,118,21,118,21,118,21,1,26,117,77,21,119,21,119,21,119,21,1,26,117,77,21,1,26,121,21,120,21,114,21,114,21,1,26,122,117,77,21,123,21,116,21,116,21,1,26,21,124,21,1,26,125,21,126,21,1,26,21,127,21,1,26,128,21,129,21,1,26,21,130,21,1,26,77,21,131,21,1,26,77,21,132,21,1,26,77,21,1,26,128,21,133,21,1,26,128,21,1,26,125,21,134,21,1,26,125,21,1,26,122,117,77,21,135,21,118,21,118,21,1,26,122,117,77,21,119,21,119,21,119,21,1,26,137,77,21,136,21,136,21,136,21,1,26,139,77,21,138,21,138,21,138,21,1,26,139,77,21,140,21,140,21,140,21,1,26,139,77,21,141,21,141,21,141,21,1,26,139,77,21,1,26,21,142,21,136,21,136,21,1,26,122,139,77,21,143,21,138,21,138,21,1,26,122,139,77,21,144,21,140,21,140,21,1,26,122,139,77,21,141,21,141,21,141,21,1,26,21,145,21,1,26,122,21,146,21,1,26,122,21,147,21,1,26,122,21,1,26,121,21,1,148,26,21,1,49,50,49,51,51,51,52,21,53,149,149,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,150,150,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,151,151,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,152,152,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,153,153,51,21,51,21,51,21,51,21,1,154,155,154,51,51,51,52,21,156,51,21,51,21,51,21,51,21,1,157,158,157,56,156,21,1,159,26,21,1,160,26,160,56,156,21,1,161,162,161,68,163,68,68,21,21,70,68,21,68,21,68,21,68,21,1,164,26,21,1,165,166,165,68,163,68,68,21,21,70,68,21,68,21,68,21,68,21,1,167,26,21,1,168,26,168,169,21,1,169,170,171,172,21,21,169,21,1,173,26,21,1,174,175,174,176,21,1,21,26,169,21,1,177,26,21,1,49,50,49,51,51,51,52,21,53,178,178,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,179,179,51,21,51,21,51,21,51,21,1,180,181,180,51,51,51,52,21,182,51,21,51,21,51,21,51,21,1,183,184,183,56,182,21,1,185,26,21,1,186,26,186,56,182,21,1,182,187,182,68,188,68,68,21,21,70,68,21,68,21,68,21,68,21,1,189,26,21,1,190,191,190,68,188,68,68,21,21,70,68,21,68,21,68,21,68,21,1,192,26,21,1,193,26,193,188,21,1,195,196,197,198,194,194,195,194,1,200,201,199,1,202,200,201,199,1,203,204,203,56,21,1,205,26,21,1,206,207,206,56,21,1,49,50,49,51,51,51,52,21,53,208,208,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,209,209,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,210,210,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,211,211,51,21,51,21,51,21,51,21,1,212,213,212,51,51,51,52,21,214,51,21,51,21,51,21,51,21,1,215,216,215,56,214,21,1,217,26,21,1,218,26,218,56,214,21,1,219,220,219,68,221,68,68,21,21,70,68,21,68,21,68,21,68,21,1,222,26,21,1,223,224,223,68,221,68,68,21,21,70,68,21,68,21,68,21,68,21,1,225,26,21,1,226,26,226,227,21,1,227,228,229,230,21,21,227,21,1,231,26,21,1,232,233,232,234,21,1,21,26,227,21,1,235,26,21,1,49,50,49,51,51,51,52,21,53,236,236,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,237,237,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,238,238,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,239,239,51,21,51,21,51,21,51,21,1,240,241,240,51,51,51,52,21,242,51,21,51,21,51,21,51,21,1,243,244,243,56,242,21,1,245,26,21,1,246,26,246,56,242,21,1,242,247,242,68,69,68,68,21,21,248,249,70,248,249,68,21,68,21,68,21,68,21,1,250,26,21,1,251,73,251,68,69,68,68,21,21,248,249,70,248,249,68,21,68,21,68,21,68,21,1,80,81,80,68,68,68,52,21,252,252,68,21,68,21,68,21,68,21,1,80,81,80,68,68,68,52,21,253,253,68,21,68,21,68,21,68,21,1,80,81,80,68,68,68,52,21,254,254,68,21,68,21,68,21,68,21,1,80,81,80,68,68,68,52,21,255,255,68,21,68,21,68,21,68,21,1,256,257,256,258,21,1,80,81,80,68,68,68,52,21,259,259,68,21,68,21,68,21,68,21,1,80,81,80,68,68,68,52,21,254,254,68,21,68,21,68,21,68,21,1,260,26,21,1,261,262,201,263,199,199,261,199,1,264,200,201,199,1,199,200,265,261,199,1,266,267,266,77,268,78,21,21,69,21,1,269,26,21,1,270,271,270,77,268,78,21,21,69,21,1,272,26,21,1,273,76,273,77,268,78,21,21,69,21,1,268,274,268,275,77,275,275,69,69,276,277,278,279,280,281,282,78,276,277,278,279,280,281,282,275,21,21,69,275,69,275,69,275,69,21,1,283,26,21,1,284,76,284,275,77,275,275,69,69,276,277,278,279,280,281,282,78,276,277,278,279,280,281,282,275,21,21,69,275,69,275,69,275,69,21,1,285,286,285,287,77,287,287,288,69,289,78,287,21,21,69,287,69,287,69,287,69,21,1,290,291,290,77,268,289,78,21,21,69,21,1,292,26,21,1,293,76,293,77,268,289,78,21,21,69,21,1,289,294,289,295,296,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,298,26,21,1,299,300,299,295,296,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,301,26,21,1,302,76,302,296,78,21,21,69,21,1,303,304,303,77,288,78,21,21,69,21,1,305,306,305,77,268,78,21,21,69,21,1,307,26,21,1,21,26,69,21,1,303,304,303,295,77,295,295,288,69,78,295,21,21,69,295,69,295,69,295,69,21,1,69,76,77,309,78,21,21,69,308,69,308,69,308,69,21,1,69,76,77,311,78,296,21,21,69,310,69,310,69,310,69,21,1,69,76,77,311,78,296,21,21,69,312,69,312,69,312,69,21,1,69,76,77,311,78,296,21,21,69,313,69,313,69,313,69,21,1,69,76,77,311,78,296,21,21,69,21,1,69,76,77,315,78,21,21,69,314,69,308,69,308,69,21,1,69,76,77,316,311,78,296,21,21,69,317,69,310,69,310,69,21,1,69,76,77,78,21,21,69,318,69,21,1,69,76,77,319,78,21,21,69,320,69,21,1,69,76,77,78,21,21,69,321,69,21,1,69,76,77,322,78,21,21,69,323,69,21,1,69,76,77,78,21,21,69,324,69,21,1,69,76,77,78,296,21,21,69,325,69,21,1,69,76,77,78,296,21,21,69,326,69,21,1,69,76,77,78,296,21,21,69,21,1,69,76,77,322,78,21,21,69,327,69,21,1,69,76,77,322,78,21,21,69,21,1,69,76,77,319,78,21,21,69,328,69,21,1,69,76,77,319,78,21,21,69,21,1,69,76,77,316,311,78,296,21,21,69,329,69,312,69,312,69,21,1,69,76,77,316,311,78,296,21,21,69,313,69,313,69,313,69,21,1,69,76,77,331,78,296,21,21,69,330,69,330,69,330,69,21,1,69,76,77,333,78,296,21,21,69,332,69,332,69,332,69,21,1,69,76,77,333,78,296,21,21,69,334,69,334,69,334,69,21,1,69,76,77,333,78,296,21,21,69,335,69,335,69,335,69,21,1,69,76,77,333,78,296,21,21,69,21,1,69,76,77,78,21,21,69,336,69,330,69,330,69,21,1,69,76,77,316,333,78,296,21,21,69,337,69,332,69,332,69,21,1,69,76,77,316,333,78,296,21,21,69,338,69,334,69,334,69,21,1,69,76,77,316,333,78,296,21,21,69,335,69,335,69,335,69,21,1,69,76,77,78,21,21,69,339,69,21,1,69,76,77,316,78,21,21,69,340,69,21,1,69,76,77,316,78,21,21,69,341,69,21,1,69,76,77,316,78,21,21,69,21,1,69,76,77,315,78,21,21,69,21,1,342,26,21,1,285,286,285,287,77,287,287,288,69,289,343,78,343,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,344,78,344,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,345,78,345,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,346,78,346,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,347,78,347,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,348,78,348,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,349,78,349,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,350,78,350,287,21,21,69,287,69,287,69,287,69,21,1,351,352,351,287,77,287,287,288,69,353,78,287,21,21,69,287,69,287,69,287,69,21,1,354,355,354,77,268,353,78,21,21,69,21,1,356,26,21,1,357,76,357,77,268,353,78,21,21,69,21,1,353,358,353,359,296,359,359,69,69,297,78,359,21,21,69,359,69,359,69,359,69,21,1,360,26,21,1,361,300,361,359,296,359,359,69,69,297,78,359,21,21,69,359,69,359,69,359,69,21,1,362,363,362,364,77,364,364,365,69,78,364,21,21,69,364,69,364,69,364,69,21,1,366,26,21,1,285,286,285,287,77,287,287,288,69,289,367,78,367,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,368,78,368,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,369,78,369,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,370,78,370,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,371,78,371,287,21,21,69,287,69,287,69,287,69,21,1,372,373,372,287,77,287,287,288,69,374,78,287,21,21,69,287,69,287,69,287,69,21,1,375,376,375,77,268,374,78,21,21,69,21,1,377,26,21,1,378,76,378,77,268,374,78,21,21,69,21,1,374,379,374,295,380,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,381,26,21,1,382,383,382,295,380,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,384,26,21,1,385,76,385,380,78,21,21,69,21,1,387,388,387,390,391,392,386,386,389,386,1,394,395,393,1,396,394,395,393,1,397,398,397,395,400,401,393,393,399,393,1,402,394,395,393,1,403,404,403,395,400,401,393,393,399,393,1,405,394,395,393,1,399,404,395,401,393,393,399,393,1,393,394,406,399,393,1,400,407,400,408,395,408,408,399,399,409,410,411,412,413,414,415,401,409,410,411,412,413,414,415,408,393,393,399,408,399,408,399,408,399,393,1,416,394,395,393,1,417,404,417,408,395,408,408,399,399,409,410,411,412,413,414,415,401,409,410,411,412,413,414,415,408,393,393,399,408,399,408,399,408,399,393,1,418,419,418,420,395,420,420,421,399,422,401,420,393,393,399,420,399,420,399,420,399,393,1,423,424,423,395,400,422,401,393,393,399,393,1,425,394,395,393,1,426,404,426,395,400,422,401,393,393,399,393,1,422,427,422,428,406,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,430,394,395,393,1,431,432,431,428,406,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,433,394,395,393,1,434,404,434,406,401,393,393,399,393,1,435,436,435,428,395,428,428,421,399,401,428,393,393,399,428,399,428,399,428,399,393,1,437,394,395,393,1,438,439,438,440,395,440,440,441,393,442,440,393,440,393,440,393,440,393,1,443,444,443,395,445,442,393,1,446,394,395,393,1,447,394,447,395,445,442,393,1,445,448,445,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,457,394,395,393,1,458,394,458,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,438,439,438,440,395,440,440,441,393,442,459,459,440,393,440,393,440,393,440,393,1,460,394,395,393,1,438,439,438,440,395,440,440,441,393,442,461,461,440,393,440,393,440,393,440,393,1,442,462,442,463,406,463,463,393,393,464,463,393,463,393,463,393,463,393,1,465,394,395,393,1,466,467,466,463,406,463,463,393,393,464,463,393,463,393,463,393,463,393,1,468,394,395,393,1,469,394,469,406,393,1,470,471,470,463,395,463,463,441,393,463,393,463,393,463,393,463,393,1,472,473,472,395,445,393,1,474,394,395,393,1,475,394,475,395,445,393,1,476,394,395,393,1,438,439,438,440,395,440,440,441,393,442,477,477,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,478,478,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,479,479,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,480,480,440,393,440,393,440,393,440,393,1,481,482,481,440,395,440,440,441,393,483,440,393,440,393,440,393,440,393,1,484,485,484,395,445,483,393,1,486,394,395,393,1,487,394,487,395,445,483,393,1,488,489,488,463,490,463,463,393,393,464,463,393,463,393,463,393,463,393,1,491,394,395,393,1,492,493,492,463,490,463,463,393,393,464,463,393,463,393,463,393,463,393,1,494,394,395,393,1,495,394,495,496,393,1,497,498,497,108,499,109,21,21,106,21,1,500,26,21,1,501,502,501,108,499,109,21,21,106,21,1,503,26,21,1,504,107,504,108,499,109,21,21,106,21,1,499,505,499,506,108,506,506,106,106,507,508,509,510,511,512,513,109,507,508,509,510,511,512,513,506,21,21,106,506,106,506,106,506,106,21,1,514,26,21,1,515,107,515,506,108,506,506,106,106,507,508,509,510,511,512,513,109,507,508,509,510,511,512,513,506,21,21,106,506,106,506,106,506,106,21,1,516,517,516,518,108,518,518,519,106,520,109,518,21,21,106,518,106,518,106,518,106,21,1,521,522,521,108,499,520,109,21,21,106,21,1,523,26,21,1,524,107,524,108,499,520,109,21,21,106,21,1,520,525,520,526,527,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,529,26,21,1,530,531,530,526,527,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,532,26,21,1,533,107,533,527,109,21,21,106,21,1,534,535,534,77,536,78,21,21,69,21,1,537,538,537,526,108,526,526,519,106,109,526,21,21,106,526,106,526,106,526,106,21,1,539,540,539,108,499,109,21,21,106,21,1,541,26,21,1,106,107,108,543,109,21,21,106,542,106,542,106,542,106,21,1,106,107,108,545,109,546,21,21,106,544,106,544,106,544,106,21,1,106,107,108,545,109,546,21,21,106,547,106,547,106,547,106,21,1,106,107,108,545,109,546,21,21,106,548,106,548,106,548,106,21,1,106,107,108,545,109,546,21,21,106,21,1,106,107,108,550,109,21,21,106,549,106,542,106,542,106,21,1,106,107,108,551,545,109,546,21,21,106,552,106,544,106,544,106,21,1,106,107,108,109,21,21,106,553,106,21,1,106,107,108,554,109,21,21,106,555,106,21,1,106,107,108,109,21,21,106,556,106,21,1,106,107,108,557,109,21,21,106,558,106,21,1,106,107,108,109,21,21,106,559,106,21,1,106,107,108,109,546,21,21,106,560,106,21,1,106,107,108,109,546,21,21,106,561,106,21,1,106,107,108,109,546,21,21,106,21,1,537,538,537,108,519,109,21,21,106,21,1,106,107,108,557,109,21,21,106,562,106,21,1,106,107,108,557,109,21,21,106,21,1,106,107,108,554,109,21,21,106,563,106,21,1,106,107,108,554,109,21,21,106,21,1,106,107,108,551,545,109,546,21,21,106,564,106,547,106,547,106,21,1,106,107,108,551,545,109,546,21,21,106,548,106,548,106,548,106,21,1,106,107,108,566,109,546,21,21,106,565,106,565,106,565,106,21,1,106,107,108,568,109,546,21,21,106,567,106,567,106,567,106,21,1,106,107,108,568,109,546,21,21,106,569,106,569,106,569,106,21,1,106,107,108,568,109,546,21,21,106,570,106,570,106,570,106,21,1,106,107,108,568,109,546,21,21,106,21,1,106,107,108,109,21,21,106,571,106,565,106,565,106,21,1,106,107,108,551,568,109,546,21,21,106,572,106,567,106,567,106,21,1,106,107,108,551,568,109,546,21,21,106,573,106,569,106,569,106,21,1,106,107,108,551,568,109,546,21,21,106,570,106,570,106,570,106,21,1,106,107,108,109,21,21,106,574,106,21,1,106,107,108,551,109,21,21,106,575,106,21,1,106,107,108,551,109,21,21,106,576,106,21,1,106,107,108,551,109,21,21,106,21,1,106,107,108,550,109,21,21,106,21,1,577,26,21,1,516,517,516,518,108,518,518,519,106,520,578,109,578,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,579,109,579,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,580,109,580,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,581,109,581,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,582,109,582,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,583,109,583,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,584,109,584,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,585,109,585,518,21,21,106,518,106,518,106,518,106,21,1,586,587,586,518,108,518,518,519,106,588,109,518,21,21,106,518,106,518,106,518,106,21,1,589,590,589,108,499,588,109,21,21,106,21,1,591,26,21,1,592,107,592,108,499,588,109,21,21,106,21,1,588,593,588,594,527,594,594,106,106,528,109,594,21,21,106,594,106,594,106,594,106,21,1,595,26,21,1,596,531,596,594,527,594,594,106,106,528,109,594,21,21,106,594,106,594,106,594,106,21,1,597,598,597,599,108,599,599,600,106,109,599,21,21,106,599,106,599,106,599,106,21,1,601,26,21,1,516,517,516,518,108,518,518,519,106,520,602,109,602,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,603,109,603,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,604,109,604,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,605,109,605,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,606,109,606,518,21,21,106,518,106,518,106,518,106,21,1,607,608,607,518,108,518,518,519,106,609,109,518,21,21,106,518,106,518,106,518,106,21,1,610,611,610,108,499,609,109,21,21,106,21,1,612,26,21,1,613,107,613,108,499,609,109,21,21,106,21,1,609,614,609,526,615,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,616,26,21,1,617,618,617,526,615,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,619,26,21,1,620,107,620,615,109,21,21,106,21,1,621,622,621,390,623,392,386,386,389,386,1,624,26,21,1,516,517,516,518,108,518,518,519,106,520,625,109,625,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,626,109,626,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,627,109,627,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,628,109,628,518,21,21,106,518,106,518,106,518,106,21,1,629,630,629,518,108,518,518,519,106,631,109,518,21,21,106,518,106,518,106,518,106,21,1,632,633,632,108,499,631,109,21,21,106,21,1,634,26,21,1,635,107,635,108,499,631,109,21,21,106,21,1,636,637,636,526,638,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,639,26,21,1,640,641,640,526,638,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,642,26,21,1,643,107,643,644,109,21,21,106,21,1,645,646,645,108,647,109,21,21,106,21,1,648,26,21,1,516,517,516,518,108,518,518,519,106,520,649,109,649,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,650,109,650,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,651,109,651,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,652,109,652,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,653,109,653,518,21,21,106,518,106,518,106,518,106,21,1,654,655,654,518,108,518,518,519,106,656,109,518,21,21,106,518,106,518,106,518,106,21,1,657,658,657,108,499,656,109,21,21,106,21,1,659,26,21,1,660,107,660,108,499,656,109,21,21,106,21,1,661,662,661,526,663,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,664,26,21,1,665,666,665,526,663,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,667,26,21,1,668,107,668,669,109,21,21,106,21,1,670,671,670,171,672,172,21,21,169,21,1,673,674,673,171,675,172,21,21,169,21,1,676,26,21,1,677,170,677,171,675,172,21,21,169,21,1,675,678,675,679,171,679,679,169,169,680,681,682,683,684,685,686,172,680,681,682,683,684,685,686,679,21,21,169,679,169,679,169,679,169,21,1,687,26,21,1,688,170,688,679,171,679,679,169,169,680,681,682,683,684,685,686,172,680,681,682,683,684,685,686,679,21,21,169,679,169,679,169,679,169,21,1,689,690,689,691,171,691,691,692,169,693,172,691,21,21,169,691,169,691,169,691,169,21,1,694,695,694,171,675,693,172,21,21,169,21,1,696,26,21,1,697,170,697,171,675,693,172,21,21,169,21,1,693,698,693,699,700,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,702,26,21,1,703,704,703,699,700,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,705,26,21,1,706,170,706,700,172,21,21,169,21,1,707,708,707,77,709,78,21,21,69,21,1,710,711,710,699,171,699,699,692,169,172,699,21,21,169,699,169,699,169,699,169,21,1,712,26,21,1,169,170,171,714,172,21,21,169,713,169,713,169,713,169,21,1,169,170,171,716,172,717,21,21,169,715,169,715,169,715,169,21,1,169,170,171,716,172,717,21,21,169,718,169,718,169,718,169,21,1,169,170,171,716,172,717,21,21,169,719,169,719,169,719,169,21,1,169,170,171,716,172,717,21,21,169,21,1,169,170,171,721,172,21,21,169,720,169,713,169,713,169,21,1,169,170,171,722,716,172,717,21,21,169,723,169,715,169,715,169,21,1,169,170,171,172,21,21,169,724,169,21,1,169,170,171,725,172,21,21,169,726,169,21,1,169,170,171,172,21,21,169,727,169,21,1,169,170,171,728,172,21,21,169,729,169,21,1,169,170,171,172,21,21,169,730,169,21,1,169,170,171,172,717,21,21,169,731,169,21,1,169,170,171,172,717,21,21,169,732,169,21,1,169,170,171,172,717,21,21,169,21,1,710,711,710,171,692,172,21,21,169,21,1,169,170,171,728,172,21,21,169,733,169,21,1,169,170,171,728,172,21,21,169,21,1,169,170,171,725,172,21,21,169,734,169,21,1,169,170,171,725,172,21,21,169,21,1,169,170,171,722,716,172,717,21,21,169,735,169,718,169,718,169,21,1,169,170,171,722,716,172,717,21,21,169,719,169,719,169,719,169,21,1,169,170,171,737,172,717,21,21,169,736,169,736,169,736,169,21,1,169,170,171,739,172,717,21,21,169,738,169,738,169,738,169,21,1,169,170,171,739,172,717,21,21,169,740,169,740,169,740,169,21,1,169,170,171,739,172,717,21,21,169,741,169,741,169,741,169,21,1,169,170,171,739,172,717,21,21,169,21,1,169,170,171,172,21,21,169,742,169,736,169,736,169,21,1,169,170,171,722,739,172,717,21,21,169,743,169,738,169,738,169,21,1,169,170,171,722,739,172,717,21,21,169,744,169,740,169,740,169,21,1,169,170,171,722,739,172,717,21,21,169,741,169,741,169,741,169,21,1,169,170,171,172,21,21,169,745,169,21,1,169,170,171,722,172,21,21,169,746,169,21,1,169,170,171,722,172,21,21,169,747,169,21,1,169,170,171,722,172,21,21,169,21,1,169,170,171,721,172,21,21,169,21,1,748,26,21,1,689,690,689,691,171,691,691,692,169,693,749,172,749,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,750,172,750,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,751,172,751,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,752,172,752,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,753,172,753,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,754,172,754,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,755,172,755,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,756,172,756,691,21,21,169,691,169,691,169,691,169,21,1,757,758,757,691,171,691,691,692,169,759,172,691,21,21,169,691,169,691,169,691,169,21,1,760,761,760,171,675,759,172,21,21,169,21,1,762,26,21,1,763,170,763,171,675,759,172,21,21,169,21,1,759,764,759,765,700,765,765,169,169,701,172,765,21,21,169,765,169,765,169,765,169,21,1,766,26,21,1,767,704,767,765,700,765,765,169,169,701,172,765,21,21,169,765,169,765,169,765,169,21,1,768,769,768,770,171,770,770,771,169,172,770,21,21,169,770,169,770,169,770,169,21,1,772,26,21,1,689,690,689,691,171,691,691,692,169,693,773,172,773,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,774,172,774,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,775,172,775,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,776,172,776,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,777,172,777,691,21,21,169,691,169,691,169,691,169,21,1,778,779,778,691,171,691,691,692,169,780,172,691,21,21,169,691,169,691,169,691,169,21,1,781,782,781,171,675,780,172,21,21,169,21,1,783,26,21,1,784,170,784,171,675,780,172,21,21,169,21,1,780,785,780,699,786,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,787,26,21,1,788,789,788,699,786,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,790,26,21,1,791,170,791,786,172,21,21,169,21,1,792,793,792,390,794,392,386,386,389,386,1,795,26,21,1,689,690,689,691,171,691,691,692,169,693,796,172,796,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,797,172,797,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,798,172,798,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,799,172,799,691,21,21,169,691,169,691,169,691,169,21,1,800,801,800,691,171,691,691,692,169,802,172,691,21,21,169,691,169,691,169,691,169,21,1,803,804,803,171,675,802,172,21,21,169,21,1,805,26,21,1,806,170,806,171,675,802,172,21,21,169,21,1,807,808,807,699,809,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,810,26,21,1,811,812,811,699,809,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,813,26,21,1,814,170,814,815,172,21,21,169,21,1,816,817,816,108,818,109,21,21,106,21,1,819,26,21,1,689,690,689,691,171,691,691,692,169,693,820,172,820,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,821,172,821,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,822,172,822,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,823,172,823,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,824,172,824,691,21,21,169,691,169,691,169,691,169,21,1,825,826,825,691,171,691,691,692,169,827,172,691,21,21,169,691,169,691,169,691,169,21,1,828,829,828,171,675,827,172,21,21,169,21,1,830,26,21,1,831,170,831,171,675,827,172,21,21,169,21,1,832,833,832,699,834,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,835,26,21,1,836,837,836,699,834,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,838,26,21,1,839,170,839,840,172,21,21,169,21,1,841,842,841,171,843,172,21,21,169,21,1,844,26,21,1,689,690,689,691,171,691,691,692,169,693,845,172,845,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,846,172,846,691,21,21,169,691,169,691,169,691,169,21,1,847,848,847,691,171,691,691,692,169,849,172,691,21,21,169,691,169,691,169,691,169,21,1,850,851,850,171,675,849,172,21,21,169,21,1,852,26,21,1,853,170,853,171,675,849,172,21,21,169,21,1,849,854,849,699,855,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,856,26,21,1,857,858,857,699,855,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,859,26,21,1,860,170,860,855,172,21,21,169,21,1,861,862,861,197,863,198,194,194,195,194,1,864,865,864,201,866,263,199,199,261,199,1,867,200,201,199,1,868,262,868,201,866,263,199,199,261,199,1,866,869,866,870,201,870,870,261,261,871,872,873,874,875,876,877,263,871,872,873,874,875,876,877,870,199,199,261,870,261,870,261,870,261,199,1,878,200,201,199,1,879,262,879,870,201,870,870,261,261,871,872,873,874,875,876,877,263,871,872,873,874,875,876,877,870,199,199,261,870,261,870,261,870,261,199,1,880,881,880,882,201,882,882,883,261,884,263,882,199,199,261,882,261,882,261,882,261,199,1,885,886,885,201,866,884,263,199,199,261,199,1,887,200,201,199,1,888,262,888,201,866,884,263,199,199,261,199,1,884,889,884,890,265,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,892,200,201,199,1,893,894,893,890,265,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,895,200,201,199,1,896,262,896,265,263,199,199,261,199,1,897,898,897,890,201,890,890,883,261,263,890,199,199,261,890,261,890,261,890,261,199,1,899,200,201,199,1,900,901,900,902,201,902,902,903,199,904,902,199,902,199,902,199,902,199,1,905,906,905,201,907,904,199,1,908,200,201,199,1,909,200,909,201,907,904,199,1,907,910,907,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,919,200,201,199,1,920,200,920,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,900,901,900,902,201,902,902,903,199,904,921,921,902,199,902,199,902,199,902,199,1,922,200,201,199,1,900,901,900,902,201,902,902,903,199,904,923,923,902,199,902,199,902,199,902,199,1,904,924,904,925,265,925,925,199,199,926,925,199,925,199,925,199,925,199,1,927,200,201,199,1,928,929,928,925,265,925,925,199,199,926,925,199,925,199,925,199,925,199,1,930,200,201,199,1,931,200,931,265,199,1,932,933,932,925,201,925,925,903,199,925,199,925,199,925,199,925,199,1,934,935,934,201,907,199,1,936,200,201,199,1,937,200,937,201,907,199,1,938,200,201,199,1,900,901,900,902,201,902,902,903,199,904,939,939,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,940,940,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,941,941,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,942,942,902,199,902,199,902,199,902,199,1,943,944,943,902,201,902,902,903,199,945,902,199,902,199,902,199,902,199,1,946,947,946,201,907,945,199,1,948,200,201,199,1,949,200,949,201,907,945,199,1,950,951,950,925,952,925,925,199,199,926,925,199,925,199,925,199,925,199,1,953,200,201,199,1,954,955,954,925,952,925,925,199,199,926,925,199,925,199,925,199,925,199,1,956,200,201,199,1,957,200,957,958,199,1,200,201,960,199,959,199,959,199,959,199,1,200,201,962,963,199,961,199,961,199,961,199,1,200,201,962,963,199,964,199,964,199,964,199,1,200,201,962,963,199,965,199,965,199,965,199,1,200,201,962,963,199,1,200,201,967,199,966,199,959,199,959,199,1,200,201,968,962,963,199,969,199,961,199,961,199,1,200,201,199,970,199,1,200,201,971,199,972,199,1,200,201,199,973,199,1,200,201,974,199,975,199,1,200,201,199,976,199,1,200,201,963,199,977,199,1,200,201,963,199,978,199,1,200,201,963,199,1,932,933,932,201,903,199,1,200,201,974,199,979,199,1,200,201,974,199,1,200,201,971,199,980,199,1,200,201,971,199,1,200,201,968,962,963,199,981,199,964,199,964,199,1,200,201,968,962,963,199,965,199,965,199,965,199,1,200,201,983,963,199,982,199,982,199,982,199,1,200,201,985,963,199,984,199,984,199,984,199,1,200,201,985,963,199,986,199,986,199,986,199,1,200,201,985,963,199,987,199,987,199,987,199,1,200,201,985,963,199,1,200,201,199,988,199,982,199,982,199,1,200,201,968,985,963,199,989,199,984,199,984,199,1,200,201,968,985,963,199,990,199,986,199,986,199,1,200,201,968,985,963,199,987,199,987,199,987,199,1,200,201,199,991,199,1,200,201,968,199,992,199,1,200,201,968,199,993,199,1,200,201,968,199,1,200,201,967,199,1,994,200,201,199,1,900,901,900,902,201,902,902,903,199,904,995,995,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,996,996,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,997,997,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,998,998,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,999,999,902,199,902,199,902,199,902,199,1,1e3,1001,1e3,902,201,902,902,903,199,1002,902,199,902,199,902,199,902,199,1,1003,1004,1003,201,907,1002,199,1,1005,200,201,199,1,1006,200,1006,201,907,1002,199,1,1007,1008,1007,925,1009,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1010,200,201,199,1,1011,1012,1011,925,1009,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1013,200,201,199,1,1014,200,1014,1015,199,1,1016,1017,1016,171,675,172,21,21,169,21,1,1018,26,21,1,1019,1020,1019,171,675,172,21,21,169,21,1,1021,200,201,199,1,900,901,900,902,201,902,902,903,199,904,1022,1022,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1023,1023,902,199,902,199,902,199,902,199,1,1024,1025,1024,902,201,902,902,903,199,1026,902,199,902,199,902,199,902,199,1,1027,1028,1027,201,907,1026,199,1,1029,200,201,199,1,1030,200,1030,201,907,1026,199,1,1026,1031,1026,925,201,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1032,200,201,199,1,1033,200,1033,925,201,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1034,200,201,199,1,900,901,900,902,201,902,902,903,199,904,1035,1035,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1036,1036,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1037,1037,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1038,1038,902,199,902,199,902,199,902,199,1,1039,1040,1039,902,201,902,902,903,199,1041,902,199,902,199,902,199,902,199,1,1042,1043,1042,201,907,1041,199,1,1044,200,201,199,1,1045,200,1045,201,907,1041,199,1,1046,1047,1046,925,1048,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1049,200,201,199,1,1050,1051,1050,925,1048,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1052,200,201,199,1,1053,200,1053,1054,199,1,1055,1056,1055,229,1057,230,21,21,227,21,1,1058,26,21,1,1059,1060,1059,229,1057,230,21,21,227,21,1,1061,26,21,1,1062,228,1062,229,1057,230,21,21,227,21,1,1057,1063,1057,1064,229,1064,1064,227,227,1065,1066,1067,1068,1069,1070,1071,230,1065,1066,1067,1068,1069,1070,1071,1064,21,21,227,1064,227,1064,227,1064,227,21,1,1072,26,21,1,1073,228,1073,1064,229,1064,1064,227,227,1065,1066,1067,1068,1069,1070,1071,230,1065,1066,1067,1068,1069,1070,1071,1064,21,21,227,1064,227,1064,227,1064,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1079,1080,1079,229,1057,1078,230,21,21,227,21,1,1081,26,21,1,1082,228,1082,229,1057,1078,230,21,21,227,21,1,1078,1083,1078,1084,1085,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1087,26,21,1,1088,1089,1088,1084,1085,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1090,26,21,1,1091,228,1091,1085,230,21,21,227,21,1,1092,1093,1092,77,1094,78,21,21,69,21,1,1095,1096,1095,1084,229,1084,1084,1077,227,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1097,1098,1097,229,1057,230,21,21,227,21,1,1099,26,21,1,227,228,229,1101,230,21,21,227,1100,227,1100,227,1100,227,21,1,227,228,229,1103,230,1104,21,21,227,1102,227,1102,227,1102,227,21,1,227,228,229,1103,230,1104,21,21,227,1105,227,1105,227,1105,227,21,1,227,228,229,1103,230,1104,21,21,227,1106,227,1106,227,1106,227,21,1,227,228,229,1103,230,1104,21,21,227,21,1,227,228,229,1108,230,21,21,227,1107,227,1100,227,1100,227,21,1,227,228,229,1109,1103,230,1104,21,21,227,1110,227,1102,227,1102,227,21,1,227,228,229,230,21,21,227,1111,227,21,1,227,228,229,1112,230,21,21,227,1113,227,21,1,227,228,229,230,21,21,227,1114,227,21,1,227,228,229,1115,230,21,21,227,1116,227,21,1,227,228,229,230,21,21,227,1117,227,21,1,227,228,229,230,1104,21,21,227,1118,227,21,1,227,228,229,230,1104,21,21,227,1119,227,21,1,227,228,229,230,1104,21,21,227,21,1,1095,1096,1095,229,1077,230,21,21,227,21,1,227,228,229,1115,230,21,21,227,1120,227,21,1,227,228,229,1115,230,21,21,227,21,1,227,228,229,1112,230,21,21,227,1121,227,21,1,227,228,229,1112,230,21,21,227,21,1,227,228,229,1109,1103,230,1104,21,21,227,1122,227,1105,227,1105,227,21,1,227,228,229,1109,1103,230,1104,21,21,227,1106,227,1106,227,1106,227,21,1,227,228,229,1124,230,1104,21,21,227,1123,227,1123,227,1123,227,21,1,227,228,229,1126,230,1104,21,21,227,1125,227,1125,227,1125,227,21,1,227,228,229,1126,230,1104,21,21,227,1127,227,1127,227,1127,227,21,1,227,228,229,1126,230,1104,21,21,227,1128,227,1128,227,1128,227,21,1,227,228,229,1126,230,1104,21,21,227,21,1,227,228,229,230,21,21,227,1129,227,1123,227,1123,227,21,1,227,228,229,1109,1126,230,1104,21,21,227,1130,227,1125,227,1125,227,21,1,227,228,229,1109,1126,230,1104,21,21,227,1131,227,1127,227,1127,227,21,1,227,228,229,1109,1126,230,1104,21,21,227,1128,227,1128,227,1128,227,21,1,227,228,229,230,21,21,227,1132,227,21,1,227,228,229,1109,230,21,21,227,1133,227,21,1,227,228,229,1109,230,21,21,227,1134,227,21,1,227,228,229,1109,230,21,21,227,21,1,227,228,229,1108,230,21,21,227,21,1,1135,26,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1136,230,1136,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1137,230,1137,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1138,230,1138,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1139,230,1139,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1140,230,1140,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1141,230,1141,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1142,230,1142,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1143,230,1143,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1144,1145,1144,1076,229,1076,1076,1077,227,1146,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1147,1148,1147,229,1057,1146,230,21,21,227,21,1,1149,26,21,1,1150,228,1150,229,1057,1146,230,21,21,227,21,1,1146,1151,1146,1152,1085,1152,1152,227,227,1086,230,1152,21,21,227,1152,227,1152,227,1152,227,21,1,1153,26,21,1,1154,1089,1154,1152,1085,1152,1152,227,227,1086,230,1152,21,21,227,1152,227,1152,227,1152,227,21,1,1155,1156,1155,1157,229,1157,1157,1158,227,230,1157,21,21,227,1157,227,1157,227,1157,227,21,1,1159,26,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1160,230,1160,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1161,230,1161,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1162,230,1162,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1163,230,1163,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1164,230,1164,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1165,1166,1165,1076,229,1076,1076,1077,227,1167,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1168,1169,1168,229,1057,1167,230,21,21,227,21,1,1170,26,21,1,1171,228,1171,229,1057,1167,230,21,21,227,21,1,1167,1172,1167,1084,1173,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1174,26,21,1,1175,1176,1175,1084,1173,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1177,26,21,1,1178,228,1178,1173,230,21,21,227,21,1,1179,1180,1179,390,1181,392,386,386,389,386,1,1182,26,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1183,230,1183,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1184,230,1184,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1185,230,1185,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1186,230,1186,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1187,1188,1187,1076,229,1076,1076,1077,227,1189,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1190,1191,1190,229,1057,1189,230,21,21,227,21,1,1192,26,21,1,1193,228,1193,229,1057,1189,230,21,21,227,21,1,1194,1195,1194,1084,1196,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1197,26,21,1,1198,1199,1198,1084,1196,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1200,26,21,1,1201,228,1201,1202,230,21,21,227,21,1,1203,1204,1203,108,1205,109,21,21,106,21,1,1206,26,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1207,230,1207,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1208,230,1208,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1209,230,1209,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1210,230,1210,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1211,230,1211,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1212,1213,1212,1076,229,1076,1076,1077,227,1214,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1215,1216,1215,229,1057,1214,230,21,21,227,21,1,1217,26,21,1,1218,228,1218,229,1057,1214,230,21,21,227,21,1,1219,1220,1219,1084,1221,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1222,26,21,1,1223,1224,1223,1084,1221,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1225,26,21,1,1226,228,1226,1227,230,21,21,227,21,1,1228,1229,1228,171,1230,172,21,21,169,21,1,1231,26,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1232,230,1232,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1233,230,1233,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1234,1235,1234,1076,229,1076,1076,1077,227,1236,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1237,1238,1237,229,1057,1236,230,21,21,227,21,1,1239,26,21,1,1240,228,1240,229,1057,1236,230,21,21,227,21,1,1236,1241,1236,1084,1242,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1243,26,21,1,1244,1245,1244,1084,1242,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1246,26,21,1,1247,228,1247,1242,230,21,21,227,21,1,1248,1249,1248,197,1250,198,194,194,195,194,1,1251,26,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1252,230,1252,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1253,230,1253,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1254,230,1254,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1255,230,1255,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1256,1257,1256,1076,229,1076,1076,1077,227,1258,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1259,1260,1259,229,1057,1258,230,21,21,227,21,1,1261,26,21,1,1262,228,1262,229,1057,1258,230,21,21,227,21,1,1263,1264,1263,1084,1265,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1266,26,21,1,1267,1268,1267,1084,1265,1084,1084,227,227,1086,230,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1269,26,21,1,1270,228,1270,1271,230,21,21,227,21,1,1272,1273,1272,229,1274,230,21,21,227,21,1,1275,26,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1276,230,1276,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1277,230,1277,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1278,230,1278,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1074,1075,1074,1076,229,1076,1076,1077,227,1078,1279,230,1279,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1280,1281,1280,1076,229,1076,1076,1077,227,1282,230,1076,21,21,227,1076,227,1076,227,1076,227,21,1,1283,1284,1283,229,1057,1282,230,21,21,227,21,1,1285,26,21,1,1286,228,1286,229,1057,1282,230,21,21,227,21,1,1282,1287,1282,1084,1085,1084,1084,227,227,1288,1289,1086,230,1288,1289,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1290,26,21,1,1291,1089,1291,1084,1085,1084,1084,227,227,1288,1289,1086,230,1288,1289,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1095,1096,1095,1084,229,1084,1084,1077,227,1292,230,1292,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1095,1096,1095,1084,229,1084,1084,1077,227,1293,230,1293,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1095,1096,1095,1084,229,1084,1084,1077,227,1294,230,1294,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1095,1096,1095,1084,229,1084,1084,1077,227,1295,230,1295,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1296,1297,1296,229,1298,230,21,21,227,21,1,1095,1096,1095,1084,229,1084,1084,1077,227,1299,230,1299,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1095,1096,1095,1084,229,1084,1084,1077,227,1294,230,1294,1084,21,21,227,1084,227,1084,227,1084,227,21,1,1300,26,21,1,1301,200,201,199,1,900,901,900,902,201,902,902,903,199,904,1302,1302,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1303,1303,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1304,1304,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1305,1305,902,199,902,199,902,199,902,199,1,1306,1307,1306,902,201,902,902,903,199,1308,902,199,902,199,902,199,902,199,1,1309,1310,1309,201,907,1308,199,1,1311,200,201,199,1,1312,200,1312,201,907,1308,199,1,1308,1313,1308,925,265,925,925,199,199,1314,1315,926,1314,1315,925,199,925,199,925,199,925,199,1,1316,200,201,199,1,1317,929,1317,925,265,925,925,199,199,1314,1315,926,1314,1315,925,199,925,199,925,199,925,199,1,932,933,932,925,201,925,925,903,199,1318,1318,925,199,925,199,925,199,925,199,1,932,933,932,925,201,925,925,903,199,1319,1319,925,199,925,199,925,199,925,199,1,932,933,932,925,201,925,925,903,199,1320,1320,925,199,925,199,925,199,925,199,1,932,933,932,925,201,925,925,903,199,1321,1321,925,199,925,199,925,199,925,199,1,1322,1323,1322,201,1324,199,1,932,933,932,925,201,925,925,903,199,1325,1325,925,199,925,199,925,199,925,199,1,932,933,932,925,201,925,925,903,199,1320,1320,925,199,925,199,925,199,925,199,1,1326,200,201,199,1,900,901,900,902,201,902,902,903,199,904,1327,1327,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1328,1328,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1329,1329,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1330,1330,902,199,902,199,902,199,902,199,1,1331,1332,1331,902,201,902,902,903,199,1333,902,199,902,199,902,199,902,199,1,1334,1335,1334,201,907,1333,199,1,1336,200,201,199,1,1337,200,1337,201,907,1333,199,1,1333,1338,1333,925,1339,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1340,200,201,199,1,1341,1342,1341,925,1339,925,925,199,199,926,925,199,925,199,925,199,925,199,1,1343,200,201,199,1,1344,200,1344,1339,199,1,1345,1346,1345,390,1347,392,386,386,389,386,1,1348,1349,1348,395,400,401,393,393,399,393,1,1350,394,395,393,1,1351,1352,1351,395,400,401,393,393,399,393,1,438,439,438,440,395,440,440,441,393,442,1353,1353,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1354,1354,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1355,1355,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1356,1356,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1357,1357,440,393,440,393,440,393,440,393,1,1358,1359,1358,440,395,440,440,441,393,1360,440,393,440,393,440,393,440,393,1,1361,1362,1361,395,445,1360,393,1,1363,394,395,393,1,1364,394,1364,395,445,1360,393,1,1365,1366,1365,463,1367,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1368,394,395,393,1,1369,1370,1369,463,1367,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1371,394,395,393,1,1372,394,1372,1373,393,1,394,395,1375,393,1374,393,1374,393,1374,393,1,394,395,1377,1378,393,1376,393,1376,393,1376,393,1,394,395,1377,1378,393,1379,393,1379,393,1379,393,1,394,395,1377,1378,393,1380,393,1380,393,1380,393,1,394,395,1377,1378,393,1,394,395,1382,393,1381,393,1374,393,1374,393,1,394,395,1383,1377,1378,393,1384,393,1376,393,1376,393,1,394,395,393,1385,393,1,394,395,1386,393,1387,393,1,394,395,393,1388,393,1,394,395,1389,393,1390,393,1,394,395,393,1391,393,1,394,395,1378,393,1392,393,1,394,395,1378,393,1393,393,1,394,395,1378,393,1,470,471,470,395,441,393,1,394,395,1389,393,1394,393,1,394,395,1389,393,1,394,395,1386,393,1395,393,1,394,395,1386,393,1,394,395,1383,1377,1378,393,1396,393,1379,393,1379,393,1,394,395,1383,1377,1378,393,1380,393,1380,393,1380,393,1,394,395,1398,1378,393,1397,393,1397,393,1397,393,1,394,395,1400,1378,393,1399,393,1399,393,1399,393,1,394,395,1400,1378,393,1401,393,1401,393,1401,393,1,394,395,1400,1378,393,1402,393,1402,393,1402,393,1,394,395,1400,1378,393,1,394,395,393,1403,393,1397,393,1397,393,1,394,395,1383,1400,1378,393,1404,393,1399,393,1399,393,1,394,395,1383,1400,1378,393,1405,393,1401,393,1401,393,1,394,395,1383,1400,1378,393,1402,393,1402,393,1402,393,1,394,395,393,1406,393,1,394,395,1383,393,1407,393,1,394,395,1383,393,1408,393,1,394,395,1383,393,1,394,395,1382,393,1,1409,394,395,393,1,438,439,438,440,395,440,440,441,393,442,1410,1410,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1411,1411,440,393,440,393,440,393,440,393,1,1412,1413,1412,440,395,440,440,441,393,1414,440,393,440,393,440,393,440,393,1,1415,1416,1415,395,445,1414,393,1,1417,394,395,393,1,1418,394,1418,395,445,1414,393,1,1414,1419,1414,463,1420,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1421,394,395,393,1,1422,1423,1422,463,1420,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1424,394,395,393,1,1425,394,1425,1420,393,1,1426,1427,1426,197,1428,198,194,194,195,194,1,1429,1430,1429,201,866,263,199,199,261,199,1,1431,200,201,199,1,1432,1433,1432,201,866,263,199,199,261,199,1,1434,394,395,393,1,438,439,438,440,395,440,440,441,393,442,1435,1435,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1436,1436,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1437,1437,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1438,1438,440,393,440,393,440,393,440,393,1,1439,1440,1439,440,395,440,440,441,393,1441,440,393,440,393,440,393,440,393,1,1442,1443,1442,395,445,1441,393,1,1444,394,395,393,1,1445,394,1445,395,445,1441,393,1,1446,1447,1446,463,1448,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1449,394,395,393,1,1450,1451,1450,463,1448,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1452,394,395,393,1,1453,394,1453,1454,393,1,1455,394,395,393,1,438,439,438,440,395,440,440,441,393,442,1456,1456,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1457,1457,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1458,1458,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1459,1459,440,393,440,393,440,393,440,393,1,1460,1461,1460,440,395,440,440,441,393,1462,440,393,440,393,440,393,440,393,1,1463,1464,1463,395,445,1462,393,1,1465,394,395,393,1,1466,394,1466,395,445,1462,393,1,1462,1467,1462,463,406,463,463,393,393,1468,1469,464,1468,1469,463,393,463,393,463,393,463,393,1,1470,394,395,393,1,1471,467,1471,463,406,463,463,393,393,1468,1469,464,1468,1469,463,393,463,393,463,393,463,393,1,470,471,470,463,395,463,463,441,393,1472,1472,463,393,463,393,463,393,463,393,1,470,471,470,463,395,463,463,441,393,1473,1473,463,393,463,393,463,393,463,393,1,470,471,470,463,395,463,463,441,393,1474,1474,463,393,463,393,463,393,463,393,1,470,471,470,463,395,463,463,441,393,1475,1475,463,393,463,393,463,393,463,393,1,1476,1477,1476,395,1478,393,1,470,471,470,463,395,463,463,441,393,1479,1479,463,393,463,393,463,393,463,393,1,470,471,470,463,395,463,463,441,393,1474,1474,463,393,463,393,463,393,463,393,1,1480,394,395,393,1,1481,200,201,199,1,900,901,900,902,201,902,902,903,199,904,1482,1482,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1483,1483,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1484,1484,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1485,1485,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1486,1486,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1487,1487,902,199,902,199,902,199,902,199,1,900,901,900,902,201,902,902,903,199,904,1488,1488,902,199,902,199,902,199,902,199,1,1489,1490,1489,902,201,902,902,903,199,1491,902,199,902,199,902,199,902,199,1,1492,1493,1492,201,907,1491,199,1,1494,200,201,199,1,1495,200,1495,201,907,1491,199,1,1491,1496,1491,1497,265,1497,1497,199,199,926,1497,199,1497,199,1497,199,1497,199,1,1498,200,201,199,1,1499,929,1499,1497,265,1497,1497,199,199,926,1497,199,1497,199,1497,199,1497,199,1,1500,1501,1500,1502,201,1502,1502,1503,199,1502,199,1502,199,1502,199,1502,199,1,1504,200,201,199,1,261,262,201,1506,263,199,199,261,1505,261,1505,261,1505,261,199,1,261,262,201,1508,263,1509,199,199,261,1507,261,1507,261,1507,261,199,1,261,262,201,1508,263,1509,199,199,261,1510,261,1510,261,1510,261,199,1,261,262,201,1508,263,1509,199,199,261,1511,261,1511,261,1511,261,199,1,261,262,201,1508,263,1509,199,199,261,199,1,261,262,201,1513,263,199,199,261,1512,261,1505,261,1505,261,199,1,261,262,201,1514,1508,263,1509,199,199,261,1515,261,1507,261,1507,261,199,1,261,262,201,263,199,199,261,1516,261,199,1,261,262,201,1517,263,199,199,261,1518,261,199,1,261,262,201,263,199,199,261,1519,261,199,1,261,262,201,1520,263,199,199,261,1521,261,199,1,261,262,201,263,199,199,261,1522,261,199,1,261,262,201,263,1509,199,199,261,1523,261,199,1,261,262,201,263,1509,199,199,261,1524,261,199,1,261,262,201,263,1509,199,199,261,199,1,897,898,897,201,883,263,199,199,261,199,1,261,262,201,1520,263,199,199,261,1525,261,199,1,261,262,201,1520,263,199,199,261,199,1,261,262,201,1517,263,199,199,261,1526,261,199,1,261,262,201,1517,263,199,199,261,199,1,261,262,201,1514,1508,263,1509,199,199,261,1527,261,1510,261,1510,261,199,1,261,262,201,1514,1508,263,1509,199,199,261,1511,261,1511,261,1511,261,199,1,261,262,201,1529,263,1509,199,199,261,1528,261,1528,261,1528,261,199,1,261,262,201,1531,263,1509,199,199,261,1530,261,1530,261,1530,261,199,1,261,262,201,1531,263,1509,199,199,261,1532,261,1532,261,1532,261,199,1,261,262,201,1531,263,1509,199,199,261,1533,261,1533,261,1533,261,199,1,261,262,201,1531,263,1509,199,199,261,199,1,261,262,201,263,199,199,261,1534,261,1528,261,1528,261,199,1,261,262,201,1514,1531,263,1509,199,199,261,1535,261,1530,261,1530,261,199,1,261,262,201,1514,1531,263,1509,199,199,261,1536,261,1532,261,1532,261,199,1,261,262,201,1514,1531,263,1509,199,199,261,1533,261,1533,261,1533,261,199,1,261,262,201,263,199,199,261,1537,261,199,1,261,262,201,1514,263,199,199,261,1538,261,199,1,261,262,201,1514,263,199,199,261,1539,261,199,1,261,262,201,1514,263,199,199,261,199,1,261,262,201,1513,263,199,199,261,199,1,1540,200,201,199,1,880,881,880,882,201,882,882,883,261,884,1541,263,1541,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1542,263,1542,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1543,263,1543,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1544,263,1544,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1545,263,1545,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1546,263,1546,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1547,263,1547,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1548,263,1548,882,199,199,261,882,261,882,261,882,261,199,1,1549,1550,1549,882,201,882,882,883,261,1551,263,882,199,199,261,882,261,882,261,882,261,199,1,1552,1553,1552,201,866,1551,263,199,199,261,199,1,1554,200,201,199,1,1555,262,1555,201,866,1551,263,199,199,261,199,1,1551,1556,1551,1557,265,1557,1557,261,261,891,263,1557,199,199,261,1557,261,1557,261,1557,261,199,1,1558,200,201,199,1,1559,894,1559,1557,265,1557,1557,261,261,891,263,1557,199,199,261,1557,261,1557,261,1557,261,199,1,1560,1561,1560,1562,201,1562,1562,1563,261,263,1562,199,199,261,1562,261,1562,261,1562,261,199,1,1564,200,201,199,1,880,881,880,882,201,882,882,883,261,884,1565,263,1565,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1566,263,1566,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1567,263,1567,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1568,263,1568,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1569,263,1569,882,199,199,261,882,261,882,261,882,261,199,1,1570,1571,1570,882,201,882,882,883,261,1572,263,882,199,199,261,882,261,882,261,882,261,199,1,1573,1574,1573,201,866,1572,263,199,199,261,199,1,1575,200,201,199,1,1576,262,1576,201,866,1572,263,199,199,261,199,1,1572,1577,1572,890,1339,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1578,200,201,199,1,1579,1580,1579,890,1339,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1581,200,201,199,1,1582,262,1582,1339,263,199,199,261,199,1,1583,200,201,199,1,880,881,880,882,201,882,882,883,261,884,1584,263,1584,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1585,263,1585,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1586,263,1586,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1587,263,1587,882,199,199,261,882,261,882,261,882,261,199,1,1588,1589,1588,882,201,882,882,883,261,1590,263,882,199,199,261,882,261,882,261,882,261,199,1,1591,1592,1591,201,866,1590,263,199,199,261,199,1,1593,200,201,199,1,1594,262,1594,201,866,1590,263,199,199,261,199,1,1595,1596,1595,890,952,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1597,200,201,199,1,1598,1599,1598,890,952,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1600,200,201,199,1,1601,262,1601,958,263,199,199,261,199,1,1602,200,201,199,1,880,881,880,882,201,882,882,883,261,884,1603,263,1603,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1604,263,1604,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1605,263,1605,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1606,263,1606,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1607,263,1607,882,199,199,261,882,261,882,261,882,261,199,1,1608,1609,1608,882,201,882,882,883,261,1610,263,882,199,199,261,882,261,882,261,882,261,199,1,1611,1612,1611,201,866,1610,263,199,199,261,199,1,1613,200,201,199,1,1614,262,1614,201,866,1610,263,199,199,261,199,1,1615,1616,1615,890,1009,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1617,200,201,199,1,1618,1619,1618,890,1009,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1620,200,201,199,1,1621,262,1621,1015,263,199,199,261,199,1,1622,200,201,199,1,880,881,880,882,201,882,882,883,261,884,1623,263,1623,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1624,263,1624,882,199,199,261,882,261,882,261,882,261,199,1,1625,1626,1625,882,201,882,882,883,261,1627,263,882,199,199,261,882,261,882,261,882,261,199,1,1628,1629,1628,201,866,1627,263,199,199,261,199,1,1630,200,201,199,1,1631,262,1631,201,866,1627,263,199,199,261,199,1,1627,1632,1627,890,201,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1633,200,201,199,1,1634,262,1634,890,201,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1635,200,201,199,1,880,881,880,882,201,882,882,883,261,884,1636,263,1636,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1637,263,1637,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1638,263,1638,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1639,263,1639,882,199,199,261,882,261,882,261,882,261,199,1,1640,1641,1640,882,201,882,882,883,261,1642,263,882,199,199,261,882,261,882,261,882,261,199,1,1643,1644,1643,201,866,1642,263,199,199,261,199,1,1645,200,201,199,1,1646,262,1646,201,866,1642,263,199,199,261,199,1,1647,1648,1647,890,1048,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1649,200,201,199,1,1650,1651,1650,890,1048,890,890,261,261,891,263,890,199,199,261,890,261,890,261,890,261,199,1,1652,200,201,199,1,1653,262,1653,1054,263,199,199,261,199,1,1654,200,201,199,1,880,881,880,882,201,882,882,883,261,884,1655,263,1655,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1656,263,1656,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1657,263,1657,882,199,199,261,882,261,882,261,882,261,199,1,880,881,880,882,201,882,882,883,261,884,1658,263,1658,882,199,199,261,882,261,882,261,882,261,199,1,1659,1660,1659,882,201,882,882,883,261,1661,263,882,199,199,261,882,261,882,261,882,261,199,1,1662,1663,1662,201,866,1661,263,199,199,261,199,1,1664,200,201,199,1,1665,262,1665,201,866,1661,263,199,199,261,199,1,1661,1666,1661,890,265,890,890,261,261,1667,1668,891,263,1667,1668,890,199,199,261,890,261,890,261,890,261,199,1,1669,200,201,199,1,1670,894,1670,890,265,890,890,261,261,1667,1668,891,263,1667,1668,890,199,199,261,890,261,890,261,890,261,199,1,897,898,897,890,201,890,890,883,261,1671,263,1671,890,199,199,261,890,261,890,261,890,261,199,1,897,898,897,890,201,890,890,883,261,1672,263,1672,890,199,199,261,890,261,890,261,890,261,199,1,897,898,897,890,201,890,890,883,261,1673,263,1673,890,199,199,261,890,261,890,261,890,261,199,1,897,898,897,890,201,890,890,883,261,1674,263,1674,890,199,199,261,890,261,890,261,890,261,199,1,1675,1676,1675,201,1677,263,199,199,261,199,1,897,898,897,890,201,890,890,883,261,1678,263,1678,890,199,199,261,890,261,890,261,890,261,199,1,897,898,897,890,201,890,890,883,261,1673,263,1673,890,199,199,261,890,261,890,261,890,261,199,1,1679,200,201,199,1,1680,26,21,1,689,690,689,691,171,691,691,692,169,693,1681,172,1681,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,1682,172,1682,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,1683,172,1683,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,1684,172,1684,691,21,21,169,691,169,691,169,691,169,21,1,1685,1686,1685,691,171,691,691,692,169,1687,172,691,21,21,169,691,169,691,169,691,169,21,1,1688,1689,1688,171,675,1687,172,21,21,169,21,1,1690,26,21,1,1691,170,1691,171,675,1687,172,21,21,169,21,1,1692,1693,1692,699,1694,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,1695,26,21,1,1696,1697,1696,699,1694,699,699,169,169,701,172,699,21,21,169,699,169,699,169,699,169,21,1,1698,26,21,1,1699,170,1699,1700,172,21,21,169,21,1,1701,1702,1701,229,1703,230,21,21,227,21,1,1704,26,21,1,689,690,689,691,171,691,691,692,169,693,1705,172,1705,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,1706,172,1706,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,1707,172,1707,691,21,21,169,691,169,691,169,691,169,21,1,689,690,689,691,171,691,691,692,169,693,1708,172,1708,691,21,21,169,691,169,691,169,691,169,21,1,1709,1710,1709,691,171,691,691,692,169,1711,172,691,21,21,169,691,169,691,169,691,169,21,1,1712,1713,1712,171,675,1711,172,21,21,169,21,1,1714,26,21,1,1715,170,1715,171,675,1711,172,21,21,169,21,1,1711,1716,1711,699,700,699,699,169,169,1717,1718,701,172,1717,1718,699,21,21,169,699,169,699,169,699,169,21,1,1719,26,21,1,1720,704,1720,699,700,699,699,169,169,1717,1718,701,172,1717,1718,699,21,21,169,699,169,699,169,699,169,21,1,710,711,710,699,171,699,699,692,169,1721,172,1721,699,21,21,169,699,169,699,169,699,169,21,1,710,711,710,699,171,699,699,692,169,1722,172,1722,699,21,21,169,699,169,699,169,699,169,21,1,710,711,710,699,171,699,699,692,169,1723,172,1723,699,21,21,169,699,169,699,169,699,169,21,1,710,711,710,699,171,699,699,692,169,1724,172,1724,699,21,21,169,699,169,699,169,699,169,21,1,1725,1726,1725,171,1727,172,21,21,169,21,1,710,711,710,699,171,699,699,692,169,1728,172,1728,699,21,21,169,699,169,699,169,699,169,21,1,710,711,710,699,171,699,699,692,169,1723,172,1723,699,21,21,169,699,169,699,169,699,169,21,1,1729,26,21,1,1730,26,21,1,516,517,516,518,108,518,518,519,106,520,1731,109,1731,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,1732,109,1732,518,21,21,106,518,106,518,106,518,106,21,1,1733,1734,1733,518,108,518,518,519,106,1735,109,518,21,21,106,518,106,518,106,518,106,21,1,1736,1737,1736,108,499,1735,109,21,21,106,21,1,1738,26,21,1,1739,107,1739,108,499,1735,109,21,21,106,21,1,1735,1740,1735,526,1741,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,1742,26,21,1,1743,1744,1743,526,1741,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,1745,26,21,1,1746,107,1746,1741,109,21,21,106,21,1,1747,1748,1747,197,1749,198,194,194,195,194,1,1750,26,21,1,516,517,516,518,108,518,518,519,106,520,1751,109,1751,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,1752,109,1752,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,1753,109,1753,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,1754,109,1754,518,21,21,106,518,106,518,106,518,106,21,1,1755,1756,1755,518,108,518,518,519,106,1757,109,518,21,21,106,518,106,518,106,518,106,21,1,1758,1759,1758,108,499,1757,109,21,21,106,21,1,1760,26,21,1,1761,107,1761,108,499,1757,109,21,21,106,21,1,1762,1763,1762,526,1764,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,1765,26,21,1,1766,1767,1766,526,1764,526,526,106,106,528,109,526,21,21,106,526,106,526,106,526,106,21,1,1768,26,21,1,1769,107,1769,1770,109,21,21,106,21,1,1771,1772,1771,229,1773,230,21,21,227,21,1,1774,26,21,1,516,517,516,518,108,518,518,519,106,520,1775,109,1775,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,1776,109,1776,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,1777,109,1777,518,21,21,106,518,106,518,106,518,106,21,1,516,517,516,518,108,518,518,519,106,520,1778,109,1778,518,21,21,106,518,106,518,106,518,106,21,1,1779,1780,1779,518,108,518,518,519,106,1781,109,518,21,21,106,518,106,518,106,518,106,21,1,1782,1783,1782,108,499,1781,109,21,21,106,21,1,1784,26,21,1,1785,107,1785,108,499,1781,109,21,21,106,21,1,1781,1786,1781,526,527,526,526,106,106,1787,1788,528,109,1787,1788,526,21,21,106,526,106,526,106,526,106,21,1,1789,26,21,1,1790,531,1790,526,527,526,526,106,106,1787,1788,528,109,1787,1788,526,21,21,106,526,106,526,106,526,106,21,1,537,538,537,526,108,526,526,519,106,1791,109,1791,526,21,21,106,526,106,526,106,526,106,21,1,537,538,537,526,108,526,526,519,106,1792,109,1792,526,21,21,106,526,106,526,106,526,106,21,1,537,538,537,526,108,526,526,519,106,1793,109,1793,526,21,21,106,526,106,526,106,526,106,21,1,537,538,537,526,108,526,526,519,106,1794,109,1794,526,21,21,106,526,106,526,106,526,106,21,1,1795,1796,1795,108,1797,109,21,21,106,21,1,537,538,537,526,108,526,526,519,106,1798,109,1798,526,21,21,106,526,106,526,106,526,106,21,1,537,538,537,526,108,526,526,519,106,1793,109,1793,526,21,21,106,526,106,526,106,526,106,21,1,1799,26,21,1,1800,394,395,393,1,438,439,438,440,395,440,440,441,393,442,1801,1801,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1802,1802,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1803,1803,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1804,1804,440,393,440,393,440,393,440,393,1,1805,1806,1805,440,395,440,440,441,393,1807,440,393,440,393,440,393,440,393,1,1808,1809,1808,395,445,1807,393,1,1810,394,395,393,1,1811,394,1811,395,445,1807,393,1,1807,1812,1807,463,395,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1813,394,395,393,1,1814,394,1814,463,395,463,463,393,393,464,463,393,463,393,463,393,463,393,1,1815,394,395,393,1,438,439,438,440,395,440,440,441,393,442,1816,1816,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1817,1817,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1818,1818,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1819,1819,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1820,1820,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1821,1821,440,393,440,393,440,393,440,393,1,438,439,438,440,395,440,440,441,393,442,1822,1822,440,393,440,393,440,393,440,393,1,1823,1824,1823,440,395,440,440,441,393,1825,440,393,440,393,440,393,440,393,1,1826,1827,1826,395,445,1825,393,1,1828,394,395,393,1,1829,394,1829,395,445,1825,393,1,1825,1830,1825,1831,406,1831,1831,393,393,464,1831,393,1831,393,1831,393,1831,393,1,1832,394,395,393,1,1833,467,1833,1831,406,1831,1831,393,393,464,1831,393,1831,393,1831,393,1831,393,1,1834,1835,1834,1836,395,1836,1836,1837,393,1836,393,1836,393,1836,393,1836,393,1,1838,394,395,393,1,399,404,395,1840,401,393,393,399,1839,399,1839,399,1839,399,393,1,399,404,395,1842,401,1843,393,393,399,1841,399,1841,399,1841,399,393,1,399,404,395,1842,401,1843,393,393,399,1844,399,1844,399,1844,399,393,1,399,404,395,1842,401,1843,393,393,399,1845,399,1845,399,1845,399,393,1,399,404,395,1842,401,1843,393,393,399,393,1,399,404,395,1847,401,393,393,399,1846,399,1839,399,1839,399,393,1,399,404,395,1848,1842,401,1843,393,393,399,1849,399,1841,399,1841,399,393,1,399,404,395,401,393,393,399,1850,399,393,1,399,404,395,1851,401,393,393,399,1852,399,393,1,399,404,395,401,393,393,399,1853,399,393,1,399,404,395,1854,401,393,393,399,1855,399,393,1,399,404,395,401,393,393,399,1856,399,393,1,399,404,395,401,1843,393,393,399,1857,399,393,1,399,404,395,401,1843,393,393,399,1858,399,393,1,399,404,395,401,1843,393,393,399,393,1,435,436,435,395,421,401,393,393,399,393,1,399,404,395,1854,401,393,393,399,1859,399,393,1,399,404,395,1854,401,393,393,399,393,1,399,404,395,1851,401,393,393,399,1860,399,393,1,399,404,395,1851,401,393,393,399,393,1,399,404,395,1848,1842,401,1843,393,393,399,1861,399,1844,399,1844,399,393,1,399,404,395,1848,1842,401,1843,393,393,399,1845,399,1845,399,1845,399,393,1,399,404,395,1863,401,1843,393,393,399,1862,399,1862,399,1862,399,393,1,399,404,395,1865,401,1843,393,393,399,1864,399,1864,399,1864,399,393,1,399,404,395,1865,401,1843,393,393,399,1866,399,1866,399,1866,399,393,1,399,404,395,1865,401,1843,393,393,399,1867,399,1867,399,1867,399,393,1,399,404,395,1865,401,1843,393,393,399,393,1,399,404,395,401,393,393,399,1868,399,1862,399,1862,399,393,1,399,404,395,1848,1865,401,1843,393,393,399,1869,399,1864,399,1864,399,393,1,399,404,395,1848,1865,401,1843,393,393,399,1870,399,1866,399,1866,399,393,1,399,404,395,1848,1865,401,1843,393,393,399,1867,399,1867,399,1867,399,393,1,399,404,395,401,393,393,399,1871,399,393,1,399,404,395,1848,401,393,393,399,1872,399,393,1,399,404,395,1848,401,393,393,399,1873,399,393,1,399,404,395,1848,401,393,393,399,393,1,399,404,395,1847,401,393,393,399,393,1,1874,394,395,393,1,418,419,418,420,395,420,420,421,399,422,1875,401,1875,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1876,401,1876,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1877,401,1877,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1878,401,1878,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1879,401,1879,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1880,401,1880,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1881,401,1881,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1882,401,1882,420,393,393,399,420,399,420,399,420,399,393,1,1883,1884,1883,420,395,420,420,421,399,1885,401,420,393,393,399,420,399,420,399,420,399,393,1,1886,1887,1886,395,400,1885,401,393,393,399,393,1,1888,394,395,393,1,1889,404,1889,395,400,1885,401,393,393,399,393,1,1885,1890,1885,1891,406,1891,1891,399,399,429,401,1891,393,393,399,1891,399,1891,399,1891,399,393,1,1892,394,395,393,1,1893,432,1893,1891,406,1891,1891,399,399,429,401,1891,393,393,399,1891,399,1891,399,1891,399,393,1,1894,1895,1894,1896,395,1896,1896,1897,399,401,1896,393,393,399,1896,399,1896,399,1896,399,393,1,1898,394,395,393,1,418,419,418,420,395,420,420,421,399,422,1899,401,1899,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1900,401,1900,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1901,401,1901,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1902,401,1902,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1903,401,1903,420,393,393,399,420,399,420,399,420,399,393,1,1904,1905,1904,420,395,420,420,421,399,1906,401,420,393,393,399,420,399,420,399,420,399,393,1,1907,1908,1907,395,400,1906,401,393,393,399,393,1,1909,394,395,393,1,1910,404,1910,395,400,1906,401,393,393,399,393,1,1906,1911,1906,428,395,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1912,394,395,393,1,1913,404,1913,428,395,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1914,394,395,393,1,418,419,418,420,395,420,420,421,399,422,1915,401,1915,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1916,401,1916,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1917,401,1917,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1918,401,1918,420,393,393,399,420,399,420,399,420,399,393,1,1919,1920,1919,420,395,420,420,421,399,1921,401,420,393,393,399,420,399,420,399,420,399,393,1,1922,1923,1922,395,400,1921,401,393,393,399,393,1,1924,394,395,393,1,1925,404,1925,395,400,1921,401,393,393,399,393,1,1926,1927,1926,428,490,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1928,394,395,393,1,1929,1930,1929,428,490,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1931,394,395,393,1,1932,404,1932,496,401,393,393,399,393,1,1933,394,395,393,1,418,419,418,420,395,420,420,421,399,422,1934,401,1934,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1935,401,1935,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1936,401,1936,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1937,401,1937,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1938,401,1938,420,393,393,399,420,399,420,399,420,399,393,1,1939,1940,1939,420,395,420,420,421,399,1941,401,420,393,393,399,420,399,420,399,420,399,393,1,1942,1943,1942,395,400,1941,401,393,393,399,393,1,1944,394,395,393,1,1945,404,1945,395,400,1941,401,393,393,399,393,1,1946,1947,1946,428,1367,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1948,394,395,393,1,1949,1950,1949,428,1367,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1951,394,395,393,1,1952,404,1952,1373,401,393,393,399,393,1,1953,394,395,393,1,418,419,418,420,395,420,420,421,399,422,1954,401,1954,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1955,401,1955,420,393,393,399,420,399,420,399,420,399,393,1,1956,1957,1956,420,395,420,420,421,399,1958,401,420,393,393,399,420,399,420,399,420,399,393,1,1959,1960,1959,395,400,1958,401,393,393,399,393,1,1961,394,395,393,1,1962,404,1962,395,400,1958,401,393,393,399,393,1,1958,1963,1958,428,1420,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1964,394,395,393,1,1965,1966,1965,428,1420,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1967,394,395,393,1,1968,404,1968,1420,401,393,393,399,393,1,1969,394,395,393,1,418,419,418,420,395,420,420,421,399,422,1970,401,1970,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1971,401,1971,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1972,401,1972,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1973,401,1973,420,393,393,399,420,399,420,399,420,399,393,1,1974,1975,1974,420,395,420,420,421,399,1976,401,420,393,393,399,420,399,420,399,420,399,393,1,1977,1978,1977,395,400,1976,401,393,393,399,393,1,1979,394,395,393,1,1980,404,1980,395,400,1976,401,393,393,399,393,1,1981,1982,1981,428,1448,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1983,394,395,393,1,1984,1985,1984,428,1448,428,428,399,399,429,401,428,393,393,399,428,399,428,399,428,399,393,1,1986,394,395,393,1,1987,404,1987,1454,401,393,393,399,393,1,1988,394,395,393,1,418,419,418,420,395,420,420,421,399,422,1989,401,1989,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1990,401,1990,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1991,401,1991,420,393,393,399,420,399,420,399,420,399,393,1,418,419,418,420,395,420,420,421,399,422,1992,401,1992,420,393,393,399,420,399,420,399,420,399,393,1,1993,1994,1993,420,395,420,420,421,399,1995,401,420,393,393,399,420,399,420,399,420,399,393,1,1996,1997,1996,395,400,1995,401,393,393,399,393,1,1998,394,395,393,1,1999,404,1999,395,400,1995,401,393,393,399,393,1,1995,2e3,1995,428,406,428,428,399,399,2001,2002,429,401,2001,2002,428,393,393,399,428,399,428,399,428,399,393,1,2003,394,395,393,1,2004,432,2004,428,406,428,428,399,399,2001,2002,429,401,2001,2002,428,393,393,399,428,399,428,399,428,399,393,1,435,436,435,428,395,428,428,421,399,2005,401,2005,428,393,393,399,428,399,428,399,428,399,393,1,435,436,435,428,395,428,428,421,399,2006,401,2006,428,393,393,399,428,399,428,399,428,399,393,1,435,436,435,428,395,428,428,421,399,2007,401,2007,428,393,393,399,428,399,428,399,428,399,393,1,435,436,435,428,395,428,428,421,399,2008,401,2008,428,393,393,399,428,399,428,399,428,399,393,1,2009,2010,2009,395,2011,401,393,393,399,393,1,435,436,435,428,395,428,428,421,399,2012,401,2012,428,393,393,399,428,399,428,399,428,399,393,1,435,436,435,428,395,428,428,421,399,2007,401,2007,428,393,393,399,428,399,428,399,428,399,393,1,2013,394,395,393,1,2014,26,21,1,285,286,285,287,77,287,287,288,69,289,2015,78,2015,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2016,78,2016,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2017,78,2017,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2018,78,2018,287,21,21,69,287,69,287,69,287,69,21,1,2019,2020,2019,287,77,287,287,288,69,2021,78,287,21,21,69,287,69,287,69,287,69,21,1,2022,2023,2022,77,268,2021,78,21,21,69,21,1,2024,26,21,1,2025,76,2025,77,268,2021,78,21,21,69,21,1,2026,2027,2026,295,2028,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2029,26,21,1,2030,2031,2030,295,2028,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2032,26,21,1,2033,76,2033,546,78,21,21,69,21,1,2034,26,21,1,285,286,285,287,77,287,287,288,69,289,2035,78,2035,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2036,78,2036,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2037,78,2037,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2038,78,2038,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2039,78,2039,287,21,21,69,287,69,287,69,287,69,21,1,2040,2041,2040,287,77,287,287,288,69,2042,78,287,21,21,69,287,69,287,69,287,69,21,1,2043,2044,2043,77,268,2042,78,21,21,69,21,1,2045,26,21,1,2046,76,2046,77,268,2042,78,21,21,69,21,1,2047,2048,2047,295,2049,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2050,26,21,1,2051,2052,2051,295,2049,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2053,26,21,1,2054,76,2054,717,78,21,21,69,21,1,2055,26,21,1,285,286,285,287,77,287,287,288,69,289,2056,78,2056,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2057,78,2057,287,21,21,69,287,69,287,69,287,69,21,1,2058,2059,2058,287,77,287,287,288,69,2060,78,287,21,21,69,287,69,287,69,287,69,21,1,2061,2062,2061,77,268,2060,78,21,21,69,21,1,2063,26,21,1,2064,76,2064,77,268,2060,78,21,21,69,21,1,2060,2065,2060,295,2066,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2067,26,21,1,2068,2069,2068,295,2066,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2070,26,21,1,2071,76,2071,2066,78,21,21,69,21,1,2072,2073,2072,197,2074,198,194,194,195,194,1,2075,26,21,1,285,286,285,287,77,287,287,288,69,289,2076,78,2076,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2077,78,2077,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2078,78,2078,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2079,78,2079,287,21,21,69,287,69,287,69,287,69,21,1,2080,2081,2080,287,77,287,287,288,69,2082,78,287,21,21,69,287,69,287,69,287,69,21,1,2083,2084,2083,77,268,2082,78,21,21,69,21,1,2085,26,21,1,2086,76,2086,77,268,2082,78,21,21,69,21,1,2087,2088,2087,295,2089,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2090,26,21,1,2091,2092,2091,295,2089,295,295,69,69,297,78,295,21,21,69,295,69,295,69,295,69,21,1,2093,26,21,1,2094,76,2094,1104,78,21,21,69,21,1,2095,26,21,1,285,286,285,287,77,287,287,288,69,289,2096,78,2096,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2097,78,2097,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2098,78,2098,287,21,21,69,287,69,287,69,287,69,21,1,285,286,285,287,77,287,287,288,69,289,2099,78,2099,287,21,21,69,287,69,287,69,287,69,21,1,2100,2101,2100,287,77,287,287,288,69,2102,78,287,21,21,69,287,69,287,69,287,69,21,1,2103,2104,2103,77,268,2102,78,21,21,69,21,1,2105,26,21,1,2106,76,2106,77,268,2102,78,21,21,69,21,1,2102,2107,2102,295,296,295,295,69,69,2108,2109,297,78,2108,2109,295,21,21,69,295,69,295,69,295,69,21,1,2110,26,21,1,2111,300,2111,295,296,295,295,69,69,2108,2109,297,78,2108,2109,295,21,21,69,295,69,295,69,295,69,21,1,303,304,303,295,77,295,295,288,69,2112,78,2112,295,21,21,69,295,69,295,69,295,69,21,1,303,304,303,295,77,295,295,288,69,2113,78,2113,295,21,21,69,295,69,295,69,295,69,21,1,303,304,303,295,77,295,295,288,69,2114,78,2114,295,21,21,69,295,69,295,69,295,69,21,1,303,304,303,295,77,295,295,288,69,2115,78,2115,295,21,21,69,295,69,295,69,295,69,21,1,2116,2117,2116,77,2118,78,21,21,69,21,1,303,304,303,295,77,295,295,288,69,2119,78,2119,295,21,21,69,295,69,295,69,295,69,21,1,303,304,303,295,77,295,295,288,69,2114,78,2114,295,21,21,69,295,69,295,69,295,69,21,1,2120,26,21,1,2121,26,21,1,49,50,49,51,51,51,52,21,53,2122,2122,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2123,2123,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2124,2124,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2125,2125,51,21,51,21,51,21,51,21,1,2126,2127,2126,51,51,51,52,21,2128,51,21,51,21,51,21,51,21,1,2129,2130,2129,56,2128,21,1,2131,26,21,1,2132,26,2132,56,2128,21,1,2128,2133,2128,68,2134,68,68,21,21,70,68,21,68,21,68,21,68,21,1,2135,26,21,1,2136,2137,2136,68,2134,68,68,21,21,70,68,21,68,21,68,21,68,21,1,2138,26,21,1,2139,26,2139,2134,21,1,389,2140,390,392,386,386,389,386,1,2141,26,21,1,49,50,49,51,51,51,52,21,53,2142,2142,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2143,2143,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2144,2144,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2145,2145,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2146,2146,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2147,2147,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2148,2148,51,21,51,21,51,21,51,21,1,2149,2150,2149,51,51,51,52,21,2151,51,21,51,21,51,21,51,21,1,2152,2153,2152,56,2151,21,1,2154,26,21,1,2155,26,2155,56,2151,21,1,2151,2156,2151,2157,69,2157,2157,21,21,70,2157,21,2157,21,2157,21,2157,21,1,2158,26,21,1,2159,73,2159,2157,69,2157,2157,21,21,70,2157,21,2157,21,2157,21,2157,21,1,2160,2161,2160,2162,2162,2162,2163,21,2162,21,2162,21,2162,21,2162,21,1,2164,26,21,1,49,50,49,51,51,51,52,21,53,2165,2165,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2166,2166,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2167,2167,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2168,2168,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2169,2169,51,21,51,21,51,21,51,21,1,2170,2171,2170,51,51,51,52,21,2172,51,21,51,21,51,21,51,21,1,2173,2174,2173,56,2172,21,1,2175,26,21,1,2176,26,2176,56,2172,21,1,2172,2177,2172,68,2178,68,68,21,21,70,68,21,68,21,68,21,68,21,1,2179,26,21,1,2180,2181,2180,68,2178,68,68,21,21,70,68,21,68,21,68,21,68,21,1,2182,26,21,1,2183,26,2183,2178,21,1,2184,2185,390,2186,386,386,2184,386,1,2187,2188,395,2189,393,393,2187,393,1,2190,394,395,393,1,393,394,2191,2187,393,1,2192,2193,2192,77,2194,78,21,21,69,21,1,2195,26,21,1,2196,2197,2196,77,2194,78,21,21,69,21,1,2198,26,21,1,2199,76,2199,77,2194,78,21,21,69,21,1,2194,2200,2194,2201,77,2201,2201,69,69,2202,2203,2204,2205,2206,2207,2208,78,2202,2203,2204,2205,2206,2207,2208,2201,21,21,69,2201,69,2201,69,2201,69,21,1,2209,26,21,1,2210,76,2210,2201,77,2201,2201,69,69,2202,2203,2204,2205,2206,2207,2208,78,2202,2203,2204,2205,2206,2207,2208,2201,21,21,69,2201,69,2201,69,2201,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2216,2217,2216,77,2194,2215,78,21,21,69,21,1,2218,26,21,1,2219,76,2219,77,2194,2215,78,21,21,69,21,1,2215,2220,2215,2221,296,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2223,26,21,1,2224,300,2224,2221,296,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2225,2226,2225,2221,77,2221,2221,2214,69,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2227,2228,2227,77,2194,78,21,21,69,21,1,2229,26,21,1,69,76,77,2231,78,21,21,69,2230,69,2230,69,2230,69,21,1,69,76,77,2233,78,2234,21,21,69,2232,69,2232,69,2232,69,21,1,69,76,77,2233,78,2234,21,21,69,2235,69,2235,69,2235,69,21,1,69,76,77,2233,78,2234,21,21,69,2236,69,2236,69,2236,69,21,1,69,76,77,2233,78,2234,21,21,69,21,1,69,76,77,2238,78,21,21,69,2237,69,2230,69,2230,69,21,1,69,76,77,2239,2233,78,2234,21,21,69,2240,69,2232,69,2232,69,21,1,69,76,77,78,21,21,69,2241,69,21,1,69,76,77,2242,78,21,21,69,2243,69,21,1,69,76,77,78,21,21,69,2244,69,21,1,69,76,77,2245,78,21,21,69,2246,69,21,1,69,76,77,78,21,21,69,2247,69,21,1,69,76,77,78,2234,21,21,69,2248,69,21,1,69,76,77,78,2234,21,21,69,2249,69,21,1,69,76,77,78,2234,21,21,69,21,1,2225,2226,2225,77,2214,78,21,21,69,21,1,69,76,77,2245,78,21,21,69,2250,69,21,1,69,76,77,2245,78,21,21,69,21,1,69,76,77,2242,78,21,21,69,2251,69,21,1,69,76,77,2242,78,21,21,69,21,1,69,76,77,2239,2233,78,2234,21,21,69,2252,69,2235,69,2235,69,21,1,69,76,77,2239,2233,78,2234,21,21,69,2236,69,2236,69,2236,69,21,1,69,76,77,2254,78,2234,21,21,69,2253,69,2253,69,2253,69,21,1,69,76,77,2256,78,2234,21,21,69,2255,69,2255,69,2255,69,21,1,69,76,77,2256,78,2234,21,21,69,2257,69,2257,69,2257,69,21,1,69,76,77,2256,78,2234,21,21,69,2258,69,2258,69,2258,69,21,1,69,76,77,2256,78,2234,21,21,69,21,1,69,76,77,78,21,21,69,2259,69,2253,69,2253,69,21,1,69,76,77,2239,2256,78,2234,21,21,69,2260,69,2255,69,2255,69,21,1,69,76,77,2239,2256,78,2234,21,21,69,2261,69,2257,69,2257,69,21,1,69,76,77,2239,2256,78,2234,21,21,69,2258,69,2258,69,2258,69,21,1,69,76,77,78,21,21,69,2262,69,21,1,69,76,77,2239,78,21,21,69,2263,69,21,1,69,76,77,2239,78,21,21,69,2264,69,21,1,69,76,77,2239,78,21,21,69,21,1,69,76,77,2238,78,21,21,69,21,1,2265,26,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2266,78,2266,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2267,78,2267,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2268,78,2268,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2269,78,2269,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2270,78,2270,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2271,78,2271,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2272,78,2272,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2273,78,2273,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2274,2275,2274,2213,77,2213,2213,2214,69,2276,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2277,2278,2277,77,2194,2276,78,21,21,69,21,1,2279,26,21,1,2280,76,2280,77,2194,2276,78,21,21,69,21,1,2276,2281,2276,2282,296,2282,2282,69,69,2222,78,2282,21,21,69,2282,69,2282,69,2282,69,21,1,2283,26,21,1,2284,300,2284,2282,296,2282,2282,69,69,2222,78,2282,21,21,69,2282,69,2282,69,2282,69,21,1,2285,2286,2285,2287,77,2287,2287,2288,69,78,2287,21,21,69,2287,69,2287,69,2287,69,21,1,2289,26,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2290,78,2290,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2291,78,2291,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2292,78,2292,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2293,78,2293,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2294,78,2294,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2295,2296,2295,2213,77,2213,2213,2214,69,2297,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2298,2299,2298,77,2194,2297,78,21,21,69,21,1,2300,26,21,1,2301,76,2301,77,2194,2297,78,21,21,69,21,1,2297,2302,2297,2221,2303,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2304,26,21,1,2305,2306,2305,2221,2303,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2307,26,21,1,2308,76,2308,2303,78,21,21,69,21,1,2309,2310,2309,390,2311,392,386,386,389,386,1,2312,26,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2313,78,2313,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2314,78,2314,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2315,78,2315,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2316,78,2316,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2317,2318,2317,2213,77,2213,2213,2214,69,2319,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2320,2321,2320,77,2194,2319,78,21,21,69,21,1,2322,26,21,1,2323,76,2323,77,2194,2319,78,21,21,69,21,1,2324,2325,2324,2221,2028,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2326,26,21,1,2327,2031,2327,2221,2028,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2328,26,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2329,78,2329,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2330,78,2330,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2331,78,2331,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2332,78,2332,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2333,78,2333,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2334,2335,2334,2213,77,2213,2213,2214,69,2336,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2337,2338,2337,77,2194,2336,78,21,21,69,21,1,2339,26,21,1,2340,76,2340,77,2194,2336,78,21,21,69,21,1,2341,2342,2341,2221,2049,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2343,26,21,1,2344,2052,2344,2221,2049,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2345,26,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2346,78,2346,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2347,78,2347,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2348,2349,2348,2213,77,2213,2213,2214,69,2350,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2351,2352,2351,77,2194,2350,78,21,21,69,21,1,2353,26,21,1,2354,76,2354,77,2194,2350,78,21,21,69,21,1,2350,2355,2350,2221,2356,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2357,26,21,1,2358,2359,2358,2221,2356,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2360,26,21,1,2361,76,2361,2356,78,21,21,69,21,1,2362,2363,2362,197,2364,198,194,194,195,194,1,2365,26,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2366,78,2366,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2367,78,2367,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2368,78,2368,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2369,78,2369,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2370,2371,2370,2213,77,2213,2213,2214,69,2372,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2373,2374,2373,77,2194,2372,78,21,21,69,21,1,2375,26,21,1,2376,76,2376,77,2194,2372,78,21,21,69,21,1,2377,2378,2377,2221,2089,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2379,26,21,1,2380,2092,2380,2221,2089,2221,2221,69,69,2222,78,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2381,26,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2382,78,2382,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2383,78,2383,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2384,78,2384,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2211,2212,2211,2213,77,2213,2213,2214,69,2215,2385,78,2385,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2386,2387,2386,2213,77,2213,2213,2214,69,2388,78,2213,21,21,69,2213,69,2213,69,2213,69,21,1,2389,2390,2389,77,2194,2388,78,21,21,69,21,1,2391,26,21,1,2392,76,2392,77,2194,2388,78,21,21,69,21,1,2388,2393,2388,2221,296,2221,2221,69,69,2394,2395,2222,78,2394,2395,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2396,26,21,1,2397,300,2397,2221,296,2221,2221,69,69,2394,2395,2222,78,2394,2395,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2225,2226,2225,2221,77,2221,2221,2214,69,2398,78,2398,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2225,2226,2225,2221,77,2221,2221,2214,69,2399,78,2399,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2225,2226,2225,2221,77,2221,2221,2214,69,2400,78,2400,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2225,2226,2225,2221,77,2221,2221,2214,69,2401,78,2401,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2402,2403,2402,77,2404,78,21,21,69,21,1,2225,2226,2225,2221,77,2221,2221,2214,69,2405,78,2405,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2225,2226,2225,2221,77,2221,2221,2214,69,2400,78,2400,2221,21,21,69,2221,69,2221,69,2221,69,21,1,2406,26,21,1,2407,26,21,1,49,50,49,51,51,51,52,21,53,2408,2408,51,21,51,21,51,21,51,21,1,49,50,49,51,51,51,52,21,53,2409,2409,51,21,51,21,51,21,51,21,1,2410,2411,2410,51,51,51,52,21,2412,51,21,51,21,51,21,51,21,1,2413,2414,2413,56,2412,21,1,2415,26,21,1,2416,26,2416,56,2412,21,1,2412,2417,2412,68,2418,68,68,21,21,70,68,21,68,21,68,21,68,21,1,2419,26,21,1,2420,2421,2420,68,2418,68,68,21,21,70,68,21,68,21,68,21,68,21,1,2422,26,21,1,2423,26,2423,2418,21,1,2424,2425,197,2426,194,194,2424,194,1,2427,2428,201,2429,199,199,2427,199,1,2430,200,201,199,1,199,200,2431,2427,199,1,2432,26,21,1,26,2433,2433,21,1,26,2434,2434,21,1,26,2435,2435,21,1,26,2436,2436,21,1,26,2437,2437,21,1,2438,2439,2438,21,1,2440,26,21,1,30,26,30,21,1,2441,2441,1,6,6,1,26,21,1,30,26,30,21,1,48,26,48,21,1,58,26,58,21,1,63,26,63,21,1,58,26,58,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,72,26,72,21,1,75,26,75,21,1,69,26,69,21,1,85,26,85,21,1,85,26,85,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,97,26,97,21,1,2442,26,2442,21,1,105,26,105,21,1,106,26,106,21,1,97,26,97,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,160,26,160,21,1,2443,26,2443,21,1,168,26,168,21,1,169,26,169,21,1,160,26,160,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,186,26,186,21,1,190,26,190,21,1,193,26,193,21,1,200,201,199,1,206,26,206,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,218,26,218,21,1,2444,26,2444,21,1,226,26,226,21,1,227,26,227,21,1,218,26,218,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,246,26,246,21,1,251,26,251,21,1,246,26,246,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,261,200,261,201,199,1,270,26,270,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,273,26,273,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,284,26,284,21,1,293,26,293,21,1,299,26,299,21,1,302,26,302,21,1,273,26,273,21,1,293,26,293,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,357,26,357,21,1,361,26,361,21,1,357,26,357,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,378,26,378,21,1,382,26,382,21,1,385,26,385,21,1,394,395,393,1,403,394,403,395,393,1,399,394,399,395,393,1,417,394,417,395,393,1,426,394,426,395,393,1,431,394,431,395,393,1,434,394,434,395,393,1,403,394,403,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,447,394,447,395,393,1,458,394,458,395,393,1,447,394,447,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,466,394,466,395,393,1,469,394,469,395,393,1,475,394,475,395,393,1,475,394,475,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,487,394,487,395,393,1,2445,394,2445,395,393,1,495,394,495,395,393,1,501,26,501,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,504,26,504,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,515,26,515,21,1,524,26,524,21,1,530,26,530,21,1,533,26,533,21,1,504,26,504,21,1,524,26,524,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,592,26,592,21,1,596,26,596,21,1,592,26,592,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,613,26,613,21,1,617,26,617,21,1,620,26,620,21,1,613,26,613,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,635,26,635,21,1,2446,26,2446,21,1,643,26,643,21,1,635,26,635,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,660,26,660,21,1,2447,26,2447,21,1,668,26,668,21,1,677,26,677,21,1,688,26,688,21,1,697,26,697,21,1,703,26,703,21,1,706,26,706,21,1,677,26,677,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,697,26,697,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,763,26,763,21,1,767,26,767,21,1,763,26,763,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,784,26,784,21,1,788,26,788,21,1,791,26,791,21,1,784,26,784,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,806,26,806,21,1,2448,26,2448,21,1,814,26,814,21,1,806,26,806,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,831,26,831,21,1,2449,26,2449,21,1,839,26,839,21,1,831,26,831,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,853,26,853,21,1,857,26,857,21,1,860,26,860,21,1,868,200,868,201,199,1,879,200,879,201,199,1,888,200,888,201,199,1,893,200,893,201,199,1,896,200,896,201,199,1,868,200,868,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,909,200,909,201,199,1,920,200,920,201,199,1,909,200,909,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,928,200,928,201,199,1,931,200,931,201,199,1,937,200,937,201,199,1,937,200,937,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,949,200,949,201,199,1,2450,200,2450,201,199,1,957,200,957,201,199,1,949,200,949,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1006,200,1006,201,199,1,2451,200,2451,201,199,1,1014,200,1014,201,199,1,1019,26,1019,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1006,200,1006,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1030,200,1030,201,199,1,1033,200,1033,201,199,1,1030,200,1030,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1045,200,1045,201,199,1,2452,200,2452,201,199,1,1053,200,1053,201,199,1,1059,26,1059,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1062,26,1062,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1073,26,1073,21,1,1082,26,1082,21,1,1088,26,1088,21,1,1091,26,1091,21,1,1062,26,1062,21,1,1082,26,1082,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1150,26,1150,21,1,1154,26,1154,21,1,1150,26,1150,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1171,26,1171,21,1,1175,26,1175,21,1,1178,26,1178,21,1,1171,26,1171,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1193,26,1193,21,1,2453,26,2453,21,1,1201,26,1201,21,1,1193,26,1193,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1218,26,1218,21,1,2454,26,2454,21,1,1226,26,1226,21,1,1218,26,1218,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1240,26,1240,21,1,1244,26,1244,21,1,1247,26,1247,21,1,1240,26,1240,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1262,26,1262,21,1,2455,26,2455,21,1,1270,26,1270,21,1,1262,26,1262,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1286,26,1286,21,1,1291,26,1291,21,1,1286,26,1286,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1045,200,1045,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1312,200,1312,201,199,1,1317,200,1317,201,199,1,1312,200,1312,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1337,200,1337,201,199,1,1341,200,1341,201,199,1,1344,200,1344,201,199,1,1351,394,1351,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1364,394,1364,395,393,1,2456,394,2456,395,393,1,1372,394,1372,395,393,1,1364,394,1364,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1418,394,1418,395,393,1,1422,394,1422,395,393,1,1425,394,1425,395,393,1,1432,200,1432,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1418,394,1418,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1445,394,1445,395,393,1,2457,394,2457,395,393,1,1453,394,1453,395,393,1,1445,394,1445,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1466,394,1466,395,393,1,1471,394,1471,395,393,1,1466,394,1466,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1337,200,1337,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1495,200,1495,201,199,1,1499,200,1499,201,199,1,1495,200,1495,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,888,200,888,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1555,200,1555,201,199,1,1559,200,1559,201,199,1,1555,200,1555,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1576,200,1576,201,199,1,1579,200,1579,201,199,1,1582,200,1582,201,199,1,1576,200,1576,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1594,200,1594,201,199,1,2458,200,2458,201,199,1,1601,200,1601,201,199,1,1594,200,1594,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1614,200,1614,201,199,1,2459,200,2459,201,199,1,1621,200,1621,201,199,1,1614,200,1614,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1631,200,1631,201,199,1,1634,200,1634,201,199,1,1631,200,1631,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1646,200,1646,201,199,1,2460,200,2460,201,199,1,1653,200,1653,201,199,1,1646,200,1646,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,1665,200,1665,201,199,1,1670,200,1670,201,199,1,1665,200,1665,911,201,911,911,199,199,912,913,914,915,916,917,918,912,913,914,915,916,917,918,911,199,911,199,911,199,911,199,1,853,26,853,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1691,26,1691,21,1,2461,26,2461,21,1,1699,26,1699,21,1,1691,26,1691,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1715,26,1715,21,1,1720,26,1720,21,1,1715,26,1715,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,660,26,660,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1739,26,1739,21,1,1743,26,1743,21,1,1746,26,1746,21,1,1739,26,1739,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1761,26,1761,21,1,2462,26,2462,21,1,1769,26,1769,21,1,1761,26,1761,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,1785,26,1785,21,1,1790,26,1790,21,1,1785,26,1785,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,487,394,487,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1811,394,1811,395,393,1,1814,394,1814,395,393,1,1811,394,1811,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1829,394,1829,395,393,1,1833,394,1833,395,393,1,1829,394,1829,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,426,394,426,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1889,394,1889,395,393,1,1893,394,1893,395,393,1,1889,394,1889,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1910,394,1910,395,393,1,1913,394,1913,395,393,1,1910,394,1910,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1925,394,1925,395,393,1,2463,394,2463,395,393,1,1932,394,1932,395,393,1,1925,394,1925,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1945,394,1945,395,393,1,2464,394,2464,395,393,1,1952,394,1952,395,393,1,1945,394,1945,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1962,394,1962,395,393,1,1965,394,1965,395,393,1,1968,394,1968,395,393,1,1962,394,1962,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1980,394,1980,395,393,1,2465,394,2465,395,393,1,1987,394,1987,395,393,1,1980,394,1980,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,1999,394,1999,395,393,1,2004,394,2004,395,393,1,1999,394,1999,449,395,449,449,393,393,450,451,452,453,454,455,456,450,451,452,453,454,455,456,449,393,449,393,449,393,449,393,1,378,26,378,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2025,26,2025,21,1,2466,26,2466,21,1,2033,26,2033,21,1,2025,26,2025,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2046,26,2046,21,1,2467,26,2467,21,1,2054,26,2054,21,1,2046,26,2046,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2064,26,2064,21,1,2068,26,2068,21,1,2071,26,2071,21,1,2064,26,2064,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2086,26,2086,21,1,2468,26,2468,21,1,2094,26,2094,21,1,2086,26,2086,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2106,26,2106,21,1,2111,26,2111,21,1,2106,26,2106,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,186,26,186,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2132,26,2132,21,1,2136,26,2136,21,1,2139,26,2139,21,1,2132,26,2132,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2155,26,2155,21,1,2159,26,2159,21,1,2155,26,2155,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2176,26,2176,21,1,2180,26,2180,21,1,2183,26,2183,21,1,2187,394,2187,395,393,1,2196,26,2196,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2199,26,2199,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2210,26,2210,21,1,2219,26,2219,21,1,2224,26,2224,21,1,2199,26,2199,21,1,2219,26,2219,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2280,26,2280,21,1,2284,26,2284,21,1,2280,26,2280,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2301,26,2301,21,1,2305,26,2305,21,1,2308,26,2308,21,1,2301,26,2301,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2323,26,2323,21,1,2469,26,2469,21,1,2323,26,2323,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2340,26,2340,21,1,2470,26,2470,21,1,2340,26,2340,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2354,26,2354,21,1,2358,26,2358,21,1,2361,26,2361,21,1,2354,26,2354,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2376,26,2376,21,1,2471,26,2471,21,1,2376,26,2376,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2392,26,2392,21,1,2397,26,2397,21,1,2392,26,2392,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2176,26,2176,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,2416,26,2416,21,1,2420,26,2420,21,1,2423,26,2423,21,1,2427,200,2427,201,199,1,2416,26,2416,39,39,39,21,21,40,60,42,43,61,45,46,40,60,42,43,61,45,46,39,21,39,21,39,21,39,21,1,0];
_tsip_machine_parser_header_WWW_Authenticate_trans_targs=[2,0,1736,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,23,1734,26,1728,22,1738,24,1739,25,27,28,29,30,31,32,31,32,34,41,1536,56,110,1712,146,164,1740,33,35,42,34,38,44,35,36,38,1741,37,39,43,129,1742,40,1520,1743,1505,45,73,49,74,1744,46,47,1745,48,50,51,206,1746,52,55,52,53,1747,54,1748,57,58,59,60,61,109,64,61,62,1749,63,64,65,69,1750,66,67,1751,68,69,70,71,72,1752,52,55,38,75,108,76,79,77,78,80,95,81,93,82,83,91,84,85,89,86,87,88,90,92,94,96,104,97,100,98,99,101,102,103,105,106,107,1753,111,112,113,114,115,116,128,119,116,117,1754,118,119,120,124,1755,121,122,1756,123,124,125,126,127,1757,52,55,38,1758,130,131,132,1504,135,132,133,1759,134,136,140,1760,137,138,1761,139,141,183,184,143,185,141,142,143,1762,143,144,1763,145,55,147,148,149,150,151,163,154,151,152,1764,153,154,155,159,1765,156,157,1766,158,159,160,161,162,1767,52,55,38,1768,165,166,167,168,169,182,172,169,170,1769,171,173,175,180,1770,174,176,177,178,179,52,55,38,181,1771,183,184,185,1772,186,186,187,191,1773,188,189,1774,190,192,194,244,261,1429,1443,1458,1471,1485,1775,193,195,243,194,191,198,195,196,1776,197,199,207,203,208,1777,200,201,1778,202,204,189,204,205,1779,209,242,210,213,211,212,214,229,215,227,216,217,225,218,219,223,220,221,222,224,226,228,230,238,231,234,232,233,235,236,237,239,240,241,1780,245,246,247,248,249,250,251,252,253,260,256,253,254,1781,255,257,259,1782,258,204,189,259,191,1783,262,263,264,265,266,267,1428,270,267,268,1784,269,271,275,1785,272,273,1786,274,276,278,297,282,143,284,283,276,277,143,1787,278,279,282,284,283,1788,280,281,1789,186,285,287,1324,1341,1354,1368,1383,1395,1409,1790,286,288,1323,287,284,291,288,289,1791,290,292,296,1287,1792,293,294,1793,295,278,297,1794,299,306,298,302,308,299,300,302,1795,301,303,298,305,307,318,917,968,984,998,1796,304,1271,1797,1259,309,313,931,1798,310,311,1799,312,314,317,314,315,1800,316,1801,319,320,321,322,323,1258,326,323,324,1802,325,326,327,331,1803,328,329,1804,330,331,331,332,336,1805,333,334,1806,335,337,339,389,406,422,437,1211,1224,1239,1807,338,340,388,339,336,343,340,341,1808,342,344,349,348,352,1809,345,346,1810,347,204,189,191,350,334,350,351,1811,353,387,354,357,367,355,356,358,374,359,372,360,361,370,362,363,368,364,365,366,369,371,373,375,383,376,379,377,378,380,381,382,384,385,386,1812,390,391,392,393,394,395,396,397,398,405,401,398,399,1813,400,402,404,1814,403,350,334,404,336,1815,407,408,409,410,411,412,421,415,412,413,1816,414,416,420,1817,417,418,1818,419,278,297,284,1819,423,424,425,426,427,436,430,427,428,1820,429,430,431,435,1821,432,433,1822,434,435,350,334,336,1823,438,439,440,441,442,443,1210,446,443,444,1824,445,446,447,451,1825,448,449,1826,450,451,452,469,455,452,453,455,1827,454,456,458,507,524,540,555,571,1176,1191,1828,457,459,506,458,455,462,459,460,1829,461,463,468,467,470,1830,464,465,1831,466,204,189,191,452,469,1832,471,505,472,475,485,473,474,476,492,477,490,478,479,488,480,481,486,482,483,484,487,489,491,493,501,494,497,495,496,498,499,500,502,503,504,1833,508,509,510,511,512,513,514,515,516,523,519,516,517,1834,518,520,522,1835,521,452,469,522,455,1836,525,526,527,528,529,530,539,533,530,531,1837,532,534,538,1838,535,536,1839,537,278,297,284,1840,541,542,543,544,545,554,548,545,546,1841,547,548,549,553,1842,550,551,1843,552,553,350,334,336,1844,556,557,558,559,560,561,570,564,561,562,1845,563,564,565,569,1846,566,567,1847,568,569,452,469,455,1848,572,573,574,1175,577,574,575,1849,576,578,582,1850,579,580,1851,581,583,599,586,583,584,586,1852,585,587,589,1071,1088,1103,1117,1132,1142,1156,1853,588,590,1070,589,586,593,590,591,1854,592,594,598,1034,1855,595,596,1856,597,583,599,1857,601,608,600,604,610,601,602,604,1858,603,605,600,607,609,620,670,688,698,881,1859,606,1018,1860,900,611,615,633,1861,612,613,1862,614,616,619,616,617,1863,618,1864,621,622,623,624,625,669,628,625,626,1865,627,628,629,331,1866,630,631,1867,632,331,634,668,635,638,648,636,637,639,655,640,653,641,642,651,643,644,649,645,646,647,650,652,654,656,664,657,660,658,659,661,662,663,665,666,667,1868,671,672,673,674,675,676,687,679,676,677,1869,678,679,680,684,1870,681,682,1871,683,684,684,685,1872,686,469,1873,689,690,691,697,694,691,692,1874,693,695,1875,696,1876,699,700,701,702,703,880,706,703,704,1877,705,706,707,711,1878,708,709,1879,710,711,711,712,716,1880,713,714,1881,715,717,719,769,786,802,817,833,846,861,1882,718,720,768,719,716,723,720,721,1883,722,724,729,728,732,1884,725,726,1885,727,204,189,191,730,714,730,731,1886,733,767,734,737,747,735,736,738,754,739,752,740,741,750,742,743,748,744,745,746,749,751,753,755,763,756,759,757,758,760,761,762,764,765,766,1887,770,771,772,773,774,775,776,777,778,785,781,778,779,1888,780,782,784,1889,783,730,714,784,716,1890,787,788,789,790,791,792,801,795,792,793,1891,794,796,800,1892,797,798,1893,799,278,297,284,1894,803,804,805,806,807,816,810,807,808,1895,809,810,811,815,1896,812,813,1897,814,815,350,334,336,1898,818,819,820,821,822,823,832,826,823,824,1899,825,826,827,831,1900,828,829,1901,830,831,452,469,455,1902,834,835,836,845,839,836,837,1903,838,840,844,1904,841,842,1905,843,583,599,586,1906,847,848,849,850,851,860,854,851,852,1907,853,854,855,859,1908,856,857,1909,858,859,730,714,716,1910,862,863,864,865,866,879,869,866,867,1911,868,870,872,877,1912,871,873,874,875,876,730,714,716,878,1913,1914,882,883,884,885,886,899,889,886,887,1915,888,890,892,897,1916,891,893,894,895,896,616,619,604,898,1917,901,902,903,904,905,1017,908,905,906,1918,907,909,913,1919,910,911,1920,912,914,915,284,914,915,1921,916,297,918,919,920,921,922,923,967,926,923,924,1922,925,926,927,684,1923,928,929,1924,930,684,932,966,933,936,946,934,935,937,953,938,951,939,940,949,941,942,947,943,944,945,948,950,952,954,962,955,958,956,957,959,960,961,963,964,965,1925,969,970,971,983,974,971,972,1926,973,975,979,1927,976,977,1928,978,980,981,586,980,981,1929,982,599,1930,985,986,987,988,989,997,992,989,990,1931,991,992,993,711,1932,994,995,1933,996,711,1934,999,1e3,1001,1002,1003,1016,1006,1003,1004,1935,1005,1007,1009,1014,1936,1008,1010,1011,1012,1013,314,317,302,1015,1937,1938,1019,1020,1021,1022,1023,1024,1025,1026,1033,1029,1026,1027,1939,1028,1030,1032,1940,1031,616,619,1032,604,1941,1035,1069,1036,1039,1049,1037,1038,1040,1056,1041,1054,1042,1043,1052,1044,1045,1050,1046,1047,1048,1051,1053,1055,1057,1065,1058,1061,1059,1060,1062,1063,1064,1066,1067,1068,1942,1072,1073,1074,1075,1076,1077,1078,1079,1080,1087,1083,1080,1081,1943,1082,1084,1086,1944,1085,583,599,1086,586,1945,1089,1090,1091,1092,1093,1094,1102,1097,1094,1095,1946,1096,1098,1947,1099,1100,1948,1101,1949,1104,1105,1106,1107,1108,1116,1111,1108,1109,1950,1110,1111,1112,1951,1113,1114,1952,1115,1953,1118,1119,1120,1121,1122,1123,1131,1126,1123,1124,1954,1125,1126,1127,1955,1128,1129,1956,1130,1957,1133,1134,1135,1141,1138,1135,1136,1958,1137,1139,1959,1140,1960,1143,1144,1145,1146,1147,1155,1150,1147,1148,1961,1149,1150,1151,1962,1152,1153,1963,1154,1964,1157,1158,1159,1160,1161,1174,1164,1161,1162,1965,1163,1165,1167,1172,1966,1166,1168,1169,1170,1171,583,599,586,1173,1967,1968,1177,1178,1179,1180,1181,1190,1184,1181,1182,1969,1183,1184,1185,1189,1970,1186,1187,1971,1188,1189,730,714,716,1972,1192,1193,1194,1195,1196,1209,1199,1196,1197,1973,1198,1200,1202,1207,1974,1201,1203,1204,1205,1206,452,469,455,1208,1975,1976,1212,1213,1214,1223,1217,1214,1215,1977,1216,1218,1222,1978,1219,1220,1979,1221,583,599,586,1980,1225,1226,1227,1228,1229,1238,1232,1229,1230,1981,1231,1232,1233,1237,1982,1234,1235,1983,1236,1237,730,714,716,1984,1240,1241,1242,1243,1244,1257,1247,1244,1245,1985,1246,1248,1250,1255,1986,1249,1251,1252,1253,1254,350,334,336,1256,1987,1988,1260,1261,1262,1263,1264,1270,1267,1264,1265,1989,1266,1268,1990,1269,1991,1272,1273,1274,1275,1276,1277,1278,1279,1286,1282,1279,1280,1992,1281,1283,1285,1993,1284,314,317,1285,302,1994,1288,1322,1289,1292,1302,1290,1291,1293,1309,1294,1307,1295,1296,1305,1297,1298,1303,1299,1300,1301,1304,1306,1308,1310,1318,1311,1314,1312,1313,1315,1316,1317,1319,1320,1321,1995,1325,1326,1327,1328,1329,1330,1331,1332,1333,1340,1336,1333,1334,1996,1335,1337,1339,1997,1338,278,297,1339,284,1998,1342,1343,1344,1345,1346,1347,1353,1350,1347,1348,1999,1349,1351,2e3,1352,2001,1355,1356,1357,1358,1359,1367,1362,1359,1360,2002,1361,1362,1363,2003,1364,1365,2004,1366,2005,1369,1370,1371,1372,1373,1374,1382,1377,1374,1375,2006,1376,1377,1378,2007,1379,1380,2008,1381,2009,1384,1385,1386,1394,1389,1386,1387,2010,1388,1390,2011,1391,1392,2012,1393,2013,1396,1397,1398,1399,1400,1408,1403,1400,1401,2014,1402,1403,1404,2015,1405,1406,2016,1407,2017,1410,1411,1412,1413,1414,1427,1417,1414,1415,2018,1416,1418,1420,1425,2019,1419,1421,1422,1423,1424,278,297,284,1426,2020,2021,1430,1431,1432,1433,1434,1442,1437,1434,1435,2022,1436,1437,1438,367,2023,1439,1440,2024,1441,2025,1444,1445,1446,1447,1448,1449,1457,1452,1449,1450,2026,1451,1452,1453,485,2027,1454,1455,2028,1456,2029,1459,1460,1461,1470,1464,1461,1462,2030,1463,1465,1469,2031,1466,1467,2032,1468,583,599,586,2033,1472,1473,1474,1475,1476,1484,1479,1476,1477,2034,1478,1479,1480,747,2035,1481,1482,2036,1483,2037,1486,1487,1488,1489,1490,1503,1493,1490,1491,2038,1492,1494,1496,1501,2039,1495,1497,1498,1499,1500,204,189,191,1502,2040,2041,1506,1507,1508,1509,1510,1519,1513,1510,1511,2042,1512,1514,1518,2043,1515,1516,2044,1517,281,2045,1521,1522,1523,1524,1525,1526,1527,1528,1535,1531,1528,1529,2046,1530,1532,1534,2047,1533,52,55,1534,38,2048,1537,1538,1539,1540,1541,1542,1711,1545,1542,1543,2049,1544,1546,1550,2050,1547,1548,2051,1549,1551,1552,1553,1551,1552,1553,2052,1554,1554,1555,1559,2053,1556,1557,2054,1558,1560,1562,1609,1626,1642,1654,1667,1680,1692,2055,1561,1563,1608,1562,1559,1566,1563,1564,2056,1565,1567,1569,1572,2057,1568,1570,1557,1570,1571,2058,1573,1607,1574,1577,1587,1575,1576,1578,1594,1579,1592,1580,1581,1590,1582,1583,1588,1584,1585,1586,1589,1591,1593,1595,1603,1596,1599,1597,1598,1600,1601,1602,1604,1605,1606,2059,1610,1611,1612,1613,1614,1615,1616,1617,1618,1625,1621,1618,1619,2060,1620,1622,1624,2061,1623,1570,1557,1624,1559,2062,1627,1628,1629,1630,1631,1632,1641,1635,1632,1633,2063,1634,1636,1640,2064,1637,1638,2065,1639,278,297,284,2066,1643,1644,1645,1646,1647,1653,1650,1647,1648,2067,1649,1650,1651,2068,1652,2069,1655,1656,1657,1658,1659,1660,1666,1663,1660,1661,2070,1662,1663,1664,2071,1665,2072,1668,1669,1670,1679,1673,1670,1671,2073,1672,1674,1678,2074,1675,1676,2075,1677,583,599,586,2076,1681,1682,1683,1684,1685,1691,1688,1685,1686,2077,1687,1688,1689,2078,1690,2079,1693,1694,1695,1696,1697,1710,1700,1697,1698,2080,1699,1701,1703,1708,2081,1702,1704,1705,1706,1707,1570,1557,1559,1709,2082,2083,1713,1714,1715,1727,1718,1715,1716,2084,1717,1719,1723,2085,1720,1721,2086,1722,1724,1725,1726,1724,1725,1726,2087,1554,2088,1729,1730,1731,1732,1733,31,32,1735,1737,66,121,156,328,432,448,550,566,630,681,708,812,828,856,928,994,1113,1128,1152,1186,1234,1364,1379,1405,1439,1454,1481,1652,1665,1690];_tsip_machine_parser_header_WWW_Authenticate_trans_actions=[9,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,27,0,0,0,0,0,5,5,0,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,0,27,0,0,1,1,27,0,0,27,0,0,0,0,0,27,0,0,27,0,0,0,0,27,25,25,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,0,0,0,27,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,0,0,0,27,17,17,17,27,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,1,1,1,38,1,0,0,23,27,0,0,27,0,0,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,0,0,0,27,11,11,11,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,0,0,0,27,23,0,0,0,27,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,27,0,0,0,0,0,27,0,0,27,0,25,25,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,1,41,41,1,29,41,1,0,0,13,27,0,0,0,0,0,27,0,0,27,13,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,27,0,0,0,0,27,0,0,27,0,25,25,27,25,25,0,25,0,0,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,0,27,0,0,0,0,27,0,0,27,0,25,25,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,47,27,1,1,27,0,13,0,0,0,27,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,27,0,0,0,0,0,27,0,0,27,0,15,15,15,25,25,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,32,32,32,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,15,15,15,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,15,15,15,0,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,27,0,0,0,0,0,27,0,0,27,0,17,17,17,25,25,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,35,35,35,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,17,17,17,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,17,17,17,27,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,53,53,53,0,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,27,0,0,0,0,27,0,0,27,0,25,25,27,25,25,0,25,0,0,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,0,27,0,0,0,0,27,0,0,27,0,25,25,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,38,27,1,1,27,0,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,38,27,1,1,27,0,23,0,0,27,0,0,27,0,0,25,25,0,0,0,27,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,38,27,1,1,27,0,23,0,0,0,27,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,27,0,0,0,0,0,27,0,0,27,0,11,11,11,25,25,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,44,44,44,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,11,11,11,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,11,11,11,27,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,44,44,44,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,11,11,11,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,0,0,0,0,25,25,0,0,0,27,0,0,23,27,0,0,27,0,1,1,1,0,0,27,0,0,0,0,0,0,0,25,25,0,0,0,27,0,1,1,47,27,1,1,27,0,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,25,25,0,0,0,27,0,0,13,27,0,0,27,0,1,1,1,0,0,27,0,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,29,27,1,1,27,0,13,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,27,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,1,27,0,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,1,27,0,27,0,0,25,25,0,0,0,27,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,1,27,0,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,17,17,17,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,50,50,50,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,0,15,15,15,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,0,0,25,25,0,0,0,27,0,0,27,0,27,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,1,27,0,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,1,27,0,27,0,0,25,25,0,0,0,27,0,0,27,0,0,27,0,27,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,1,27,0,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,27,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,41,41,41,27,0,0,0,0,25,25,0,0,0,27,0,1,1,1,27,1,1,27,0,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,1,27,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,1,1,1,0,0,0,27,13,0,0,0,27,0,0,27,0,0,1,1,1,1,1,1,1,1,27,0,25,25,0,25,0,0,0,27,0,0,0,0,27,0,25,25,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,25,25,0,0,0,27,0,0,1,27,0,21,21,0,21,27,0,0,0,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,56,56,56,27,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,27,0,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,27,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,56,56,56,27,0,0,0,0,25,25,0,0,0,27,0,1,1,27,1,27,0,0,0,0,25,25,0,0,0,27,0,0,1,1,27,0,0,0,0,0,19,19,19,0,27,27,0,0,25,25,0,0,0,27,0,0,0,27,0,0,27,0,1,1,1,0,0,0,27,23,27,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];tsip_machine_parser_header_WWW_Authenticate_start=1;tsip_machine_parser_header_WWW_Authenticate_first_final=1738;tsip_machine_parser_header_WWW_Authenticate_error=0;tsip_machine_parser_header_WWW_Authenticate_en_main=1;function tsip_header_WWW_Authenticate(){tsip_header.call(this,tsip_header_type_e.WWW_Authenticate);this.s_scheme=null;this.s_realm=null;this.s_domain=null;this.s_nonce=null;this.s_opaque=null;this.b_stale=false;this.s_algorithm=null;this.s_qop=null}tsip_header_WWW_Authenticate.prototype.toString=function(){return tsk_string_format('{0} realm="{1}"{2}{3}{4}{5}{6}{7}{8}{9}{10}{11}{12}{13},stale={14}{15}{16}',this.s_scheme,this.s_realm?this.s_realm:"",this.s_domain?',domain="':"",this.s_domain?this.s_domain:"",this.s_domain?'"':"",this.s_qop?',qop="':"",this.s_qop?this.s_qop:"",this.s_qop?'"':"",this.s_nonce?',nonce="':"",this.s_nonce?this.s_nonce:"",this.s_nonce?'"':"",this.s_opaque?',opaque="':"",this.s_opaque?this.s_opaque:"",this.s_opaque?'"':"",this.b_stale?"TRUE":"FALSE",this.s_algorithm?",algorithm=":"",this.s_algorithm?this.s_algorithm:"")};tsip_header_WWW_Authenticate.prototype.Parse=function(s_str){var cs=0;var p=0;var pe=s_str.length;var eof=pe;var data=tsk_buff_str2ib(s_str);var i_tag_start;var hdr_WWW_Authenticate=new tsip_header_WWW_Authenticate;{cs=tsip_machine_parser_header_WWW_Authenticate_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_header_WWW_Authenticate_key_offsets[cs];_trans=_tsip_machine_parser_header_WWW_Authenticate_index_offsets[cs];_klen=_tsip_machine_parser_header_WWW_Authenticate_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_header_WWW_Authenticate_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_header_WWW_Authenticate_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_header_WWW_Authenticate_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_header_WWW_Authenticate_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_header_WWW_Authenticate_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_header_WWW_Authenticate_indicies[_trans];cs=_tsip_machine_parser_header_WWW_Authenticate_trans_targs[_trans];if(_tsip_machine_parser_header_WWW_Authenticate_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_header_WWW_Authenticate_trans_actions[_trans];_nacts=_tsip_machine_parser_header_WWW_Authenticate_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_header_WWW_Authenticate_actions[_acts-1]){case 0:i_tag_start=p;break;case 1:hdr_WWW_Authenticate.s_scheme="Digest";break;case 2:hdr_WWW_Authenticate.s_scheme="Basic";break;case 3:tsip_header.call(hdr_WWW_Authenticate,tsip_header_type_e.WWW_Authenticate);break;case 4:tsip_header.call(hdr_WWW_Authenticate,tsip_header_type_e.Proxy_Authenticate);break;case 5:hdr_WWW_Authenticate.s_realm=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 6:hdr_WWW_Authenticate.s_domain=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 7:hdr_WWW_Authenticate.s_nonce=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 8:hdr_WWW_Authenticate.s_opaque=tsk_string_unquote_2(tsk_ragel_parser_get_string(s_str,p,i_tag_start));break;case 9:var s_stale=tsk_ragel_parser_get_string(s_str,p,i_tag_start);hdr_WWW_Authenticate.b_stale=tsk_string_iequals(s_stale,"true");break;case 10:hdr_WWW_Authenticate.s_algorithm=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 11:hdr_WWW_Authenticate.s_qop=tsk_ragel_parser_get_string(s_str,p,i_tag_start);break;case 12:tsk_ragel_add_param(s_str,p,i_tag_start,hdr_WWW_Authenticate.ao_params);break;case 13:break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<1738){tsk_utils_log_error("Failed to parse 'WWW-Authenticate' header: "+s_str);return null}return hdr_WWW_Authenticate};function prev_not_comma(o_ragel_state,i_p){return o_ragel_state.i_pe<=i_p||o_ragel_state.o_data[i_p-1]!=","}_tsip_machine_parser_headers_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,1,13,1,14,1,15,1,16,1,17,1,18,1,19,1,20,1,21,1,22,1,23,1,24,1,25,1,26,1,27,1,28,1,29,1,30,1,31,1,32,1,33,1,34,1,35,1,36,1,37,1,38,1,39,1,40,1,41,1,42,1,43,1,44,1,45,1,46,1,47,1,48,1,49,1,50,1,51,1,52,1,53,1,54,1,55,1,56,1,57,1,58,1,59,1,60,1,61,1,62,1,63,1,64,1,65,1,66,1,67,1,68,1,69,1,70,1,71,1,72,1,73,1,74,1,75,1,76,1,77,1,78,1,79,1,80,1,81,1,82,1,83,1,84,1,85,1,86,1,87,1,88,1,89,1,90,1,91,1,92];_tsip_machine_parser_headers_key_offsets=[0,0,54,71,74,79,82,83,84,86,109,128,147,166,185,202,205,210,213,214,215,217,242,261,280,299,318,337,356,373,376,381,384,385,386,388,407,426,445,464,483,502,521,538,541,546,549,550,551,553,572,591,610,629,648,667,686,703,706,711,714,715,716,718,737,756,775,794,813,832,851,868,887,906,925,944,963,982,1001,1020,1037,1040,1045,1048,1049,1050,1052,1073,1092,1111,1128,1147,1166,1185,1204,1221,1224,1229,1232,1233,1234,1236,1255,1274,1291,1294,1299,1302,1303,1304,1306,1325,1344,1363,1382,1401,1420,1437,1440,1445,1448,1449,1450,1452,1471,1490,1511,1530,1549,1568,1587,1606,1625,1644,1663,1682,1699,1718,1737,1756,1775,1792,1795,1800,1803,1804,1805,1807,1826,1845,1864,1883,1902,1921,1940,1959,1976,1979,1984,1987,1988,1989,1991,2014,2033,2052,2069,2088,2109,2126,2129,2134,2137,2138,2139,2141,2160,2179,2196,2199,2204,2207,2208,2209,2211,2230,2249,2270,2289,2308,2325,2328,2333,2336,2337,2338,2340,2359,2378,2395,2420,2439,2458,2477,2496,2515,2534,2553,2572,2591,2610,2627,2630,2635,2638,2639,2640,2642,2661,2680,2699,2718,2737,2756,2775,2792,2795,2800,2803,2804,2805,2807,2828,2847,2866,2885,2904,2923,2942,2959,2962,2967,2970,2971,2972,2974,2993,3012,3031,3050,3067,3070,3075,3078,3079,3080,3082,3101,3120,3139,3156,3159,3164,3167,3168,3169,3171,3190,3209,3226,3229,3234,3237,3238,3239,3241,3260,3279,3298,3315,3318,3323,3326,3327,3328,3330,3353,3372,3391,3410,3427,3446,3465,3484,3503,3520,3523,3528,3531,3532,3533,3535,3554,3573,3592,3609,3612,3617,3620,3621,3622,3624,3643,3662,3681,3700,3719,3736,3739,3744,3747,3748,3749,3751,3770,3789,3808,3825,3828,3833,3836,3837,3838,3840,3859,3878,3897,3916,3935,3954,3971,3990,4009,4028,4047,4064,4067,4072,4075,4076,4077,4079,4100,4119,4138,4157,4176,4195,4214,4231,4234,4239,4242,4243,4244,4246,4265,4284,4303,4322,4339,4342,4347,4350,4351,4352,4354,4372,4391,4410,4429,4448,4467,4484,4503,4522,4539,4542,4547,4550,4551,4552,4554,4573,4592,4611,4628,4631,4636,4639,4640,4641,4643,4664,4683,4700,4719,4738,4757,4776,4795,4814,4833,4852,4869,4872,4877,4880,4881,4882,4884,4905,4924,4941,4960,4979,4998,5017,5036,5055,5074,5091,5094,5099,5102,5103,5104,5106,5123,5144,5163,5182,5201,5220,5239,5258,5275,5278,5283,5286,5287,5288,5290,5309,5326,5329,5334,5337,5338,5339,5341,5360,5379,5398,5417,5436,5455,5474,5493,5512,5531,5550,5567,5570,5575,5578,5579,5580,5582,5603,5636,5659,5678,5697,5716,5735,5752,5771,5790,5809,5828,5847,5866,5885,5902,5921,5940,5959,5978,5995,5998,6003,6006,6007,6008,6010,6029,6048,6067,6086,6103,6122,6141,6160,6179,6198,6215,6218,6223,6226,6227,6228,6230,6249,6270,6289,6308,6327,6346,6363,6382,6401,6420,6439,6458,6477,6496,6515,6532,6535,6540,6543,6544,6545,6547,6566,6585,6604,6623,6642,6661,6678,6697,6716,6735,6752,6755,6760,6763,6764,6765,6767,6788,6807,6826,6845,6864,6881,6900,6919,6938,6957,6976,6993,7012,7031,7048,7051,7056,7059,7060,7061,7063,7082,7101,7120,7139,7158,7177,7194,7215,7234,7253,7272,7291,7310,7329,7348,7365,7384,7403,7422,7441,7460,7479,7498,7517,7536,7553,7556,7561,7564,7565,7566,7568,7587,7606,7625,7644,7663,7680,7683,7688,7691,7692,7693,7695,7714,7733,7750,7777,7796,7815,7834,7853,7872,7891,7908,7927,7946,7965,7984,8001,8004,8009,8012,8013,8014,8016,8035,8054,8073,8090,8093,8098,8101,8102,8103,8105,8124,8143,8162,8179,8182,8187,8190,8191,8192,8194,8213,8232,8251,8270,8289,8308,8327,8344,8347,8352,8355,8356,8357,8359,8378,8397,8416,8435,8452,8471,8490,8509,8528,8547,8564,8583,8602,8619,8622,8627,8630,8631,8632,8634,8653,8672,8691,8710,8727,8746,8765,8784,8803,8822,8839,8842,8847,8850,8851,8852,8854,8873,8892,8911,8930,8947,8966,8985,9004,9023,9042,9061,9080,9099,9118,9137,9156,9175,9194,9211,9214,9219,9222,9223,9224,9226,9245,9266,9285,9304,9323,9342,9361,9380,9397,9416,9435,9454,9473,9492,9511,9530,9549,9566,9569,9574,9577,9578,9579,9581,9600,9619,9638,9657,9674,9693,9712,9731,9748,9751,9756,9759,9760,9761,9763,9782,9801,9820,9837,9856,9875,9894,9913,9932,9951,9970,9989,10006,10009,10014,10017,10018,10019,10021,10040,10059,10078,10097,10116,10135,10152,10171,10190,10209,10228,10247,10266,10285,10302,10321,10340,10357,10360,10365,10368,10369,10370,10372,10391,10410,10427,10430,10435,10438,10439,10440,10442,10463,10484,10503,10522,10541,10560,10577,10580,10585,10588,10589,10590,10592,10611,10630,10649,10666,10669,10674,10677,10678,10679,10681,10700,10719,10736,10757,10776,10795,10814,10835,10854,10873,10892,10911,10930,10949,10968,10985,10988,10993,10996,11e3,11001,11003,11022,11041,11060,11079,11098,11117,11136,11155,11172,11175,11180,11183,11184,11185,11187,11206,11225,11244,11263,11282,11301,11318,11321,11326,11329,11330,11331,11333,11358,11377,11396,11413,11416,11421,11424,11425,11426,11428,11461,11480,11499,11518,11535,11538,11543,11546,11547,11548,11550,11569,11588,11607,11624,11643,11662,11681,11700,11719,11736,11739,11744,11747,11748,11749,11751,11770,11789,11808,11829,11848,11867,11884,11887,11892,11895,11896,11897,11899,11918,11935,11938,11943,11946,11947,11948,11950,11969,11988,12005,12024,12043,12060,12063,12068,12071,12072,12073,12075,12094,12113,12132,12149,12168,12187,12206,12225,12244,12263,12282,12299,12302,12307,12310,12311,12312,12314,12333,12354,12373,12392,12411,12428,12431,12436,12439,12440,12441,12443,12460,12479,12498,12515,12518,12523,12526,12527,12528,12530,12549,12570,12589,12608,12625,12644,12663,12682,12701,12720,12739,12758,12777,12796,12815,12834,12851,12854,12859,12862,12863,12864,12866,12885,12904,12921,12924,12929,12932,12933,12934,12936,12955,12974,12993,13012,13031,13048,13067,13086,13105,13124,13143,13162,13181,13200,13217,13220,13225,13228,13229,13230,13232,13251,13270,13287,13306,13325,13344,13363,13382,13399,13402,13407,13410,13411,13412,13414,13433,13452,13471,13488,13491,13496,13499,13500,13501,13503,13522,13541,13558,13561,13566,13569,13570,13571,13573,13596,13599,13604,13607,13608,13609,13611,13634,13653,13672,13691,13710,13729,13746,13769,13788,13807,13826,13845,13864,13881,13884,13889,13892,13893,13894,13896,13915,13934,13953,13972,13991,14008,14011,14016,14019,14020,14021,14023,14042,14061,14080,14099,14118,14135,14138,14143,14146,14147,14148,14150,14169,14190,14209,14226,14229,14234,14237,14238,14239,14241,14260,14279,14296,14315,14334,14353,14372,14391,14408,14411,14416,14419,14420,14421,14423,14442,14461,14480,14499,14516,14535,14554,14573,14592,14611,14630,14649,14666,14669,14674,14677,14678,14679,14681,14700,14717,14738,14757,14776,14795,14812,14815,14820,14823,14824,14825,14827,14846,14863,14882,14901,14920,14939,14958,14975,14978,14983,14986,14987,14988,14990,15011,15032,15051,15070,15089,15106,15125,15144,15163,15182,15201,15220,15239,15258,15275,15294,15313,15332,15351,15370,15387,15390,15395,15398,15399,15400,15402,15421,15440,15459,15478,15497,15516,15533,15536,15541,15544,15545,15546,15548,15571,15590,15609,15628,15647,15664,15683,15702,15721,15740,15759,15778,15795,15798,15803,15806,15807,15808,15810,15829,15848,15867,15886,15905,15924,15943,15960,15963,15968,15971,15972,15973,15975,15992,15995,16e3,16003,16004,16005,16007,16028,16047,16066,16085,16104,16123,16142,16161,16180,16199,16216,16219,16224,16227,16228,16229,16231,16250,16269,16286,16305,16324,16343,16362,16381,16398,16401,16406,16409,16410,16411,16413,16432,16451,16468,16471,16476,16479,16480,16481,16483,16504,16523,16542,16561,16580,16599,16616,16619,16624,16627,16628,16629,16631,16650,16667,16686,16705,16724,16743,16762,16781,16800,16819,16838,16857,16876,16895,16912,16915,16920,16923,16927,16928,16930,16953,16976,16995,17018,17037,17058,17077,17098,17123,17146,17167,17186,17203,17203,17206];_tsip_machine_parser_headers_trans_keys=[33,37,39,65,67,68,69,70,72,73,74,77,79,80,82,83,84,85,86,87,97,98,99,100,101,102,104,105,106,107,108,109,110,111,112,114,115,116,117,118,119,120,121,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,67,76,85,99,108,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,67,69,76,82,99,101,108,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,76,101,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,87,119,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,86,118,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,72,104,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,79,101,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,90,122,126,42,43,45,46,48,57,65,89,95,121,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,79,83,97,111,115,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,78,100,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,69,97,101,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,68,69,76,84,100,101,108,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,69,97,101,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,72,104,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,81,113,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,86,88,114,118,120,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,77,109,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,68,78,100,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,95,126,42,43,45,46,48,57,65,90,96,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,73,97,105,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,88,120,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,87,119,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,77,78,109,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,86,118,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,69,83,101,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,88,120,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,90,122,126,42,43,45,46,48,57,65,89,95,121,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,45,46,58,65,82,97,114,126,42,43,48,57,66,90,95,122,9,32,33,37,39,58,65,67,68,69,77,80,85,86,97,99,100,101,109,112,117,118,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,78,83,99,110,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,87,119,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,75,107,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,87,119,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,79,101,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,72,97,104,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,70,86,102,118,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,66,76,79,82,84,98,108,111,114,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,77,109,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,72,104,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,90,122,126,42,43,45,46,48,57,65,89,95,121,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,79,101,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,75,107,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,66,98,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,87,119,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,75,107,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,72,104,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,73,79,105,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,86,111,118,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,88,120,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,65,82,97,114,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,72,104,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,79,101,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,13,0,65535,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,90,122,126,42,43,45,46,48,57,65,89,95,121,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,81,113,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,69,79,83,97,101,111,115,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,75,107,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,67,70,74,80,81,83,84,97,99,102,106,112,113,115,116,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,82,114,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,83,84,115,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,66,98,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,66,98,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,89,97,121,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,73,101,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,81,113,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,73,85,101,105,117,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,67,82,83,99,114,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,67,83,86,99,115,118,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,86,118,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,89,121,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,86,118,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,73,101,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,88,120,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,69,73,101,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,70,102,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,77,109,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,72,104,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,66,80,98,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,74,83,106,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,73,79,97,105,111,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,76,108,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,77,109,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,77,109,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,78,83,110,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,83,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,80,112,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,100,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,65,87,97,119,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,71,103,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,10,9,32,9,32,33,37,39,58,87,119,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,45,46,58,126,42,43,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,85,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,72,104,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,78,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,67,99,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,84,116,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,69,101,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,9,32,58,9,13,32,0,65535,13,0,65535,10,13,0,65535,10,9,32,9,32,33,37,39,58,67,76,85,99,108,117,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,79,83,97,111,115,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,65,97,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,82,86,88,114,118,120,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,82,114,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,68,78,100,110,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,79,111,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,65,73,97,105,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,65,69,79,83,97,101,111,115,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,65,73,79,97,105,111,126,42,43,45,46,48,57,66,90,95,122,9,32,33,37,39,58,78,83,110,115,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,73,105,126,42,43,45,46,48,57,65,90,95,122,9,32,33,37,39,58,126,42,43,45,46,48,57,65,90,95,122,13,0,65535,13,0,65535,0];
_tsip_machine_parser_headers_single_lengths=[0,44,7,3,3,1,1,1,2,13,9,9,9,9,9,3,3,1,1,1,2,15,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,11,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,3,3,1,1,1,2,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,11,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,13,9,9,9,9,11,7,3,3,1,1,1,2,9,9,7,3,3,1,1,1,2,9,9,11,9,9,7,3,3,1,1,1,2,9,9,9,15,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,7,3,3,1,1,1,2,11,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,13,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,11,9,9,9,9,9,9,9,3,3,1,1,1,2,9,9,9,9,7,3,3,1,1,1,2,8,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,11,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,11,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,11,9,9,9,9,9,9,7,3,3,1,1,1,2,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,13,23,13,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,11,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,11,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,11,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,17,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,11,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,7,3,3,1,1,1,2,11,11,9,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,9,9,11,9,9,9,11,9,9,9,9,9,9,9,7,3,3,1,2,1,2,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,7,3,3,1,1,1,2,15,9,9,7,3,3,1,1,1,2,23,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,11,11,9,9,7,3,3,1,1,1,2,9,7,3,3,1,1,1,2,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,11,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,11,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,7,3,3,1,1,1,2,9,9,7,3,3,1,1,1,2,13,3,3,1,1,1,2,13,9,9,9,9,9,9,13,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,7,3,3,1,1,1,2,9,11,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,11,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,7,3,3,1,1,1,2,11,11,9,9,9,7,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,7,3,3,1,1,1,2,13,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,7,3,3,1,1,1,2,7,3,3,1,1,1,2,11,9,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,7,3,3,1,1,1,2,9,9,7,3,3,1,1,1,2,11,9,9,9,9,9,7,3,3,1,1,1,2,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,3,3,1,2,1,2,13,13,9,13,9,11,9,11,15,13,11,9,7,0,1,1];_tsip_machine_parser_headers_range_lengths=[0,5,5,0,1,1,0,0,0,5,5,5,5,5,4,0,1,1,0,0,0,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,4,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,4,5,5,5,5,5,0,1,1,0,0,0,5,5,4,0,1,1,0,0,0,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,4,5,5,5,0,1,1,0,0,0,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,4,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,4,0,1,1,0,0,0,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,4,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,5,5,0,1,1,0,0,0,4,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,4,5,5,5,5,5,5,4,5,5,5,5,5,5,5,4,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,4,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,4,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,4,5,5,5,5,5,4,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,4,5,5,5,5,5,5,5,5,4,5,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,5,4,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,5,4,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,4,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,0,1,1,0,0,0,5,5,5,4,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,4,5,5,5,5,5,5,5,4,5,5,5,0,1,1,0,0,0,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,5,5,5,5,5,5,5,0,1,1,1,0,0,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,0,1,1,0,0,0,5,5,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,0,1,1,0,0,0,5,5,0,1,1,0,0,0,5,5,4,5,5,5,0,1,1,0,0,0,5,5,5,4,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,0,1,1,0,0,0,4,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,0,1,1,0,0,0,5,5,5,5,5,4,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,5,0,1,1,0,0,0,5,0,1,1,0,0,0,5,5,5,5,5,5,4,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,4,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,4,5,5,5,5,5,0,1,1,0,0,0,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,4,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,0,1,1,0,0,0,5,5,5,5,5,5,5,5,5,5,5,0,1,1,0,0,0,5,5,4,5,5,5,5,5,5,0,1,1,0,0,0,5,5,5,0,1,1,0,0,0,5,5,5,5,5,5,5,0,1,1,0,0,0,5,4,5,5,5,5,5,5,5,5,5,5,5,5,5,0,1,1,1,0,0,5,5,5,5,5,5,5,5,5,5,5,5,5,0,1,1];_tsip_machine_parser_headers_index_offsets=[0,0,50,63,67,72,75,77,79,82,101,116,131,146,161,175,179,184,187,189,191,194,215,230,245,260,275,290,305,318,322,327,330,332,334,337,352,367,382,397,412,427,442,455,459,464,467,469,471,474,489,504,519,534,549,564,579,592,596,601,604,606,608,611,626,641,656,671,686,701,716,730,745,760,775,790,805,820,835,850,863,867,872,875,877,879,882,899,914,929,943,958,973,988,1003,1016,1020,1025,1028,1030,1032,1035,1050,1065,1079,1083,1088,1091,1093,1095,1098,1113,1128,1143,1158,1173,1188,1201,1205,1210,1213,1215,1217,1220,1235,1250,1267,1282,1297,1312,1327,1342,1357,1372,1387,1402,1416,1431,1446,1461,1476,1489,1493,1498,1501,1503,1505,1508,1523,1538,1553,1568,1583,1598,1613,1628,1641,1645,1650,1653,1655,1657,1660,1679,1694,1709,1723,1738,1755,1768,1772,1777,1780,1782,1784,1787,1802,1817,1830,1834,1839,1842,1844,1846,1849,1864,1879,1896,1911,1926,1939,1943,1948,1951,1953,1955,1958,1973,1988,2002,2023,2038,2053,2068,2083,2098,2113,2128,2143,2158,2173,2186,2190,2195,2198,2200,2202,2205,2220,2235,2250,2265,2280,2295,2310,2323,2327,2332,2335,2337,2339,2342,2359,2374,2389,2404,2419,2434,2449,2462,2466,2471,2474,2476,2478,2481,2496,2511,2526,2541,2554,2558,2563,2566,2568,2570,2573,2588,2603,2618,2631,2635,2640,2643,2645,2647,2650,2665,2680,2693,2697,2702,2705,2707,2709,2712,2727,2742,2757,2770,2774,2779,2782,2784,2786,2789,2808,2823,2838,2853,2867,2882,2897,2912,2927,2940,2944,2949,2952,2954,2956,2959,2974,2989,3004,3017,3021,3026,3029,3031,3033,3036,3051,3066,3081,3096,3111,3124,3128,3133,3136,3138,3140,3143,3158,3173,3188,3201,3205,3210,3213,3215,3217,3220,3235,3250,3265,3280,3295,3310,3324,3339,3354,3369,3384,3397,3401,3406,3409,3411,3413,3416,3433,3448,3463,3478,3493,3508,3523,3537,3541,3546,3549,3551,3553,3556,3571,3586,3601,3616,3629,3633,3638,3641,3643,3645,3648,3662,3677,3692,3707,3722,3737,3751,3766,3781,3794,3798,3803,3806,3808,3810,3813,3828,3843,3858,3871,3875,3880,3883,3885,3887,3890,3907,3922,3936,3951,3966,3981,3996,4011,4026,4041,4056,4069,4073,4078,4081,4083,4085,4088,4105,4120,4134,4149,4164,4179,4194,4209,4224,4239,4252,4256,4261,4264,4266,4268,4271,4285,4302,4317,4332,4347,4362,4377,4392,4405,4409,4414,4417,4419,4421,4424,4439,4452,4456,4461,4464,4466,4468,4471,4486,4501,4516,4531,4546,4561,4576,4591,4606,4621,4636,4649,4653,4658,4661,4663,4665,4668,4686,4715,4734,4749,4764,4779,4794,4808,4823,4838,4853,4868,4883,4898,4913,4927,4942,4957,4972,4987,5e3,5004,5009,5012,5014,5016,5019,5034,5049,5064,5079,5093,5108,5123,5138,5153,5168,5181,5185,5190,5193,5195,5197,5200,5215,5232,5247,5262,5277,5292,5306,5321,5336,5351,5366,5381,5396,5411,5426,5439,5443,5448,5451,5453,5455,5458,5473,5488,5503,5518,5533,5548,5562,5577,5592,5607,5620,5624,5629,5632,5634,5636,5639,5656,5671,5686,5701,5716,5730,5745,5760,5775,5790,5805,5819,5834,5849,5862,5866,5871,5874,5876,5878,5881,5896,5911,5926,5941,5956,5971,5985,6002,6017,6032,6047,6062,6077,6092,6107,6121,6136,6151,6166,6181,6196,6211,6226,6241,6256,6269,6273,6278,6281,6283,6285,6288,6303,6318,6333,6348,6363,6376,6380,6385,6388,6390,6392,6395,6410,6425,6439,6462,6477,6492,6507,6522,6537,6552,6566,6581,6596,6611,6626,6639,6643,6648,6651,6653,6655,6658,6673,6688,6703,6716,6720,6725,6728,6730,6732,6735,6750,6765,6780,6793,6797,6802,6805,6807,6809,6812,6827,6842,6857,6872,6887,6902,6917,6930,6934,6939,6942,6944,6946,6949,6964,6979,6994,7009,7023,7038,7053,7068,7083,7098,7112,7127,7142,7155,7159,7164,7167,7169,7171,7174,7189,7204,7219,7234,7248,7263,7278,7293,7308,7323,7336,7340,7345,7348,7350,7352,7355,7370,7385,7400,7415,7429,7444,7459,7474,7489,7504,7519,7534,7549,7564,7579,7594,7609,7624,7637,7641,7646,7649,7651,7653,7656,7671,7688,7703,7718,7733,7748,7763,7778,7792,7807,7822,7837,7852,7867,7882,7897,7912,7925,7929,7934,7937,7939,7941,7944,7959,7974,7989,8004,8018,8033,8048,8063,8076,8080,8085,8088,8090,8092,8095,8110,8125,8140,8154,8169,8184,8199,8214,8229,8244,8259,8274,8287,8291,8296,8299,8301,8303,8306,8321,8336,8351,8366,8381,8396,8410,8425,8440,8455,8470,8485,8500,8515,8529,8544,8559,8572,8576,8581,8584,8586,8588,8591,8606,8621,8634,8638,8643,8646,8648,8650,8653,8670,8687,8702,8717,8732,8747,8760,8764,8769,8772,8774,8776,8779,8794,8809,8824,8837,8841,8846,8849,8851,8853,8856,8871,8886,8900,8917,8932,8947,8962,8979,8994,9009,9024,9039,9054,9069,9084,9097,9101,9106,9109,9113,9115,9118,9133,9148,9163,9178,9193,9208,9223,9238,9251,9255,9260,9263,9265,9267,9270,9285,9300,9315,9330,9345,9360,9373,9377,9382,9385,9387,9389,9392,9413,9428,9443,9456,9460,9465,9468,9470,9472,9475,9504,9519,9534,9549,9562,9566,9571,9574,9576,9578,9581,9596,9611,9626,9640,9655,9670,9685,9700,9715,9728,9732,9737,9740,9742,9744,9747,9762,9777,9793,9810,9825,9840,9853,9857,9862,9865,9867,9869,9872,9887,9900,9904,9909,9912,9914,9916,9919,9934,9949,9963,9978,9993,10006,10010,10015,10018,10020,10022,10025,10040,10055,10070,10084,10099,10114,10129,10144,10159,10174,10189,10202,10206,10211,10214,10216,10218,10221,10236,10253,10268,10283,10298,10311,10315,10320,10323,10325,10327,10330,10344,10359,10374,10387,10391,10396,10399,10401,10403,10406,10421,10438,10453,10468,10482,10497,10512,10527,10542,10557,10572,10587,10602,10617,10632,10647,10660,10664,10669,10672,10674,10676,10679,10694,10709,10722,10726,10731,10734,10736,10738,10741,10756,10771,10786,10801,10816,10830,10845,10860,10875,10890,10905,10920,10935,10950,10963,10967,10972,10975,10977,10979,10982,10997,11012,11026,11041,11056,11071,11086,11101,11114,11118,11123,11126,11128,11130,11133,11148,11163,11178,11191,11195,11200,11203,11205,11207,11210,11225,11240,11253,11257,11262,11265,11267,11269,11272,11291,11295,11300,11303,11305,11307,11310,11329,11344,11359,11374,11389,11404,11418,11437,11452,11467,11482,11497,11512,11525,11529,11534,11537,11539,11541,11544,11559,11574,11589,11604,11619,11632,11636,11641,11644,11646,11648,11651,11666,11681,11696,11711,11726,11739,11743,11748,11751,11753,11755,11758,11773,11790,11805,11818,11822,11827,11830,11832,11834,11837,11852,11867,11881,11896,11911,11926,11941,11956,11969,11973,11978,11981,11983,11985,11988,12003,12018,12033,12048,12062,12077,12092,12107,12122,12137,12152,12167,12180,12184,12189,12192,12194,12196,12199,12214,12228,12245,12260,12275,12290,12303,12307,12312,12315,12317,12319,12322,12337,12351,12366,12381,12396,12411,12426,12439,12443,12448,12451,12453,12455,12458,12475,12492,12507,12522,12537,12550,12565,12580,12595,12610,12625,12640,12655,12670,12684,12699,12714,12729,12744,12759,12772,12776,12781,12784,12786,12788,12791,12806,12821,12836,12851,12866,12881,12894,12898,12903,12906,12908,12910,12913,12932,12947,12962,12977,12992,13006,13021,13036,13051,13066,13081,13096,13109,13113,13118,13121,13123,13125,13128,13143,13158,13173,13188,13203,13218,13233,13246,13250,13255,13258,13260,13262,13265,13278,13282,13287,13290,13292,13294,13297,13314,13329,13344,13359,13374,13389,13404,13419,13434,13449,13462,13466,13471,13474,13476,13478,13481,13496,13511,13525,13540,13555,13570,13585,13600,13613,13617,13622,13625,13627,13629,13632,13647,13662,13675,13679,13684,13687,13689,13691,13694,13711,13726,13741,13756,13771,13786,13799,13803,13808,13811,13813,13815,13818,13833,13847,13862,13877,13892,13907,13922,13937,13952,13967,13982,13997,14012,14027,14040,14044,14049,14052,14056,14058,14061,14080,14099,14114,14133,14148,14165,14180,14197,14218,14237,14254,14269,14282,14283,14286];_tsip_machine_parser_headers_indicies=[0,0,0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,7,25,26,27,28,29,30,11,12,31,14,32,33,34,18,35,36,0,0,0,0,0,0,1,37,37,0,0,0,38,0,0,0,0,0,0,1,37,37,38,1,38,40,38,39,1,41,39,1,42,1,43,1,39,39,1,37,37,0,0,0,38,44,45,46,44,45,46,0,0,0,0,0,0,1,37,37,0,0,0,38,47,47,0,0,0,0,0,0,1,37,37,0,0,0,38,48,48,0,0,0,0,0,0,1,37,37,0,0,0,38,49,49,0,0,0,0,0,0,1,37,37,0,0,0,38,50,50,0,0,0,0,0,0,1,51,51,0,0,0,52,0,53,0,0,0,0,0,1,51,51,53,1,53,55,53,54,1,56,54,1,57,1,58,1,54,54,1,37,37,0,0,0,38,59,60,61,62,59,60,61,62,0,0,0,0,0,0,1,37,37,0,0,0,38,63,63,0,0,0,0,0,0,1,37,37,0,0,0,38,64,64,0,0,0,0,0,0,1,37,37,0,0,0,38,65,65,0,0,0,0,0,0,1,37,37,0,0,0,38,66,66,0,0,0,0,0,0,1,37,37,0,0,0,38,67,67,0,0,0,0,0,0,1,37,37,0,0,0,38,68,68,0,0,0,0,0,0,1,69,69,0,0,0,70,0,0,0,0,0,0,1,69,69,70,1,70,72,70,71,1,73,71,1,74,1,75,1,71,71,1,37,37,0,0,0,38,76,76,0,0,0,0,0,0,1,37,37,0,0,0,38,77,77,0,0,0,0,0,0,1,37,37,0,0,0,38,78,78,0,0,0,0,0,0,1,37,37,0,0,0,38,79,79,0,0,0,0,0,0,1,37,37,0,0,0,38,80,80,0,0,0,0,0,0,1,37,37,0,0,0,38,81,81,0,0,0,0,0,0,1,37,37,0,0,0,38,82,82,0,0,0,0,0,0,1,83,83,0,0,0,84,0,0,0,0,0,0,1,83,83,84,1,84,86,84,85,1,87,85,1,88,1,89,1,85,85,1,37,37,0,0,0,38,90,90,0,0,0,0,0,0,1,37,37,0,0,0,38,91,91,0,0,0,0,0,0,1,37,37,0,0,0,38,92,92,0,0,0,0,0,0,1,37,37,0,0,0,38,93,93,0,0,0,0,0,0,1,37,37,0,0,0,38,94,94,0,0,0,0,0,0,1,37,37,0,0,0,38,95,95,0,0,0,0,0,0,1,37,37,0,0,0,38,96,96,0,0,0,0,0,0,1,97,97,0,0,0,98,0,0,0,0,0,0,1,97,97,98,1,98,100,98,99,1,101,99,1,102,1,103,1,99,99,1,37,37,0,0,0,38,104,104,0,0,0,0,0,0,1,37,37,0,0,0,38,105,105,0,0,0,0,0,0,1,37,37,0,0,0,38,106,106,0,0,0,0,0,0,1,37,37,0,0,0,38,107,107,0,0,0,0,0,0,1,37,37,0,0,0,38,108,108,0,0,0,0,0,0,1,37,37,0,0,0,38,109,109,0,0,0,0,0,0,1,37,37,0,0,0,38,110,110,0,0,0,0,0,0,1,37,37,0,0,0,111,0,38,0,0,0,0,0,1,37,37,0,0,0,38,112,112,0,0,0,0,0,0,1,37,37,0,0,0,38,113,113,0,0,0,0,0,0,1,37,37,0,0,0,38,114,114,0,0,0,0,0,0,1,37,37,0,0,0,38,115,115,0,0,0,0,0,0,1,37,37,0,0,0,38,116,116,0,0,0,0,0,0,1,37,37,0,0,0,38,117,117,0,0,0,0,0,0,1,37,37,0,0,0,38,118,118,0,0,0,0,0,0,1,37,37,0,0,0,38,119,119,0,0,0,0,0,0,1,120,120,0,0,0,121,0,0,0,0,0,0,1,120,120,121,1,121,123,121,122,1,124,122,1,125,1,126,1,122,122,1,37,37,0,0,0,38,127,128,127,128,0,0,0,0,0,0,1,37,37,0,0,0,38,129,129,0,0,0,0,0,0,1,37,37,0,0,0,38,130,130,0,0,0,0,0,0,1,37,37,0,0,0,131,0,38,0,0,0,0,0,1,37,37,0,0,0,38,132,132,0,0,0,0,0,0,1,37,37,0,0,0,38,133,133,0,0,0,0,0,0,1,37,37,0,0,0,38,134,134,0,0,0,0,0,0,1,37,37,0,0,0,38,135,135,0,0,0,0,0,0,1,136,136,0,0,0,137,0,0,0,0,0,0,1,136,136,137,1,137,139,137,138,1,140,138,1,141,1,142,1,138,138,1,37,37,0,0,0,38,143,143,0,0,0,0,0,0,1,37,37,0,0,0,38,144,144,0,0,0,0,0,0,1,145,145,0,0,0,146,0,147,0,0,0,0,0,1,145,145,147,1,147,149,147,148,1,150,148,1,151,1,152,1,148,148,1,37,37,0,0,0,38,153,153,0,0,0,0,0,0,1,37,37,0,0,0,38,154,154,0,0,0,0,0,0,1,37,37,0,0,0,38,155,155,0,0,0,0,0,0,1,37,37,0,0,0,38,156,156,0,0,0,0,0,0,1,37,37,0,0,0,38,157,157,0,0,0,0,0,0,1,37,37,0,0,0,38,158,158,0,0,0,0,0,0,1,159,159,0,0,0,160,0,0,0,0,0,0,1,159,159,160,1,160,162,160,161,1,163,161,1,164,1,165,1,161,161,1,37,37,0,0,0,38,166,166,0,0,0,0,0,0,1,37,37,0,0,0,38,167,167,0,0,0,0,0,0,1,37,37,0,0,0,38,168,169,168,169,0,0,0,0,0,0,1,37,37,0,0,0,38,170,170,0,0,0,0,0,0,1,37,37,0,0,0,38,171,171,0,0,0,0,0,0,1,37,37,0,0,0,38,172,172,0,0,0,0,0,0,1,37,37,0,0,0,38,173,173,0,0,0,0,0,0,1,37,37,0,0,0,38,174,174,0,0,0,0,0,0,1,37,37,0,0,0,38,175,175,0,0,0,0,0,0,1,37,37,0,0,0,38,176,176,0,0,0,0,0,0,1,37,37,0,0,0,38,177,177,0,0,0,0,0,0,1,37,37,0,0,0,38,178,178,0,0,0,0,0,0,1,37,37,0,0,0,179,0,38,0,0,0,0,0,1,37,37,0,0,0,38,180,180,0,0,0,0,0,0,1,37,37,0,0,0,38,181,181,0,0,0,0,0,0,1,37,37,0,0,0,38,182,182,0,0,0,0,0,0,1,37,37,0,0,0,38,183,183,0,0,0,0,0,0,1,184,184,0,0,0,185,0,0,0,0,0,0,1,184,184,185,1,185,187,185,186,1,188,186,1,189,1,190,1,186,186,1,37,37,0,0,0,38,191,191,0,0,0,0,0,0,1,37,37,0,0,0,38,192,192,0,0,0,0,0,0,1,37,37,0,0,0,38,193,193,0,0,0,0,0,0,1,37,37,0,0,0,38,194,194,0,0,0,0,0,0,1,37,37,0,0,0,38,195,195,0,0,0,0,0,0,1,37,37,0,0,0,38,196,196,0,0,0,0,0,0,1,37,37,0,0,0,38,197,197,0,0,0,0,0,0,1,37,37,0,0,0,38,198,198,0,0,0,0,0,0,1,199,199,0,0,0,200,0,0,0,0,0,0,1,199,199,200,1,200,202,200,201,1,203,201,1,204,1,205,1,201,201,1,37,37,0,0,0,38,206,207,208,206,207,208,0,0,0,0,0,0,1,37,37,0,0,0,38,209,209,0,0,0,0,0,0,1,37,37,0,0,0,38,210,210,0,0,0,0,0,0,1,37,37,0,0,0,211,0,38,0,0,0,0,0,1,37,37,0,0,0,38,212,212,0,0,0,0,0,0,1,37,37,0,0,0,38,213,214,213,214,0,0,0,0,0,0,1,215,215,0,0,0,216,0,0,0,0,0,0,1,215,215,216,1,216,218,216,217,1,219,217,1,220,1,221,1,217,217,1,37,37,0,0,0,38,222,222,0,0,0,0,0,0,1,37,37,0,0,0,38,223,223,0,0,0,0,0,0,1,224,224,0,0,0,225,0,0,0,0,0,0,1,224,224,225,1,225,227,225,226,1,228,226,1,229,1,230,1,226,226,1,37,37,0,0,0,38,231,231,0,0,0,0,0,0,1,37,37,0,0,0,38,232,232,0,0,0,0,0,0,1,37,37,0,0,0,38,233,234,233,234,0,0,0,0,0,0,1,37,37,0,0,0,38,235,235,0,0,0,0,0,0,1,37,37,0,0,0,38,236,236,0,0,0,0,0,0,1,237,237,0,0,0,238,0,0,0,0,0,0,1,237,237,238,1,238,240,238,239,1,241,239,1,242,1,243,1,239,239,1,37,37,0,0,0,38,244,244,0,0,0,0,0,0,1,37,37,0,0,0,38,245,245,0,0,0,0,0,0,1,37,37,0,0,0,246,0,38,0,0,0,0,0,1,37,37,0,0,0,38,247,248,249,250,247,248,249,250,0,0,0,0,0,0,1,37,37,0,0,0,38,251,251,0,0,0,0,0,0,1,37,37,0,0,0,38,252,252,0,0,0,0,0,0,1,37,37,0,0,0,38,253,253,0,0,0,0,0,0,1,37,37,0,0,0,38,254,254,0,0,0,0,0,0,1,37,37,0,0,0,38,255,255,0,0,0,0,0,0,1,37,37,0,0,0,38,256,256,0,0,0,0,0,0,1,37,37,0,0,0,38,257,257,0,0,0,0,0,0,1,37,37,0,0,0,38,258,258,0,0,0,0,0,0,1,37,37,0,0,0,38,259,259,0,0,0,0,0,0,1,37,37,0,0,0,38,260,260,0,0,0,0,0,0,1,261,261,0,0,0,262,0,0,0,0,0,0,1,261,261,262,1,262,264,262,263,1,265,263,1,266,1,267,1,263,263,1,37,37,0,0,0,38,268,268,0,0,0,0,0,0,1,37,37,0,0,0,38,269,269,0,0,0,0,0,0,1,37,37,0,0,0,38,270,270,0,0,0,0,0,0,1,37,37,0,0,0,38,271,271,0,0,0,0,0,0,1,37,37,0,0,0,38,272,272,0,0,0,0,0,0,1,37,37,0,0,0,38,273,273,0,0,0,0,0,0,1,37,37,0,0,0,38,274,274,0,0,0,0,0,0,1,275,275,0,0,0,276,0,0,0,0,0,0,1,275,275,276,1,276,278,276,277,1,279,277,1,280,1,281,1,277,277,1,37,37,0,0,0,38,282,283,282,283,0,0,0,0,0,0,1,37,37,0,0,0,38,284,284,0,0,0,0,0,0,1,37,37,0,0,0,38,285,285,0,0,0,0,0,0,1,37,37,0,0,0,38,286,286,0,0,0,0,0,0,1,37,37,0,0,0,38,287,287,0,0,0,0,0,0,1,37,37,0,0,0,38,288,288,0,0,0,0,0,0,1,37,37,0,0,0,38,289,289,0,0,0,0,0,0,1,290,290,0,0,0,291,0,0,0,0,0,0,1,290,290,291,1,291,293,291,292,1,294,292,1,295,1,296,1,292,292,1,37,37,0,0,0,38,297,297,0,0,0,0,0,0,1,37,37,0,0,0,38,298,298,0,0,0,0,0,0,1,37,37,0,0,0,38,299,299,0,0,0,0,0,0,1,37,37,0,0,0,38,28,28,0,0,0,0,0,0,1,300,300,0,0,0,301,0,0,0,0,0,0,1,300,300,301,1,301,303,301,302,1,304,302,1,305,1,306,1,302,302,1,37,37,0,0,0,38,307,307,0,0,0,0,0,0,1,37,37,0,0,0,38,308,308,0,0,0,0,0,0,1,37,37,0,0,0,38,309,309,0,0,0,0,0,0,1,310,310,0,0,0,311,0,0,0,0,0,0,1,310,310,311,1,311,313,311,312,1,314,312,1,315,1,316,1,312,312,1,37,37,0,0,0,38,317,317,0,0,0,0,0,0,1,37,37,0,0,0,38,318,318,0,0,0,0,0,0,1,319,319,0,0,0,320,0,0,0,0,0,0,1,319,319,320,1,320,322,320,321,1,323,321,1,324,1,325,1,321,321,1,37,37,0,0,0,38,326,326,0,0,0,0,0,0,1,37,37,0,0,0,38,327,327,0,0,0,0,0,0,1,37,37,0,0,0,38,328,328,0,0,0,0,0,0,1,329,329,0,0,0,330,0,0,0,0,0,0,1,329,329,330,1,330,332,330,331,1,333,331,1,334,1,335,1,331,331,1,37,37,0,0,0,38,336,337,338,336,337,338,0,0,0,0,0,0,1,37,37,0,0,0,38,339,339,0,0,0,0,0,0,1,37,37,0,0,0,38,340,340,0,0,0,0,0,0,1,37,37,0,0,0,38,341,341,0,0,0,0,0,0,1,37,37,0,0,0,342,0,38,0,0,0,0,0,1,37,37,0,0,0,38,343,343,0,0,0,0,0,0,1,37,37,0,0,0,38,344,344,0,0,0,0,0,0,1,37,37,0,0,0,38,345,345,0,0,0,0,0,0,1,37,37,0,0,0,38,346,346,0,0,0,0,0,0,1,347,347,0,0,0,348,0,0,0,0,0,0,1,347,347,348,1,348,350,348,349,1,351,349,1,352,1,353,1,349,349,1,37,37,0,0,0,38,354,354,0,0,0,0,0,0,1,37,37,0,0,0,38,355,355,0,0,0,0,0,0,1,37,37,0,0,0,38,356,356,0,0,0,0,0,0,1,357,357,0,0,0,358,0,0,0,0,0,0,1,357,357,358,1,358,360,358,359,1,361,359,1,362,1,363,1,359,359,1,37,37,0,0,0,38,364,364,0,0,0,0,0,0,1,37,37,0,0,0,38,365,365,0,0,0,0,0,0,1,37,37,0,0,0,38,366,366,0,0,0,0,0,0,1,37,37,0,0,0,38,367,367,0,0,0,0,0,0,1,37,37,0,0,0,38,368,368,0,0,0,0,0,0,1,369,369,0,0,0,370,0,0,0,0,0,0,1,369,369,370,1,370,372,370,371,1,373,371,1,374,1,375,1,371,371,1,37,37,0,0,0,38,376,376,0,0,0,0,0,0,1,37,37,0,0,0,38,377,377,0,0,0,0,0,0,1,37,37,0,0,0,38,378,378,0,0,0,0,0,0,1,379,379,0,0,0,380,0,0,0,0,0,0,1,379,379,380,1,380,382,380,381,1,383,381,1,384,1,385,1,381,381,1,37,37,0,0,0,38,386,386,0,0,0,0,0,0,1,37,37,0,0,0,38,387,387,0,0,0,0,0,0,1,37,37,0,0,0,38,388,388,0,0,0,0,0,0,1,37,37,0,0,0,38,389,389,0,0,0,0,0,0,1,37,37,0,0,0,38,390,390,0,0,0,0,0,0,1,37,37,0,0,0,38,391,391,0,0,0,0,0,0,1,37,37,0,0,0,392,0,38,0,0,0,0,0,1,37,37,0,0,0,38,393,393,0,0,0,0,0,0,1,37,37,0,0,0,38,394,394,0,0,0,0,0,0,1,37,37,0,0,0,38,395,395,0,0,0,0,0,0,1,37,37,0,0,0,38,396,396,0,0,0,0,0,0,1,397,397,0,0,0,398,0,0,0,0,0,0,1,397,397,398,1,398,400,398,399,1,401,399,1,402,1,403,1,399,399,1,37,37,0,0,0,38,404,405,404,405,0,0,0,0,0,0,1,37,37,0,0,0,38,406,406,0,0,0,0,0,0,1,37,37,0,0,0,38,407,407,0,0,0,0,0,0,1,37,37,0,0,0,38,408,408,0,0,0,0,0,0,1,37,37,0,0,0,38,409,409,0,0,0,0,0,0,1,37,37,0,0,0,38,410,410,0,0,0,0,0,0,1,37,37,0,0,0,38,411,411,0,0,0,0,0,0,1,412,412,0,0,0,413,0,414,0,0,0,0,0,1,412,412,414,1,414,416,414,415,1,417,415,1,418,1,419,1,415,415,1,37,37,0,0,0,38,420,420,0,0,0,0,0,0,1,37,37,0,0,0,38,421,421,0,0,0,0,0,0,1,37,37,0,0,0,38,422,422,0,0,0,0,0,0,1,37,37,0,0,0,38,30,30,0,0,0,0,0,0,1,423,423,0,0,0,424,0,0,0,0,0,0,1,423,423,424,1,424,426,424,425,1,427,425,1,428,1,429,1,425,425,1,37,37,0,0,0,38,430,0,0,0,0,0,0,1,37,37,0,0,0,38,431,431,0,0,0,0,0,0,1,37,37,0,0,0,38,432,432,0,0,0,0,0,0,1,37,37,0,0,0,38,433,433,0,0,0,0,0,0,1,37,37,0,0,0,38,434,434,0,0,0,0,0,0,1,37,37,0,0,0,38,435,435,0,0,0,0,0,0,1,37,37,0,0,0,436,0,38,0,0,0,0,0,1,37,37,0,0,0,38,437,437,0,0,0,0,0,0,1,37,37,0,0,0,38,438,438,0,0,0,0,0,0,1,439,439,0,0,0,440,0,0,0,0,0,0,1,439,439,440,1,440,442,440,441,1,443,441,1,444,1,445,1,441,441,1,37,37,0,0,0,38,446,446,0,0,0,0,0,0,1,37,37,0,0,0,38,447,447,0,0,0,0,0,0,1,37,37,0,0,0,38,448,448,0,0,0,0,0,0,1,449,449,0,0,0,450,0,0,0,0,0,0,1,449,449,450,1,450,452,450,451,1,453,451,1,454,1,455,1,451,451,1,37,37,0,0,0,38,456,457,456,457,0,0,0,0,0,0,1,37,37,0,0,0,38,458,458,0,0,0,0,0,0,1,37,37,0,0,0,459,0,38,0,0,0,0,0,1,37,37,0,0,0,38,460,460,0,0,0,0,0,0,1,37,37,0,0,0,38,461,461,0,0,0,0,0,0,1,37,37,0,0,0,38,462,462,0,0,0,0,0,0,1,37,37,0,0,0,38,463,463,0,0,0,0,0,0,1,37,37,0,0,0,38,464,464,0,0,0,0,0,0,1,37,37,0,0,0,38,465,465,0,0,0,0,0,0,1,37,37,0,0,0,38,466,466,0,0,0,0,0,0,1,37,37,0,0,0,38,467,467,0,0,0,0,0,0,1,468,468,0,0,0,469,0,0,0,0,0,0,1,468,468,469,1,469,471,469,470,1,472,470,1,473,1,474,1,470,470,1,37,37,0,0,0,38,475,476,475,476,0,0,0,0,0,0,1,37,37,0,0,0,38,477,477,0,0,0,0,0,0,1,37,37,0,0,0,478,0,38,0,0,0,0,0,1,37,37,0,0,0,38,479,479,0,0,0,0,0,0,1,37,37,0,0,0,38,480,480,0,0,0,0,0,0,1,37,37,0,0,0,38,481,481,0,0,0,0,0,0,1,37,37,0,0,0,38,482,482,0,0,0,0,0,0,1,37,37,0,0,0,38,483,483,0,0,0,0,0,0,1,37,37,0,0,0,38,484,484,0,0,0,0,0,0,1,37,37,0,0,0,38,485,485,0,0,0,0,0,0,1,486,486,0,0,0,487,0,0,0,0,0,0,1,486,486,487,1,487,489,487,488,1,490,488,1,491,1,492,1,488,488,1,37,37,0,0,0,493,0,38,0,0,0,0,0,1,37,37,0,0,0,38,494,495,494,495,0,0,0,0,0,0,1,37,37,0,0,0,38,496,496,0,0,0,0,0,0,1,37,37,0,0,0,38,497,497,0,0,0,0,0,0,1,37,37,0,0,0,38,498,498,0,0,0,0,0,0,1,37,37,0,0,0,38,499,499,0,0,0,0,0,0,1,37,37,0,0,0,38,500,500,0,0,0,0,0,0,1,37,37,0,0,0,38,501,501,0,0,0,0,0,0,1,502,502,0,0,0,503,0,0,0,0,0,0,1,502,502,503,1,503,505,503,504,1,506,504,1,507,1,508,1,504,504,1,37,37,0,0,0,38,509,509,0,0,0,0,0,0,1,510,510,0,0,0,511,0,0,0,0,0,0,1,510,510,511,1,511,513,511,512,1,514,512,1,515,1,516,1,512,512,1,357,357,0,0,0,358,517,517,0,0,0,0,0,0,1,37,37,0,0,0,38,518,518,0,0,0,0,0,0,1,37,37,0,0,0,38,519,519,0,0,0,0,0,0,1,37,37,0,0,0,38,520,520,0,0,0,0,0,0,1,37,37,0,0,0,38,521,521,0,0,0,0,0,0,1,37,37,0,0,0,38,522,522,0,0,0,0,0,0,1,37,37,0,0,0,38,523,523,0,0,0,0,0,0,1,37,37,0,0,0,38,524,524,0,0,0,0,0,0,1,37,37,0,0,0,38,525,525,0,0,0,0,0,0,1,37,37,0,0,0,38,526,526,0,0,0,0,0,0,1,37,37,0,0,0,38,527,527,0,0,0,0,0,0,1,528,528,0,0,0,529,0,0,0,0,0,0,1,528,528,529,1,529,531,529,530,1,532,530,1,533,1,534,1,530,530,1,37,37,0,0,0,535,0,38,536,537,536,537,0,0,0,0,0,1,37,37,0,0,0,38,538,539,540,541,542,543,544,545,538,539,540,541,542,543,544,545,0,0,0,0,0,0,1,37,37,0,0,0,38,546,547,548,546,547,548,0,0,0,0,0,0,1,37,37,0,0,0,38,549,549,0,0,0,0,0,0,1,37,37,0,0,0,38,550,550,0,0,0,0,0,0,1,37,37,0,0,0,38,551,551,0,0,0,0,0,0,1,37,37,0,0,0,38,552,552,0,0,0,0,0,0,1,37,37,0,0,0,553,0,38,0,0,0,0,0,1,37,37,0,0,0,38,554,554,0,0,0,0,0,0,1,37,37,0,0,0,38,555,555,0,0,0,0,0,0,1,37,37,0,0,0,38,556,556,0,0,0,0,0,0,1,37,37,0,0,0,38,557,557,0,0,0,0,0,0,1,37,37,0,0,0,38,558,558,0,0,0,0,0,0,1,37,37,0,0,0,38,559,559,0,0,0,0,0,0,1,37,37,0,0,0,38,560,560,0,0,0,0,0,0,1,37,37,0,0,0,561,0,38,0,0,0,0,0,1,37,37,0,0,0,38,562,562,0,0,0,0,0,0,1,37,37,0,0,0,38,563,563,0,0,0,0,0,0,1,37,37,0,0,0,38,564,564,0,0,0,0,0,0,1,37,37,0,0,0,38,565,565,0,0,0,0,0,0,1,566,566,0,0,0,567,0,0,0,0,0,0,1,566,566,567,1,567,569,567,568,1,570,568,1,571,1,572,1,568,568,1,37,37,0,0,0,38,573,573,0,0,0,0,0,0,1,37,37,0,0,0,38,574,574,0,0,0,0,0,0,1,37,37,0,0,0,38,575,575,0,0,0,0,0,0,1,37,37,0,0,0,38,576,576,0,0,0,0,0,0,1,37,37,0,0,0,577,0,38,0,0,0,0,0,1,37,37,0,0,0,38,578,578,0,0,0,0,0,0,1,37,37,0,0,0,38,579,579,0,0,0,0,0,0,1,37,37,0,0,0,38,580,580,0,0,0,0,0,0,1,37,37,0,0,0,38,581,581,0,0,0,0,0,0,1,37,37,0,0,0,38,582,582,0,0,0,0,0,0,1,583,583,0,0,0,584,0,0,0,0,0,0,1,583,583,584,1,584,586,584,585,1,587,585,1,588,1,589,1,585,585,1,37,37,0,0,0,38,590,590,0,0,0,0,0,0,1,37,37,0,0,0,38,591,592,591,592,0,0,0,0,0,0,1,37,37,0,0,0,38,593,593,0,0,0,0,0,0,1,37,37,0,0,0,38,594,594,0,0,0,0,0,0,1,37,37,0,0,0,38,595,595,0,0,0,0,0,0,1,37,37,0,0,0,38,596,596,0,0,0,0,0,0,1,37,37,0,0,0,597,0,38,0,0,0,0,0,1,37,37,0,0,0,38,598,598,0,0,0,0,0,0,1,37,37,0,0,0,38,599,599,0,0,0,0,0,0,1,37,37,0,0,0,38,600,600,0,0,0,0,0,0,1,37,37,0,0,0,38,601,601,0,0,0,0,0,0,1,37,37,0,0,0,38,602,602,0,0,0,0,0,0,1,37,37,0,0,0,38,603,603,0,0,0,0,0,0,1,37,37,0,0,0,38,604,604,0,0,0,0,0,0,1,37,37,0,0,0,38,605,605,0,0,0,0,0,0,1,606,606,0,0,0,607,0,0,0,0,0,0,1,606,606,607,1,607,609,607,608,1,610,608,1,611,1,612,1,608,608,1,37,37,0,0,0,38,613,613,0,0,0,0,0,0,1,37,37,0,0,0,38,614,614,0,0,0,0,0,0,1,37,37,0,0,0,38,615,615,0,0,0,0,0,0,1,37,37,0,0,0,38,616,616,0,0,0,0,0,0,1,37,37,0,0,0,38,617,617,0,0,0,0,0,0,1,37,37,0,0,0,38,618,618,0,0,0,0,0,0,1,37,37,0,0,0,619,0,38,0,0,0,0,0,1,37,37,0,0,0,38,620,620,0,0,0,0,0,0,1,37,37,0,0,0,38,621,621,0,0,0,0,0,0,1,37,37,0,0,0,38,622,622,0,0,0,0,0,0,1,623,623,0,0,0,624,0,0,0,0,0,0,1,623,623,624,1,624,626,624,625,1,627,625,1,628,1,629,1,625,625,1,37,37,0,0,0,38,630,631,630,631,0,0,0,0,0,0,1,37,37,0,0,0,38,632,632,0,0,0,0,0,0,1,37,37,0,0,0,38,633,633,0,0,0,0,0,0,1,37,37,0,0,0,38,634,634,0,0,0,0,0,0,1,37,37,0,0,0,38,635,635,0,0,0,0,0,0,1,37,37,0,0,0,636,0,38,0,0,0,0,0,1,37,37,0,0,0,38,637,637,0,0,0,0,0,0,1,37,37,0,0,0,38,638,638,0,0,0,0,0,0,1,37,37,0,0,0,38,639,639,0,0,0,0,0,0,1,37,37,0,0,0,38,640,640,0,0,0,0,0,0,1,37,37,0,0,0,38,641,641,0,0,0,0,0,0,1,37,37,0,0,0,642,0,38,0,0,0,0,0,1,37,37,0,0,0,38,643,643,0,0,0,0,0,0,1,37,37,0,0,0,38,644,644,0,0,0,0,0,0,1,645,645,0,0,0,646,0,0,0,0,0,0,1,645,645,646,1,646,648,646,647,1,649,647,1,650,1,651,1,647,647,1,37,37,0,0,0,38,652,652,0,0,0,0,0,0,1,37,37,0,0,0,38,653,653,0,0,0,0,0,0,1,37,37,0,0,0,38,654,654,0,0,0,0,0,0,1,37,37,0,0,0,38,655,655,0,0,0,0,0,0,1,37,37,0,0,0,38,656,656,0,0,0,0,0,0,1,37,37,0,0,0,38,657,657,0,0,0,0,0,0,1,37,37,0,0,0,658,0,38,0,0,0,0,0,1,37,37,0,0,0,38,659,660,659,660,0,0,0,0,0,0,1,37,37,0,0,0,38,661,661,0,0,0,0,0,0,1,37,37,0,0,0,38,662,662,0,0,0,0,0,0,1,37,37,0,0,0,38,663,663,0,0,0,0,0,0,1,37,37,0,0,0,38,664,664,0,0,0,0,0,0,1,37,37,0,0,0,38,665,665,0,0,0,0,0,0,1,37,37,0,0,0,38,666,666,0,0,0,0,0,0,1,37,37,0,0,0,38,667,667,0,0,0,0,0,0,1,37,37,0,0,0,668,0,38,0,0,0,0,0,1,37,37,0,0,0,38,669,669,0,0,0,0,0,0,1,37,37,0,0,0,38,670,670,0,0,0,0,0,0,1,37,37,0,0,0,38,671,671,0,0,0,0,0,0,1,37,37,0,0,0,38,672,672,0,0,0,0,0,0,1,37,37,0,0,0,38,673,673,0,0,0,0,0,0,1,37,37,0,0,0,38,674,674,0,0,0,0,0,0,1,37,37,0,0,0,38,675,675,0,0,0,0,0,0,1,37,37,0,0,0,38,676,676,0,0,0,0,0,0,1,37,37,0,0,0,38,677,677,0,0,0,0,0,0,1,678,678,0,0,0,679,0,0,0,0,0,0,1,678,678,679,1,679,681,679,680,1,682,680,1,683,1,684,1,680,680,1,37,37,0,0,0,38,685,685,0,0,0,0,0,0,1,37,37,0,0,0,38,686,686,0,0,0,0,0,0,1,37,37,0,0,0,38,687,687,0,0,0,0,0,0,1,37,37,0,0,0,38,688,688,0,0,0,0,0,0,1,37,37,0,0,0,38,689,689,0,0,0,0,0,0,1,690,690,0,0,0,691,0,0,0,0,0,0,1,690,690,691,1,691,693,691,692,1,694,692,1,695,1,696,1,692,692,1,37,37,0,0,0,38,697,697,0,0,0,0,0,0,1,37,37,0,0,0,38,698,698,0,0,0,0,0,0,1,37,37,0,0,0,699,0,38,0,0,0,0,0,1,37,37,0,0,0,38,700,701,702,703,704,700,701,702,703,704,0,0,0,0,0,0,1,37,37,0,0,0,38,705,705,0,0,0,0,0,0,1,37,37,0,0,0,38,706,706,0,0,0,0,0,0,1,37,37,0,0,0,38,707,707,0,0,0,0,0,0,1,37,37,0,0,0,38,708,708,0,0,0,0,0,0,1,37,37,0,0,0,38,709,709,0,0,0,0,0,0,1,37,37,0,0,0,38,710,710,0,0,0,0,0,0,1,37,37,0,0,0,711,0,38,0,0,0,0,0,1,37,37,0,0,0,38,712,712,0,0,0,0,0,0,1,37,37,0,0,0,38,713,713,0,0,0,0,0,0,1,37,37,0,0,0,38,714,714,0,0,0,0,0,0,1,37,37,0,0,0,38,715,715,0,0,0,0,0,0,1,716,716,0,0,0,717,0,0,0,0,0,0,1,716,716,717,1,717,719,717,718,1,720,718,1,721,1,722,1,718,718,1,37,37,0,0,0,38,723,723,0,0,0,0,0,0,1,37,37,0,0,0,38,724,724,0,0,0,0,0,0,1,37,37,0,0,0,38,725,725,0,0,0,0,0,0,1,726,726,0,0,0,727,0,0,0,0,0,0,1,726,726,727,1,727,729,727,728,1,730,728,1,731,1,732,1,728,728,1,37,37,0,0,0,38,733,733,0,0,0,0,0,0,1,37,37,0,0,0,38,734,734,0,0,0,0,0,0,1,37,37,0,0,0,38,735,735,0,0,0,0,0,0,1,736,736,0,0,0,737,0,0,0,0,0,0,1,736,736,737,1,737,739,737,738,1,740,738,1,741,1,742,1,738,738,1,37,37,0,0,0,38,743,743,0,0,0,0,0,0,1,37,37,0,0,0,38,744,744,0,0,0,0,0,0,1,37,37,0,0,0,38,745,745,0,0,0,0,0,0,1,37,37,0,0,0,38,746,746,0,0,0,0,0,0,1,37,37,0,0,0,38,747,747,0,0,0,0,0,0,1,37,37,0,0,0,38,748,748,0,0,0,0,0,0,1,37,37,0,0,0,38,749,749,0,0,0,0,0,0,1,750,750,0,0,0,751,0,0,0,0,0,0,1,750,750,751,1,751,753,751,752,1,754,752,1,755,1,756,1,752,752,1,37,37,0,0,0,38,757,757,0,0,0,0,0,0,1,37,37,0,0,0,38,758,758,0,0,0,0,0,0,1,37,37,0,0,0,38,759,759,0,0,0,0,0,0,1,37,37,0,0,0,38,760,760,0,0,0,0,0,0,1,37,37,0,0,0,761,0,38,0,0,0,0,0,1,37,37,0,0,0,38,762,762,0,0,0,0,0,0,1,37,37,0,0,0,38,763,763,0,0,0,0,0,0,1,37,37,0,0,0,38,764,764,0,0,0,0,0,0,1,37,37,0,0,0,38,765,765,0,0,0,0,0,0,1,37,37,0,0,0,38,766,766,0,0,0,0,0,0,1,37,37,0,0,0,767,0,38,0,0,0,0,0,1,37,37,0,0,0,38,768,768,0,0,0,0,0,0,1,37,37,0,0,0,38,769,769,0,0,0,0,0,0,1,770,770,0,0,0,771,0,0,0,0,0,0,1,770,770,771,1,771,773,771,772,1,774,772,1,775,1,776,1,772,772,1,37,37,0,0,0,38,777,777,0,0,0,0,0,0,1,37,37,0,0,0,38,778,778,0,0,0,0,0,0,1,37,37,0,0,0,38,779,779,0,0,0,0,0,0,1,37,37,0,0,0,38,780,780,0,0,0,0,0,0,1,37,37,0,0,0,781,0,38,0,0,0,0,0,1,37,37,0,0,0,38,782,782,0,0,0,0,0,0,1,37,37,0,0,0,38,783,783,0,0,0,0,0,0,1,37,37,0,0,0,38,784,784,0,0,0,0,0,0,1,37,37,0,0,0,38,785,785,0,0,0,0,0,0,1,37,37,0,0,0,38,786,786,0,0,0,0,0,0,1,787,787,0,0,0,788,0,0,0,0,0,0,1,787,787,788,1,788,790,788,789,1,791,789,1,792,1,793,1,789,789,1,37,37,0,0,0,38,794,794,0,0,0,0,0,0,1,37,37,0,0,0,38,795,795,0,0,0,0,0,0,1,37,37,0,0,0,38,796,796,0,0,0,0,0,0,1,37,37,0,0,0,38,797,797,0,0,0,0,0,0,1,37,37,0,0,0,798,0,38,0,0,0,0,0,1,37,37,0,0,0,38,799,799,0,0,0,0,0,0,1,37,37,0,0,0,38,800,800,0,0,0,0,0,0,1,37,37,0,0,0,38,801,801,0,0,0,0,0,0,1,37,37,0,0,0,38,802,802,0,0,0,0,0,0,1,37,37,0,0,0,38,803,803,0,0,0,0,0,0,1,37,37,0,0,0,38,804,804,0,0,0,0,0,0,1,37,37,0,0,0,38,805,805,0,0,0,0,0,0,1,37,37,0,0,0,38,806,806,0,0,0,0,0,0,1,37,37,0,0,0,38,807,807,0,0,0,0,0,0,1,37,37,0,0,0,38,808,808,0,0,0,0,0,0,1,37,37,0,0,0,38,809,809,0,0,0,0,0,0,1,37,37,0,0,0,38,810,810,0,0,0,0,0,0,1,37,37,0,0,0,38,811,811,0,0,0,0,0,0,1,812,812,0,0,0,813,0,0,0,0,0,0,1,812,812,813,1,813,815,813,814,1,816,814,1,817,1,818,1,814,814,1,37,37,0,0,0,38,819,819,0,0,0,0,0,0,1,37,37,0,0,0,38,820,821,820,821,0,0,0,0,0,0,1,37,37,0,0,0,38,822,822,0,0,0,0,0,0,1,37,37,0,0,0,38,823,823,0,0,0,0,0,0,1,37,37,0,0,0,38,824,824,0,0,0,0,0,0,1,37,37,0,0,0,38,825,825,0,0,0,0,0,0,1,37,37,0,0,0,38,826,826,0,0,0,0,0,0,1,37,37,0,0,0,38,827,827,0,0,0,0,0,0,1,37,37,0,0,0,828,0,38,0,0,0,0,0,1,37,37,0,0,0,38,829,829,0,0,0,0,0,0,1,37,37,0,0,0,38,830,830,0,0,0,0,0,0,1,37,37,0,0,0,38,831,831,0,0,0,0,0,0,1,37,37,0,0,0,38,832,832,0,0,0,0,0,0,1,37,37,0,0,0,38,833,833,0,0,0,0,0,0,1,37,37,0,0,0,38,834,834,0,0,0,0,0,0,1,37,37,0,0,0,38,835,835,0,0,0,0,0,0,1,37,37,0,0,0,38,836,836,0,0,0,0,0,0,1,837,837,0,0,0,838,0,0,0,0,0,0,1,837,837,838,1,838,840,838,839,1,841,839,1,842,1,843,1,839,839,1,37,37,0,0,0,38,844,844,0,0,0,0,0,0,1,37,37,0,0,0,38,845,845,0,0,0,0,0,0,1,37,37,0,0,0,38,846,846,0,0,0,0,0,0,1,37,37,0,0,0,38,847,847,0,0,0,0,0,0,1,37,37,0,0,0,848,0,38,0,0,0,0,0,1,37,37,0,0,0,38,849,849,0,0,0,0,0,0,1,37,37,0,0,0,38,850,850,0,0,0,0,0,0,1,37,37,0,0,0,38,851,851,0,0,0,0,0,0,1,852,852,0,0,0,853,0,0,0,0,0,0,1,852,852,853,1,853,855,853,854,1,856,854,1,857,1,858,1,854,854,1,37,37,0,0,0,38,859,859,0,0,0,0,0,0,1,37,37,0,0,0,38,860,860,0,0,0,0,0,0,1,37,37,0,0,0,38,861,861,0,0,0,0,0,0,1,37,37,0,0,0,862,0,38,0,0,0,0,0,1,37,37,0,0,0,38,863,863,0,0,0,0,0,0,1,37,37,0,0,0,38,864,864,0,0,0,0,0,0,1,37,37,0,0,0,38,865,865,0,0,0,0,0,0,1,37,37,0,0,0,38,866,866,0,0,0,0,0,0,1,37,37,0,0,0,38,867,867,0,0,0,0,0,0,1,37,37,0,0,0,38,868,868,0,0,0,0,0,0,1,37,37,0,0,0,38,869,869,0,0,0,0,0,0,1,37,37,0,0,0,38,870,870,0,0,0,0,0,0,1,871,871,0,0,0,872,0,0,0,0,0,0,1,871,871,872,1,872,874,872,873,1,875,873,1,876,1,877,1,873,873,1,37,37,0,0,0,38,878,878,0,0,0,0,0,0,1,37,37,0,0,0,38,879,879,0,0,0,0,0,0,1,37,37,0,0,0,38,880,880,0,0,0,0,0,0,1,37,37,0,0,0,38,881,881,0,0,0,0,0,0,1,37,37,0,0,0,38,882,882,0,0,0,0,0,0,1,37,37,0,0,0,38,883,883,0,0,0,0,0,0,1,37,37,0,0,0,884,0,38,0,0,0,0,0,1,37,37,0,0,0,38,885,885,0,0,0,0,0,0,1,37,37,0,0,0,38,886,886,0,0,0,0,0,0,1,37,37,0,0,0,38,887,887,0,0,0,0,0,0,1,37,37,0,0,0,38,888,888,0,0,0,0,0,0,1,37,37,0,0,0,38,889,889,0,0,0,0,0,0,1,37,37,0,0,0,38,890,890,0,0,0,0,0,0,1,37,37,0,0,0,38,891,891,0,0,0,0,0,0,1,37,37,0,0,0,892,0,38,0,0,0,0,0,1,37,37,0,0,0,38,893,893,0,0,0,0,0,0,1,37,37,0,0,0,38,894,894,0,0,0,0,0,0,1,895,895,0,0,0,896,0,0,0,0,0,0,1,895,895,896,1,896,898,896,897,1,899,897,1,900,1,901,1,897,897,1,37,37,0,0,0,38,902,902,0,0,0,0,0,0,1,37,37,0,0,0,38,903,903,0,0,0,0,0,0,1,904,904,0,0,0,905,0,0,0,0,0,0,1,904,904,905,1,905,907,905,906,1,908,906,1,909,1,910,1,906,906,1,37,37,0,0,0,38,911,912,911,912,0,0,0,0,0,0,1,37,37,0,0,0,38,913,914,913,914,0,0,0,0,0,0,1,37,37,0,0,0,38,915,915,0,0,0,0,0,0,1,37,37,0,0,0,38,916,916,0,0,0,0,0,0,1,37,37,0,0,0,38,917,917,0,0,0,0,0,0,1,37,37,0,0,0,38,918,918,0,0,0,0,0,0,1,919,919,0,0,0,920,0,0,0,0,0,0,1,919,919,920,1,920,922,920,921,1,923,921,1,924,1,925,1,921,921,1,37,37,0,0,0,38,926,926,0,0,0,0,0,0,1,37,37,0,0,0,38,927,927,0,0,0,0,0,0,1,37,37,0,0,0,38,928,928,0,0,0,0,0,0,1,929,929,0,0,0,930,0,0,0,0,0,0,1,929,929,930,1,930,932,930,931,1,933,931,1,934,1,935,1,931,931,1,37,37,0,0,0,38,936,936,0,0,0,0,0,0,1,37,37,0,0,0,38,937,937,0,0,0,0,0,0,1,37,37,0,0,0,938,0,38,0,0,0,0,0,1,37,37,0,0,0,38,939,940,939,940,0,0,0,0,0,0,1,37,37,0,0,0,38,941,941,0,0,0,0,0,0,1,37,37,0,0,0,38,942,942,0,0,0,0,0,0,1,37,37,0,0,0,38,943,943,0,0,0,0,0,0,1,37,37,0,0,0,38,944,945,944,945,0,0,0,0,0,0,1,37,37,0,0,0,38,946,946,0,0,0,0,0,0,1,37,37,0,0,0,38,947,947,0,0,0,0,0,0,1,37,37,0,0,0,38,948,948,0,0,0,0,0,0,1,37,37,0,0,0,38,949,949,0,0,0,0,0,0,1,37,37,0,0,0,38,950,950,0,0,0,0,0,0,1,37,37,0,0,0,38,951,951,0,0,0,0,0,0,1,37,37,0,0,0,38,952,952,0,0,0,0,0,0,1,953,953,0,0,0,954,0,0,0,0,0,0,1,953,953,954,1,954,956,954,955,1,957,955,1,958,957,955,1,959,1,955,955,1,37,37,0,0,0,38,960,960,0,0,0,0,0,0,1,37,37,0,0,0,38,961,961,0,0,0,0,0,0,1,37,37,0,0,0,38,962,962,0,0,0,0,0,0,1,37,37,0,0,0,38,963,963,0,0,0,0,0,0,1,37,37,0,0,0,38,964,964,0,0,0,0,0,0,1,37,37,0,0,0,38,965,965,0,0,0,0,0,0,1,37,37,0,0,0,38,966,966,0,0,0,0,0,0,1,37,37,0,0,0,38,967,967,0,0,0,0,0,0,1,968,968,0,0,0,969,0,0,0,0,0,0,1,968,968,969,1,969,971,969,970,1,972,970,1,973,1,974,1,970,970,1,37,37,0,0,0,38,975,975,0,0,0,0,0,0,1,37,37,0,0,0,38,976,976,0,0,0,0,0,0,1,37,37,0,0,0,38,977,977,0,0,0,0,0,0,1,37,37,0,0,0,38,978,978,0,0,0,0,0,0,1,37,37,0,0,0,38,979,979,0,0,0,0,0,0,1,37,37,0,0,0,38,980,980,0,0,0,0,0,0,1,981,981,0,0,0,982,0,0,0,0,0,0,1,981,981,982,1,982,984,982,983,1,985,983,1,986,1,987,1,983,983,1,37,37,0,0,0,38,988,989,990,991,988,989,990,991,0,0,0,0,0,0,1,37,37,0,0,0,38,992,992,0,0,0,0,0,0,1,37,37,0,0,0,38,993,993,0,0,0,0,0,0,1,994,994,0,0,0,995,0,0,0,0,0,0,1,994,994,995,1,995,997,995,996,1,998,996,1,999,1,1e3,1,996,996,1,37,37,0,0,0,38,1001,1002,1003,1004,1005,1006,1007,1008,1001,1002,1003,1004,1005,1006,1007,1008,0,0,0,0,0,0,1,37,37,0,0,0,38,1009,1009,0,0,0,0,0,0,1,37,37,0,0,0,38,1010,1010,0,0,0,0,0,0,1,37,37,0,0,0,38,1011,1011,0,0,0,0,0,0,1,1012,1012,0,0,0,1013,0,0,0,0,0,0,1,1012,1012,1013,1,1013,1015,1013,1014,1,1016,1014,1,1017,1,1018,1,1014,1014,1,37,37,0,0,0,38,1019,1019,0,0,0,0,0,0,1,37,37,0,0,0,38,1020,1020,0,0,0,0,0,0,1,37,37,0,0,0,38,1021,1021,0,0,0,0,0,0,1,37,37,0,0,0,1022,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1023,1023,0,0,0,0,0,0,1,37,37,0,0,0,38,1024,1024,0,0,0,0,0,0,1,37,37,0,0,0,38,1025,1025,0,0,0,0,0,0,1,37,37,0,0,0,38,1026,1026,0,0,0,0,0,0,1,37,37,0,0,0,38,1027,1027,0,0,0,0,0,0,1,1028,1028,0,0,0,1029,0,0,0,0,0,0,1,1028,1028,1029,1,1029,1031,1029,1030,1,1032,1030,1,1033,1,1034,1,1030,1030,1,37,37,0,0,0,38,1035,1035,0,0,0,0,0,0,1,37,37,0,0,0,38,1036,1036,0,0,0,0,0,0,1,37,37,0,0,0,1037,0,38,1038,1038,0,0,0,0,0,1,37,37,0,0,0,38,1039,1040,1039,1040,0,0,0,0,0,0,1,37,37,0,0,0,38,1041,1041,0,0,0,0,0,0,1,37,37,0,0,0,38,1042,1042,0,0,0,0,0,0,1,1043,1043,0,0,0,1044,0,0,0,0,0,0,1,1043,1043,1044,1,1044,1046,1044,1045,1,1047,1045,1,1048,1,1049,1,1045,1045,1,37,37,0,0,0,38,1050,1050,0,0,0,0,0,0,1,1051,1051,0,0,0,1052,0,0,0,0,0,0,1,1051,1051,1052,1,1052,1054,1052,1053,1,1055,1053,1,1056,1,1057,1,1053,1053,1,37,37,0,0,0,38,1058,1058,0,0,0,0,0,0,1,37,37,0,0,0,38,1059,1059,0,0,0,0,0,0,1,37,37,0,0,0,1060,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1061,1061,0,0,0,0,0,0,1,37,37,0,0,0,38,20,20,0,0,0,0,0,0,1,1062,1062,0,0,0,1063,0,0,0,0,0,0,1,1062,1062,1063,1,1063,1065,1063,1064,1,1066,1064,1,1067,1,1068,1,1064,1064,1,37,37,0,0,0,38,1069,1069,0,0,0,0,0,0,1,37,37,0,0,0,38,1070,1070,0,0,0,0,0,0,1,37,37,0,0,0,38,1071,1071,0,0,0,0,0,0,1,37,37,0,0,0,1072,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1073,1073,0,0,0,0,0,0,1,37,37,0,0,0,38,1074,1074,0,0,0,0,0,0,1,37,37,0,0,0,38,1075,1075,0,0,0,0,0,0,1,37,37,0,0,0,38,1076,1076,0,0,0,0,0,0,1,37,37,0,0,0,38,1077,1077,0,0,0,0,0,0,1,37,37,0,0,0,38,1078,1078,0,0,0,0,0,0,1,37,37,0,0,0,38,1079,1079,0,0,0,0,0,0,1,1080,1080,0,0,0,1081,0,0,0,0,0,0,1,1080,1080,1081,1,1081,1083,1081,1082,1,1084,1082,1,1085,1,1086,1,1082,1082,1,37,37,0,0,0,38,1087,1087,0,0,0,0,0,0,1,37,37,0,0,0,38,1088,1089,1088,1089,0,0,0,0,0,0,1,37,37,0,0,0,38,1090,1090,0,0,0,0,0,0,1,37,37,0,0,0,38,1091,1091,0,0,0,0,0,0,1,37,37,0,0,0,38,1092,1092,0,0,0,0,0,0,1,1093,1093,0,0,0,1094,0,0,0,0,0,0,1,1093,1093,1094,1,1094,1096,1094,1095,1,1097,1095,1,1098,1,1099,1,1095,1095,1,37,37,0,0,0,1100,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1101,1101,0,0,0,0,0,0,1,37,37,0,0,0,38,1102,1102,0,0,0,0,0,0,1,1103,1103,0,0,0,1104,0,0,0,0,0,0,1,1103,1103,1104,1,1104,1106,1104,1105,1,1107,1105,1,1108,1,1109,1,1105,1105,1,37,37,0,0,0,38,1110,1110,0,0,0,0,0,0,1,37,37,0,0,0,38,1111,1112,1111,1112,0,0,0,0,0,0,1,37,37,0,0,0,38,1113,1113,0,0,0,0,0,0,1,37,37,0,0,0,38,1114,1114,0,0,0,0,0,0,1,37,37,0,0,0,1115,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1116,1116,0,0,0,0,0,0,1,37,37,0,0,0,38,1117,1117,0,0,0,0,0,0,1,37,37,0,0,0,38,1118,1118,0,0,0,0,0,0,1,37,37,0,0,0,38,1119,1119,0,0,0,0,0,0,1,37,37,0,0,0,38,1120,1120,0,0,0,0,0,0,1,37,37,0,0,0,38,1121,1121,0,0,0,0,0,0,1,37,37,0,0,0,38,1122,1122,0,0,0,0,0,0,1,37,37,0,0,0,38,1123,1123,0,0,0,0,0,0,1,37,37,0,0,0,38,1124,1124,0,0,0,0,0,0,1,37,37,0,0,0,38,1125,1125,0,0,0,0,0,0,1,37,37,0,0,0,38,1126,1126,0,0,0,0,0,0,1,1127,1127,0,0,0,1128,0,0,0,0,0,0,1,1127,1127,1128,1,1128,1130,1128,1129,1,1131,1129,1,1132,1,1133,1,1129,1129,1,37,37,0,0,0,38,1134,1134,0,0,0,0,0,0,1,37,37,0,0,0,38,1135,1135,0,0,0,0,0,0,1,1136,1136,0,0,0,1137,0,0,0,0,0,0,1,1136,1136,1137,1,1137,1139,1137,1138,1,1140,1138,1,1141,1,1142,1,1138,1138,1,37,37,0,0,0,38,1143,1143,0,0,0,0,0,0,1,37,37,0,0,0,38,1144,1144,0,0,0,0,0,0,1,37,37,0,0,0,38,1145,1145,0,0,0,0,0,0,1,37,37,0,0,0,38,1146,1146,0,0,0,0,0,0,1,37,37,0,0,0,38,1147,1147,0,0,0,0,0,0,1,37,37,0,0,0,1148,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1149,1149,0,0,0,0,0,0,1,37,37,0,0,0,38,1150,1150,0,0,0,0,0,0,1,37,37,0,0,0,38,1151,1151,0,0,0,0,0,0,1,37,37,0,0,0,38,1152,1152,0,0,0,0,0,0,1,37,37,0,0,0,38,1153,1153,0,0,0,0,0,0,1,37,37,0,0,0,38,1154,1154,0,0,0,0,0,0,1,37,37,0,0,0,38,1155,1155,0,0,0,0,0,0,1,37,37,0,0,0,38,1156,1156,0,0,0,0,0,0,1,1157,1157,0,0,0,1158,0,0,0,0,0,0,1,1157,1157,1158,1,1158,1160,1158,1159,1,1161,1159,1,1162,1,1163,1,1159,1159,1,37,37,0,0,0,38,1164,1164,0,0,0,0,0,0,1,37,37,0,0,0,38,1165,1165,0,0,0,0,0,0,1,37,37,0,0,0,1166,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1167,1167,0,0,0,0,0,0,1,37,37,0,0,0,38,1168,1168,0,0,0,0,0,0,1,37,37,0,0,0,38,1169,1169,0,0,0,0,0,0,1,37,37,0,0,0,38,1170,1170,0,0,0,0,0,0,1,37,37,0,0,0,38,1171,1171,0,0,0,0,0,0,1,1172,1172,0,0,0,1173,0,0,0,0,0,0,1,1172,1172,1173,1,1173,1175,1173,1174,1,1176,1174,1,1177,1,1178,1,1174,1174,1,37,37,0,0,0,38,1179,1179,0,0,0,0,0,0,1,37,37,0,0,0,38,1180,1180,0,0,0,0,0,0,1,37,37,0,0,0,38,1181,1181,0,0,0,0,0,0,1,1182,1182,0,0,0,1183,0,0,0,0,0,0,1,1182,1182,1183,1,1183,1185,1183,1184,1,1186,1184,1,1187,1,1188,1,1184,1184,1,37,37,0,0,0,38,1189,1189,0,0,0,0,0,0,1,37,37,0,0,0,38,1190,1190,0,0,0,0,0,0,1,1191,1191,0,0,0,1192,0,0,0,0,0,0,1,1191,1191,1192,1,1192,1194,1192,1193,1,1195,1193,1,1196,1,1197,1,1193,1193,1,1198,1198,0,0,0,1199,1200,1201,1202,1200,1201,1202,0,0,0,0,0,0,1,1198,1198,1199,1,1199,1204,1199,1203,1,1205,1203,1,1206,1,1207,1,1203,1203,1,37,37,0,0,0,38,1208,1209,1210,1208,1209,1210,0,0,0,0,0,0,1,37,37,0,0,0,38,1211,1211,0,0,0,0,0,0,1,37,37,0,0,0,38,1212,1212,0,0,0,0,0,0,1,37,37,0,0,0,38,1213,1213,0,0,0,0,0,0,1,37,37,0,0,0,38,1214,1214,0,0,0,0,0,0,1,37,37,0,0,0,38,1215,1215,0,0,0,0,0,0,1,37,37,0,0,0,1216,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1217,1218,1219,1217,1218,1219,0,0,0,0,0,0,1,37,37,0,0,0,38,1220,1220,0,0,0,0,0,0,1,37,37,0,0,0,38,1221,1221,0,0,0,0,0,0,1,37,37,0,0,0,38,1222,1222,0,0,0,0,0,0,1,37,37,0,0,0,38,1223,1223,0,0,0,0,0,0,1,37,37,0,0,0,38,1224,1224,0,0,0,0,0,0,1,1225,1225,0,0,0,1226,0,0,0,0,0,0,1,1225,1225,1226,1,1226,1228,1226,1227,1,1229,1227,1,1230,1,1231,1,1227,1227,1,37,37,0,0,0,38,1232,1232,0,0,0,0,0,0,1,37,37,0,0,0,38,1233,1233,0,0,0,0,0,0,1,37,37,0,0,0,38,1234,1234,0,0,0,0,0,0,1,37,37,0,0,0,38,1235,1235,0,0,0,0,0,0,1,37,37,0,0,0,38,1236,1236,0,0,0,0,0,0,1,1237,1237,0,0,0,1238,0,0,0,0,0,0,1,1237,1237,1238,1,1238,1240,1238,1239,1,1241,1239,1,1242,1,1243,1,1239,1239,1,37,37,0,0,0,38,1244,1244,0,0,0,0,0,0,1,37,37,0,0,0,38,1245,1245,0,0,0,0,0,0,1,37,37,0,0,0,38,1246,1246,0,0,0,0,0,0,1,37,37,0,0,0,38,1247,1247,0,0,0,0,0,0,1,37,37,0,0,0,38,1248,1248,0,0,0,0,0,0,1,1249,1249,0,0,0,1250,0,0,0,0,0,0,1,1249,1249,1250,1,1250,1252,1250,1251,1,1253,1251,1,1254,1,1255,1,1251,1251,1,37,37,0,0,0,38,1256,1256,0,0,0,0,0,0,1,37,37,0,0,0,38,1257,1258,1257,1258,0,0,0,0,0,0,1,37,37,0,0,0,38,1259,1259,0,0,0,0,0,0,1,1260,1260,0,0,0,1261,0,0,0,0,0,0,1,1260,1260,1261,1,1261,1263,1261,1262,1,1264,1262,1,1265,1,1266,1,1262,1262,1,37,37,0,0,0,38,1267,1267,0,0,0,0,0,0,1,37,37,0,0,0,38,1268,1268,0,0,0,0,0,0,1,37,37,0,0,0,1269,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1270,1270,0,0,0,0,0,0,1,37,37,0,0,0,38,1271,1271,0,0,0,0,0,0,1,37,37,0,0,0,38,1272,1272,0,0,0,0,0,0,1,37,37,0,0,0,38,1273,1273,0,0,0,0,0,0,1,37,37,0,0,0,38,1274,1274,0,0,0,0,0,0,1,1275,1275,0,0,0,1276,0,0,0,0,0,0,1,1275,1275,1276,1,1276,1278,1276,1277,1,1279,1277,1,1280,1,1281,1,1277,1277,1,37,37,0,0,0,38,1282,1282,0,0,0,0,0,0,1,37,37,0,0,0,38,1283,1283,0,0,0,0,0,0,1,37,37,0,0,0,38,1284,1284,0,0,0,0,0,0,1,37,37,0,0,0,38,1285,1285,0,0,0,0,0,0,1,37,37,0,0,0,1286,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1287,1287,0,0,0,0,0,0,1,37,37,0,0,0,38,1288,1288,0,0,0,0,0,0,1,37,37,0,0,0,38,1289,1289,0,0,0,0,0,0,1,37,37,0,0,0,38,1290,1290,0,0,0,0,0,0,1,37,37,0,0,0,38,1291,1291,0,0,0,0,0,0,1,37,37,0,0,0,38,1292,1292,0,0,0,0,0,0,1,37,37,0,0,0,38,35,35,0,0,0,0,0,0,1,1293,1293,0,0,0,1294,0,0,0,0,0,0,1,1293,1293,1294,1,1294,1296,1294,1295,1,1297,1295,1,1298,1,1299,1,1295,1295,1,37,37,0,0,0,38,1300,1300,0,0,0,0,0,0,1,37,37,0,0,0,1301,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1302,1303,1302,1303,0,0,0,0,0,0,1,37,37,0,0,0,38,1304,1304,0,0,0,0,0,0,1,37,37,0,0,0,38,1305,1305,0,0,0,0,0,0,1,37,37,0,0,0,38,1306,1306,0,0,0,0,0,0,1,1307,1307,0,0,0,1308,0,0,0,0,0,0,1,1307,1307,1308,1,1308,1310,1308,1309,1,1311,1309,1,1312,1,1313,1,1309,1309,1,37,37,0,0,0,38,1314,1314,0,0,0,0,0,0,1,37,37,0,0,0,1315,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1316,1316,0,0,0,0,0,0,1,37,37,0,0,0,38,1317,1317,0,0,0,0,0,0,1,37,37,0,0,0,38,1318,1318,0,0,0,0,0,0,1,37,37,0,0,0,38,1319,1319,0,0,0,0,0,0,1,37,37,0,0,0,38,1320,1320,0,0,0,0,0,0,1,1321,1321,0,0,0,1322,0,0,0,0,0,0,1,1321,1321,1322,1,1322,1324,1322,1323,1,1325,1323,1,1326,1,1327,1,1323,1323,1,37,37,0,0,0,38,1328,1329,1328,1329,0,0,0,0,0,0,1,37,37,0,0,0,38,1330,1331,1330,1331,0,0,0,0,0,0,1,37,37,0,0,0,38,1332,1332,0,0,0,0,0,0,1,37,37,0,0,0,38,1333,1333,0,0,0,0,0,0,1,37,37,0,0,0,38,1334,1334,0,0,0,0,0,0,1,1198,1198,0,0,0,1199,0,0,0,0,0,0,1,37,37,0,0,0,38,1335,1335,0,0,0,0,0,0,1,37,37,0,0,0,38,1336,1336,0,0,0,0,0,0,1,37,37,0,0,0,38,1337,1337,0,0,0,0,0,0,1,37,37,0,0,0,38,1338,1338,0,0,0,0,0,0,1,37,37,0,0,0,38,1339,1339,0,0,0,0,0,0,1,37,37,0,0,0,38,1340,1340,0,0,0,0,0,0,1,37,37,0,0,0,38,1341,1341,0,0,0,0,0,0,1,37,37,0,0,0,38,1342,1342,0,0,0,0,0,0,1,37,37,0,0,0,1343,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1344,1344,0,0,0,0,0,0,1,37,37,0,0,0,38,1345,1345,0,0,0,0,0,0,1,37,37,0,0,0,38,1346,1346,0,0,0,0,0,0,1,37,37,0,0,0,38,1347,1347,0,0,0,0,0,0,1,37,37,0,0,0,38,1348,1348,0,0,0,0,0,0,1,1349,1349,0,0,0,1350,0,0,0,0,0,0,1,1349,1349,1350,1,1350,1352,1350,1351,1,1353,1351,1,1354,1,1355,1,1351,1351,1,37,37,0,0,0,38,1356,1356,0,0,0,0,0,0,1,37,37,0,0,0,38,1357,1357,0,0,0,0,0,0,1,37,37,0,0,0,38,1358,1358,0,0,0,0,0,0,1,37,37,0,0,0,38,1359,1359,0,0,0,0,0,0,1,37,37,0,0,0,38,1360,1360,0,0,0,0,0,0,1,37,37,0,0,0,38,27,27,0,0,0,0,0,0,1,1361,1361,0,0,0,1362,0,0,0,0,0,0,1,1361,1361,1362,1,1362,1364,1362,1363,1,1365,1363,1,1366,1,1367,1,1363,1363,1,37,37,0,0,0,38,1368,1369,1370,1368,1369,1370,0,0,0,0,0,0,1,37,37,0,0,0,38,1371,1371,0,0,0,0,0,0,1,37,37,0,0,0,38,1372,1372,0,0,0,0,0,0,1,37,37,0,0,0,38,1373,1373,0,0,0,0,0,0,1,37,37,0,0,0,38,1374,1374,0,0,0,0,0,0,1,37,37,0,0,0,1375,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1376,1376,0,0,0,0,0,0,1,37,37,0,0,0,38,1377,1377,0,0,0,0,0,0,1,37,37,0,0,0,38,1378,1378,0,0,0,0,0,0,1,37,37,0,0,0,38,1379,1379,0,0,0,0,0,0,1,37,37,0,0,0,38,1380,1380,0,0,0,0,0,0,1,37,37,0,0,0,38,1381,1381,0,0,0,0,0,0,1,1382,1382,0,0,0,1383,0,0,0,0,0,0,1,1382,1382,1383,1,1383,1385,1383,1384,1,1386,1384,1,1387,1,1388,1,1384,1384,1,37,37,0,0,0,38,1389,1389,0,0,0,0,0,0,1,37,37,0,0,0,38,1390,1390,0,0,0,0,0,0,1,37,37,0,0,0,38,1391,1391,0,0,0,0,0,0,1,37,37,0,0,0,38,1392,1392,0,0,0,0,0,0,1,37,37,0,0,0,38,1393,1393,0,0,0,0,0,0,1,37,37,0,0,0,38,1394,1394,0,0,0,0,0,0,1,37,37,0,0,0,38,1395,1395,0,0,0,0,0,0,1,1396,1396,0,0,0,1397,0,0,0,0,0,0,1,1396,1396,1397,1,1397,1399,1397,1398,1,1400,1398,1,1401,1,1402,1,1398,1398,1,1403,1403,0,0,0,1404,0,0,0,0,0,0,1,1403,1403,1404,1,1404,1406,1404,1405,1,1407,1405,1,1408,1,1409,1,1405,1405,1,37,37,0,0,0,38,1410,1411,1410,1411,0,0,0,0,0,0,1,37,37,0,0,0,38,1412,1412,0,0,0,0,0,0,1,37,37,0,0,0,38,1413,1413,0,0,0,0,0,0,1,37,37,0,0,0,38,1414,1414,0,0,0,0,0,0,1,37,37,0,0,0,38,1415,1415,0,0,0,0,0,0,1,37,37,0,0,0,38,1416,1416,0,0,0,0,0,0,1,37,37,0,0,0,38,1417,1417,0,0,0,0,0,0,1,37,37,0,0,0,38,1418,1418,0,0,0,0,0,0,1,37,37,0,0,0,38,1419,1419,0,0,0,0,0,0,1,37,37,0,0,0,38,1420,1420,0,0,0,0,0,0,1,1421,1421,0,0,0,1422,0,0,0,0,0,0,1,1421,1421,1422,1,1422,1424,1422,1423,1,1425,1423,1,1426,1,1427,1,1423,1423,1,37,37,0,0,0,38,1428,1428,0,0,0,0,0,0,1,37,37,0,0,0,38,1429,1429,0,0,0,0,0,0,1,37,37,0,0,0,1430,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1431,1431,0,0,0,0,0,0,1,37,37,0,0,0,38,1432,1432,0,0,0,0,0,0,1,37,37,0,0,0,38,1433,1433,0,0,0,0,0,0,1,37,37,0,0,0,38,1434,1434,0,0,0,0,0,0,1,37,37,0,0,0,38,1435,1435,0,0,0,0,0,0,1,1436,1436,0,0,0,1437,0,0,0,0,0,0,1,1436,1436,1437,1,1437,1439,1437,1438,1,1440,1438,1,1441,1,1442,1,1438,1438,1,37,37,0,0,0,38,1443,1443,0,0,0,0,0,0,1,37,37,0,0,0,38,1444,1444,0,0,0,0,0,0,1,1445,1445,0,0,0,1446,0,0,0,0,0,0,1,1445,1445,1446,1,1446,1448,1446,1447,1,1449,1447,1,1450,1,1451,1,1447,1447,1,37,37,0,0,0,38,1452,1453,1452,1453,0,0,0,0,0,0,1,37,37,0,0,0,38,1454,1454,0,0,0,0,0,0,1,37,37,0,0,0,38,1455,1455,0,0,0,0,0,0,1,37,37,0,0,0,38,1456,1456,0,0,0,0,0,0,1,37,37,0,0,0,38,1457,1457,0,0,0,0,0,0,1,37,37,0,0,0,38,1458,1458,0,0,0,0,0,0,1,1459,1459,0,0,0,1460,0,0,0,0,0,0,1,1459,1459,1460,1,1460,1462,1460,1461,1,1463,1461,1,1464,1,1465,1,1461,1461,1,37,37,0,0,0,38,1466,1466,0,0,0,0,0,0,1,37,37,0,0,0,1467,0,38,0,0,0,0,0,1,37,37,0,0,0,38,1468,1468,0,0,0,0,0,0,1,37,37,0,0,0,38,1469,1469,0,0,0,0,0,0,1,37,37,0,0,0,38,1470,1470,0,0,0,0,0,0,1,37,37,0,0,0,38,1471,1471,0,0,0,0,0,0,1,37,37,0,0,0,38,1472,1472,0,0,0,0,0,0,1,37,37,0,0,0,38,1473,1473,0,0,0,0,0,0,1,37,37,0,0,0,38,1474,1474,0,0,0,0,0,0,1,37,37,0,0,0,38,1475,1475,0,0,0,0,0,0,1,37,37,0,0,0,38,1476,1476,0,0,0,0,0,0,1,37,37,0,0,0,38,1477,1477,0,0,0,0,0,0,1,37,37,0,0,0,38,1478,1478,0,0,0,0,0,0,1,37,37,0,0,0,38,1479,1479,0,0,0,0,0,0,1,1480,1480,0,0,0,1481,0,0,0,0,0,0,1,1480,1480,1481,1,1481,1483,1481,1482,1,1484,1482,1,1485,1484,1482,1,1486,1,1482,1482,1,69,69,0,0,0,70,44,45,46,44,45,46,0,0,0,0,0,0,1,310,310,0,0,0,311,206,207,208,206,207,208,0,0,0,0,0,0,1,1127,1127,0,0,0,1128,326,326,0,0,0,0,0,0,1,275,275,0,0,0,276,336,337,338,336,337,338,0,0,0,0,0,0,1,379,379,0,0,0,380,376,376,0,0,0,0,0,0,1,215,215,0,0,0,216,404,405,404,405,0,0,0,0,0,0,1,1080,1080,0,0,0,1081,446,446,0,0,0,0,0,0,1,237,237,0,0,0,238,456,457,456,457,0,0,0,0,0,0,1,1051,1051,0,0,0,1052,988,989,990,991,988,989,990,991,0,0,0,0,0,0,1,1403,1403,0,0,0,1404,1368,1369,1370,1368,1369,1370,0,0,0,0,0,0,1,159,159,0,0,0,160,1410,1411,1410,1411,0,0,0,0,0,0,1,1445,1445,0,0,0,1446,1443,1443,0,0,0,0,0,0,1,412,412,0,0,0,414,0,0,0,0,0,0,1,1,957,955,1,1484,1482,1,0];
_tsip_machine_parser_headers_trans_targs=[2,0,9,162,275,285,323,333,351,392,402,460,478,908,1105,1267,1307,1339,1348,1382,971,1383,1384,1385,1386,1387,1388,1260,249,1389,369,1390,1391,1392,1393,1193,1394,3,4,5,7,6,1395,8,10,86,123,11,12,13,14,15,21,16,17,19,18,1395,20,22,35,49,63,23,24,25,26,27,28,29,30,31,33,32,1395,34,36,37,38,39,40,41,42,43,44,45,47,46,1395,48,50,51,52,53,54,55,56,57,58,59,61,60,1395,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,84,83,1395,85,87,101,88,89,90,91,92,93,94,95,96,97,99,98,1395,100,102,103,104,110,105,106,108,107,1395,109,111,112,113,114,115,116,117,118,119,121,120,1395,122,124,125,126,147,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,144,1395,146,148,149,150,151,152,153,154,155,156,157,158,160,159,1395,161,163,184,266,164,165,166,167,168,175,169,170,171,173,172,1395,174,176,177,178,179,180,182,181,1395,183,185,186,187,196,188,189,190,191,192,194,193,1395,195,197,198,199,200,217,231,256,201,202,203,204,205,206,207,208,209,210,211,212,213,215,214,1395,216,218,219,220,221,222,223,224,225,226,227,229,228,1395,230,232,245,233,234,235,236,237,238,239,240,241,243,242,1395,244,246,247,248,250,251,252,254,253,1395,255,257,258,259,260,261,262,264,263,1395,265,267,268,269,270,271,273,272,1395,274,276,277,278,279,280,281,283,282,1395,284,286,301,311,287,288,289,290,291,292,293,294,295,296,297,299,298,1395,300,302,303,304,305,306,307,309,308,1395,310,312,313,314,315,316,317,318,319,321,320,1395,322,324,325,326,327,328,329,331,330,1395,332,334,335,336,337,338,339,340,341,342,343,344,345,346,347,349,348,1395,350,352,376,353,354,355,356,357,358,359,365,360,361,363,362,1395,364,366,367,368,370,371,372,374,373,1395,375,377,378,379,380,381,382,383,384,385,386,387,388,390,389,1395,391,393,394,395,396,397,398,400,399,1395,401,403,420,404,405,406,407,408,409,410,411,412,413,414,415,416,418,417,1395,419,421,437,422,423,424,425,426,427,428,429,430,431,432,433,435,434,1395,436,438,439,452,440,441,442,443,444,445,446,447,448,450,449,1395,451,453,454,455,456,458,457,1395,459,461,462,463,464,465,466,467,468,469,470,471,472,473,474,476,475,1395,477,479,826,835,480,561,626,702,719,744,783,802,481,505,522,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,503,502,1395,504,506,507,508,509,510,511,512,513,514,515,516,517,518,520,519,1395,521,523,524,544,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,542,541,1395,543,545,546,547,548,549,550,551,552,553,554,555,556,557,559,558,1395,560,562,582,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,580,579,1395,581,583,584,585,586,587,588,589,590,614,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,612,611,1395,613,615,616,617,618,619,620,621,622,624,623,1395,625,627,628,629,630,648,658,668,682,631,632,633,634,635,636,637,638,639,640,641,642,643,644,646,645,1395,647,649,650,651,652,653,654,656,655,1395,657,659,660,661,662,663,664,666,665,1395,667,669,670,671,672,673,674,675,676,677,678,680,679,1395,681,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,700,699,1395,701,703,704,705,706,707,708,709,710,711,712,713,714,715,717,716,1395,718,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,742,741,1395,743,745,746,768,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,766,765,1395,767,769,770,771,772,773,774,775,776,777,778,779,781,780,1395,782,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,800,799,1395,801,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,824,823,1395,825,827,828,829,830,831,833,832,1395,834,836,858,837,848,838,839,840,841,842,843,844,846,845,1395,847,849,850,851,852,853,854,856,855,1395,857,859,860,861,862,895,863,864,865,866,880,867,868,869,870,871,872,873,874,875,876,878,877,1396,879,881,882,883,884,885,886,887,888,889,890,891,893,892,1395,894,896,897,898,899,900,901,902,903,904,906,905,1395,907,909,918,1086,1096,910,911,912,913,914,916,915,1395,917,919,929,945,978,996,1018,1050,1071,920,921,922,923,924,925,927,926,1395,928,930,931,932,933,934,935,936,937,938,939,940,941,943,942,1395,944,946,947,948,966,949,958,950,951,952,953,954,956,955,1395,957,959,960,961,962,964,963,1395,965,967,968,969,970,972,973,974,976,975,1395,977,979,980,981,982,983,984,985,986,987,988,989,990,991,992,994,993,1395,995,997,998,1008,999,1e3,1001,1002,1003,1004,1006,1005,1395,1007,1009,1010,1011,1012,1013,1014,1016,1015,1395,1017,1019,1020,1041,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1039,1038,1395,1040,1042,1043,1044,1045,1046,1048,1047,1395,1049,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1069,1068,1395,1070,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1084,1083,1395,1085,1087,1088,1089,1090,1091,1092,1094,1093,1395,1095,1097,1098,1099,1100,1101,1103,1102,1395,1104,1106,1107,1112,1200,1227,1108,1110,1109,1395,1111,1113,1156,1181,1114,1115,1116,1117,1118,1119,1120,1132,1144,1121,1122,1123,1124,1125,1126,1127,1128,1130,1129,1395,1131,1133,1134,1135,1136,1137,1138,1139,1140,1142,1141,1395,1143,1145,1146,1147,1148,1149,1150,1151,1152,1154,1153,1395,1155,1157,1158,1166,1159,1160,1161,1162,1164,1163,1395,1165,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1179,1178,1395,1180,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1194,1195,1196,1198,1197,1395,1199,1201,1202,1203,1213,1204,1205,1206,1207,1208,1209,1211,1210,1395,1212,1214,1215,1216,1217,1218,1219,1220,1221,1222,1223,1225,1224,1395,1226,1228,1254,1229,1233,1230,1231,1232,1234,1235,1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246,1247,1248,1249,1250,1252,1251,1395,1253,1255,1256,1257,1258,1259,1261,1262,1263,1265,1264,1395,1266,1268,1286,1300,1269,1270,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1281,1282,1284,1283,1395,1285,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1298,1297,1395,1299,1301,1302,1303,1305,1304,1395,1306,1308,1324,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1322,1321,1395,1323,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1337,1336,1395,1338,1340,1341,1342,1343,1344,1346,1345,1395,1347,1349,1361,1350,1351,1352,1353,1354,1355,1356,1357,1359,1358,1395,1360,1362,1363,1364,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1380,1379,1397,1381];_tsip_machine_parser_headers_trans_actions=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,185,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,0,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,0,0,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,0,0,0,0,0,0,0,0,0,33,0,0,0,0,0,0,0,0,0,35,0,0,0,0,0,0,0,0,37,0,0,0,0,0,0,0,0,0,39,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,0,0,0,0,0,0,0,0,0,43,0,0,0,0,0,0,0,0,0,0,0,45,0,0,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,0,0,0,0,0,0,0,0,0,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,0,0,0,0,0,0,0,0,0,57,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,63,0,0,0,0,0,0,0,65,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,71,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,79,0,0,0,0,0,0,0,0,0,0,0,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,0,0,0,0,0,0,0,0,0,85,0,0,0,0,0,0,0,0,0,87,0,0,0,0,0,0,0,0,0,0,0,0,0,89,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,93,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,103,0,0,0,0,0,0,0,0,105,0,0,0,0,0,0,0,0,0,0,0,0,0,0,107,0,0,0,0,0,0,0,0,0,109,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,113,0,0,0,0,0,0,0,0,0,0,0,0,115,0,0,0,0,0,0,0,0,0,0,0,0,117,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,119,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,123,0,0,0,0,0,0,0,125,0,0,0,0,0,0,0,0,0,0,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,0,0,0,0,0,0,0,0,0,0,0,0,131,0,0,0,0,0,0,0,0,0,133,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,0,0,0,0,0,0,0,0,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,139,0,0,0,0,0,0,0,0,0,0,0,0,0,0,141,0,0,0,0,0,0,0,0,0,143,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,163,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,149,0,0,0,0,0,0,0,0,0,0,0,151,0,0,0,0,0,0,0,0,0,0,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,155,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,157,0,0,0,0,0,0,0,0,0,0,0,0,0,159,0,0,0,0,0,0,0,0,0,0,0,0,0,161,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,165,0,0,0,0,0,0,0,0,0,0,0,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,169,0,0,0,0,0,0,0,0,0,0,0,0,0,171,0,0,0,0,0,0,173,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,175,0,0,0,0,0,0,0,0,0,0,0,0,0,0,177,0,0,0,0,0,0,0,0,179,0,0,0,0,0,0,0,0,0,0,0,0,0,181,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0];tsip_machine_parser_headers_start=1;tsip_machine_parser_headers_first_final=1395;tsip_machine_parser_headers_error=0;tsip_machine_parser_headers_en_main=1;function tsip_header_parse(o_ragel_state,o_msg){var cs=0;var p=o_ragel_state.i_tag_start;var pe=o_ragel_state.i_tag_end;var eof=pe;var data=o_ragel_state.o_data;var s_str=o_ragel_state.s_data.substring(o_ragel_state.i_tag_start,o_ragel_state.i_tag_start+(o_ragel_state.i_tag_end-o_ragel_state.i_tag_start));{cs=tsip_machine_parser_headers_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_tsip_machine_parser_headers_key_offsets[cs];_trans=_tsip_machine_parser_headers_index_offsets[cs];_klen=_tsip_machine_parser_headers_single_lengths[cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(data[p]<_tsip_machine_parser_headers_trans_keys[_mid]){_upper=_mid-1}else if(data[p]>_tsip_machine_parser_headers_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_tsip_machine_parser_headers_range_lengths[cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(data[p]<_tsip_machine_parser_headers_trans_keys[_mid]){_upper=_mid-2}else if(data[p]>_tsip_machine_parser_headers_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_tsip_machine_parser_headers_indicies[_trans];cs=_tsip_machine_parser_headers_trans_targs[_trans];if(_tsip_machine_parser_headers_trans_actions[_trans]!=0){_acts=_tsip_machine_parser_headers_trans_actions[_trans];_nacts=_tsip_machine_parser_headers_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_tsip_machine_parser_headers_actions[_acts-1]){case 0:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 1:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 2:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 3:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 4:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 5:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 6:var header=tsip_header_Allow.prototype.Parse(s_str);o_msg.add_headers(header);break;case 7:var header=tsip_header_Allow_Events.prototype.Parse(s_str);o_msg.add_headers(header);break;case 8:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 9:var header=tsip_header_Authorization.prototype.Parse(s_str);o_msg.add_headers(header);break;case 10:var header=tsip_header_Call_ID.prototype.Parse(s_str);o_msg.add_headers(header);break;case 11:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 12:var headers=tsip_header_Contact.prototype.Parse(s_str);for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}break;case 13:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 14:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 15:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 16:var header=tsip_header_Content_Length.prototype.Parse(s_str);o_msg.add_headers(header);break;case 17:var header=tsip_header_Content_Type.prototype.Parse(s_str);o_msg.add_headers(header);break;case 18:var header=tsip_header_CSeq.prototype.Parse(s_str);o_msg.add_headers(header);break;case 19:var header=tsip_header_Date.prototype.Parse(s_str);o_msg.add_headers(header);break;case 20:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 21:var header=tsip_header_Event.prototype.Parse(s_str);o_msg.add_headers(header);break;case 22:var header=tsip_header_Expires.prototype.Parse(s_str);o_msg.add_headers(header);break;case 23:var header=tsip_header_From.prototype.Parse(s_str);o_msg.add_headers(header);break;case 24:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 25:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 26:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 27:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 28:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 29:var header=tsip_header_Max_Forwards.prototype.Parse(s_str);o_msg.add_headers(header);break;case 30:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 31:var header=tsip_header_Min_Expires.prototype.Parse(s_str);o_msg.add_headers(header);break;case 32:var header=tsip_header_Min_SE.prototype.Parse(s_str);o_msg.add_headers(header);break;case 33:var header=tsip_header_Organization.prototype.Parse(s_str);o_msg.add_headers(header);break;case 34:var header=tsip_header_P_Access_Network_Info.prototype.Parse(s_str);o_msg.add_headers(header);break;case 35:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 36:var headers=tsip_header_P_Asserted_Identity.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 37:var headers=tsip_header_P_Associated_URI.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 38:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 39:var header=tsip_header_P_Charging_Function_Addresses.prototype.Parse(s_str);o_msg.add_headers(header);break;case 40:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 41:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 42:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 43:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 44:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 45:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 46:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 47:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 48:var headers=tsip_header_P_Preferred_Identity.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 49:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 50:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 51:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 52:var headers=tsip_header_Path.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 53:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 54:var header=tsip_header_Privacy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 55:var header=tsip_header_WWW_Authenticate.prototype.Parse(s_str);o_msg.add_headers(header);p=pe-1;break;case 56:var header=tsip_header_Authorization.prototype.Parse(s_str);o_msg.add_headers(header);break;case 57:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 58:var header=tsip_header_RAck.prototype.Parse(s_str);o_msg.add_headers(header);break;case 59:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 60:var headers=tsip_header_Record_Route.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 61:var header=tsip_header_Refer_Sub.prototype.Parse(s_str);o_msg.add_headers(header);break;case 62:var header=tsip_header_Refer_To.prototype.Parse(s_str);o_msg.add_headers(header);break;case 63:var header=tsip_header_Referred_By.prototype.Parse(s_str);o_msg.add_headers(header);break;case 64:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 65:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 66:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 67:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 68:var header=tsip_header_Require.prototype.Parse(s_str);o_msg.add_headers(header);break;case 69:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 70:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 71:var headers=tsip_header_Route.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 72:var header=tsip_header_RSeq.prototype.Parse(s_str);o_msg.add_headers(header);break;case 73:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 74:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 75:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 76:var header=tsip_header_Server.prototype.Parse(s_str);o_msg.add_headers(header);break;case 77:var headers=tsip_header_Service_Route.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 78:var header=tsip_header_Session_Expires.prototype.Parse(s_str);o_msg.add_headers(header);break;case 79:var header=tsip_header_SIP_ETag.prototype.Parse(s_str);o_msg.add_headers(header);break;case 80:var header=tsip_header_SIP_If_Match.prototype.Parse(s_str);o_msg.add_headers(header);break;case 81:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 82:var header=tsip_header_Subscription_State.prototype.Parse(s_str);o_msg.add_headers(header);break;case 83:var header=tsip_header_Supported.prototype.Parse(s_str);o_msg.add_headers(header);break;case 84:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 85:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 86:var header=tsip_header_To.prototype.Parse(s_str);o_msg.add_headers(header);break;case 87:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break;case 88:var header=tsip_header_User_Agent.prototype.Parse(s_str);o_msg.add_headers(header);break;case 89:var headers=tsip_header_Via.prototype.Parse(s_str);if(headers){for(var i=0;i<headers.length;++i){o_msg.add_header(headers[i])}}break;case 90:var header=tsip_header_Warning.prototype.Parse(s_str);o_msg.add_headers(header);break;case 91:var header=tsip_header_WWW_Authenticate.prototype.Parse(s_str);o_msg.add_headers(header);p=pe-1;break;case 92:var header=tsip_header_Dummy.prototype.Parse(s_str);o_msg.add_headers(header);break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){}if(_goto_level<=_out){break}}}if(cs<1395){tsk_utils_log_error("Failed to parse header: "+s_str);return-2}return 0}tsip_transac.prototype.__magic_cookie="z9hG4bK";var tsip_transac_event_type_e={INCOMING_MSG:0,OUTGOING_MSG:1,CANCELED:2,TERMINATED:3,TIMEDOUT:4,ERROR:5,TRANSPORT_ERROR:6};var tsip_transac_type_e={NONE:-1,ICT:0,IST:1,NICT:2,NIST:3};function tsip_transac(){this.e_type=tsip_transac_type_e.NONE;this.o_dialog=null;this.o_fsm=null;this.b_reliable=true;this.b_running=false;this.b_initialized=false;this.s_branch=null;this.i_cseq_value=0;this.s_cseq_method=null;this.s_callid=null;this.fn_callback=null;this.o_end=false}tsip_transac.prototype.init=function(e_type,b_reliable,i_cseq_value,s_cseq_method,s_callid,o_dialog,i_fsm_state_curr,i_fsm_state_term){if(!this.b_initialized){this.e_type=e_type;this.b_reliable=b_reliable;this.i_cseq_value=i_cseq_value;this.s_cseq_method=s_cseq_method;this.s_callid=s_callid;this.o_dialog=o_dialog;this.o_fsm=new tsk_fsm(i_fsm_state_curr,i_fsm_state_term,null,this);this.b_initialized=true}return 0};tsip_transac.prototype.deinit=function(){this.get_stack().o_layer_transac.remove(this);this.b_initialized=false;return 0};tsip_transac.prototype.deinit=function(){if(this.s_cseq_method=="MESSAGE"&&this.o_end){tsk_utils_log_info("tsip_transac --- >> remove MESSAGE");this.get_stack().o_layer_transac.remove(this);this.b_initialized=false}else{tsk_utils_log_info("tsip_transac --- >> deinit "+this.s_cseq_method);this.get_stack().o_layer_transac.remove(this);this.b_initialized=false}return 0};tsip_transac.prototype.timer_schedule=function(T,N){tsk_utils_log_info(" T: "+T+" ,N: "+N+", type:"+this.s_cseq_method+", : "+this.i_cseq_value);var This=this;var s_code=tsk_string_format("This.o_timer{1} = setTimeout(function(){ __tsip_transac_{0}_timer_callback(This, This.o_timer{1})}, This.i_timer{1});",T,N);eval(s_code)};tsip_transac.prototype.timer_cancel=function(N){tsk_utils_log_info(" N: "+N+", type:"+this.s_cseq_method+", : "+this.i_cseq_value);var s_code=tsk_string_format("if(this.o_timer{0}) { clearTimeout(this.o_timer{0}); this.o_timer{0} = null; }",N);eval(s_code)};tsip_transac.prototype.set_callback=function(fn_callback){this.fn_callback=fn_callback};tsip_transac.prototype.send=function(s_branch,o_message){return this.get_stack().o_layer_transport.send(s_branch,o_message)};tsip_transac.prototype.callback=function(e_event_type,o_message){if(this.fn_callback){return this.fn_callback(this,e_event_type,o_message)}tsk_utils_log_error("Invalid callback function");return-1};tsip_transac.prototype.get_type=function(){return this.e_type};tsip_transac.prototype.get_fsm=function(){return this.o_fsm};tsip_transac.prototype.get_dialog=function(){return this.o_dialog};tsip_transac.prototype.get_session=function(){if(this.o_dialog){return this.o_dialog.o_session}return null};tsip_transac.prototype.get_stack=function(){var o_session=this.get_session();if(o_session){return o_session.o_stack}return null};tsip_transac.prototype.fsm_act=function(i_action,o_message){if(!this.o_fsm){tsk_utils_log_error("Invalid argument");return-1}return this.o_fsm.act(i_action,this,o_message,this,o_message)};tsip_transac.prototype.send=function(s_branch,o_message){var o_stack=this.get_stack();if(!o_stack||!o_stack.o_layer_transport){tsk_utils_log_error("Invalid state");return-1}return o_stack.o_layer_transport.send(s_branch,o_message)};tsip_transac.prototype.compare=function(transac){return tsip_transac_compare(this,transac)};function tsip_transac_compare(o_transac1,o_transac2){if(o_transac1&&o_transac2){if(o_transac1.s_branch==o_transac2.s_branch&&o_transac1.s_cseq_method==o_transac2.s_cseq_method){return 0}}return-1}tsip_transac_ict.prototype=Object.create(tsip_transac.prototype);tsip_transac_ict.prototype.__b_debug_state_machine=false;var tsip_transac_ict_actions_e={CANCEL:tsip_action_type_e.CANCEL,SEND:10001,TIMER_A:10002,TIMER_B:10003,TIMER_D:10004,TIMER_M:10005,I_1XX:10006,I_2XX:10007,I_300_to_699:10008,TRANSPOR_TERROR:10009,ERROR:10010};var tsip_transac_ict_states_e={STARTED:0,CALLING:1,PROCEEDING:2,COMPLETED:3,ACCEPTED:4,TERMINATED:5};function tsip_transac_ict(b_reliable,i_cseq_value,s_callid,o_dialog){var o_stack;if(!o_dialog||!(o_stack=o_dialog.get_stack())){tsk_utils_log_error("Invalid argument");return null}tsip_transac.call(this);this.init(tsip_transac_type_e.ICT,b_reliable,i_cseq_value,"INVITE",s_callid,o_dialog,tsip_transac_ict_states_e.STARTED,tsip_transac_ict_states_e.TERMINATED);this.set_callback(__tsip_transac_ict_event_callback);this.o_fsm.set_debug_enabled(tsip_transac_ict.prototype.__b_debug_state_machine);this.o_fsm.set_onterm_callback(__tsip_transac_ict_onterm,this);this.o_timerA=null;this.o_timerB=null;this.o_timerD=null;this.o_timerM=null;this.i_timerA=o_stack.o_timers.getA();this.i_timerB=o_stack.o_timers.getB();this.i_timerD=b_reliable?0:o_stack.o_timers.getD();this.i_timerM=o_stack.o_timers.getM();this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.STARTED,tsip_transac_ict_actions_e.SEND,tsip_transac_ict_states_e.CALLING,__tsip_transac_ict_Started_2_Calling_X_send,"tsip_transac_ict_Started_2_Calling_X_send"),tsk_fsm_entry.prototype.CreateAlwaysNothing(tsip_transac_ict_states_e.STARTED,"tsip_transac_ict_Started_2_Started_X_any"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.CALLING,tsip_transac_ict_actions_e.TIMER_A,tsip_transac_ict_states_e.CALLING,__tsip_transac_ict_Calling_2_Calling_X_timerA,"tsip_transac_ict_Calling_2_Calling_X_timerA"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.CALLING,tsip_transac_ict_actions_e.TIMER_B,tsip_transac_ict_states_e.TERMINATED,__tsip_transac_ict_Calling_2_Terminated_X_timerB,"tsip_transac_ict_Calling_2_Terminated_X_timerB"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.CALLING,tsip_transac_ict_actions_e.I_300_to_699,tsip_transac_ict_states_e.COMPLETED,__tsip_transac_ict_Calling_2_Completed_X_300_to_699,"tsip_transac_ict_Calling_2_Completed_X_300_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.CALLING,tsip_transac_ict_actions_e.I_1XX,tsip_transac_ict_states_e.PROCEEDING,__tsip_transac_ict_Calling_2_Proceeding_X_1xx,"tsip_transac_ict_Calling_2_Proceeding_X_1xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.CALLING,tsip_transac_ict_actions_e.I_2XX,tsip_transac_ict_states_e.ACCEPTED,__tsip_transac_ict_Calling_2_Accepted_X_2xx,"tsip_transac_ict_Calling_2_Accepted_X_2xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.PROCEEDING,tsip_transac_ict_actions_e.TIMER_B,tsip_transac_ict_states_e.TERMINATED,__tsip_transac_ict_Calling_2_Terminated_X_timerB,"tsip_transac_ict_Calling_2_Terminated_X_timerB"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.PROCEEDING,tsip_transac_ict_actions_e.I_1XX,tsip_transac_ict_states_e.PROCEEDING,__tsip_transac_ict_Proceeding_2_Proceeding_X_1xx,"tsip_transac_ict_Proceeding_2_Proceeding_X_1xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.PROCEEDING,tsip_transac_ict_actions_e.I_300_to_699,tsip_transac_ict_states_e.COMPLETED,__tsip_transac_ict_Proceeding_2_Completed_X_300_to_699,"tsip_transac_ict_Proceeding_2_Completed_X_300_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.PROCEEDING,tsip_transac_ict_actions_e.I_2XX,tsip_transac_ict_states_e.ACCEPTED,__tsip_transac_ict_Proceeding_2_Accepted_X_2xx,"tsip_transac_ict_Proceeding_2_Accepted_X_2xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.COMPLETED,tsip_transac_ict_actions_e.I_300_to_699,tsip_transac_ict_states_e.COMPLETED,__tsip_transac_ict_Completed_2_Completed_X_300_to_699,"tsip_transac_ict_Completed_2_Completed_X_300_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.COMPLETED,tsip_transac_ict_actions_e.TIMER_D,tsip_transac_ict_states_e.TERMINATED,__tsip_transac_ict_Completed_2_Terminated_X_timerD,"tsip_transac_ict_Completed_2_Terminated_X_timerD"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.ACCEPTED,tsip_transac_ict_actions_e.I_2XX,tsip_transac_ict_states_e.ACCEPTED,__tsip_transac_ict_Accepted_2_Accepted_X_2xx,"tsip_transac_ict_Accepted_2_Accepted_X_2xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ict_states_e.ACCEPTED,tsip_transac_ict_actions_e.TIMER_M,tsip_transac_ict_states_e.TERMINATED,__tsip_transac_ict_Accepted_2_Terminated_X_timerM,"tsip_transac_ict_Accepted_2_Terminated_X_timerM"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_ict_actions_e.TRANSPORT_ERROR,tsip_transac_ict_states_e.TERMINATED,__tsip_transac_ict_Any_2_Terminated_X_transportError,"tsip_transac_ict_Any_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_ict_actions_e.ERROR,tsip_transac_ict_states_e.TERMINATED,__tsip_transac_ict_Any_2_Terminated_X_Error,"tsip_transac_ict_Any_2_Terminated_X_Error"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_ict_actions_e.CANCEL,tsip_transac_ict_states_e.TERMINATED,__tsip_transac_ict_Any_2_Terminated_X_cancel,"tsip_transac_ict_Any_2_Terminated_X_cancel"))}tsip_transac_ict.prototype.start=function(o_request){var i_ret=-1;if(o_request&&!this.b_running){this.s_branch=tsk_string_format("{0}{1}",tsip_transac.prototype.__magic_cookie,tsk_string_random(32));this.b_running=true;this.o_request=o_request;i_ret=this.fsm_act(tsip_transac_ict_actions_e.SEND,o_request)}return i_ret};tsip_transac_ict.prototype.send_ack=function(o_response){if(!this.o_request||!o_response){tsk_utils_log_error("Invalid state");return-1}if(!this.o_request.o_hdr_firstVia||!this.o_request.o_hdr_From||!this.o_request.line.request.o_uri||!this.o_request.o_hdr_Call_ID||!this.o_request.o_hdr_CSeq){tsk_utils_log_error("Invalid INVITE message");return-2}if(!o_response.o_hdr_To){tsk_utils_log_error("Invalid response message");return-3}var i_ret=-1;var o_request=null;if(o_request=new tsip_request("ACK",this.o_request.line.request.o_uri,this.o_request.o_hdr_From.o_uri,o_response.o_hdr_To.o_uri,this.o_request.o_hdr_Call_ID.s_value,this.o_request.o_hdr_CSeq.i_seq)){o_request.o_hdr_firstVia=this.o_request.o_hdr_firstVia;if(o_request.o_hdr_From){o_request.o_hdr_From.s_tag=this.o_request.o_hdr_From.s_tag}if(o_request.o_hdr_To){o_request.o_hdr_To.s_tag=o_response.o_hdr_To.s_tag}if(this.get_stack().network.e_proxy_cscf_type==tsip_transport_type_e.WS||this.get_stack().network.e_proxy_cscf_type==tsip_transport_type_e.WSS){var s_proxy_outbound=this.get_stack().__get_proxy_outbound_uri_string();if(s_proxy_outbound){o_request.add_header(new tsip_header_Dummy("Route",s_proxy_outbound),true)}}for(var i=0;i<this.o_request.ao_headers.length;++i){if(this.o_request.ao_headers[i].e_type==tsip_header_type_e.Route){o_request.add_header(this.o_request.ao_headers[i])}}o_request.s_sigcomp_id=this.get_session().s_sigcomp_id;
i_ret=this.send(o_request.o_hdr_firstVia.s_branch,o_request)}return i_ret};function __tsip_transac_ict_Started_2_Calling_X_send(ao_args){tsk_utils_log_info("__tsip_transac_ict_Started_2_Calling_X_send");var o_transac=ao_args[0];o_transac.timer_schedule("ict","B");o_transac.send(o_transac.s_branch,o_transac.o_request);if(!o_transac.b_reliable){o_transac.timer_schedule("ict","A")}return 0}function __tsip_transac_ict_Calling_2_Calling_X_timerA(ao_args){tsk_utils_log_info("__tsip_transac_ict_Calling_2_Calling_X_timerA");var o_transac=ao_args[0];o_transac.send(o_transac.s_branch,o_transac.o_request);o_transac.i_timerA<<=1;o_transac.timer_schedule("ict","A");return 0}function __tsip_transac_ict_Calling_2_Terminated_X_timerB(ao_args){tsk_utils_log_info("__tsip_transac_ict_Calling_2_Terminated_X_timerB");var o_transac=ao_args[0];o_transac.get_dialog().callback(tsip_dialog_event_type_e.TIMEDOUT,o_transac.o_request);return 0}function __tsip_transac_ict_Calling_2_Completed_X_300_to_699(ao_args){tsk_utils_log_info("__tsip_transac_ict_Calling_2_Completed_X_300_to_699");var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;if(!o_transac.b_reliable){o_transac.timer_cancel("A")}o_transac.timer_cancel("B");o_transac.timer_schedule("ict","D");if((i_ret=o_transac.send_ack(o_response))<=0){return i_ret}return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_response)}function __tsip_transac_ict_Calling_2_Proceeding_X_1xx(ao_args){tsk_utils_log_info("__tsip_transac_ict_Calling_2_Proceeding_X_1xx");var o_transac=ao_args[0];var o_response=ao_args[1];if(!o_transac.b_reliable){o_transac.timer_cancel("A")}return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_response)}function __tsip_transac_ict_Calling_2_Accepted_X_2xx(ao_args){tsk_utils_log_info("__tsip_transac_ict_Calling_2_Accepted_X_2xx");var o_transac=ao_args[0];var o_response=ao_args[1];o_transac.timer_schedule("ict","M");if(!o_transac.b_reliable){o_transac.timer_schedule("ict","A")}o_transac.timer_schedule("ict","B");return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_response)}function __tsip_transac_ict_Proceeding_2_Proceeding_X_1xx(ao_args){tsk_utils_log_info("__tsip_transac_ict_Proceeding_2_Proceeding_X_1xx");var o_transac=ao_args[0];var o_response=ao_args[1];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_response)}function __tsip_transac_ict_Proceeding_2_Completed_X_300_to_699(ao_args){tsk_utils_log_info("__tsip_transac_ict_Proceeding_2_Completed_X_300_to_699");var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;if(!o_transac.b_reliable){o_transac.timer_cancel("A")}o_transac.timer_cancel("B");o_transac.timer_schedule("ict","D");if((i_ret=o_transac.send_ack(o_response))<=0){return i_ret}return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_response)}function __tsip_transac_ict_Proceeding_2_Accepted_X_2xx(ao_args){tsk_utils_log_info("__tsip_transac_ict_Proceeding_2_Accepted_X_2xx");var o_transac=ao_args[0];var o_response=ao_args[1];o_transac.timer_schedule("ict","M");if(!o_transac.b_reliable){o_transac.timer_cancel("ict","A")}o_transac.timer_cancel("B");return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_response)}function __tsip_transac_ict_Completed_2_Completed_X_300_to_699(ao_args){tsk_utils_log_info("__tsip_transac_ict_Completed_2_Completed_X_300_to_699");var o_transac=ao_args[0];var o_response=ao_args[1];return o_transac.send_ack(o_response)<=0?-1:0}function __tsip_transac_ict_Completed_2_Terminated_X_timerD(ao_args){return 0}function __tsip_transac_ict_Accepted_2_Accepted_X_2xx(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_response)}function __tsip_transac_ict_Accepted_2_Terminated_X_timerM(ao_args){return 0}function __tsip_transac_ict_Any_2_Terminated_X_transportError(ao_args){var o_transac=ao_args[0];var o_message=ao_args[1];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,o_message)}function __tsip_transac_ict_Any_2_Terminated_X_Error(ao_args){var o_transac=ao_args[0];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.ERROR,null)}function __tsip_transac_ict_Any_2_Terminated_X_cancel(ao_args){return 0}function __tsip_transac_ict_onterm(o_self){if(o_self.o_fsm.i_ret_exec==0){tsk_utils_log_warn("__tsip_transac_ict_onterm clean timer");o_self.timer_cancel("A");o_self.timer_cancel("B");o_self.timer_cancel("D");o_self.timer_cancel("M")}else{o_self.fsm_act(tsip_transac_ict_actions_e.TRANSPORT_ERROR,"send request failed")}return o_self.deinit()}function __tsip_transac_ict_event_callback(o_self,e_event_type,o_message){if(!o_self){tsk_utils_log_error("Invalid argument");return-1}var i_ret=0;switch(e_event_type){case tsip_transac_event_type_e.INCOMING_MSG:{if(o_message&&o_message.is_response()){if(o_message.is_1xx()){i_ret=o_self.fsm_act(tsip_transac_ict_actions_e.I_1XX,o_message)}else if(o_message.is_2xx()){i_ret=o_self.fsm_act(tsip_transac_ict_actions_e.I_2XX,o_message)}else if(o_message.is_3456()){i_ret=o_self.fsm_act(tsip_transac_ict_actions_e.I_300_to_699,o_message)}else{tsk_utils_log_warn("Not supported status code: "+o_message.get_response_code())}}break}case tsip_transac_event_type_e.CANCELED:case tsip_transac_event_type_e.TERMINATED:case tsip_transac_event_type_e.TIMEDOUT:break;case tsip_transac_event_type_e.ERROR:{i_ret=o_self.fsm_act(tsip_transac_ict_actions_e.ERROR,o_message);break}case tsip_transac_event_type_e.TRANSPORT_ERROR:{i_ret=o_self.fsm_act(tsip_transac_ict_actions_e.TRANSPORT_ERROR,o_message);break}}return i_ret}function __tsip_transac_ict_timer_callback(o_self,o_timer){if(o_self){if(o_timer==o_self.o_timerA){o_self.fsm_act(tsip_transac_ict_actions_e.TIMER_A,null)}else if(o_timer==o_self.o_timerB){tsk_utils_log_info(" B, type:"+o_self.s_cseq_method+", : "+o_self.i_cseq_value);o_self.fsm_act(tsip_transac_ict_actions_e.TIMER_B,null)}else if(o_timer==o_self.o_timerD){o_self.fsm_act(tsip_transac_ict_actions_e.TIMER_D,null)}else if(o_timer==o_self.o_timerM){o_self.fsm_act(tsip_transac_ict_actions_e.TIMER_M,null)}}}tsip_transac_ist.prototype=Object.create(tsip_transac.prototype);tsip_transac_ist.prototype.__b_debug_state_machine=true;var tsip_transac_ist_actions_e={CANCEL:tsip_action_type_e.CANCEL,RECV_INVITE:10001,RECV_ACK:10002,SEND_1XX:10003,SEND_2XX:10004,SEND_300_to_699:10005,SEND_NON1XX:10006,TIMER_H:10007,TIMER_I:10008,TIMER_G:10009,TIMER_L:10010,TIMER_X:10011,TRANSPORT_ERROR:10012,ERROR:10013};var tsip_transac_ist_states_e={STARTED:0,PROCEEDING:1,COMPLETED:2,ACCEPTED:3,CONFIRMED:4,TERMINATED:5};function tsip_transac_ist(b_reliable,i_cseq_value,s_callid,o_dialog){var o_stack;if(!o_dialog||!(o_stack=o_dialog.get_stack())){tsk_utils_log_error("Invalid argument");return null}tsip_transac.call(this);this.o_lastResponse=null;this.init(tsip_transac_type_e.IST,b_reliable,i_cseq_value,"INVITE",s_callid,o_dialog,tsip_transac_ist_states_e.STARTED,tsip_transac_ist_states_e.TERMINATED);this.set_callback(__tsip_transac_ist_event_callback);this.o_fsm.set_debug_enabled(tsip_transac_ist.prototype.__b_debug_state_machine);this.o_fsm.set_onterm_callback(__tsip_transac_ist_onterm,this);this.o_timerH=null;this.o_timerI=null;this.o_timerG=null;this.o_timerL=null;this.o_timerX=null;this.i_timerH=o_stack.o_timers.getH();this.i_timerI=b_reliable?0:o_stack.o_timers.getI();this.i_timerG=o_stack.o_timers.getG();this.i_timerL=o_stack.o_timers.getL();this.i_timerX=o_stack.o_timers.getG();this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.STARTED,tsip_transac_ist_actions_e.RECV_INVITE,tsip_transac_ist_states_e.PROCEEDING,__tsip_transac_ist_Started_2_Proceeding_X_INVITE,"tsip_transac_ist_Started_2_Proceeding_X_INVITE"),tsk_fsm_entry.prototype.CreateAlwaysNothing(tsip_transac_ist_states_e.STARTED,"tsip_transac_ist_Started_2_Started_X_any"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.PROCEEDING,tsip_transac_ist_actions_e.RECV_INVITE,tsip_transac_ist_states_e.PROCEEDING,__tsip_transac_ist_Proceeding_2_Proceeding_X_INVITE,"tsip_transac_ist_Proceeding_2_Proceeding_X_INVITE"),tsk_fsm_entry.prototype.Create(tsip_transac_ist_states_e.PROCEEDING,tsip_transac_ist_actions_e.SEND_1XX,__tsip_transac_ist_cond_is_resp2invite,tsip_transac_ist_states_e.PROCEEDING,__tsip_transac_ist_Proceeding_2_Proceeding_X_1xx,"tsip_transac_ist_Proceeding_2_Proceeding_X_1xx"),tsk_fsm_entry.prototype.Create(tsip_transac_ist_states_e.PROCEEDING,tsip_transac_ist_actions_e.SEND_300_to_699,__tsip_transac_ist_cond_is_resp2invite,tsip_transac_ist_states_e.COMPLETED,__tsip_transac_ist_Proceeding_2_Completed_X_300_to_699,"tsip_transac_ist_Proceeding_2_Completed_X_300_to_699"),tsk_fsm_entry.prototype.Create(tsip_transac_ist_states_e.PROCEEDING,tsip_transac_ist_actions_e.SEND_2XX,__tsip_transac_ist_cond_is_resp2invite,tsip_transac_ist_states_e.ACCEPTED,__tsip_transac_ist_Proceeding_2_Accepted_X_2xx,"tsip_transac_ist_Proceeding_2_Accepted_X_2xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.COMPLETED,tsip_transac_ist_actions_e.RECV_INVITE,tsip_transac_ist_states_e.COMPLETED,__tsip_transac_ist_Completed_2_Completed_INVITE,"tsip_transac_ist_Completed_2_Completed_INVITE"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.COMPLETED,tsip_transac_ist_actions_e.TIMER_G,tsip_transac_ist_states_e.COMPLETED,__tsip_transac_ist_Completed_2_Completed_timerG,"tsip_transac_ist_Completed_2_Completed_timerG"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.COMPLETED,tsip_transac_ist_actions_e.TIMER_H,tsip_transac_ist_states_e.TERMINATED,__tsip_transac_ist_Completed_2_Terminated_timerH,"tsip_transac_ist_Completed_2_Terminated_timerH"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.COMPLETED,tsip_transac_ist_actions_e.RECV_ACK,tsip_transac_ist_states_e.CONFIRMED,__tsip_transac_ist_Completed_2_Confirmed_ACK,"tsip_transac_ist_Completed_2_Confirmed_ACK"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.ACCEPTED,tsip_transac_ist_actions_e.RECV_INVITE,tsip_transac_ist_states_e.ACCEPTED,__tsip_transac_ist_Accepted_2_Accepted_INVITE,"tsip_transac_ist_Accepted_2_Accepted_INVITE"),tsk_fsm_entry.prototype.Create(tsip_transac_ist_states_e.ACCEPTED,tsip_transac_ist_actions_e.SEND_2XX,__tsip_transac_ist_cond_is_resp2invite,tsip_transac_ist_states_e.ACCEPTED,__tsip_transac_ist_Accepted_2_Accepted_2xx,"tsip_transac_ist_Accepted_2_Accepted_2xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.ACCEPTED,tsip_transac_ist_actions_e.TIMER_X,tsip_transac_ist_states_e.ACCEPTED,__tsip_transac_ist_Accepted_2_Accepted_timerX,"tsip_transac_ist_Accepted_2_Accepted_timerX"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.ACCEPTED,tsip_transac_ist_actions_e.RECV_ACK,tsip_transac_ist_states_e.ACCEPTED,__tsip_transac_ist_Accepted_2_Accepted_iACK,"tsip_transac_ist_Accepted_2_Accepted_iACK"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.ACCEPTED,tsip_transac_ist_actions_e.TIMER_L,tsip_transac_ist_states_e.TERMINATED,__tsip_transac_ist_Accepted_2_Terminated_timerL,"tsip_transac_ist_Accepted_2_Terminated_timerL"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_ist_states_e.CONFIRMED,tsip_transac_ist_actions_e.TIMER_I,tsip_transac_ist_states_e.TERMINATED,__tsip_transac_ist_Confirmed_2_Terminated_timerI,"tsip_transac_ist_Confirmed_2_Terminated_timerI"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_ist_actions_e.TRANSPORT_ERROR,tsip_transac_ist_states_e.TERMINATED,__tsip_transac_ist_Any_2_Terminated_X_transportError,"tsip_transac_ist_Any_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_ist_actions_e.ERROR,tsip_transac_ist_states_e.TERMINATED,__tsip_transac_ist_Any_2_Terminated_X_Error,"tsip_transac_ist_Any_2_Terminated_X_Error"))}tsip_transac_ist.prototype.start=function(o_request){var i_ret=-1;if(o_request&&!this.b_running){this.b_running=true;i_ret=this.fsm_act(tsip_transac_ist_actions_e.RECV_INVITE,o_request)}return i_ret};tsip_transac_ist.prototype.set_last_response=function(o_response){this.o_lastResponse=o_response};function __tsip_transac_ist_cond_is_resp2invite(o_transac,o_message){return o_message.is_response_to_invite()}function tsip_transac_ist_Started_2_Proceeding_X_INVITE(ao_args){tsk_utils_log_info("tsip_transac_ist_Started_2_Proceeding_X_INVITE ... ");var o_transac=ao_args[0];var o_request=ao_args[1];var i_ret=-1;if(o_request){var o_response;if(o_response=new tsip_response(100,"Trying (sent from the Transaction Layer)",o_request)){i_ret=o_transac.send(o_transac.s_branch,o_response)>0?0:-1;o_transac.set_last_response(o_response)}}if(i_ret==0){i_ret=o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_request)}return i_ret}function __tsip_transac_ist_Started_2_Proceeding_X_INVITE(ao_args){tsk_utils_log_info("__tsip_transac_ist_Started_2_Proceeding_X_INVITE");inviteQueue.push(ao_args);tsk_utils_log_info(" length: "+inviteQueue.length);if(inviteQueue.length==1){tsip_transac_ist_Started_2_Proceeding_X_INVITE(ao_args)}return 0}function __tsip_transac_ist_Proceeding_2_Proceeding_X_INVITE(ao_args){var o_transac=ao_args[0];var i_ret=-1;if(o_transac.o_lastResponse){i_ret=o_transac.send(o_transac.s_branch,o_transac.o_lastResponse)>0?0:-1}return i_ret}function __tsip_transac_ist_Proceeding_2_Proceeding_X_1xx(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;i_ret=o_transac.send(o_transac.s_branch,o_response)>0?0:-1;o_transac.set_last_response(o_response);return i_ret}function __tsip_transac_ist_Proceeding_2_Completed_X_300_to_699(ao_args){tsk_utils_log_info("__tsip_transac_ist_Proceeding_2_Completed_X_300_to_699");tsk_utils_log_info(" length: "+inviteQueue.length);if(inviteQueue.length>0){inviteQueue.length=0}var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;if(!o_transac.b_reliable){o_transac.timer_schedule("ist","G")}i_ret=o_transac.send(o_transac.s_branch,o_response)>0?0:-1;o_transac.set_last_response(o_response);o_transac.timer_schedule("ist","H");return i_ret}function __tsip_transac_ist_Proceeding_2_Accepted_X_2xx(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;i_ret=o_transac.send(o_transac.s_branch,o_response)>0?0:-1;o_transac.set_last_response(o_response);o_transac.timer_schedule("ist","X");o_transac.i_timerX<<=1;o_transac.timer_schedule("ist","L");return i_ret}function __tsip_transac_ist_Completed_2_Completed_INVITE(ao_args){var o_transac=ao_args[0];var i_ret;if(o_transac.o_lastResponse){i_ret=o_transac.send(o_transac.s_branch,o_transac.o_lastResponse)>0?0:-1}return i_ret}function __tsip_transac_ist_Completed_2_Completed_timerG(ao_args){var o_transac=ao_args[0];var i_ret;if(o_transac.o_lastResponse){i_ret=o_transac.send(o_transac.s_branch,o_transac.o_lastResponse)>0?0:-1}o_transac.i_timerG=Math.min(o_transac.i_timerG<<1,o_transac.get_stack().o_timers.getT2());o_transac.timer_schedule("ist","G");return i_ret}function __tsip_transac_ist_Completed_2_Terminated_timerH(ao_args){var o_transac=ao_args[0];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,null)}function __tsip_transac_ist_Completed_2_Confirmed_ACK(ao_args){var o_transac=ao_args[0];o_transac.timer_cancel("G");o_transac.timer_schedule("ist","I");return 0}function __tsip_transac_ist_Accepted_2_Accepted_INVITE(ao_args){var o_transac=ao_args[0];if(o_transac.o_lastResponse){return o_transac.send(o_transac.s_branch,o_transac.o_lastResponse)>0?0:-1}return 0}function __tsip_transac_ist_Accepted_2_Accepted_2xx(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;i_ret=o_transac.send(o_transac.s_branch,o_response)>0?0:-1;o_transac.set_last_response(o_response);return i_ret}function __tsip_transac_ist_Accepted_2_Accepted_timerX(ao_args){var o_transac=ao_args[0];if(o_transac.o_lastResponse){var i_ret=o_transac.send(o_transac.s_branch,o_transac.o_lastResponse)>0?0:-1;if(i_ret==0){o_transac.i_timerX<<=1;o_transac.timer_schedule("ist","X")}return i_ret}return 0}function __tsip_transac_ist_Accepted_2_Accepted_iACK(ao_args){tsk_utils_log_info("__tsip_transac_ist_Accepted_2_Accepted_iACK");inviteQueue.shift();tsk_utils_log_info(" length: "+inviteQueue.length);if(inviteQueue.length>0){tsip_transac_ist_Started_2_Proceeding_X_INVITE(inviteQueue[0])}var o_transac=ao_args[0];var o_request=ao_args[1];o_transac.timer_cancel("X");return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_request)}function __tsip_transac_ist_Accepted_2_Terminated_timerL(ao_args){return 0}function __tsip_transac_ist_Confirmed_2_Terminated_timerI(ao_args){return 0}function __tsip_transac_ist_Any_2_Terminated_X_transportError(ao_args){var o_transac=ao_args[0];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,null)}function __tsip_transac_ist_Any_2_Terminated_X_Error(ao_args){var o_transac=ao_args[0];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.ERROR,null)}function __tsip_transac_ist_Any_2_Terminated_X_cancel(ao_args){return 0}function __tsip_transac_ist_onterm(o_self){o_self.timer_cancel("H");o_self.timer_cancel("I");o_self.timer_cancel("G");o_self.timer_cancel("L");o_self.timer_cancel("X");return o_self.deinit()}function __tsip_transac_ist_event_callback(o_self,e_event_type,o_message){if(!o_self){tsk_utils_log_error("Invalid argument");return-1}var i_ret=-1;switch(e_event_type){case tsip_transac_event_type_e.INCOMING_MSG:{if(o_message&&o_message.is_request()){if(o_message.is_invite()){i_ret=o_self.fsm_act(tsip_transac_ist_actions_e.RECV_INVITE,o_message)}else if(o_message.is_ack()){i_ret=o_self.fsm_act(tsip_transac_ist_actions_e.RECV_ACK,o_message)}}break}case tsip_transac_event_type_e.OUTGOING_MSG:{if(o_message&&o_message.is_response()){if(o_message.is_1xx()){i_ret=o_self.fsm_act(tsip_transac_ist_actions_e.SEND_1XX,o_message)}else if(o_message.is_2xx()){i_ret=o_self.fsm_act(tsip_transac_ist_actions_e.SEND_2XX,o_message)}else if(o_message.is_3456()){i_ret=o_self.fsm_act(tsip_transac_ist_actions_e.SEND_300_to_699,o_message)}}break}case tsip_transac_event_type_e.CANCELED:case tsip_transac_event_type_e.TERMINATED:case tsip_transac_event_type_e.TIMEDOUT:break;case tsip_transac_event_type_e.ERROR:{i_ret=o_self.fsm_act(tsip_transac_ist_actions_e.ERROR,o_message);break}case tsip_transac_event_type_e.TRANSPORT_ERROR:{i_ret=o_self.fsm_act(tsip_transac_ist_actions_e.TRANSPORT_ERROR,o_message);break}}return i_ret}function __tsip_transac_ist_timer_callback(o_self,o_timer){if(o_self){if(o_timer==o_self.o_timerH){o_self.fsm_act(tsip_transac_ist_actions_e.TIMER_H,null)}else if(o_timer==o_self.o_timerI){o_self.fsm_act(tsip_transac_ist_actions_e.TIMER_I,null)}else if(o_timer==o_self.o_timerG){o_self.fsm_act(tsip_transac_ist_actions_e.TIMER_G,null)}else if(o_timer==o_self.o_timerL){o_self.fsm_act(tsip_transac_ist_actions_e.TIMER_L,null)}else if(o_timer==o_self.o_timerX){o_self.fsm_act(tsip_transac_ist_actions_e.TIMER_X,null)}}}function tsip_transac_layer(o_stack){if(!o_stack){tsk_utils_log_error("Invalid argument");return null}this.o_stack=o_stack;this.ao_transacs=new Array}tsip_transac_layer.prototype.transac_new=function(b_is_ct,o_message,o_dialog){if(!o_message||!o_message.o_hdr_CSeq||!o_message.o_hdr_Call_ID){tsk_utils_log_error("Invalid argument");return null}var o_transac=null;while(this.b_locked){tsk_utils_log_info("this.b_locked is deleted")}this.b_locked=true;var b_reliable=true;if(this.o_stack&&this.o_stack.o_layer_transport&&this.o_stack.o_layer_transport.ao_transports&&this.o_stack.o_layer_transport.ao_transports.length>0){b_reliable=this.o_stack.o_layer_transport.ao_transports[0].is_reliable()}else{this.b_locked=false;tsk_utils_log_warn("transport stoped already");return null}if(o_message){if(o_message.is_request()){if(b_is_ct){if(o_message.is_invite()){o_transac=new tsip_transac_ict(b_reliable,o_message.o_hdr_CSeq.i_seq,o_message.o_hdr_Call_ID.s_value,o_dialog)}else{o_transac=new tsip_transac_nict(b_reliable,o_message.o_hdr_CSeq.i_seq,o_message.o_hdr_CSeq.s_method,o_message.o_hdr_Call_ID.s_value,o_dialog)}}else{if(o_message.is_invite()){o_transac=new tsip_transac_ist(b_reliable,o_message.o_hdr_CSeq.i_seq,o_message.o_hdr_Call_ID.s_value,o_dialog)}else{o_transac=new tsip_transac_nist(b_reliable,o_message.o_hdr_CSeq.i_seq,o_message.o_hdr_CSeq.s_method,o_message.o_hdr_Call_ID.s_value,o_dialog)}if(o_transac){o_transac.s_branch=o_message.o_hdr_firstVia.s_branch}}if(o_transac){tsk_utils_log_info("add new transaction: "+o_transac.i_cseq_value+" "+o_transac.s_cseq_method);this.ao_transacs.push(o_transac)}}}this.b_locked=false;return o_transac};tsip_transac_layer.prototype.indexof=function(o_transac){var i_index=-1;if(o_transac){while(this.b_locked){}tsk_utils_log_info("this.b_locked is deleted");this.b_locked=true;for(var i=0;i<this.ao_transacs.length;++i){if(o_transac==this.ao_transacs[i]){i_index=i;break}}this.b_locked=false}return i_index};tsip_transac_layer.prototype.remove=function(o_transac){if(o_transac){while(this.b_locked){tsk_utils_log_info("this.b_locked is deleted")}this.b_locked=true;for(var i=0;i<this.ao_transacs.length;++i){if(o_transac==this.ao_transacs[i]){tsk_utils_log_info("remove new transaction: "+o_transac.i_cseq_value+" "+o_transac.s_cseq_method);this.ao_transacs.splice(i,1);break}}this.b_locked=false}};tsip_transac_layer.prototype.cancel_by_dialog=function(o_dialog){if(!o_dialog){tsk_utils_log_error("Invalid argument");return-1}var o_transac=null;while(this.b_locked){tsk_utils_log_info("cancel_by_dialog this.b_locked is deleted")}this.b_locked=true;for(var i=0;i<this.ao_transacs.length;++i){o_transac=this.ao_transacs[i];if(o_dialog.compare(o_transac.get_dialog())==0){tsk_utils_log_info("cancel_by_dialog transaction : "+o_transac.i_cseq_value+" "+o_transac.s_cseq_method);setTimeout(function(){o_transac.fsm_act(tsip_action_type_e.CANCEL,null)},1);break}}this.b_locked=false;return 0};tsip_transac_layer.prototype.find_client=function(o_response){if(!o_response){tsk_utils_log_error("Invalid argument");return null}var o_ret=null;var o_transac;if(!o_response.o_hdr_firstVia||!o_response.o_hdr_CSeq){return null}while(this.b_locked){tsk_utils_log_info("find_client  lock is deleted")}this.b_locked=true;for(var i=0;i<this.ao_transacs.length;++i){o_transac=this.ao_transacs[i];if(o_transac.s_branch==o_response.o_hdr_firstVia.s_branch&&o_transac.s_cseq_method==o_response.o_hdr_CSeq.s_method){o_ret=o_transac;break}}this.b_locked=false;return o_ret};tsip_transac_layer.prototype.find_server=function(o_message){var o_ret=null;var o_transac;if(!o_message.o_hdr_firstVia||!o_message.o_hdr_CSeq||!o_message.o_hdr_Call_ID){return null}while(this.b_locked){tsk_utils_log_info("find_server this.b_locked is deleted")}this.b_locked=true;for(var i=0;i<this.ao_transacs.length;++i){o_transac=this.ao_transacs[i];if(o_message.is_ack()&&o_transac.s_callid==o_message.o_hdr_Call_ID.s_value){if(tsk_string_iequals(o_transac.s_cseq_method,"INVITE")&&o_message.o_hdr_CSeq.i_seq==o_transac.i_cseq_value){o_ret=o_transac;break}}else if(tsk_string_equals(o_transac.s_branch,o_message.o_hdr_firstVia.s_branch)&&1==1){if(tsk_string_equals(o_transac.s_cseq_method,o_message.o_hdr_CSeq.s_method)){o_ret=o_transac;break}else if(o_message.is_cancel()||o_message.is_response_to_cancel()){o_ret=o_transac;break}}}this.b_locked=false;return o_ret};tsip_transac_layer.prototype.handle_incoming_message=function(o_message){if(!o_message){tsk_utils_log_error("Invalid argument");return-1}var i_ret=-1;var o_transac=null;if(o_message.is_request()){o_transac=this.find_server(o_message)}else{o_transac=this.find_client(o_message)}if(o_transac){i_ret=o_transac.callback(tsip_transac_event_type_e.INCOMING_MSG,o_message)}return i_ret};tsip_transac_nict.prototype=Object.create(tsip_transac.prototype);tsip_transac_nict.prototype.__b_debug_state_machine=true;var tsip_transac_nict_actions_e={CANCEL:tsip_action_type_e.CANCEL,SEND:10001,TIMER_E:10002,TIMER_F:10003,TIMER_K:10004,I_1xx:10005,I_200_to_699:10006,TRANSPORT_ERROR:10007,ERROR:10008};var tsip_transac_nict_states_e={STARTED:0,TRYING:1,PROCEEDING:2,COMPLETED:3,TERMINATED:4};function tsip_transac_nict(b_reliable,i_cseq_value,s_cseq_method,s_callid,o_dialog){var o_stack;if(!o_dialog||!(o_stack=o_dialog.get_stack())){tsk_utils_log_error("Invalid argument");return null}tsip_transac.call(this);this.o_request=null;this.init(tsip_transac_type_e.NICT,b_reliable,i_cseq_value,s_cseq_method,s_callid,o_dialog,tsip_transac_nict_states_e.STARTED,tsip_transac_nict_states_e.TERMINATED);this.set_callback(__tsip_transac_nict_event_callback);this.o_fsm.set_debug_enabled(tsip_transac_nict.prototype.__b_debug_state_machine);this.o_fsm.set_onterm_callback(__tsip_transac_nict_onterm,this);this.o_timerE=null;this.o_timerF=null;this.o_timerK=null;this.i_timerE=o_stack.o_timers.getE();this.i_timerF=o_stack.o_timers.getF();this.i_timerK=b_reliable?0:o_stack.o_timers.getK();this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.STARTED,tsip_transac_nict_actions_e.SEND,tsip_transac_nict_states_e.TRYING,__tsip_transac_nict_Started_2_Trying_X_send,"__tsip_transac_nict_Started_2_Trying_X_send"),tsk_fsm_entry.prototype.CreateAlwaysNothing(tsip_transac_nict_states_e.STARTED,"tsip_transac_nict_Started_2_Started_X_any"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.TRYING,tsip_transac_nict_actions_e.TIMER_E,tsip_transac_nict_states_e.TRYING,__tsip_transac_nict_Trying_2_Trying_X_timerE,"__tsip_transac_nict_Trying_2_Trying_X_timerE"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.TRYING,tsip_transac_nict_actions_e.TIMER_F,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Trying_2_Terminated_X_timerF,"__tsip_transac_nict_Trying_2_Terminated_X_timerF"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.TRYING,tsip_transac_nict_actions_e.TRANSPORT_ERROR,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Trying_2_Terminated_X_transportError,"__tsip_transac_nict_Trying_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.TRYING,tsip_transac_nict_actions_e.I_1xx,tsip_transac_nict_states_e.PROCEEDING,__tsip_transac_nict_Trying_2_Proceedding_X_1xx,"__tsip_transac_nict_Trying_2_Proceedding_X_1xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.TRYING,tsip_transac_nict_actions_e.I_200_to_699,tsip_transac_nict_states_e.COMPLETED,__tsip_transac_nict_Trying_2_Completed_X_200_to_699,"__tsip_transac_nict_Trying_2_Completed_X_200_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.PROCEEDING,tsip_transac_nict_actions_e.TIMER_E,tsip_transac_nict_states_e.PROCEEDING,__tsip_transac_nict_Proceeding_2_Proceeding_X_timerE,"__tsip_transac_nict_Proceeding_2_Proceeding_X_timerE"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.PROCEEDING,tsip_transac_nict_actions_e.TIMER_F,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Proceeding_2_Terminated_X_timerF,"__tsip_transac_nict_Proceeding_2_Terminated_X_timerF"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.PROCEEDING,tsip_transac_nict_actions_e.TRANSPORT_ERROR,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Proceeding_2_Terminated_X_transportError,"__tsip_transac_nict_Proceeding_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.PROCEEDING,tsip_transac_nict_actions_e.I_1xx,tsip_transac_nict_states_e.PROCEEDING,__tsip_transac_nict_Proceeding_2_Proceeding_X_1xx,"__tsip_transac_nict_Proceeding_2_Proceeding_X_1xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.PROCEEDING,tsip_transac_nict_actions_e.I_200_to_699,tsip_transac_nict_states_e.COMPLETED,__tsip_transac_nict_Proceeding_2_Completed_X_200_to_699,"__tsip_transac_nict_Proceeding_2_Completed_X_200_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nict_states_e.COMPLETED,tsip_transac_nict_actions_e.TIMER_K,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Completed_2_Terminated_X_timerK,"__tsip_transac_nict_Completed_2_Terminated_X_timerK"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_nict_actions_e.TRANSPORT_ERROR,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Any_2_Terminated_X_transportError,"__tsip_transac_nict_Any_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_nict_actions_e.ERROR,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Any_2_Terminated_X_Error,"__tsip_transac_nict_Any_2_Terminated_X_Error"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_nict_actions_e.CANCEL,tsip_transac_nict_states_e.TERMINATED,__tsip_transac_nict_Any_2_Terminated_X_cancel,"__tsip_transac_nict_Any_2_Terminated_X_cancel"))}tsip_transac_nict.prototype.start=function(o_request){var i_ret=-1;if(o_request&&!this.b_running){if(o_request.is_cancel()){this.s_branch=o_request.o_hdr_firstVia?o_request.o_hdr_firstVia.s_branch:"doubango"}else{this.s_branch=tsk_string_format("{0}{1}",tsip_transac.prototype.__magic_cookie,tsk_string_random(32))}this.b_running=true;this.o_request=o_request;i_ret=this.fsm_act(tsip_transac_nict_actions_e.SEND,o_request)}return i_ret};function __tsip_transac_nict_Started_2_Trying_X_send(ao_args){var o_transac=ao_args[0];var o_request=ao_args[1];o_transac.send(o_transac.s_branch,o_request);o_transac.timer_schedule("nict","F");if(!o_transac.b_reliable){o_transac.timer_schedule("nict","E")}return 0}function __tsip_transac_nict_Trying_2_Trying_X_timerE(ao_args){var o_transac=ao_args[0];o_transac.send(o_transac.s_branch,o_transac.o_request);o_transac.i_timerE=Math.min(o_transac.i_timerE<<1,o_transac.get_stack().o_timers.getT2());o_transac.timer_schedule("nict","E");return 0}function __tsip_transac_nict_Trying_2_Terminated_X_timerF(ao_args){var o_transac=ao_args[0];o_transac.o_end=true;o_transac.get_dialog().callback(tsip_dialog_event_type_e.TIMEDOUT,o_transac.o_request);return 0}function __tsip_transac_nict_Trying_2_Terminated_X_transportError(ao_args){var o_transac=ao_args[0];o_transac.o_end=true;o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,o_transac.o_request);return 0}function __tsip_transac_nict_Trying_2_Proceedding_X_1xx(ao_args){var o_transac=ao_args[0];var o_message1xx=ao_args[1];o_transac.o_end=true;if(!o_transac.b_reliable){o_transac.timer_cancel("E")}if(o_message1xx.is_response_to_update()){tsk_utils_log_warn("recv 1xx of update.")}else{tsk_utils_log_warn("recv 1xx of other message.");o_transac.timer_cancel("F")}o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_message1xx);return 0}function __tsip_transac_nict_Trying_2_Completed_X_200_to_699(ao_args){var o_transac=ao_args[0];var o_message=ao_args[1];if(!o_transac.b_reliable){o_transac.timer_cancel("E")}o_transac.timer_cancel("F");o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_message);o_transac.o_end=true;o_transac.timer_schedule("nict","K");return 0}function __tsip_transac_nict_Proceeding_2_Proceeding_X_timerE(ao_args){var o_transac=ao_args[0];o_transac.send(o_transac.s_branch,o_transac.o_request);o_transac.i_timerE=Math.min(o_transac.i_timerE<<1,o_transac.get_stack().o_timers.getT2());o_transac.timer_schedule("nict","E");return 0}function __tsip_transac_nict_Proceeding_2_Terminated_X_timerF(ao_args){var o_transac=ao_args[0];o_transac.o_end=true;o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,null);return 0}function __tsip_transac_nict_Proceeding_2_Terminated_X_transportError(ao_args){var o_transac=ao_args[0];o_transac.o_end=true;o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,null);return 0}function __tsip_transac_nict_Proceeding_2_Proceeding_X_1xx(ao_args){var o_transac=ao_args[0];var o_message1xx=ao_args[1];if(!o_transac.b_reliable){o_transac.timer_cancel("E")}o_transac.o_end=true;o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_message1xx);
return 0}function __tsip_transac_nict_Proceeding_2_Completed_X_200_to_699(ao_args){var o_transac=ao_args[0];var o_message=ao_args[1];if(!o_transac.b_reliable){o_transac.timer_cancel("E")}o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_message);o_transac.o_end=true;o_transac.timer_schedule("nict","K");return 0}function __tsip_transac_nict_Completed_2_Terminated_X_timerK(ao_args){var o_transac=ao_args[0];o_transac.o_end=true;return 0}function __tsip_transac_nict_Any_2_Terminated_X_transportError(ao_args){var o_transac=ao_args[0];o_transac.o_end=true;return o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,null)}function __tsip_transac_nict_Any_2_Terminated_X_Error(ao_args){var o_transac=ao_args[0];o_transac.o_end=true;return o_transac.get_dialog().callback(tsip_dialog_event_type_e.ERROR,null)}function __tsip_transac_nict_Any_2_Terminated_X_cancel(ao_args){return 0}function __tsip_transac_nict_onterm(o_self){o_self.timer_cancel("E");o_self.timer_cancel("F");o_self.timer_cancel("K");return o_self.deinit()}function __tsip_transac_nict_event_callback(o_self,e_event_type,o_message){if(!o_self){tsk_utils_log_error("Invalid argument");return-1}var i_ret=0;switch(e_event_type){case tsip_transac_event_type_e.INCOMING_MSG:{if(o_message&&o_message.is_response()){if(o_message.is_1xx()){i_ret=o_self.fsm_act(tsip_transac_nict_actions_e.I_1xx,o_message)}else if(o_message.is_23456()){i_ret=o_self.fsm_act(tsip_transac_nict_actions_e.I_200_to_699,o_message)}else{tsk_utils_log_warn("Not supported status code: "+o_message.get_response_code())}}break}case tsip_transac_event_type_e.CANCELED:case tsip_transac_event_type_e.TERMINATED:case tsip_transac_event_type_e.TIMEDOUT:break;case tsip_transac_event_type_e.ERROR:{i_ret=o_self.fsm_act(tsip_transac_nict_actions_e.ERROR,o_message);break}case tsip_transac_event_type_e.TRANSPORT_ERROR:{i_ret=o_self.fsm_act(tsip_transac_nict_actions_e.TRANSPORT_ERROR,o_message);break}}return i_ret}function __tsip_transac_nict_timer_callback(o_self,o_timer){if(o_self){if(o_timer==o_self.o_timerE){o_self.fsm_act(tsip_transac_nict_actions_e.TIMER_E,null)}else if(o_timer==o_self.o_timerF){o_self.fsm_act(tsip_transac_nict_actions_e.TIMER_F,null)}else if(o_timer==o_self.o_timerK){o_self.fsm_act(tsip_transac_nict_actions_e.TIMER_K,null)}}}tsip_transac_nist.prototype=Object.create(tsip_transac.prototype);tsip_transac_nist.prototype.__b_debug_state_machine=false;var tsip_transac_nist_actions_e={CANCEL:tsip_action_type_e.CANCEL,RECV_REQUEST:10001,SEND_1XX:10002,SEND_200_to_699:10003,TIMER_J:10004,TRANSPORT_ERROR:10007,ERROR:10008};var tsip_transac_nist_states_e={STARTED:0,TRYING:1,PROCEEDING:2,COMPLETED:3,TERMINATED:4};function tsip_transac_nist(b_reliable,i_cseq_value,s_cseq_method,s_callid,o_dialog){var o_stack;if(!o_dialog||!(o_stack=o_dialog.get_stack())){tsk_utils_log_error("Invalid argument");return null}tsip_transac.call(this);this.o_lastResponse=null;this.init(tsip_transac_type_e.nist,b_reliable,i_cseq_value,s_cseq_method,s_callid,o_dialog,tsip_transac_nist_states_e.STARTED,tsip_transac_nist_states_e.TERMINATED);this.set_callback(__tsip_transac_nist_event_callback);this.o_fsm.set_debug_enabled(tsip_transac_nist.prototype.__b_debug_state_machine);this.o_fsm.set_onterm_callback(__tsip_transac_nist_onterm,this);this.o_timerJ=null;this.i_timerJ=b_reliable?0:o_stack.o_timers.getJ();this.o_fsm.set(tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.STARTED,tsip_transac_nist_actions_e.RECV_REQUEST,tsip_transac_nist_states_e.TRYING,tsip_transac_nist_Started_2_Trying_X_request,"tsip_transac_nist_Started_2_Trying_X_request"),tsk_fsm_entry.prototype.CreateAlwaysNothing(tsip_transac_nist_states_e.STARTED,"tsip_transac_nist_Started_2_Started_X_any"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.TRYING,tsip_transac_nist_actions_e.SEND_1XX,tsip_transac_nist_states_e.PROCEEDING,tsip_transac_nist_Trying_2_Proceeding_X_send_1xx,"tsip_transac_nist_Trying_2_Proceeding_X_send_1xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.TRYING,tsip_transac_nist_actions_e.SEND_200_to_699,tsip_transac_nist_states_e.COMPLETED,tsip_transac_nist_Trying_2_Completed_X_send_200_to_699,"tsip_transac_nist_Trying_2_Completed_X_send_200_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.PROCEEDING,tsip_transac_nist_actions_e.SEND_1XX,tsip_transac_nist_states_e.PROCEEDING,tsip_transac_nist_Proceeding_2_Proceeding_X_send_1xx,"tsip_transac_nist_Proceeding_2_Proceeding_X_send_1xx"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.PROCEEDING,tsip_transac_nist_actions_e.SEND_200_to_699,tsip_transac_nist_states_e.COMPLETED,tsip_transac_nist_Proceeding_2_Completed_X_send_200_to_699,"tsip_transac_nist_Proceeding_2_Completed_X_send_200_to_699"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.PROCEEDING,tsip_transac_nist_actions_e.RECV_REQUEST,tsip_transac_nist_states_e.PROCEEDING,tsip_transac_nist_Proceeding_2_Proceeding_X_request,"tsip_transac_nist_Proceeding_2_Proceeding_X_request"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.COMPLETED,tsip_transac_nist_actions_e.RECV_REQUEST,tsip_transac_nist_states_e.COMPLETED,tsip_transac_nist_Completed_2_Completed_X_request,"tsip_transac_nist_Completed_2_Completed_X_request"),tsk_fsm_entry.prototype.CreateAlways(tsip_transac_nist_states_e.COMPLETED,tsip_transac_nist_actions_e.TIMER_J,tsip_transac_nist_states_e.TERMINATED,tsip_transac_nist_Completed_2_Terminated_X_tirmerJ,"tsip_transac_nist_Completed_2_Terminated_X_tirmerJ"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_nist_actions_e.TRANSPORT_ERROR,tsip_transac_nist_states_e.TERMINATED,tsip_transac_nist_Any_2_Terminated_X_transportError,"tsip_transac_nist_Any_2_Terminated_X_transportError"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_nist_actions_e.ERROR,tsip_transac_nist_states_e.TERMINATED,tsip_transac_nist_Any_2_Terminated_X_Error,"tsip_transac_nist_Any_2_Terminated_X_Error"),tsk_fsm_entry.prototype.CreateAlways(tsk_fsm.prototype.__i_state_any,tsip_transac_nist_actions_e.CANCEL,tsip_transac_nist_states_e.TERMINATED,tsip_transac_nist_Any_2_Terminated_X_cancel,"tsip_transac_nist_Any_2_Terminated_X_cancel"))}tsip_transac_nist.prototype.start=function(o_request){var i_ret=-1;if(o_request&&!this.b_running){this.b_running=true;i_ret=this.fsm_act(tsip_transac_nist_actions_e.RECV_REQUEST,o_request)}return i_ret};function tsip_transac_nist_Started_2_Trying_X_request(ao_args){var o_transac=ao_args[0];var o_request=ao_args[1];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.I_MSG,o_request)}function tsip_transac_nist_Trying_2_Proceeding_X_send_1xx(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;i_ret=o_transac.send(this.s_branch,o_response)>0?0:-1;o_transac.o_lastResponse=o_response;return i_ret}function tsip_transac_nist_Trying_2_Completed_X_send_200_to_699(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;i_ret=o_transac.send(this.s_branch,o_response)>0?0:-1;o_transac.timer_schedule("nist","J");o_transac.o_lastResponse=o_response;return i_ret}function tsip_transac_nist_Proceeding_2_Proceeding_X_send_1xx(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];o_transac.o_lastResponse=o_response;return o_transac.send(this.s_branch,o_response)>0?0:-1}function tsip_transac_nist_Proceeding_2_Proceeding_X_request(ao_args){var o_transac=ao_args[0];if(o_transac.o_lastResponse){o_transac.send(this.s_branch,o_transac.o_lastResponse)}return 0}function tsip_transac_nist_Proceeding_2_Completed_X_send_200_to_699(ao_args){var o_transac=ao_args[0];var o_response=ao_args[1];var i_ret;i_ret=o_transac.send(this.s_branch,o_response)>0?0:-1;o_transac.timer_schedule("nist","J");o_transac.o_lastResponse=o_response;return i_ret}function tsip_transac_nist_Completed_2_Completed_X_request(ao_args){var o_transac=ao_args[0];if(o_transac.o_lastResponse){o_transac.send(this.s_branch,o_transac.o_lastResponse)}return 0}function tsip_transac_nist_Completed_2_Terminated_X_tirmerJ(ao_args){return 0}function tsip_transac_nist_Any_2_Terminated_X_transportError(ao_args){var o_transac=ao_args[0];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.TRANSPORT_ERROR,null)}function tsip_transac_nist_Any_2_Terminated_X_Error(ao_args){var o_transac=ao_args[0];return o_transac.get_dialog().callback(tsip_dialog_event_type_e.ERROR,null)}function tsip_transac_nist_Any_2_Terminated_X_cancel(ao_args){return 0}function __tsip_transac_nist_onterm(o_self){o_self.timer_cancel("J");return o_self.deinit()}function __tsip_transac_nist_event_callback(o_self,e_event_type,o_message){var i_ret=-1;switch(e_event_type){case tsip_transac_event_type_e.INCOMING_MSG:{if(o_message&&o_message.is_request()){i_ret=o_self.fsm_act(tsip_transac_nist_actions_e.RECV_REQUEST,o_message)}break}case tsip_transac_event_type_e.OUTGOING_MSG:{if(o_message&&o_message.is_response()){if(o_message.is_1xx()){i_ret=o_self.fsm_act(tsip_transac_nist_actions_e.SEND_1XX,o_message)}else if(o_message.is_23456()){i_ret=o_self.fsm_act(tsip_transac_nist_actions_e.SEND_200_to_699,o_message)}}break}case tsip_transac_event_type_e.CANCELED:case tsip_transac_event_type_e.TERMINATED:case tsip_transac_event_type_e.TIMEDOUT:break;case tsip_transac_event_type_e.ERROR:{i_ret=o_self.fsm_act(tsip_transac_nist_actions_e.ERROR,o_message);break}case tsip_transac_event_type_e.TRANSPORT_ERROR:{i_ret=o_self.fsm_act(tsip_transac_nist_actions_e.TRANSPORT_ERROR,o_message);break}}return i_ret}function __tsip_transac_nist_timer_callback(o_self,o_timer){if(o_self){if(o_timer==o_self.o_timerJ){o_self.fsm_act(tsip_transac_nist_actions_e.TIMER_J,null)}}}var transportlog={};transportlog.debug=window.debug("Transport:DEBUG");transportlog.log=window.debug("Transport:LOG");transportlog.info=window.debug("Transport:INFO");transportlog.warn=window.debug("Transport:WARN");transportlog.error=window.debug("Transport:ERROR");transportlog.fatal=window.debug("Transport:FATAL");const sip_log_info=window.debug("SIP:INFO");var tsip_transport_type_e={WS:0,WSS:1,TCP:2,TLS:3,UDP:4,SCTP:5,DTLS:6};var tsip_transport_event_type_e={STARTED:0,STOPPED:1,ERROR:2,NOTSIPMESSAGE:3};function tsip_transport(e_type,o_stack,s_host,i_port,s_description,fn_callback,o_layer){if(!o_stack){transportlog.error("Invalid argument");return null}switch(e_type){case tsip_transport_type_e.WS:{this.b_reliable=true;this.s_scheme="sip";this.s_protocol="ws";this.s_via_protocol="WS";this.s_service="SIP+D2W";this.o_ws=null;this.__start=function(){return __tsip_transport_ws_start(this)};this.__stop=function(){return __tsip_transport_ws_stop(this)};this.__have_socket=function(o_socket){return __tsip_transport_ws_have_socket(this,o_socket)};this.__send=function(o_data,i_length){return __tsip_transport_ws_send(this,o_data,i_length)};break}case tsip_transport_type_e.WSS:{this.b_reliable=true;this.s_scheme="sips";this.s_protocol="wss";this.s_via_protocol="WSS";this.s_service="SIPS+D2W";this.o_ws=null;this.__start=function(){return __tsip_transport_ws_start(this)};this.__stop=function(){return __tsip_transport_ws_stop(this)};this.__have_socket=function(o_socket){return __tsip_transport_ws_have_socket(this,o_socket)};this.__send=function(o_data,i_length){return __tsip_transport_ws_send(this,o_data,i_length)};break}case tsip_transport_type_e.UDP:case tsip_transport_type_e.TCP:case tsip_transport_type_e.TLS:case tsip_transport_type_e.SCTP:case tsip_transport_type_e.DTLS:default:{transportlog.error(e_type+" not supported as a valid SIP transport");return null}}this.e_type=e_type;this.o_stack=o_stack;this.s_host=s_host;this.i_port=i_port;this.s_description=s_description;this.fn_callback=fn_callback;this.o_layer=o_layer;this.b_started=false;this.o_flag=o_layer.o_flag;this.ws_keep_timer=null;this.keep_reconnect_timer=null;this.ws_keep_flag=0;return this}tsip_transport.prototype.get_layer=function(){return this.o_stack.o_layer_transport};tsip_transport.prototype.is_reliable=function(){return this.b_reliable};tsip_transport.prototype.start=function(){if(this.b_started){transportlog.warn("Already started");return 0}return this.__start()};tsip_transport.prototype.is_started=function(){return this.b_started};tsip_transport.prototype.stop=function(){transportlog.info("tsip_transport.stop");if(!this.b_started){transportlog.warn("Not started");return 0}return this.__stop()};tsip_transport.prototype.get_local_ip=function(){if(this.e_type==tsip_transport_type_e.WS||this.e_type==tsip_transport_type_e.WSS){return"df7jal23ls0d.invalid"}else if(this.o_transport&&this.o_transport.localIP){return this.o_transport.localIP}transportlog.error("Not implemented");return"127.0.0.1"};tsip_transport.prototype.get_local_port=function(){if(this.e_type==tsip_transport_type_e.WS||this.e_type==tsip_transport_type_e.WSS){return-1}else if(this.o_transport&&this.o_transport.localPort){return this.o_transport.localPort}transportlog.error("Not implemented");return 5060};tsip_transport.prototype.get_uri=function(b_lr){var b_ipv6=false;var s_uristring=tsk_string_format("{0}:{1}{2}{3}:{4};{5};transport={6}",this.s_scheme,b_ipv6?"[":"",this.o_stack.network.aor.s_ip,b_ipv6?"]":"",this.o_stack.network.aor.i_port,b_lr?"lr":"",this.s_protocol);var o_uri=tsip_uri.prototype.Parse(s_uristring);if(o_uri){o_uri.e_host_type=b_ipv6?tsip_host_type_e.ipv6:tsip_host_type_e.ipv4}return o_uri};tsip_transport.prototype.have_socket=function(o_socket){return this.__have_socket(o_socket)};tsip_transport.prototype.send=function(s_branch,o_message,s_dest_ip,i_dest_port){var o_data=null;if(o_message.is_request()&&(!o_message.is_ack()||o_message.is_ack()&&!o_message.o_hdr_firstVia)&&!o_message.is_cancel()){this.message_addvia(s_branch,o_message);this.message_update_aor(o_message);this.message_update(o_message)}else if(o_message.is_response()){if(o_message.o_hdr_Contact){this.message_update_aor(o_message)}if(o_message.o_hdr_firstVia.i_rport==0){o_message.o_hdr_firstVia.i_rport=o_message.o_hdr_firstVia.i_port}}o_data=o_message.toString();if(adapter.browserDetails.browser!=="ie"){sip_log_info("SEND: \n"+o_data)}else{var array=o_data.split("\r\n");for(var i=0;i<array.length;i++){console.log(array[i])}}return this.__send(o_data,o_data.length)};function tsip_transport_event(o_transport,e_type,s_description,o_data){this.o_transport=o_transport;this.e_type=e_type;this.s_description=s_description;this.o_data=o_data;return this}tsip_transport.prototype.signal=function(e_type,s_description,o_data){if(this.fn_callback){var fn_callback=this.fn_callback;var o_event=new tsip_transport_event(this,e_type,s_description,o_data);setTimeout(function(){fn_callback(o_event)},1)}return 0};tsip_transport.prototype.message_addvia=function(s_branch,o_message){if(!o_message.o_hdr_firstVia){o_message.o_hdr_firstVia=new tsip_header_Via(tsip_header_Via.prototype.__s_proto_name_default,tsip_header_Via.prototype.__s_proto_version_default,this.s_via_protocol,this.get_local_ip(),this.get_local_port());o_message.o_hdr_firstVia.add_param("rport",null)}if(s_branch){o_message.o_hdr_firstVia.s_branch=s_branch}else{o_message.o_hdr_firstVia.s_branch=tsk_string_format("{0}{1}",tsip_transac.prototype.__magic_cookie,tsk_string_random(20))}return 0};tsip_transport.prototype.message_update_aor=function(o_message){if(!o_message.b_update){return 0}if(!this.o_stack.network.aor.s_ip&&!this.o_stack.network.aor.i_port){this.o_stack.network.aor.s_ip=this.get_local_ip();this.o_stack.network.aor.i_port=this.get_local_port()}if(o_message.o_hdr_Contact&&o_message.o_hdr_Contact.o_uri){o_message.o_hdr_Contact.o_uri.s_scheme=this.s_scheme;o_message.o_hdr_Contact.o_uri.s_host=this.o_stack.network.aor.s_ip;o_message.o_hdr_Contact.o_uri.i_port=this.o_stack.network.aor.i_port;tsk_params_add(o_message.o_hdr_Contact.o_uri.ao_params,"transport",this.s_protocol)}return 0};tsip_transport.prototype.message_update=function(o_message){if(!o_message.b_update){return 0}if(o_message.s_sigcomp_id){if(o_message.o_hdr_firstVia){o_message.o_hdr_firstVia.add_param("comp","sigcomp");o_message.o_hdr_firstVia.add_param("sigcomp-id",tsk_string_format('"{0}"',o_message.s_sigcomp_id))}if(o_message.o_hdr_Contact&&o_message.o_hdr_Contact.o_uri){tsk_params_add(o_message.o_hdr_Contact.o_uri.ao_params,"sigcomp-id",o_message.sigcomp_id)}}o_message.b_update=false;return 0};function __tsip_transport_ws_start(o_self){if(!o_self){transportlog.error("Invalid argument");return-1}var s_url=tsk_string_is_null_or_empty(o_self.o_stack.network.s_websocket_server_url)?tsk_string_format("{0}://{1}:{2}",o_self.s_protocol,o_self.s_host,o_self.i_port):o_self.o_stack.network.s_websocket_server_url;transportlog.info("Connecting to '"+s_url+"', o_flag: "+o_self.o_flag);o_self.o_ws=new WebSocket(s_url,"sip");o_self.o_ws.binaryType="arraybuffer";o_self.o_ws.o_transport=o_self;o_self.o_ws.onopen=__tsip_transport_ws_onopen;o_self.o_ws.onclose=__tsip_transport_ws_onclose;o_self.o_ws.onmessage=__tsip_transport_ws_onmessage;o_self.o_ws.onerror=__tsip_transport_ws_onerror;return 0}function __tsip_transport_ws_stop(o_self){transportlog.info("__tsip_transport_ws_stop, o_flag: "+o_self.o_flag);if(!o_self){transportlog.error("Invalid argument");return-1}if(o_self.o_ws){o_self.o_ws.close();o_self.o_ws=null}return 0}function __tsip_transport_ws_have_socket(o_self,o_socket){return o_self.o_ws==o_socket}function __tsip_transport_ws_send(o_self,o_data,i_length){if(!o_self.o_ws){transportlog.error("Invalid state");return 0}if(o_self.o_ws.readyState!=1){transportlog.warn("transport has been disconnected, can not send message");return}if(o_data=="\r\n\r\n"){if(o_self.ws_keep_flag==0){o_self.keep_reconnect_timer=setInterval(function(){__tsip_transport_ws_send(o_self,o_data)},5e3);o_self.o_ws.send(o_data)}if(o_self.ws_keep_flag==1){clearInterval(o_self.ws_keep_timer);o_self.ws_keep_timer=null;clearInterval(o_self.keep_reconnect_timer);o_self.keep_reconnect_timer=setInterval(function(){__tsip_transport_ws_send(o_self,o_data)},2500);o_self.o_ws.send(o_data)}if(o_self.ws_keep_flag==2||o_self.ws_keep_flag==3){o_self.o_ws.send(o_data)}if(o_self.ws_keep_flag==4){if(o_self.keep_reconnect_timer){clearInterval(o_self.keep_reconnect_timer);o_self.keep_reconnect_timer=null}transportlog.warn("wss failed to keep alive");o_self.ws_keep_flag=0;o_self.b_started=false;__tsip_transport_ws_stop(o_self);__tsip_transport_ws_re_connect(o_self)}o_self.ws_keep_flag++}else{var result=o_data.match(/CSeq:\s[0-9]{1,}\sINVITE\s/);if(result&&o_data.indexOf("200 OK")>=0){sendInvite200okCseq=result[0].match(/[0-9]{1,}/)[0];transportlog.info("sendInvite200okCseq: ",sendInvite200okCseq)}else if(o_data.indexOf("INVITE")===0){sendInviteCseq=result[0].match(/[0-9]{1,}/)[0];transportlog.info("sendInviteCseq: ",sendInviteCseq)}else if(o_data.indexOf("491 Request Pending")>=0){send491Response=result[0].match(/[0-9]{1,}/)[0]}transportlog.info("__tsip_transport_ws_send");o_self.o_ws.send(o_data)}return i_length}function __tsip_transport_ws_onopen(evt){var o_self=this.o_transport;transportlog.info("__tsip_transport_ws_onopen, o_flag: "+o_self.o_flag);transportlog.warn("websocket readyState: "+this.o_transport.o_ws.readyState);if(this.o_transport.o_ws.readyState!=1||this.o_transport.o_layer.b_transport_timeout){__tsip_transport_ws_stop(o_self);return}if(this.o_transport.ws_keep_timer==null){transportlog.info("ws_keep_timer");var data="\r\n\r\n";this.o_transport.ws_keep_timer=setInterval(function(){__tsip_transport_ws_send(o_self,data)},1e4)}this.o_transport.b_started=true;this.o_transport.signal(tsip_transport_event_type_e.STARTED,evt.reason,null);__tsip_transport_ws_connected(o_self)}function __tsip_transport_ws_onclose(evt){var o_self=this.o_transport;transportlog.info("__tsip_transport_ws_onclose, o_flag: "+o_self.o_flag);transportlog.info("__tsip_transport_ws_onclose, layer o_flag: "+o_self.o_layer.o_flag);transportlog.info("evt.code:"+evt.code);this.o_transport.b_started=false;transportlog.info("clear keep_reconnect_timer !!!");if(o_self.keep_reconnect_timer){clearInterval(o_self.keep_reconnect_timer);o_self.keep_reconnect_timer=null}if(o_self.ws_keep_timer){clearInterval(o_self.ws_keep_timer);o_self.ws_keep_timer=null}if(evt.code==1e3||o_self.o_flag!==o_self.o_layer.o_flag&&!o_self.o_ws){return}__tsip_transport_ws_re_connect(o_self)}function __tsip_transport_ws_onmessage(evt){var o_ragel_state=tsk_ragel_state_create();if(typeof evt.data=="string"){tsk_ragel_state_init_str(o_ragel_state,evt.data)}else{tsk_ragel_state_init_ai(o_ragel_state,evt.data);if(o_ragel_state.s_data&&o_ragel_state.s_data.indexOf("NOTIFY sip")==-1){var blob=new Blob([evt.data]);tsk_blob_parse({blob:blob,o_self:this.o_transport,cb:__tsip_transport_callback});return}}if(evt.data=="\r\n"){var o_self=this.o_transport;var data="\r\n\r\n";transportlog.info("receive websocket keep alive!!!");clearInterval(this.o_transport.keep_reconnect_timer);this.o_transport.keep_reconnect_timer=null;clearInterval(this.o_transport.ws_keep_timer);this.o_transport.ws_keep_timer=setInterval(function(){__tsip_transport_ws_send(o_self,data)},1e4);this.o_transport.ws_keep_flag=0}else{transportlog.info("__tsip_transport_ws_onmessage");var o_message=tsip_message.prototype.Parse(o_ragel_state,true);if(o_message){if(adapter.browserDetails.browser!=="ie"&&adapter.browserDetails.browser!=="edge"){var b_br=false;if(o_message.line.request.s_method=="NOTIFY"){for(var i=o_message.ao_headers.length-1;i>=0;i--){if(o_message.ao_headers[i].s_name=="Accept-Encoding"){b_br=true;break}}}if(b_br){var o_hdr_Content_Length=o_message.o_hdr_Content_Length;o_message.o_hdr_Content_Length=0;sip_log_info("RECV:\n"+o_message);o_message.o_hdr_Content_Length=o_hdr_Content_Length}else{sip_log_info("RECV:\n"+o_message)}}else if(adapter.browserDetails.browser==="edge"){sip_log_info("RECV: \n"+o_message)}else{var array=o_message.toString().split("\r\n");for(var i=0;i<array.length;i++){console.log(array[i])}}if(o_message.toString().match(/CSeq:\s[0-9]{1,}\sINVITE\s/)&&o_message.toString().indexOf("200 OK")>=0){recvInvite200okCseq=o_message.o_hdr_CSeq.i_seq;transportlog.info("recvInvite200okCseq:",recvInvite200okCseq)}else if(o_message.toString().indexOf("INVITE ")===0){recvInviteCseq=o_message.o_hdr_CSeq.i_seq;transportlog.info("recvInviteCseq:",recvInviteCseq)}o_message.o_socket=this;return this.o_transport.get_layer().handle_incoming_message(o_message)}else{transportlog.error("Failed to parse message: "+evt.data);return-1}}}function __tsip_transport_ws_onerror(evt){var o_self=this.o_transport;transportlog.info("__tsip_transport_ws_onerror, o_flag: "+o_self.o_flag)}function __tsip_transport_ws_re_connect(o_self){if(!o_self){transportlog.warn("ws_re_connect: invalid argument");return}else{transportlog.info("ws_re_connect, type: "+o_self.e_type)}if(o_self.o_layer){o_data={};o_data.e_type=o_self.e_type;o_data.o_stack=o_self.o_stack;o_data.s_host=o_self.s_host;o_data.i_port=o_self.i_port;o_data.s_description=o_self.s_description;o_data.fn_callback=o_self.fn_callback;o_data.o_transport=o_self;o_self.o_layer.handle_re_connection(o_data)}}function __tsip_transport_ws_connected(o_self){if(!o_self){transportlog.warn("ws_re_connect: invalid argument");return}else{transportlog.info("ws_re_connect, type: "+o_self.e_type)}o_self.o_layer.transaction_connection_successed()}function __tsip_transport_callback(evt){return evt.o_self.signal(tsip_transport_event_type_e.NOTSIPMESSAGE,"recv_not_sip_message",evt.data)}function tsip_transport_layer(o_stack){if(!o_stack){tsk_utils_log_error("Invalid argument");return null}this.o_stack=o_stack;this.b_running=false;this.ao_transports=new Array;this.o_flag=0;this.transport_timer=null;this.b_transport_timeout=false}function tsip_transport_layer_find_result(){this.o_transport=null;this.s_dest_ip=null;this.i_dest_port=0}tsip_transport_layer.prototype.get_layer_transac=function(){if(this.o_stack){return this.o_stack.o_layer_transac}return null};tsip_transport_layer.prototype.get_layer_dialog=function(){if(this.o_stack){return this.o_stack.o_layer_dialog}return null};tsip_transport_layer.prototype.stop=function(){while(this.b_locked){tsk_utils_log_info("tsip_transport_layer.prototype.stop b_locked is deleted")}this.b_locked=true;for(var i=0;i<this.ao_transports.length;++i){this.ao_transports[i].stop();this.ao_transports[i]=null}this.b_transport_timeout=true;this.b_locked=false;return 0};tsip_transport_layer.prototype.send=function(s_branch,o_message){var o_result=this.transport_find(o_message);if(!o_result||!o_result.o_transport){tsk_utils_log_error("Failed to find transport");return 0}return o_result.o_transport.send(s_branch,o_message,o_result.s_dest_ip,o_result.i_dest_port)};tsip_transport_layer.prototype.transport_new=function(e_type,s_host,i_port,s_description,fn_callback){var o_transport=null;while(this.b_locked){tsk_utils_log_info("transport_new b_locked is deleted")}var This=this;this.b_locked=true;o_transport=new tsip_transport(e_type,This.o_stack,s_host,i_port,s_description,fn_callback,This);if(o_transport){this.ao_transports.push(o_transport)}this.b_locked=false;if(This.transport_timer==null){tsk_utils_log_info("start transport timer");This.fn_callback=fn_callback;This.transport_timer=setTimeout(function(){This.transport_connect_timeout()},32e3)}return o_transport};tsip_transport_layer.prototype.transport_remove=function(o_transport){if(o_transport){while(this.b_locked){tsk_utils_log_info("transport_remove b_locked is deleted")}this.b_locked=true;for(var i=0;i<this.ao_transports.length;++i){if(this.ao_transports[i]==o_transport){this.ao_transports[i]=null;this.ao_transports.splice(i,1);break}}this.b_locked=false}};tsip_transport_layer.prototype.transport_find=function(o_message){if(!o_message){tsk_utils_log_error("Invalid argument");return null}var o_ret=new tsip_transport_layer_find_result;o_ret.s_dest_ip=this.o_stack.network.s_proxy_cscf_host;o_ret.i_dest_port=this.o_stack.network.i_proxy_cscf_port;if(o_message.is_request()){for(var i=0;i<this.ao_transports.length;++i){if(this.ao_transports[i].e_type==this.o_stack.network.e_proxy_cscf_type){o_ret.o_transport=this.ao_transports[i];break}}}else if(o_message.o_hdr_firstVia){if(o_message.o_hdr_firstVia.is_transport_reliable()){}else{if(o_message.o_hdr_firstVia.s_maddr){}else{if(o_message.o_hdr_firstVia.s_received){if(o_message.o_hdr_firstVia.i_rport>0){o_ret.s_dest_ip=o_message.o_hdr_firstVia.s_received;o_ret.i_dest_port=o_message.o_hdr_firstVia.i_rport}else{o_ret.s_dest_ip=o_message.o_hdr_firstVia.s_received;o_ret.i_dest_port=o_message.o_hdr_firstVia.i_port?o_message.o_hdr_firstVia.i_port:5060}}else if(!o_message.o_hdr_firstVia.s_received){o_ret.s_dest_ip=o_message.o_hdr_firstVia.s_host;if(o_message.o_hdr_firstVia.i_port>0){o_ret.i_dest_port=o_message.o_hdr_firstVia.i_port}}}}while(this.b_locked){tsk_utils_log_info("transport_find b_locked is deleted")}this.b_locked=true;for(i=0;i<this.ao_transports.length;++i){if(this.ao_transports[i].have_socket(o_message.o_socket)){o_ret.o_transport=this.ao_transports[i];break}}this.b_locked=false}return o_ret};tsip_transport_layer.prototype.handle_incoming_message=function(o_message){if(o_message){var o_layer_transac=this.get_layer_transac();if(!o_layer_transac){tsk_utils_log_error("Invalid transaction layer");return-1}var i_ret;if((i_ret=o_layer_transac.handle_incoming_message(o_message))!=0){o_layer_dialog=this.get_layer_dialog();if(!o_layer_dialog){tsk_utils_log_error("Invalid dialog layer");return-1}i_ret=o_layer_dialog.handle_incoming_message(o_message)}return i_ret}return 0};tsip_transport_layer.prototype.handle_re_connection=function(o_data){tsk_utils_log_info("reconnect wss");if(!o_data){tsk_utils_log_warn("invalid argument");return}else if(this.b_transport_timeout){tsk_utils_log_warn("transport timeout already");return}else{}this.transport_remove(o_data.o_transport);this.o_flag++;var o_transport=this.transport_new(o_data.e_type,o_data.s_host,o_data.i_port,o_data.s_description,o_data.fn_callback);if(o_transport){this.o_stack.network.o_transport=o_transport;o_transport.start()}};tsip_transport_layer.prototype.transport_connect_timeout=function(){if(!this.transport_timer){return}var This=this;tsk_utils_log_error("transport connect timeout");this.transport_timer=null;if(this.fn_callback){var length=this.ao_transports.length;for(var i=0;i<length;i++){if(this.ao_transports[i]){this.ao_transports[i].stop();this.ao_transports[i]=null}}this.ao_transports.length=0;this.b_transport_timeout=true;var fn_callback=this.fn_callback;var o_event=new tsip_transport_event(this.o_stack.network.o_transport,tsip_transport_event_type_e.ERROR,"ws_connect_timeout",null);setTimeout(function(){fn_callback(o_event)},1)}};tsip_transport_layer.prototype.transaction_connection_successed=function(){tsk_utils_log_warn("connect wss succeed");if(this.transport_timer!=null){tsk_utils_log_info("clear transport_timer");clearTimeout(this.transport_timer);this.transport_timer=null}};var code_type_e={STACK_ERROR:1,TRANSPORT_ERROR:2,STACK_PARAMETER_ERROR:11,STACK_NOT_STARTED:12,SESSION_NOT_ESTABLISHED:13,TRANSPORT_NOT_STARTED:14,REQUEST_NOT_RESPONSE:15,FAILED_TO_MUTE:110,FAILED_TO_UNMUTE:111,FAILED_TO_HOLD:112,FAILED_TO_RESUME:113,FAILED_TO_CLOSE_LOCAL_VIDEO:114,FAILED_TO_OPEN_LOCAL_VIDEO:115,CANCEL_TO_SHARE:116,SHARE_PERMISSION_DENIED:117,FAILED_TO_SHARE:118,FAILED_TO_OPEN_DOOR:119,SHARE_STREAM_STOPED_BY_CONTROL_BAR:109,ICE_CONNECTION_FAILED_FIREST:120,ICE_CONNECTION_FAILED:121,FAILED_TO_VIDEO_ON:130,CAMERA_NOT_SUPPORT:131,FAILED_TO_SCREEN_SHARE:132,FAILED_TO_SEND_INFO:133,FAILED_TO_SEND_MESSAGE:134,SERVER_RESOURCE_REACHED_LIMIT:135,REGISTER_ERROR:200,INVITE_ERROR:201,SERVER_STATUS_ERROR:700,FAILED_TO_NEGOTIATE:701,MIC_NOT_FOUND:930,MIC_NOT_READABLE:931,MIC_REQUEST_REFUSE:941,MIC_REQUEST_FAIL:942,MIC_TYPE_ERROR:943,VIDEO_REQUEST_REFUSE:945,VIDEO_NOT_READABLE:946,VIDEO_REQUEST_OVER_CONSTRAINTS:948,VIDEO_REQUEST_FAIL:949,VIDEO_NOT_FOUND:950,VIDEO_TYPE_ERROR:951,ACTION_SUCCESSED:999};var error_status_e={err_status_ok:1,err_status_fail:0};var session_states_e={NONE:{i_id:0,s_name:null},AT_THE_MEETINGS:{i_id:1,s_name:"at the meeting"},VIDEO_ON:{i_id:1<<1|1<<2,s_name:"video on"},SCREEN_SHARE:{i_id:1<<1|1<<3,s_name:"screen share"},VIDEO_ON_AND_NOT_SCREEN_SHARE:{i_id:1<<1|1<<2|1<<4,s_name:"video on and not screen share"},SCREEN_SHARE_AND_NOT_VIDEO_ON:{i_id:1<<1|1<<3|1<<5,s_name:"screen share and not video on"},SCREEN_SHARE_AND_VIDEO_ON:{i_id:1<<1|1<<2|1<<3,s_name:"screen share and not video on"}};var action_type_e={FAILED_TO_VIDEO_ON:{i_id:1<<1,s_name:"failed to video on"},SERVER_RESOURCE_REACHED_LIMIT:{i_id:1<<7,s_name:"server resource reached limit"},FAILED_TO_SCREEN_SHARE:{i_id:1<<2,s_name:"failed to screen share"},SUCCESSED_TO_VIDEO_ON:{i_id:1<<3,s_name:"succeed to video on"},SUCCESSED_TO_SCREEN_SHARE:{i_id:1<<4,s_name:"succeed to screen share"},SUCCESSED_TO_VIDEO_OFF:{i_id:1<<5,s_name:"succeed to video off"},SUCCESSED_TO_CLOSE_SCREEN_SHARE:{i_id:1<<6,s_name:"succeed to close screen share"},SUCCESSED_TO_SWITCH_SCREEN_SHARE:{i_id:1<<6,s_name:"succeed to switch screen share"}};var media_stream_e={oLocalAudioStream:undefined,oRemoteAudioStream:undefined,oLocalVideoStream:undefined,oRemoteVideoStream:undefined,oLocalShareStream:undefined,oRemoteShareStream:undefined};var common_judgment_e={b_desktop_pc:true,isCameraSharing:undefined,currcamcount:0,isConfCurrentPresentOn:undefined,isIamSharingPresent:false,meSipAccount:undefined,meetingNotifyInfo:{}};var initialResolution=null;var b_stopping_presentation=false;var o_negotiation_codec=null;var local_codec=["H264","VP8","VP9"];var b_audio_plugout=false;var audioInputDevices=[],videoInputDevices=[],audioOutputDevices=[];var Event_MicStatusChange="OnMicStatusChange";var Message_NoMicJoining="MsgJoiningWithoutMic";var Message_PlugoutMicToNone="MsgPlugoutMicToNone";var Message_PlugoutCurrentMic="MsgPlugoutCurrentMic";var Message_UseMic="MsgUseMic";var Message_UseNewMic="MsgUseNewMic";var Message_PermissionDenied="MsgPermissionDeniedMic";
var micAudioStreamHandler;var videoDevUpdateHandler;var handlerFuns=[];var msgCallbacks=new Array;var infoCallbacks=new Array;var inviteQueue=new Array;var sendInviteQueue=new Array;var send491InviteQueue=new Array;var pre491InviteCseqNum=null;var isInviteRequest;var restartType=null;var recvInviteCseq=null;var recvInvite200okCseq=null;var sendInviteCseq=null;var sendInvite200okCseq=null;var send491Response=null;var oCheckDeviceTimer;var isFirstCheck=true;var constraint={audio:true,video:false};var detectDevicespluginout=true;var inviteCallBack;var isPlugoutCurrentCamera=true;var slideVideoInCodecName;var shareLocalWebcamFiledReasonCode;var isIamSharingPresentWith_200_ok=false;var isAudioCreateOffer=false;var isVideoCreateOffer=false;var isSlideCreateOffer=false;var preCseqForFirefox;var firefoxRemotePresentStream=null;var iceCandidateCompare=null;var APP_DOMAIN;(function(){window.getScreenId=function(type,callback){if("getDisplayMedia"in window.navigator.mediaDevices&&(adapter.browserDetails.browser==="chrome"||adapter.browserDetails.browser==="opera")){var screen_constraints={audio:false,video:{width:{max:"1920"},height:{max:"1080"},frameRate:{max:"5"}}};callback(null,adapter.browserDetails.browser,screen_constraints);return}var source=type;if(!!navigator.mozGetUserMedia){var screen_constraints={audio:false,video:{mozMediaSource:source,mediaSource:source,width:{min:"10",max:"1920"},height:{min:"10",max:"1080"},frameRate:{min:"1",max:"5"}}};callback(null,"firefox",screen_constraints);return}if(adapter.browserDetails.browser==="edge"){if(adapter.browserDetails.version>=17134&&!!navigator.getDisplayMedia){var screen_constraints={audio:false,video:{displaySurface:"window",logicalSurface:true,width:{min:"10",max:"1920"},height:{min:"10",max:"1080"},frameRate:{min:"1",max:"5"}}};callback(null,"edge",screen_constraints)}else{console.warn("This version of Edge does not support screen capture feature");return}}if((adapter.browserDetails.browser==="ie"||adapter.browserDetails.browser==="safari")&&adapter.browserDetails.isWebRTCPluginInstalled===true){var screen_constraints={audio:false,video:{optional:[{sourceId:"X978GrandstreamScreenCapturer785"}],mandatory:{minFrameRate:1,maxFrameRate:5}}};if(source==="screen"){if(window.selectedScreenId!==undefined){screen_constraints.video.optional.screenId=window.selectedScreenId}}else{if(window.selectedWindowId){screen_constraints.video.optional.windowId=window.selectedWindowId}}callback(null,"IE",screen_constraints);return}function onIFrameCallback(event){if(!event.data)return;if(typeof event.data=="string"&&!!event.data.match("get-(screen|audio|window|tab|-)*sourceId")){return}var chromeMediaSourceId=event.data;if(chromeMediaSourceId){if(chromeMediaSourceId=="PermissionDeniedError"){callback("ShareCancel",null,null)}else{callback(chromeMediaSourceId,chromeMediaSourceId.sourceId,getScreenConstraints(false,chromeMediaSourceId.sourceId))}}if(event.data.chromeExtensionStatus){callback(event.data.chromeExtensionStatus,null,getScreenConstraints(event.data.chromeExtensionStatus))}iframe.contentWindow.removeEventListener("message",onIFrameCallback)}if(iframe&&iframe.length>0){$(iframe).remove()}else{iframe=document.createElement("iframe");iframe.onload=function(){iframe.isLoaded=true;iframe.contentWindow.addEventListener("message",onIFrameCallback);if(source==="screen"){iframe.contentWindow.postMessage("get-screen-sourceId","*")}else if(source==="window"){iframe.contentWindow.postMessage("get-window-sourceId","*")}else if(source==="tab"){iframe.contentWindow.postMessage("get-tab-sourceId","*")}else{if(window.sharingExtensionVersion==undefined||parseInt(window.sharingExtensionVersion.split(".")[3])<=4){iframe.contentWindow.postMessage("get-sourceId","*")}else{iframe.contentWindow.postMessage("get-screen-window-tab-audio-sourceId","*")}}};iframe.src=APP_DOMAIN+"/web/html/test.html";iframe.style.display="none";(document.body||document.documentElement).appendChild(iframe)}};window.cancelChooseDesktopMedia=function(){if(iframe&&iframe.length>0){$(iframe).remove()}else{iframe=document.createElement("iframe");iframe.onload=function(){iframe.isLoaded=true;iframe.contentWindow.postMessage("cancle-destopcapture","*")};iframe.src=APP_DOMAIN+"/web/html/test.html";iframe.style.display="none";(document.body||document.documentElement).appendChild(iframe)}};function getScreenConstraints(type,sourceId){var screen_constraints={audio:false,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:common_judgment_e.b_desktop_pc?1920:1080,maxHeight:common_judgment_e.b_desktop_pc?1080:1080,minFrameRate:1,maxFrameRate:5},optional:[]}};if(sourceId){screen_constraints.video.mandatory.chromeMediaSourceId=sourceId}return screen_constraints}function postMessage(){}function loadIFrame(loadCallback){if(iframe){loadCallback();return}iframe=document.createElement("iframe");iframe.onload=function(){iframe.isLoaded=true;loadCallback()};iframe.src=APP_DOMAIN+"/web/html/test.html";iframe.style.display="none";(document.body||document.documentElement).appendChild(iframe)}var iframe;window.getScreenConstraints=function(callback){loadIFrame(function(){getScreenId(function(type,sourceId,screen_constraints){callback(type,screen_constraints.video)})})}})();SIPml={};SIPml.b_initialized=false;SIPml.b_initializing=false;SIPml.s_navigator_friendly_name="unknown";SIPml.b_navigator_outdated=false;SIPml.s_navigator_version="unknown";SIPml.s_system_friendly_name="unknown";SIPml.b_webrtc4all_plugin_outdated=false;SIPml.b_webrtc4all_supported=false;SIPml.s_webrtc4all_version="unknown";SIPml.b_have_media_stream=false;SIPml.b_webrtc_supported=false;SIPml.b_muted=true;SIPml.setDebugLevel=function(level){tsk_utils_log_set_level(level==="fatal"?1:level==="error"?2:level==="warn"?3:level==="info"?4:level==="log"?5:6)};SIPml.startNativeDebug=function(){WebRtc4all_GetPlugin().startDebug()};SIPml.stopNativeDebug=function(){WebRtc4all_GetPlugin().stopDebug()};SIPml.getWebRtcType=function(){switch(WebRtc4all_GetType()){case WebRtcType_e.W4A:case WebRtcType_e.IE:case WebRtcType_e.NPAPI:return"w4a";case WebRtcType_e.ERICSSON:return"erisson";case WebRtcType_e.NATIVE:return"native";case WebRtcType_e.ORTC:return"ortc";default:return"unknown"}};SIPml.setWebRtcType=function(type){if(SIPml.isInitialized()){throw new Error("ERR_ALREADY_INITIALIZED: Engine already initialized.")}return WebRtc4all_SetType(type)};SIPml.getRunningApps=function(){if(SIPml.getWebRtcType()!="w4a"){throw new Error("ERR_NOT_SUPPORTED: requires webrtc4all plugin")}return WebRtc4all_GetPlugin().runningApps()};SIPml.setFps=function(fps){if(SIPml.getWebRtcType()!="w4a"){throw new Error("ERR_NOT_SUPPORTED: Setting maximum video size requires webrtc4all plugin")}WebRtc4all_GetPlugin().fps=fps;return 0};SIPml.setMaxVideoSize=function(maxVideoSize){if(SIPml.getWebRtcType()!="w4a"){throw new Error("ERR_NOT_SUPPORTED: Setting FPS requires webrtc4all plugin")}WebRtc4all_GetPlugin().maxVideoSize=maxVideoSize;return 0};SIPml.setMaxBandwidthUp=function(maxBandwidthUp){if(SIPml.getWebRtcType()!="w4a"){throw new Error("ERR_NOT_SUPPORTED: Setting maximum bandwidth requires webrtc4all plugin")}WebRtc4all_GetPlugin().maxBandwidthUp=maxBandwidthUp;return 0};SIPml.setMaxBandwidthDown=function(maxBandwidthDown){if(SIPml.getWebRtcType()!="w4a"){throw new Error("ERR_NOT_SUPPORTED: Setting maximum bandwidth requires webrtc4all plugin")}WebRtc4all_GetPlugin().maxBandwidthDown=maxBandwidthDown;return 0};SIPml.setZeroArtifacts=function(zeroArtifacts){if(SIPml.getWebRtcType()!="w4a"){throw new Error("ERR_NOT_SUPPORTED: Setting maximum bandwidth requires webrtc4all plugin")}WebRtc4all_GetPlugin().zeroArtifacts=zeroArtifacts;return 0};SIPml.getWebRtc4AllVersion=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.s_webrtc4all_version};SIPml.getNavigatorVersion=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.s_navigator_version};SIPml.getNavigatorFriendlyName=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.s_navigator_friendly_name};SIPml.getSystemFriendlyName=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.s_system_friendly_name};SIPml.isNavigatorOutdated=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.b_navigator_outdated};SIPml.isWebRtc4AllPluginOutdated=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.b_webrtc4all_plugin_outdated};SIPml.isWebRtc4AllSupported=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.b_webrtc4all_supported};SIPml.isORTCSupported=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.b_ortc_supported};SIPml.isScreenShareSupported=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.getWebRtcType()==="w4a"||navigator.userAgent.match("Chrome")&&parseInt(navigator.userAgent.match(/Chrome\/(.*) /)[1])>=26};SIPml.isWebRtcSupported=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.b_webrtc_supported};SIPml.isORtcSupported=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.b_ortc_supported};SIPml.isWebSocketSupported=function(){return tsk_utils_have_websocket()};SIPml.haveMediaStream=function(){if(!SIPml.isInitialized()){throw new Error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please call 'SIPml.init()' first")}return SIPml.b_have_media_stream};SIPml.isReady=function(){return SIPml.isInitialized()&&SIPml.isWebRtcSupported()&&SIPml.haveMediaStream()};SIPml.isInitialized=function(){return SIPml.b_initialized};SIPml.init=function(successCallback,errorCallback){if(!SIPml.b_initialized&&!SIPml.b_initializing){SIPml.b_initializing=true;tsk_utils_init_webrtc();tsk_utils_log_info("User-Agent="+(navigator.userAgent||"unknown"));SIPml.b_have_media_stream=tsk_utils_have_stream();SIPml.b_webrtc_supported=tsk_utils_have_webrtc();SIPml.b_ortc_supported=tsk_utils_have_ortc();SIPml.b_webrtc4all_supported=tsk_utils_have_webrtc4all();SIPml.s_webrtc4all_version=tsk_utils_webrtc4all_get_version();SIPml.s_navigator_friendly_name=tsk_utils_get_navigator_friendly_name();SIPml.s_navigator_version=tsk_utils_get_navigator_version();SIPml.s_system_friendly_name=tsk_utils_get_system_friendly_name();if(SIPml.s_navigator_friendly_name!="chrome"&&SIPml.s_navigator_friendly_name!="firefox"){SIPml.s_navigator_friendly_name=adapter.browserDetails.browser;SIPml.s_navigator_version=adapter.browserDetails.version}tsk_utils_log_info("WebSocket supported = "+(SIPml.isWebSocketSupported()?"yes":"no"));if(tsk_utils_have_webrtc4all()){tsk_utils_log_info("WebRTC type = "+WebRtc4all_GetType()+" version = "+tsk_utils_webrtc4all_get_version());if(SIPml.s_webrtc4all_version!="1.35.981"){SIPml.b_webrtc4all_plugin_outdated=true}}tsk_utils_log_info("Navigator friendly name = "+SIPml.s_navigator_friendly_name);if(SIPml.s_navigator_friendly_name=="ie"){var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(navigator.userAgent)!=null){SIPml.s_navigator_version=RegExp.$1}}tsk_utils_log_info("OS friendly name = "+SIPml.s_system_friendly_name);tsk_utils_log_info("Have WebRTC = "+(tsk_utils_have_webrtc()?"yes":"false"));tsk_utils_log_info("Have ORTC = "+(tsk_utils_have_ortc()?"yes":"false"));tsk_utils_log_info("Have GUM = "+(tsk_utils_have_stream()?"yes":"false"));if(!tsk_utils_have_webrtc()){if(SIPml.s_navigator_friendly_name=="chrome"){SIPml.b_navigator_outdated=true;return}if(SIPml.s_system_friendly_name=="win"||SIPml.s_system_friendly_name=="windows"){if(SIPml.s_navigator_friendly_name=="ie"){var rv=-1;var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null){rv=parseFloat(RegExp.$1)}if(rv<9){SIPml.b_navigator_outdated=true;return}if(!tsk_utils_have_webrtc4all()){return}}}}if((SIPml.b_webrtc_supported||SIPml.b_ortc_supported)&&SIPml.b_have_media_stream){SIPml.b_initialized=true;SIPml.b_initializing=false;tsk_utils_log_info("Engine initialized");if(successCallback){successCallback({})}}else{if(errorCallback){var s_description=!(SIPml.b_webrtc_supported||SIPml.b_ortc_supported)?"WebRTC/OTC not supported":!SIPml.b_have_media_stream?"getUserMedia not supported":"Internal error";errorCallback({description:s_description})}}}};SIPml.EventTarget=function(){this.ao_listeners=[]};SIPml.EventTarget.prototype.addEventListener=function(o_type,o_listener){if(!o_listener){throw new Error("ERR_INVALID_PARAMETER_VALUE: 'listener' must not be null")}if(!o_type){throw new Error("ERR_INVALID_PARAMETER_VALUE: 'type' must not be null")}if(!(o_type instanceof String||typeof o_type=="string"||o_type instanceof Array)){throw new Error("ERR_INVALID_PARAMETER_TYPE: 'type' must be a string or array")}if(o_type instanceof Array){var This=this;o_type.forEach(function(s_type){if(!tsk_string_is_null_or_empty(s_type)&&tsk_string_is_string(s_type)){This.ao_listeners[s_type]=o_listener}})}else{this.ao_listeners[o_type]=o_listener}};SIPml.EventTarget.prototype.removeEventListener=function(s_type){if(tsk_string_is_string(s_type)&&!tsk_string_is_null_or_empty(s_type)){this.ao_listeners[s_type]=undefined}};SIPml.EventTarget.prototype.dispatchEvent=function(o_event){var o_listener=this.ao_listeners[o_event.s_type]||this.ao_listeners["*"];if(o_listener){o_listener.call(this,o_event.o_value)}else{SipMgr.onSipEventSession.call(this,o_event.o_value)}};SIPml.Event=function(s_type,o_event){this.type=s_type;this.description=o_event?o_event.s_phrase:s_type;this.o_event=o_event};SIPml.Event.prototype.getSipResponseCode=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message&&o_message.is_response()){return o_message.get_response_code()}return-1};SIPml.Event.prototype.getSipResponsePrase=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message&&o_message.is_response()){return o_message.get_response_phrase()}return-1};SIPml.Event.prototype.getSipXEcode=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message&&o_message.is_response()){var x_ecode=o_message.get_x_gs_speical_head("X-ECode");if(x_ecode)return x_ecode.s_value;else return null}return null};SIPml.Event.prototype.getContent=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message){return o_message.get_content()}return null};SIPml.Event.prototype.getContentString=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message){return o_message.get_content_as_string()}return null};SIPml.Event.prototype.getContactUserName=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message){var hdr;hdr=o_message.get_header(tsip_header_type_e.Contact);if(hdr!=null)return hdr.o_uri.s_user_name;hdr=o_message.get_header(tsip_header_type_e.Record_Route);if(hdr!=null)return hdr.o_uri.s_user_name}return null};SIPml.Event.prototype.getContentType=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message){return o_message.get_content_type()}return null};SIPml.Stack=function(o_conf){SIPml.init();SIPml.EventTarget.call(this);if(!o_conf){throw new Error("ERR_INVALID_PARAMETER_VALUE: null configuration value")}if(tsk_string_is_null_or_empty(o_conf.realm)){throw new Error("ERR_INVALID_PARAMETER_VALUE: '"+o_conf.realm+"' is not valid as realm value")}if(tsk_string_is_null_or_empty(o_conf.impi)){throw new Error("ERR_INVALID_PARAMETER_VALUE: '"+o_conf.impi+"' is not valid as impi value")}if(tsk_string_is_null_or_empty(o_conf.impu)){throw new Error("ERR_INVALID_PARAMETER_VALUE: '"+o_conf.impu+"' is not valid as impu value")}var o_impu=tsip_uri.prototype.Parse(o_conf.impu);if(!o_impu||!o_impu.s_user_name||!o_impu.s_host){throw new Error("ERR_INVALID_PARAMETER_VALUE: '"+o_conf.impu+"' is not valid as SIP Uri")}var i_port;var s_proxy;if(!SIPml.isWebSocketSupported()){i_port=5060;s_proxy=o_conf.realm}else{i_port=(o_conf.enable_rtcweb_breaker?10062:10060)+(new Date).getTime()%5*1e3;s_proxy="ns313841.ovh.net"}this.o_stack=new tsip_stack(o_conf.realm,o_conf.impi,o_conf.impu,s_proxy,i_port);this.o_stack.oStack=this;this.setConfiguration(o_conf);this.o_stack.on_event_stack=function(e){var s_type;switch(e.i_code){case tsip_event_code_e.STACK_STARTING:s_type="starting";break;case tsip_event_code_e.STACK_STARTED:s_type="started";break;case tsip_event_code_e.STACK_STOPPING:s_type="stopping";break;case tsip_event_code_e.STACK_STOPPED:s_type="stopped";break;case tsip_event_code_e.STACK_FAILED_TO_START:s_type="failed_to_start";break;case tsip_event_code_e.STACK_FAILED_TO_STOP:s_type="failed_to_stop";break;case tsip_event_code_e.SOME_ERROR_HAPPENED:s_type="some_error_happened";break;case tsip_event_code_e.NOT_SIP_MESSAGE:s_type="i_not_sip_message";break}if(s_type){tsk_utils_log_info("this.o_stack.on_event_stack s_type: "+s_type);e.o_stack.oStack.dispatchEvent({s_type:s_type,o_value:new SIPml.Stack.Event(s_type,e)})}};this.o_stack.on_event_dialog=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];if(!oSession){tsk_utils_log_warn("Cannot find session with id = "+i_session_id);return}tsk_utils_log_info("e.i_code = "+e.i_code);switch(e.i_code){case tsip_event_code_e.DIALOG_VIDEO_ON_SUCESS:s_type="video_on_sucess";break;case tsip_event_code_e.DIALOG_PRESENT_ON_SUCESS:s_type="present_on_sucess";break;case tsip_event_code_e.DIALOG_PRESENT_ON_FAIL:s_type="present_on_fail";break;case tsip_event_code_e.DIALOG_GET_LO_TIMEOUT:s_type="get_lo_timeout";break;case tsip_event_code_e.DIALOG_REMOTE_STREM_CHANNGE:s_type="remote_stream_change";break;case tsip_event_code_e.DIALOG_VIDEO_ON_TIMEOUT:s_type="video_on_timeout";break;case tsip_event_code_e.DIALOG_TRANSPORT_ERROR:s_type="transport_error";break;case tsip_event_code_e.DIALOG_GLOBAL_ERROR:s_type="global_error";break;case tsip_event_code_e.DIALOG_MESSAGE_ERROR:s_type="message_error";break;case tsip_event_code_e.DIALOG_WEBRTC_ERROR:s_type="webrtc_error";break;case tsip_event_code_e.DIALOG_REQUEST_INCOMING:s_type="i_request";break;case tsip_event_code_e.DIALOG_REQUEST_OUTGOING:s_type="o_request";break;case tsip_event_code_e.DIALOG_REQUEST_CANCELLED:s_type="cancelled_request";break;case tsip_event_code_e.DIALOG_REQUEST_SENT:s_type="sent_request";break;case tsip_event_code_e.RECV_SLIDES_VIDEO:s_type="recv_slide_video";break;case tsip_event_code_e.RECV_MAIN_VIDEO:s_type="recv_main_video";break;case tsip_event_code_e.DIALOG_MEDIA_ADDED:s_type="media_added";break;case tsip_event_code_e.DIALOG_MEDIA_REMOVED:s_type="media_removed";break;case tsip_event_code_e.DIALOG_CONNECTING:s_type="connecting";break;case tsip_event_code_e.DIALOG_CONNECTED:s_type="connected";break;case tsip_event_code_e.DIALOG_TERMINATING:s_type="terminating";break;case tsip_event_code_e.DIALOG_TERMINATED:{s_type="terminated";e.o_session.o_stack.oStack.ao_sessions[i_session_id]=undefined;break}default:break}if(s_type){oSession.dispatchEvent({s_type:s_type,o_value:new SIPml.Session.Event(oSession,s_type,e)})}};this.o_stack.on_event_register=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];switch(e.e_register_type){case tsip_event_register_type_e.AO_REGISTER:s_type="i_ao_register";break;case tsip_event_register_type_e.AO_UNREGISTER:s_type="i_ao_unregister";break}if(s_type){if(oSession){oSession.dispatchEvent({s_type:s_type,o_value:new SIPml.Session.Event(oSession,s_type,e)})}else{tsk_utils_log_warn("Cannot find session with id = "+i_session_id+" and event = "+e.e_invite_type)}}};this.o_stack.on_event_message=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];switch(e.e_message_type){case tsip_event_message_type_e.I_MESSAGE:s_type="i_new_message";break;case tsip_event_message_type_e.AO_MESSAGE:s_type="i_ao_request";break}if(s_type){if(s_type=="i_new_message"){var oNewEvent=new SIPml.Stack.Event(s_type,e);oNewEvent.newSession=new SIPml.Session.Message(e.o_session);e.o_session.o_stack.oStack.ao_sessions[i_session_id]=oNewEvent.newSession;e.o_session.o_stack.oStack.dispatchEvent({s_type:s_type,o_value:oNewEvent})}else{if(oSession){oSession.dispatchEvent({s_type:s_type,o_value:new SIPml.Session.Event(oSession,s_type,e)})}else{tsk_utils_log_warn("Cannot find session with id = "+i_session_id+" and event = "+e.e_invite_type)}}}};this.o_stack.on_event_info=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];if(!oSession){tsk_utils_log_warn("Cannot find session with id = "+i_session_id+" and event = "+e.e_invite_type);return}switch(e.e_info_type){case tsip_event_info_type_e.I_INFO:s_type="i_new_info";break;case tsip_event_info_type_e.I_NOTIFY:{s_type="i_notify";break}case tsip_event_info_type_e.AO_INFO:case tsip_event_info_type_e.AO_NOTIFY:{s_type="i_ao_request";break}}if(s_type){oSession.dispatchEvent({s_type:s_type,o_value:new SIPml.Session.Event(oSession,s_type,e)})}};this.o_stack.on_event_bye=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];if(!oSession){tsk_utils_log_warn("Cannot find session with id = "+i_session_id+" and event = "+e.e_invite_type);return}};this.o_stack.on_event_publish=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];if(!oSession){tsk_utils_log_warn("Cannot find session with id = "+i_session_id+" and event = "+e.e_invite_type);return}switch(e.e_publish_type){case tsip_event_publish_type_e.I_PUBLISH:break;case tsip_event_publish_type_e.I_UNPUBLISH:break;case tsip_event_publish_type_e.AO_PUBLISH:case tsip_event_publish_type_e.AO_UNPUBLISH:{s_type="i_ao_request";break}}if(s_type){oSession.dispatchEvent({s_type:s_type,o_value:new SIPml.Session.Event(oSession,s_type,e)})}};this.o_stack.on_event_subscribe=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];if(!oSession){tsk_utils_log_warn("Cannot find session with id = "+i_session_id+" and event = "+e.e_invite_type);return}switch(e.e_subscribe_type){case tsip_event_subscribe_type_e.I_SUBSCRIBE:break;case tsip_event_subscribe_type_e.I_UNSUBSRIBE:break;case tsip_event_subscribe_type_e.AO_SUBSCRIBE:case tsip_event_subscribe_type_e.AO_UNSUBSCRIBE:case tsip_event_subscribe_type_e.AO_NOTIFY:{s_type="i_ao_request";break}case tsip_event_subscribe_type_e.I_NOTIFY:{s_type="i_notify";break}}if(s_type){oSession.dispatchEvent({s_type:s_type,o_value:new SIPml.Session.Event(oSession,s_type,e)})}};this.o_stack.on_event_notify=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];var xmlStr=e.o_message.get_content_as_string();var x_gs_notify_users=e.o_message.get_x_gs_speical_head("X-Gs-Notify-Users");var x_gs_notify_conf_control_res=e.o_message.get_x_gs_speical_head("X-Gs-Conf-Control-Res");var eventType=e.o_message.get_header(tsip_header_type_e.Event);var xmlDoc=null;if(!oSession){switch(e.e_notify_type){case tsip_event_notify_type_e.I_NOTIFY:{if(eventType=="X-GS-CONFERENCE"){s_type="i_new_notify";var oNewEvent=new SIPml.Stack.Event(s_type,e);if(s_type=="i_new_notify"){oNewEvent.newSession=new SIPml.Session.Call(e.o_session);oNewEvent.confCtrlRes=x_gs_notify_conf_control_res;oNewEvent.notifyBody=xmlStr;for(var i=e.o_message.ao_headers.length-1;i>=0;i--){if(e.o_message.ao_headers[i].s_name=="Accept-Encoding"){oNewEvent.acceptencode=e.o_message.ao_headers[i]}}e.o_session.o_stack.oStack.ao_sessions[i_session_id]=oNewEvent.newSession}e.o_session.o_stack.oStack.dispatchEvent({s_type:s_type,o_value:oNewEvent})}else tsk_utils_log_info("This Notify is not for x-gs-conference !");break}default:{tsk_utils_log_error("Notify type error");break}}}else{tsk_utils_log_info("This notify session has defined!")}};this.o_stack.on_event_invite=function(e){var s_type=null;var i_session_id=e.o_session.i_id;var oSession=e.o_session.o_stack.oStack.ao_sessions[i_session_id];var s_phrase=e.s_phrase;if(!oSession){switch(e.e_invite_type){case tsip_event_invite_type_e.I_NEW_CALL:case tsip_event_invite_type_e.M_STREAM_LOCAL_REQUESTED:case tsip_event_invite_type_e.M_STREAM_LOCAL_ACCEPTED:case tsip_event_invite_type_e.M_STREAM_LOCAL_CHANGE:case tsip_event_invite_type_e.M_STREAM_LOCAL_REFUSED:break;case tsip_event_invite_type_e.M_STREAM_LOCAL_ADDED:case tsip_event_invite_type_e.M_STREAM_REMOTE_ADDED:case tsip_event_invite_type_e.M_STREAM_LOCAL_REMOVED:case tsip_event_invite_type_e.M_STREAM_REMOTE_REMOVED:case tsip_event_invite_type_e.I_AO_REQUEST:tsk_utils_log_info("Not notifying to session with id = "+i_session_id+" for event = "+e.e_invite_type);return;default:tsk_utils_log_warn("Cannot find session with id = "+i_session_id+" and event = "+e.e_invite_type);return}}var _setStream=function(o_view,o_stream,o_url,e_role){if(o_stream){switch(e_role){case tmedia_pc_type_e.AUDIO:if(o_stream.getAudioTracks().length>0){if(window.HTMLAudioElement&&o_view instanceof window.HTMLAudioElement){tsk_utils_log_info("_setStream : AUDIO. ");window.attachMediaStream(o_view,o_stream);tsk_utils_log_info("_setStream: o_audio.common = "+o_view.src)}return true}case tmedia_pc_type_e.MAIN:if(o_stream.getVideoTracks().length>0){tsk_utils_log_info("_setStream : MAIN. ");window.attachMediaStream(o_view,o_stream);tsk_utils_log_info("_setStream: o_video.common = "+o_view.src);return true}case tmedia_pc_type_e.SLIDES:if(o_stream.getVideoTracks().length>0){tsk_utils_log_info("_setStream : SLIDES. ");window.attachMediaStream(o_view,o_stream);tsk_utils_log_info("_setStream: o_present.common = "+o_view.src);return true}default:tsk_utils_log_info("_setStream :  stream type is none. ");break}}return false};var my_attachStream=function(bLocal,e_role){tsk_utils_log_info("my_attachStream");var o_stream_audio=bLocal?e.o_session.my_get_stream_local(e_role):e.o_session.my_get_stream_remote(e_role);var o_stream_video=bLocal?e.o_session.my_get_stream_local(e_role):e.o_session.my_get_stream_remote(e_role);var o_stream_present=bLocal?e.o_session.my_get_stream_local(e_role):e.o_session.my_get_stream_remote(e_role);switch(e_role){case tmedia_pc_type_e.AUDIO:tsk_utils_log_info("my_attachStream audio");if(bLocal){if(o_stream_audio){oSession.audioLocal.stream=o_stream_audio;dispatchEvent("m_stream_audio_local_added")}}else{if(o_stream_audio){dispatchEvent("m_stream_audio_remote_added")}}break;case tmedia_pc_type_e.MAIN:tsk_utils_log_info("my_attachStream video");if(bLocal){if(o_stream_video){dispatchEvent("m_stream_video_local_added")}}else{if(o_stream_video){oSession.videoRemote.stream=o_stream_video;dispatchEvent("m_stream_video_remote_added")}}break;case tmedia_pc_type_e.SLIDES:tsk_utils_log_info("my_attachStream present");if(bLocal){if(o_stream_present){dispatchEvent("m_stream_present_local_added")}}else{if(o_stream_present){oSession.presentRemote.stream=o_stream_present;dispatchEvent("m_stream_present_remote_added")}}break;default:tsk_utils_log_info("my_attachStream :  stream type is none. ");break}tsk_utils_log_info("my_attachStream done")};var my_deattachStream=function(bLocal,e_role){tsk_utils_log_info("my_deattachStream");var o_stream_audio=bLocal?e.o_session.my_get_stream_local(e_role):e.o_session.my_get_stream_remote(e_role);var o_stream_video=bLocal?e.o_session.my_get_stream_local(e_role):e.o_session.my_get_stream_remote(e_role);var o_stream_present=bLocal?e.o_session.my_get_stream_local(e_role):e.o_session.my_get_stream_remote(e_role);switch(e_role){case tmedia_pc_type_e.AUDIO:if(bLocal){dispatchEvent("m_stream_audio_local_removed")}else{dispatchEvent("m_stream_audio_remote_removed")}break;case tmedia_pc_type_e.MAIN:if(!bLocal){dispatchEvent("m_stream_video_remote_removed")}break;case tmedia_pc_type_e.SLIDES:if(!bLocal){dispatchEvent("m_stream_present_remote_removed")}break;default:tsk_utils_log_info("my_attachStream :  stream type is none. ");break}tsk_utils_log_info("my_deattachStream done")};var dispatchEvent=function(s_event_type){if(s_event_type){switch(s_event_type){case"i_new_call":case"m_permission_requested":case"m_video_permission_requested":case"m_permission_accepted":case"m_permission_refused":case"m_local_stream_change":{var oNewEvent=new SIPml.Stack.Event(s_event_type,e);if(s_event_type=="i_new_call"){oNewEvent.newSession=new SIPml.Session.Call(e.o_session);e.o_session.o_stack.oStack.ao_sessions[i_session_id]=oNewEvent.newSession}e.o_session.o_stack.oStack.dispatchEvent({s_type:s_event_type,o_value:oNewEvent});break}default:{oSession.dispatchEvent({s_type:s_event_type,o_value:new SIPml.Session.Event(oSession,s_event_type,e)});break}}}};switch(e.e_invite_type){case tsip_event_invite_type_e.I_NEW_CALL:s_type="i_new_call";break;case tsip_event_invite_type_e.I_ECT_NEW_CALL:s_type="i_ect_new_call";break;case tsip_event_invite_type_e.I_AO_REQUEST:s_type="i_ao_request";break;case tsip_event_invite_type_e.M_EARLY_MEDIA:s_type="m_early_media";break;case tsip_event_invite_type_e.M_STREAM_LOCAL_REQUESTED:s_type="m_permission_requested";break;case tsip_event_invite_type_e.M_STREAM_LOCAL_VIDEO_REQUESTED:s_type="m_video_permission_requested";break;case tsip_event_invite_type_e.M_STREAM_LOCAL_ACCEPTED:s_type="m_permission_accepted";break;case tsip_event_invite_type_e.M_STREAM_LOCAL_REFUSED:s_type="m_permission_refused";break;case tsip_event_invite_type_e.M_STREAM_LOCAL_CHANGE:s_type="m_local_stream_change";break;case tsip_event_invite_type_e.M_STREAM_LOCAL_ADDED:{tsk_utils_log_info(" tsip_event_invite_type_e.M_STREAM_LOCAL_ADDED "+s_phrase);if(s_phrase=="local_audio_added")return my_attachStream(true,tmedia_pc_type_e.AUDIO);else if(s_phrase=="local_video_added")return my_attachStream(true,tmedia_pc_type_e.MAIN);else if(s_phrase=="local_present_added")return my_attachStream(true,tmedia_pc_type_e.SLIDES)}case tsip_event_invite_type_e.M_STREAM_LOCAL_REMOVED:{if(s_phrase=="local_audio_removed")return my_deattachStream(true,tmedia_pc_type_e.AUDIO);else if(s_phrase=="local_video_removed")return my_deattachStream(true,tmedia_pc_type_e.MAIN);else if(s_phrase=="local_present_removed")return my_deattachStream(true,tmedia_pc_type_e.SLIDES)}case tsip_event_invite_type_e.M_STREAM_REMOTE_ADDED:{tsk_utils_log_info(" tsip_event_invite_type_e.M_STREAM_REMOTE_ADDED "+s_phrase);if(s_phrase=="remote_audio_added")return my_attachStream(false,tmedia_pc_type_e.AUDIO);else if(s_phrase=="remote_video_added")return my_attachStream(false,tmedia_pc_type_e.MAIN);else if(s_phrase=="remote_present_added")return my_attachStream(false,tmedia_pc_type_e.SLIDES)}case tsip_event_invite_type_e.M_STREAM_REMOTE_REMOVED:{if(s_phrase=="remote_audio_removed")return my_deattachStream(false,tmedia_pc_type_e.AUDIO);else if(s_phrase=="remote_video_removed")return my_deattachStream(false,tmedia_pc_type_e.MAIN);else if(s_phrase=="remote_present_removed")return my_deattachStream(false,tmedia_pc_type_e.SLIDES)}case tsip_event_invite_type_e.M_STREAM_ERROR_HAPPENED:s_type="m_error_happened";break;case tsip_event_invite_type_e.O_ACTION_RESULT:s_type="o_action_result";break;case tsip_event_invite_type_e.M_ICE_CONNECTION_FAILED:
s_type="m_error_ice_connection";break;case tsip_event_invite_type_e.M_ICE_CONNECTION_FAILED_FIRST:s_type="m_error_ice_connection_first";break;case tsip_event_invite_type_e.M_ICE_RESTART:s_type="m_ice_restart";break;case tsip_event_invite_type_e.M_LOCAL_HOLD_OK:s_type="m_local_hold_ok";break;case tsip_event_invite_type_e.M_LOCAL_HOLD_NOK:s_type="m_local_hold_nok";break;case tsip_event_invite_type_e.M_LOCAL_RESUME_OK:s_type="m_local_resume_ok";break;case tsip_event_invite_type_e.M_LOCAL_RESUME_NOK:s_type="m_local_resume_nok";break;case tsip_event_invite_type_e.M_REMOTE_HOLD:s_type="m_remote_hold";break;case tsip_event_invite_type_e.M_REMOTE_RESUME:s_type="m_remote_resume";break;case tsip_event_invite_type_e.M_UPDATED:s_type="m_updated";break;case tsip_event_invite_type_e.O_ECT_TRYING:s_type="o_ect_trying";break;case tsip_event_invite_type_e.O_ECT_ACCEPTED:s_type="o_ect_accepted";break;case tsip_event_invite_type_e.O_ECT_COMPLETED:s_type="o_ect_completed";break;case tsip_event_invite_type_e.I_ECT_COMPLETED:s_type="i_ect_completed";break;case tsip_event_invite_type_e.O_ECT_FAILED:s_type="o_ect_failed";break;case tsip_event_invite_type_e.I_ECT_FAILED:s_type="i_ect_failed";break;case tsip_event_invite_type_e.O_ECT_NOTIFY:s_type="o_ect_notify";break;case tsip_event_invite_type_e.I_ECT_NOTIFY:s_type="i_ect_notify";break;case tsip_event_invite_type_e.I_ECT_REQUESTED:s_type="i_ect_requested";break;case tsip_event_invite_type_e.DIALOG_REQUEST_INCOMING:{if(e.o_message){if(e.o_message.is_info()){s_type="i_info"}}break}default:break}dispatchEvent(s_type)}};SIPml.Stack.prototype=Object.create(SIPml.EventTarget.prototype);SIPml.Stack.prototype.ao_sessions=[];SIPml.Stack.prototype.setConfiguration=function(o_conf){if(o_conf.realm&&!tsk_string_is_string(o_conf.realm)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.realm+"' not a valid type for realm. String is expected")}if(o_conf.impi&&!tsk_string_is_string(o_conf.impi)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.impi+"' not a valid type for impi. String is expected")}if(o_conf.impu&&!tsk_string_is_string(o_conf.impu)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.impu+"' not a valid type for impu. String is expected")}if(o_conf.password&&!tsk_string_is_string(o_conf.password)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.password+"' not a valid type for password. String is expected")}if(o_conf.display_name&&!tsk_string_is_string(o_conf.display_name)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.display_name+"' not a valid type for display_name. String is expected")}if(o_conf.websocket_proxy_url&&!tsk_string_is_string(o_conf.websocket_proxy_url)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.websocket_proxy_url+"' not a valid type for websocket_proxy_url. String is expected")}if(o_conf.outbound_proxy_url&&!tsk_string_is_string(o_conf.outbound_proxy_url)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.outbound_proxy_url+"' not a valid type for outbound_proxy_url. String is expected")}if(o_conf.sip_headers&&typeof o_conf.sip_headers!="Array"&&!(o_conf.sip_headers instanceof Array)){throw new Error("ERR_INVALID_PARAMETER_TYPE: '"+typeof o_conf.sip_headers+"' not a valid type for sip_headers. Array is expected")}if(o_conf.events_listener){this.addEventListener(o_conf.events_listener.events,o_conf.events_listener.listener)}var b_rtcweb_breaker_enabled=!!o_conf.enable_rtcweb_breaker;var b_click2call_enabled=!!o_conf.enable_click2call;var b_early_ims=o_conf.enable_early_ims==undefined?true:!!o_conf.enable_early_ims;var b_enable_media_stream_cache=!!o_conf.enable_media_stream_cache;var o_bandwidth=o_conf.bandwidth?o_conf.bandwidth:{audio:undefined,video:undefined};var o_video_size=o_conf.video_size?o_conf.video_size:{minWidth:undefined,minHeight:undefined,maxWidth:undefined,maxHeight:undefined};var o_stack=this.o_stack;tsk_utils_log_info("s_websocket_server_url="+(o_conf.websocket_proxy_url||"(null)"));tsk_utils_log_info("s_sip_outboundproxy_url="+(o_conf.outbound_proxy_url||"(null)"));tsk_utils_log_info("b_rtcweb_breaker_enabled="+(b_rtcweb_breaker_enabled?"yes":"no"));tsk_utils_log_info("b_click2call_enabled="+(b_click2call_enabled?"yes":"no"));tsk_utils_log_info("b_early_ims="+(b_early_ims?"yes":"no"));tsk_utils_log_info("b_enable_media_stream_cache="+(b_enable_media_stream_cache?"yes":"no"));tsk_utils_log_info("o_bandwidth="+JSON.stringify(o_bandwidth));tsk_utils_log_info("o_video_size="+JSON.stringify(o_video_size));o_stack.set(tsip_stack.prototype.SetPassword(o_conf.password),tsip_stack.prototype.SetDisplayName(o_conf.display_name),tsip_stack.prototype.SetRolecode(o_conf.role_code),tsip_stack.prototype.SetProxyOutBoundUrl(o_conf.outbound_proxy_url),tsip_stack.prototype.SetRTCWebBreakerEnabled(b_rtcweb_breaker_enabled),tsip_stack.prototype.SetClick2CallEnabled(b_click2call_enabled),tsip_stack.prototype.SetSecureTransportEnabled(b_rtcweb_breaker_enabled),tsip_stack.prototype.SetEarlyIMSEnabled(b_early_ims),tsip_stack.prototype.SetWebsocketServerUrl(o_conf.websocket_proxy_url),tsip_stack.prototype.SetIceServers(o_conf.ice_servers),tsip_stack.prototype.SetIceTransportPolicy(o_conf.ice_transport_policy),tsip_stack.prototype.SetRTCpeerConnectionOptional(o_conf.RTCpeerConnection_optional),tsip_stack.prototype.SetMediaStreamCacheEnabled(b_enable_media_stream_cache),tsip_stack.prototype.SetBandwidth(o_bandwidth),tsip_stack.prototype.SetVideoSize(o_video_size));if(o_conf.sip_headers){o_conf.sip_headers.forEach(function(o_header){if(o_header&&!tsk_string_is_null_or_empty(o_header.name)&&(!o_header.value||tsk_string_is_string(o_header.value))){o_stack.set(tsip_stack.prototype.SetHeader(o_header.name,o_header.value))}})}return 0};SIPml.Stack.prototype.start=function(){return this.o_stack.start()};SIPml.Stack.prototype.stop=function(i_timeout){return this.o_stack.stop(i_timeout)};SIPml.Stack.prototype.newSession=function(s_type,o_conf){var o_session;var cls;var sessionType;if(s_type=="register"){sessionType="register";o_session=new tsip_session_register(this.o_stack);cls=SIPml.Session.Registration}else if(s_type=="message"){sessionType="message";o_session=new tsip_session_message(this.o_stack);cls=SIPml.Session.Message}else if(s_type=="publish"){sessionType="publish";o_session=new tsip_session_publish(this.o_stack);cls=SIPml.Session.Publish}else if(s_type=="subscribe"){sessionType="subscribe";o_session=new tsip_session_subscribe(this.o_stack);cls=SIPml.Session.Subscribe}else if(s_type=="info-present-window"||s_type=="info-present-screen"||s_type=="info-present-camera"||s_type=="info-present-stop"){sessionType="info";o_session=new tsip_session_info(this.o_stack);o_session.s_type=s_type;cls=SIPml.Session.Info}else if(s_type=="info"){sessionType="info";o_session=new tsip_session_info(this.o_stack);o_session.s_type=s_type;cls=SIPml.Session.Info}else if(s_type=="notify"){sessionType="notify";o_session=new tsip_session_notify(this.o_stack);cls=SIPml.Session.Notify}else if(s_type=="call-audio"||s_type=="call-audiovideo"||s_type=="call-video"||s_type=="call-screenshare"){sessionType="call";o_session=new tsip_session_invite(this.o_stack);o_session.s_type=s_type;cls=SIPml.Session.Call}else{throw new Error("ERR_INVALID_PARAMETER_VALUE: '"+s_type+"' not valid as session type")}o_session.b_local=true;var oSession=new cls(o_session,o_conf);this.ao_sessions[oSession.getId()]=oSession;oSession.sessionType=sessionType;tsk_utils_log_info("oSession.getId = "+oSession.getId());SipMgr.sessionList.add(oSession);return oSession};SIPml.Stack.Event=function(s_type,o_event){SIPml.Event.call(this,s_type,o_event)};SIPml.Stack.Event.prototype=Object.create(SIPml.Event.prototype);SIPml.Session=function(o_session,o_conf){SIPml.EventTarget.call(this);if(!o_session){throw new Error("ERR_INVALID_PARAMETER_VALUE: Invalid session value")}this.o_session=o_session;this.setConfiguration(o_conf)};SIPml.Session.prototype=Object.create(SIPml.EventTarget.prototype);SIPml.Session.prototype.o_session=null;SIPml.Session.prototype.o_session=null;SIPml.Session.prototype.o_configuration=null;SIPml.Session.prototype.o_email=null;SIPml.Session.prototype.getId=function(){return this.o_session.get_id()};SIPml.Session.prototype.setConfiguration=function(o_conf){if(!o_conf){return}var o_session=this.o_session;if(o_conf.events_listener){this.addEventListener(o_conf.events_listener.events,o_conf.events_listener.listener)}if(o_conf.o_hangup){this.o_hangup=o_conf.o_hangup}if(o_conf.o_register){this.o_register=o_conf.o_register}if(o_conf.o_unregister){this.o_unregister=o_conf.o_unregister}if(o_conf.info_callback){this.o_info_callback=o_conf.info_callback}if(o_conf.msg_callback){this.o_msg_callback=o_conf.msg_callback}if(o_conf.audioRefresh_info){this.o_audioRefresh={};this.o_audioRefresh.o_audioRefresh_callback=o_conf.audioRefresh_info.cb;this.o_audioRefresh.b_mute=o_conf.audioRefresh_info.b_mute}if(o_conf.videoon_callback){this.o_videoOn={};this.o_videoOn.o_videoon_callback=o_conf.videoon_callback}if(o_conf.videooff_callback){this.o_videoOff={};this.o_videoOff.o_videooff_callback=o_conf.videooff_callback}if(o_conf.presenton_callback){this.o_presentOn={};this.o_presentOn.o_presenton_callback=o_conf.presenton_callback}if(o_conf.presentoff_callback){this.o_presentOff={};this.o_presentOff.o_presentoff_callback=o_conf.presentoff_callback}if(o_conf.switchPresentationSource_callback){this.o_switchPresentationSource={};this.o_switchPresentationSource.o_switchPresentationSource_callback=o_conf.switchPresentationSource_callback}if(o_conf.AdjustVideoResolution_callback){this.o_adjustResolution={};this.o_adjustResolution.o_adjustresolution_callback=o_conf.AdjustVideoResolution_callback}if(this instanceof SIPml.Session.Call){o_session.set(tsip_session.prototype.SetBandwidth(o_conf.bandwidth?o_conf.bandwidth:{audio:undefined,video:undefined}),tsip_session.prototype.SetVideoSize(o_conf.video_size?o_conf.video_size:{minWidth:undefined,minHeight:undefined,maxWidth:undefined,maxHeight:undefined}));if(this.videoLocal==null&&this.videoRemote==null&&this.audioLocal==null&&this.audioRemote==null){this.videoLocal=o_conf.video_local;this.videoRemote=o_conf.video_remote;this.audioRemote=o_conf.audio_remote;this.audioLocal=o_conf.audio_local;this.presentRemote=o_conf.present_remote;this.presentLocal=o_conf.present_local}var _addStream=function(o_view,o_stream,o_url,b_audio){if(o_stream){if(!b_audio&&o_stream.getVideoTracks().length>0){if(window.HTMLVideoElement&&o_view instanceof window.HTMLVideoElement){if(o_view.src==o_url)return false;else if(o_view.src=o_url){o_view.play()}}return true}if(b_audio&&o_stream.getAudioTracks().length>0){if(window.HTMLAudioElement&&o_view instanceof window.HTMLAudioElement){if(o_view.src==o_url)return false;else if(o_view.src=o_url){o_view.play()}}return true}}};if(_addStream(this.videoLocal,o_session.get_stream_local(),o_session.get_url_local(),false)){tsk_utils_log_info("Added Stream Done !! local video");this.dispatchEvent({s_type:"m_stream_video_local_added",o_value:new SIPml.Session.Event(this,"m_stream_video_local_added")})}if(_addStream(this.videoRemote,o_session.get_stream_remote(),o_session.get_url_remote(),false)){tsk_utils_log_info("Added Stream Done !! remote video");this.dispatchEvent({s_type:"m_stream_video_remote_added",o_value:new SIPml.Session.Event(this,"m_stream_video_remote_added")})}if(_addStream(this.audioLocal,o_session.get_stream_local(),o_session.get_url_local(),true)){tsk_utils_log_info("Added Stream Done !! local audio");this.dispatchEvent({s_type:"m_stream_audio_local_added",o_value:new SIPml.Session.Event(this,"m_stream_audio_local_added")})}if(_addStream(this.audioRemote,o_session.get_stream_remote(),o_session.get_url_remote(),true)){tsk_utils_log_info("Added Stream Done !! remote audio");this.dispatchEvent({s_type:"m_stream_audio_remote_added",o_value:new SIPml.Session.Event(this,"m_stream_audio_remote_added")})}}for(var i=0;i<o_session.ao_headers.length;i++){if(o_session.ao_headers[i].s_name==="X-GS-Conf-Control"||o_session.ao_headers[i].s_name==="X-GS-Sender"||o_session.ao_headers[i].s_name==="X-GS-Users"||o_session.ao_headers[i].s_name==="X-GS-Message-Users"||o_session.ao_headers[i].s_name==="Accept-Encoding"||o_session.ao_headers[i].s_name==="X-IPVT-Client-Info"){o_session.ao_headers.splice(i,1);i--}}if(o_conf.sip_headers){o_conf.sip_headers.forEach(function(o_header){if(o_header&&!tsk_string_is_null_or_empty(o_header.name)&&(!o_header.value||tsk_string_is_string(o_header.value))){o_session.set(tsip_session.prototype.SetHeader(o_header.name,o_header.value))}})}if(o_conf.sip_caps){o_conf.sip_caps.forEach(function(o_cap){if(o_cap&&!tsk_string_is_null_or_empty(o_cap.name)&&(!o_cap.value||tsk_string_is_string(o_cap.value))){o_session.set(tsip_session.prototype.SetCaps(o_cap.name,o_cap.value))}})}if(o_conf.expires){o_session.set(tsip_session.prototype.SetExpires(o_conf.expires))}if(o_conf.from){o_session.set(tsip_session.prototype.SetFromStr(o_conf.from))}};SIPml.Session.prototype.getRemoteUri=function(){return(this.o_session.b_local?this.o_session.o_uri_to:this.o_session.o_uri_from).toString()};SIPml.Session.prototype.getRemoteFriendlyName=function(){var o_uri=this.o_session.b_local?this.o_session.o_uri_to:this.o_session.o_uri_from;return o_uri.s_display_name?o_uri.s_display_name:o_uri.s_user_name};SIPml.Session.prototype.getRemoteUserName=function(){var o_uri=this.o_session.b_local?this.o_session.o_uri_to:this.o_session.o_uri_from;return o_uri.s_user_name};SIPml.Session.prototype.reject=function(o_conf){this.setConfiguration(o_conf);return this.o_session.reject()};SIPml.Session.prototype.accept=function(o_conf){this.setConfiguration(o_conf);return this.o_session.accept()};SIPml.Session.Event=function(o_session,s_type,o_event){SIPml.Event.call(this,s_type,o_event);this.session=o_session};SIPml.Session.Event.prototype=Object.create(SIPml.Event.prototype);SIPml.Session.Event.prototype.getTransferDestinationFriendlyName=function(){var o_message=this.o_event?this.o_event.get_message():null;if(o_message){var o_hdr_Refer_To=o_message.get_header(tsip_header_type_e.Refer_To);if(o_hdr_Refer_To&&o_hdr_Refer_To.o_uri){return o_hdr_Refer_To.s_display_name?o_hdr_Refer_To.s_display_name:o_hdr_Refer_To.o_uri.s_user_name}}return null};SIPml.Session.Registration=function(o_session,o_configuration){SIPml.Session.call(this,o_session,o_configuration)};SIPml.Session.Registration.prototype=Object.create(SIPml.Session.prototype);SIPml.Session.Registration.prototype.register=function(o_conf){this.setConfiguration(o_conf);return this.o_session.register()};SIPml.Session.Registration.prototype.unregister=function(o_conf){this.setConfiguration(o_conf);return this.o_session.unregister()};SIPml.Session.Call=function(o_session,o_conf){SIPml.Session.call(this,o_session,o_conf);switch(o_session.s_type){case"call-audio":this.mediaType=tmedia_type_e.AUDIO;break;case"call-audiovideo":this.mediaType=tmedia_type_e.AUDIO_VIDEO;break;case"call-video":this.mediaType=tmedia_type_e.VIDEO;break;case"call-screenshare":this.mediaType=tmedia_type_e.SCREEN_SHARE;break}};SIPml.Session.Call.prototype=Object.create(SIPml.Session.prototype);SIPml.Session.Call.prototype.videoLocal=null;SIPml.Session.Call.prototype.audioLocal=null;SIPml.Session.Call.prototype.audioRemote=null;SIPml.Session.Call.prototype.videoRemote=null;SIPml.Session.Call.prototype.presentLocal=null;SIPml.Session.Call.prototype.presentRemote=null;SIPml.Session.Call.prototype.call=function(s_to,o_conf){if(tsk_string_is_null_or_empty(s_to)){throw new Error("ERR_INVALID_PARAMETER_VALUE: 'to' must not be null")}if(!SIPml.haveMediaStream()){throw new Error("ERR_NOT_READY: Media engine not ready yet")}this.o_session.set(tsip_session.prototype.SetToStr(s_to));this.setConfiguration(o_conf);var clientInfo=null;if(this.o_session.o_stack.identity.s_rolecode!=undefined&&this.o_session.o_stack.identity.s_rolecode.length!=0){clientInfo="rolecode="+this.o_session.o_stack.identity.s_rolecode+";email="+o_conf.user_email+";f=1"}else{clientInfo="email="+o_conf.user_email+";f=1"}this.o_session.set(tsip_session.prototype.SetHeader("X-IPVT-Client-Info",clientInfo));return this.o_session.call(this.mediaType)};SIPml.Session.Call.prototype.hangup=function(o_conf){this.setConfiguration(o_conf);return this.o_session.hangup()};SIPml.Session.Call.prototype.audioRefresh=function(o_conf){this.setConfiguration(o_conf);return this.o_session.audioRefresh(o_conf.o_user_data)};SIPml.Session.Call.prototype.videoRefresh=function(o_conf){this.setConfiguration(o_conf);return this.o_session.videoRefresh(o_conf.o_user_data)};SIPml.Session.Call.prototype.PresntRefresh=function(o_conf){this.setConfiguration(o_conf);return this.o_session.PresntRefresh(o_conf.o_user_data)};SIPml.Session.Call.prototype.hold=function(o_conf){this.setConfiguration(o_conf);return this.o_session.hold(this.mediaType)};SIPml.Session.Call.prototype.resume=function(o_conf){this.setConfiguration(o_conf);return this.o_session.resume(this.mediaType)};SIPml.Session.Call.prototype.info=function(o_content,s_content_type,o_conf){this.setConfiguration(o_conf);return this.o_session.info(o_content,s_content_type)};SIPml.Session.Call.prototype.message=function(o_content,s_content_type,o_conf){this.setConfiguration(o_conf);return this.o_session.message(o_content,s_content_type)};SIPml.Session.Call.prototype.dtmf=function(c_digit,o_conf){this.setConfiguration(o_conf);return this.o_session.dtmf(c_digit)};SIPml.Session.Call.prototype.transfer=function(s_to,o_conf){this.setConfiguration(o_conf);return this.o_session.transfer(s_to)};SIPml.Session.Call.prototype.acceptTransfer=function(o_conf){this.setConfiguration(o_conf);return this.o_session.transfer_accept()};SIPml.Session.Call.prototype.rejectTransfer=function(o_conf){this.setConfiguration(o_conf);return this.o_session.transfer_reject()};SIPml.Session.Message=function(o_session,o_conf){SIPml.Session.call(this,o_session,o_conf)};SIPml.Session.Message.prototype=Object.create(SIPml.Session.prototype);SIPml.Session.Message.prototype.send=function(s_to,o_content,s_content_type,o_conf){if(tsk_string_is_null_or_empty(s_to)){throw new Error("ERR_INVALID_PARAMETER_VALUE: 'to' must not be null")}this.setConfiguration(o_conf);this.o_session.set(tsip_session.prototype.SetToStr(s_to));return this.o_session.send(o_content,s_content_type)};SIPml.Session.Publish=function(o_session,o_conf){SIPml.Session.call(this,o_session,o_conf);o_session.set(tsip_session.prototype.SetToUri(o_session.get_stack().identity.o_uri_impu))};SIPml.Session.Publish.prototype=Object.create(SIPml.Session.prototype);SIPml.Session.Publish.prototype.publish=function(o_content,s_content_type,o_conf){this.setConfiguration(o_conf);return this.o_session.publish(o_content,s_content_type)};SIPml.Session.Publish.prototype.unpublish=function(o_conf){this.setConfiguration(o_conf);return this.o_session.unpublish()};SIPml.Session.Subscribe=function(o_session,o_conf){SIPml.Session.call(this,o_session,o_conf)};SIPml.Session.Subscribe.prototype=Object.create(SIPml.Session.prototype);SIPml.Session.Subscribe.prototype.subscribe=function(s_to,o_conf){if(tsk_string_is_null_or_empty(s_to)){throw new Error("ERR_INVALID_PARAMETER_VALUE: 'to' must not be null")}this.o_session.set(tsip_session.prototype.SetToStr(s_to));this.setConfiguration(o_conf);return this.o_session.subscribe()};SIPml.Session.Subscribe.prototype.unsubscribe=function(o_conf){this.setConfiguration(o_conf);return this.o_session.unsubscribe()};SIPml.Session.Info=function(o_session,o_conf){SIPml.Session.call(this,o_session,o_conf);switch(o_session.s_type){case"info-present-window":this.o_session.o_stack.media.e_video_src=video_src_e.WINDOW;break;case"info-present-screen":this.o_session.o_stack.media.e_video_src=video_src_e.SCREEN;break;case"info-present-camera":this.o_session.o_stack.media.e_video_src=video_src_e.CAMERA;break;case"info-present-stop":this.o_session.o_stack.media.e_video_src=video_src_e.NONE;break}};SIPml.Session.Info.prototype=Object.create(SIPml.Session.prototype);SIPml.Session.Info.prototype.info=function(s_to,o_conf){if(tsk_string_is_null_or_empty(s_to)){throw new Error("ERR_INVALID_PARAMETER_VALUE: 'to' must not be null")}this.o_session.set(tsip_session.prototype.SetToStr(s_to));this.setConfiguration(o_conf);return this.o_session.info()};SIPml.Session.Notify=function(o_session,o_conf){SIPml.Session.call(this,o_session,o_conf)};SIPml.Session.Notify.prototype=Object.create(SIPml.Session.prototype);SIPml.Session.Notify.prototype.notify=function(s_to,o_conf){if(tsk_string_is_null_or_empty(s_to)){throw new Error("ERR_INVALID_PARAMETER_VALUE: 'to' must not be null")}this.o_session.set(tsip_session.prototype.SetToStr(s_to));this.setConfiguration(o_conf);return this.o_session.notify()};sipWebRTCapi.prototype.sip_stack_e={oSipStack:undefined,oSipSessionRegister:undefined,oSipSessionCall:undefined,oSipSessionTransferCall:undefined,oSipSessionSendMessage:undefined,oSipSessionInfo:undefined,oIncomingCallSipSessionCall:undefined,oConfigCall:undefined,oConfigSipInfo:undefined,oConfigSendMessage:undefined};sipWebRTCapi.prototype.events_e={handlerFuns:new Array,recvMessageHandler:undefined,recvNotifyHandler:undefined,recvInfoHandler:undefined,recvByeHandler:undefined,errorHandler:undefined,byeHandler:undefined,stackStartHandler:undefined,incomingCallHandler:undefined,incomingCallCanceledHandler:undefined,incomingCallEndHandler:undefined,mediaPermissionHandler:{request:{mic:undefined,camera:undefined,present:undefined},accept:{mic:undefined,camera:undefined,present:undefined},refuse:{mic:undefined,camera:undefined,present:undefined}},callRemoteRingingHandler:undefined,callFailedHandler:undefined,callCanceledHandler:undefined,callAnsweredHandler:undefined,callEndHandler:undefined,callingHandler:undefined,iceRestartHandler:undefined,transportRestartHandler:undefined,streamChangeHandler:undefined,localStreamChangeHandler:undefined,remoteStreamChangeHandler:undefined,micAudioStreamHandler:undefined,videoDevUpdateHandler:undefined,whoIsTalkingHandler:undefined,onmuteHandler:undefined};function sipWebRTCapi(){this.log={};this.log.debug=window.debug("sipWebRTCapi:DEBUG");this.log.log=window.debug("sipWebRTCapi:LOG");this.log.info=window.debug("sipWebRTCapi:INFO");this.log.warn=window.debug("sipWebRTCapi:WARN");this.log.error=window.debug("sipWebRTCapi:ERROR");this.sessionState=session_states_e.NONE;this.oConstraints=new Array}sipWebRTCapi.prototype.isOkForStack=function(data){if(!data||!data.func_name||!data.cb){this.log.warn("isOkForStack: Invalid argument");return error_status_e.err_status_fail}if(!this.sip_stack_e.oSipSessionCall){this.log.error(data.func_name+": oSipSessionCall.o_session is NULL!");data.cb({codeType:code_type_e.SESSION_NOT_ESTABLISHED});return error_status_e.err_status_fail}var b_started=true;if(this.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_transport.ao_transports.length>0){b_started=this.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_transport.ao_transports[0].is_started()}if(b_started==false||b_started==undefined){this.log.error(data.func_name+": transport has not been available!");if(data.cb){data.cb({codeType:code_type_e.TRANSPORT_NOT_STARTED})}return error_status_e.err_status_fail}return error_status_e.err_status_ok};sipWebRTCapi.prototype.sipRegister=function(data){this.log.info("sipRegister ...");var This=this;try{if(This.sip_stack_e.oSipStack){This.sip_stack_e.oSipSessionRegister=This.sip_stack_e.oSipStack.newSession("register",{expires:180,events_listener:{events:"*",listener:SipMgr.onSipEventSession},sip_caps:[{name:"+g.oma.sip-im",value:null},{name:"+audio",value:null},{name:"language",value:'"en,fr"'}]})}else{this.log.warn("sip stack error");return}This.sip_stack_e.oSipSessionRegister.register({events_listener:{events:"*",listener:SipMgr.onSipEventSession},o_register:{cb:data.cb}})}catch(e){this.log.error("sip stack error! the ression is "+e);data.cb({codeType:code_type_e.STACK_NOT_STARTED})}};sipWebRTCapi.prototype.sipUnRegister=function(data){this.log.info("sipUnRegister ...");var cb=data&&data.cb?data.cb:null;if(this.sip_stack_e.oSipStack){this.sip_stack_e.oSipSessionRegister.setConfiguration({events_listener:{events:"*",listener:SipMgr.onSipEventSession},o_unregister:{cb:cb}});this.sip_stack_e.oSipStack.stop()}else{cb?cb({codeType:code_type_e.STACK_NOT_STARTED}):this.log.info("sipUnRegister, user don not set the callback")}};sipWebRTCapi.prototype.sipCall=function(data){this.log.info("sipcall ...");if(!sip_stack_e.oConfigCall){sip_stack_e.oConfigCall={bandwidth:{audio:undefined,video:undefined},video_size:{minWidth:1280,minHeight:720,maxWidth:1920,maxHeight:1080},events_listener:{events:"*",listener:SipMgr.onSipEventSession},sip_caps:[{name:"+g.oma.sip-im"},{name:"+sip.ice"},{name:"language",value:'"en,fr"'}]}}if(this.sip_stack_e.oSipStack&&!this.sip_stack_e.oSipSessionCall&&!tsk_string_is_null_or_empty(data.to)){this.sip_stack_e.oSipSessionCall=this.sip_stack_e.oSipStack.newSession(data.type,sip_stack_e.oConfigCall);if(this.sip_stack_e.oSipSessionCall.call(data.to,this.sip_stack_e.oConfigCall)!=0){sip_stack_e.oSipSessionCall=undefined;this.log.error("Failed to make call!");data.cb?data.cb({codeType:code_type_e.SESSION_NOT_ESTABLISHED}):null;return}}else if(!this.sip_stack_e.oSipStack){this.log.error("sipcall oSipStack is not exist");data.cb?data.cb({codeType:code_type_e.STACK_NOT_STARTED}):null}else if(this.sip_stack_e.oSipSessionCall){this.log.error("sipcall oSipSessionCall is already exist")}};sipWebRTCapi.prototype.sipAccept=function(data){this.log.info("sipAccept ...");if(!sip_stack_e.oConfigCall){sip_stack_e.oConfigCall={bandwidth:{audio:undefined,video:undefined},video_size:{minWidth:undefined,minHeight:undefined,maxWidth:undefined,maxHeight:undefined},events_listener:{events:"*",listener:SipMgr.onSipEventSession},sip_caps:[{name:"+g.oma.sip-im"},{name:"+sip.ice"},{name:"language",value:'"en,fr"'}]}}if(sip_stack_e.oIncomingCallSipSessionCall){if(data&&data.cb)sip_stack_e.oConfigCall.o_accept={cb:data.cb};sip_stack_e.oIncomingCallSipSessionCall.accept(sip_stack_e.oConfigCall);var sRemoteNumber=sip_stack_e.oIncomingCallSipSessionCall.getRemoteFriendlyName()||"unknown";if(SipMgr.isGDSNum(sRemoteNumber)){this.log.warn("Accept incoming call from gds, and unmute it");sip_stack_e.oIncomingCallSipSessionCall.mute("audio",false)}}else{this.log.error("Failed to accept call!");data.cb({codeType:code_type_e.SESSION_NOT_ESTABLISHED})}};sipWebRTCapi.prototype.sipAudioRefresh=function(data){if(!data||!data.stream||!data.cb){this.log.error("sipAudioRefresh: Invalid argument");return}var result=this.isOkForStack({func_name:"sipAudioRefresh",cb:data.cb});if(result===error_status_e.err_status_fail){return}var user_data={};user_data.o_audio_stream=data.stream;user_data.s_action="audioRefresh";if(this.sip_stack_e.oSipSessionCall.audioRefresh({events_listener:{events:"*",listener:SipMgr.onSipEventSession},audioRefresh_info:data,o_user_data:user_data})===0){this.log.info("audioRefresh succeed");data.cb({codeType:code_type_e.ACTION_SUCCESSED,b_mute:data.b_mute});this.sip_stack_e.oSipSessionCall.o_audioRefresh.o_audioRefresh_callback=null}};sipWebRTCapi.prototype.sipVideoOn=function(data){if(!data||!data.stream||!data.cb){this.log.error("sipVideoOn: Invalid argument");return}var result=this.isOkForStack({func_name:"sipVideoOn",cb:data.cb});if(result===error_status_e.err_status_fail){return}if(data.stream.getVideoTracks().length>0){this.log.info("sipVideoOn o_stream id = "+data.stream.id)}else{this.log.warn("sipVideoOn: have no stream!");data.cb("sipVideoOn no stream!");return}var user_data={};user_data.o_video_stream=data.stream;user_data.s_action="videoOn";if(typeof client==="object"){var node=client.getCameraPreNode();this.log.warn("node.videoHeight: "+node.videoHeight);if(node&&node.videoHeight===360){user_data.b_mac_pro=true}else{user_data.b_mac_pro=false}}if(this.sip_stack_e.oSipSessionCall.videoRefresh({events_listener:{events:"*",listener:SipMgr.onSipEventSession},videoon_callback:data.cb,o_user_data:user_data})!=0){this.log.error("Failed to video on!");data.cb({codeType:code_type_e.SESSION_NOT_ESTABLISHED})}};sipWebRTCapi.prototype.sipVideoOff=function(data){if(!data||!data.cb){this.log.error("sipVideoOff: Invalid argument");return}var result=this.isOkForStack({func_name:"sipVideoOff",cb:data.cb});if(result===error_status_e.err_status_fail){return}var user_data={};user_data.o_video_stream=null;user_data.s_action="videoOff";this.log.info("sipVideoOff ...");if(this.sip_stack_e.oSipSessionCall.videoRefresh({events_listener:{events:"*",listener:SipMgr.onSipEventSession},videooff_callback:data.cb,o_user_data:user_data})!=0){this.log.error("Failed to video off!");data.cb({codeType:code_type_e.SESSION_NOT_ESTABLISHED})}};sipWebRTCapi.prototype.sipAdjustVideoResolution=function(data){if(!data||!data.o_resolution||!data.o_codec||!data.cb){this.log.error("sipAdjustVideoResolution: Invalid argument");return}var result=this.isOkForStack({func_name:"sipAdjustVideoResolution",cb:data.cb});if(result===error_status_e.err_status_fail){return}this.log.info("adjust video resolution to "+data.o_resolution+", codec is "+data.o_codec+", b_automatic: "+data.b_automatic);var user_data={};user_data.o_video_current_recv_resolution=data.o_resolution;user_data.b_adjust_resolution=true;user_data.o_codec=data.o_codec;user_data.o_quality=data.b_automatic?"5":"10";user_data.s_action="adjustVideoResolution";user_data.b_need_pc=true;if(this.sip_stack_e.oSipSessionCall.videoRefresh({events_listener:{events:"*",listener:SipMgr.onSipEventSession},AdjustVideoResolution_callback:data.cb,o_user_data:user_data})!=0){this.log.error("Failed to Adjust Video Resolution!");data.cb({codeType:code_type_e.SESSION_NOT_ESTABLISHED})}};sipWebRTCapi.prototype.sipPresentationRefresh=function(data){if(!data||!data.type||!data.cb){this.log.error("sipPresent: Invalid argument");return}var result=this.isOkForStack({func_name:"sipPresentationRefresh",cb:data.cb});if(result===error_status_e.err_status_fail){return}function onGetStreamSuccess(o_stream){This.log.info("Got present stream successful, stream: "+o_stream.id);if((adapter.browserDetails.browser==="firefox"||adapter.browserDetails.browser==="edge")&&!data.b_switch_source){data.cb({actionType:"startPresnt"})}if(!common_judgment_e.isConfCurrentPresentOn&&data.b_switch_source){This.log.info("The presentation has been closed.");data.cb({actionType:"presentClosed"});return}var result=This.isOkForStack({func_name:"sipPresentationRefresh",cb:data.cb});if(result===error_status_e.err_status_fail){return}o_stream.oninactive=function(){if(common_judgment_e.isIamSharingPresent!==true){var isIamSharingPresentCheck=setInterval(function(){if(common_judgment_e.isIamSharingPresent===true||common_judgment_e.isConfCurrentPresentOn===true){This.log.warn("stream: user close share control bar");data.cb({actionType:"stopPresnt"});clearInterval(isIamSharingPresentCheck)}},500)}else{var dialog=This.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_dialog.find_by_ss(This.sip_stack_e.oSipSessionCall.o_session);var session=dialog.o_msession_mgr.ao_sessions[0];This.log.warn("stream: user close share control bar");data.cb({actionType:"stopPresnt"})}};if(adapter.browserDetails.browser=="firefox"&&adapter.browserDetails.version>=50){var tracks=o_stream.getVideoTracks();tracks[0].onended=function(){This.log.warn("track: user close share control bar");data.cb({actionType:"stopPresnt"})}}var user_data={};user_data.o_present_stream=o_stream;var o_config={events_listener:{events:"*",listener:SipMgr.onSipEventSession},o_user_data:user_data};if(data.b_switch_source){SipMgr.closeStream(SipMgr.sipGetStream("present",true));o_config.switchPresentationSource_callback=data.cb;o_config.o_user_data.s_action="switchPresentationSource"}else{o_config.presenton_callback=data.cb;o_config.o_user_data.s_action="presentOn"}This.sip_stack_e.oSipSessionCall.PresntRefresh(o_config)}function onGetStreamFailed(s_error){
This.log.error("Got present stream failed: \n"+s_error.name);var o_data={};o_data.actionType=s_error.name;data.cb(o_data);return}this.log.info("sipPresent ...");this.log.info("data: "+JSON.stringify(data));var types=["window","screen","tab","all","stop","remove_stop"];var type=data.type;var This=this;if(type==="window"||type==="screen"||type==="tab"||type==="all"){window.getScreenId(type,function(error,sourceId,screen_constraints){if(error==="ShareCancel"){This.log.warn("Permission Denied");data.cb({actionType:"ShareCancel"});return}if((adapter.browserDetails.browser==="chrome"||adapter.browserDetails.browser==="opera"||adapter.browserDetails.browser==="vivaldi")&&!data.b_switch_source){data.cb({actionType:"startPresnt"})}if(sourceId==="edge"){navigator.getDisplayMedia(screen_constraints).then(onGetStreamSuccess).catch(onGetStreamFailed)}else if("getDisplayMedia"in window.navigator.mediaDevices&&(adapter.browserDetails.browser==="chrome"||adapter.browserDetails.browser==="opera")){navigator.mediaDevices.getDisplayMedia(screen_constraints).then(onGetStreamSuccess).catch(onGetStreamFailed)}else{navigator.getUserMedia(screen_constraints,onGetStreamSuccess,onGetStreamFailed)}})}else if(type==="stop"){this.log.info("Stop share presentation");if(!isIamSharingPresentWith_200_ok&&!common_judgment_e.isConfCurrentPresentOn){this.log.info("The presentation has been closed.");data.cb({codeType:code_type_e.ACTION_SUCCESSED});return}this.log.info("close the desktop select alert box if the box is exists");closeDestopCaptureDialog();b_stopping_presentation=true;var user_data={};user_data.o_present_stream=null;user_data.s_action="presentOff";var oConfigSipPresentOff={presentoff_callback:data.cb,o_user_data:user_data};this.sip_stack_e.oSipSessionCall.PresntRefresh(oConfigSipPresentOff)}else{this.log.info("sipPresent: Unknown type!!!")}};sipWebRTCapi.prototype.sipToggleMutePresentation=function(data){if(!data||!data.cb){this.log.error("sipToggleMutePresentation: Invalid argument");return}if(adapter.browserDetails.browser==="chrome"||adapter.browserDetails.browser==="opera"||adapter.browserDetails.browser==="edge"&&adapter.browserDetails.version>=17134){var dialog=this.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_dialog.find_by_ss(this.sip_stack_e.oSipSessionCall.o_session);if(dialog){var session=dialog.o_msession_mgr.ao_sessions[0];if(session){session.toggleMutePresentation(data.b_mute);data.cb({codeType:code_type_e.ACTION_SUCCESSED})}}}else{this.log.info("sipToggleMutePresentation: others browser, return")}};sipWebRTCapi.prototype.sipHangUp=function(data){this.log.info("sipHangUp ...");if(this.sip_stack_e.oSipSessionCall){this.log.info("Terminating the call...");this.sip_stack_e.oSipSessionCall.hangup({events_listener:{events:"*",listener:SipMgr.onSipEventSession},o_hangup:{cb:data.cb}})}else if(this.sip_stack_e.oIncomingCallSipSessionCall){this.log.info("Terminating the incoming call...");sip_stack_e.oIncomingCallSipSessionCall.hangup({events_listener:{events:"*",listener:SipMgr.onSipEventSession},o_hangup:{cb:data.cb}})}else{this.log.error("Failed to end call!");data.cb({codeType:code_type_e.SESSION_NOT_ESTABLISHED})}};sipWebRTCapi.prototype.sipSendDTMF=function(data){this.log.info("sipSendDTMF, digit: "+data.digit);if(sip_stack_e.oSipSessionCall&&data.digit){if(sip_stack_e.oSipSessionCall.dtmf(data.digit)==0){this.log.info("sipSendDTMF succeed")}}else if(sip_stack_e.oIncomingCallSipSessionCall){if(sip_stack_e.oIncomingCallSipSessionCall.dtmf(data.digit)==0){this.log.info("sipSendDTMF succeed")}}};sipWebRTCapi.prototype.sipSendInfo=function(data){var result=this.isOkForStack({func_name:"sipSendInfo",cb:data.cb});if(result===error_status_e.err_status_fail){return}var content=null,contentType=null;if(data.content){content=data.content}if(data.contentType){contentType=data.contentType}var oConfigSipInfo={events_listener:{events:"*",listener:SipMgr.onSipEventSession},info_callback:data.cb};if(!data.contentType){if(data.encodingType&&data.info.indexOf("get_all_user")){oConfigSipInfo.sip_headers=[{name:"X-GS-Conf-Control",value:data.info},{name:"Accept-Encoding",value:data.encodingType}]}else{oConfigSipInfo.sip_headers=[{name:"X-GS-Conf-Control",value:data.info}]}}this.sip_stack_e.oSipSessionCall.info(content,contentType,oConfigSipInfo);var dialog=this.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_dialog.find_by_ss(this.sip_stack_e.oSipSessionCall.o_session);if(dialog){var info_data={};info_data.info_send_cseq=dialog.i_cseq_value;info_data.info_send_cb=data.cb;info_data.data=data;SipMgr.infoCallbacks.push(info_data)}};sipWebRTCapi.prototype.sipSendMessage=function(data){if(!data){this.log.error("sipSendMessage: 'content' must not be null");return}var result=this.isOkForStack({func_name:"sipSendMessage",cb:data.cb});if(result===error_status_e.err_status_fail){return}var oSessionCall=this.sip_stack_e.oSipSessionCall||this.sip_stack_e.oIncomingCallSipSessionCall;var contentType=data.contentType?data.contentType:"text/plain;charset=utf-8";var b_in_invite_dialog=data.to?false:true;if(b_in_invite_dialog){var oConfigSendMsg={events_listener:{events:"*",listener:SipMgr.onSipEventSession}};var i_ret=oSessionCall.message(data.content,contentType,oConfigSendMsg);if(i_ret!=0){this.log.error("Failed to send message...");data.cb?data.cb({codeType:code_type_e.STACK_NOT_STARTED}):this.log.warn("sipSendMessage has no callback");return}}else{var msg_target="all";if(data.target){msg_target=data.target}var from=this.sip_stack_e.oSipStack.o_stack.identity.s_impi;var oConfigSendMsg={events_listener:{events:"*",listener:SipMgr.onSipEventSession},sip_headers:[{name:"X-GS-Message-Users",value:msg_target},{name:"X-GS-Sender",value:from}],msg_callback:data.cb};var oSipSessionSendMsg=this.sip_stack_e.oSipStack.newSession("message",oConfigSendMsg);if(oSipSessionSendMsg&&oSipSessionSendMsg.send(msg_target=="all"?data.to:msg_target,data.msg,"text/plain;charset=utf-8")!=0){this.log.error("Failed to send message...");data.cb?data.cb({codeType:code_type_e.STACK_NOT_STARTED}):this.log.warn("sipSendMessage has no callback")}}};sipWebRTCapi.prototype.sipVideoOffLocalVideo=function(data){this.log.info("sipVideoOffLocalVideo ...");var oSessionCall=this.sip_stack_e.oSipSessionCall||this.sip_stack_e.oIncomingCallSipSessionCall;if(oSessionCall){var i_ret;i_ret=oSessionCall.mute("video",true);if(i_ret!=0){this.log.error("Failed to close loacl video ...");data.cb({codeType:code_type_e.FAILED_TO_CLOSE_LOCAL_VIDEO});return}else{data.cb({codeType:code_type_e.ACTION_SUCCESSED})}}};sipWebRTCapi.prototype.sipVideoOnLocalVideo=function(data){this.log.info("sipVideoOnLocalVideo ...");var oSessionCall=this.sip_stack_e.oSipSessionCall||this.sip_stack_e.oIncomingCallSipSessionCall;if(oSessionCall){var i_ret;i_ret=oSessionCall.mute("video",false);if(i_ret!=0){this.log.error("Failed to close loacl video ...");data.cb({codeType:code_type_e.FAILED_TO_OPEN_LOCAL_VIDEO});return}else{data.cb({codeType:code_type_e.ACTION_SUCCESSED})}}};sipWebRTCapi.prototype.sipGetRtpInfo=function(data){var oSessionCall=this.sip_stack_e.oSipSessionCall||this.sip_stack_e.oIncomingCallSipSessionCall;if(oSessionCall){return oSessionCall.o_session.__my_get_rtp_info()}};sipWebRTCapi.prototype.getStreamFromDevice=function(data){if(!data||!data.streamType||!data.cb){this.log.warn("getStreamFromDevice: Invalid argument");return}var o_session=SipMgr.getDialogFromSession();o_session.getStreamFromDevice(data);return};var SipMgr=function(SipMgr){var log={};log.debug=window.debug("SipMgr:DEBUG");log.log=window.debug("SipMgr:LOG");log.info=window.debug("SipMgr:INFO");log.warn=window.debug("SipMgr:WARN");log.error=window.debug("SipMgr:ERROR");SipMgr.sipApi=new sipWebRTCapi;SipMgr.no_sip_message_id=0;SipMgr.isPausePresent=false;SipMgr.sessionList=null;SipMgr.infoCallbacks=new Array;SipMgr.msgCallbacks=new Array;function getAttributeValue(xmlNode,attrName){if(!xmlNode)return undefined;if(!xmlNode.attributes)return undefined;if(xmlNode.attributes[attrName]!=null)return xmlNode.attributes[attrName].value;if(xmlNode.attributes.getNamedItem(attrName)!=null)return xmlNode.attributes.getNamedItem(attrName).value;return undefined}SipMgr.sipConfNotifyParse=function(confCtrlRes,xmlStr,encode){log.info("sipConfNotifyParse");var result={confInfo:{},userList:[],layout:{},banner:{}};var xmlDoc;try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.loadXML(xmlStr)}catch(e){var oParser=new DOMParser;xmlDoc=oParser.parseFromString(xmlStr,"text/xml")}if(xmlDoc!=null){var conf_info=xmlDoc.getElementsByTagName("conference-info")[0];var creater=getAttributeValue(conf_info,"creater");if(creater!==undefined){result.confInfo.creater=creater}var host=getAttributeValue(conf_info,"host");if(host!==undefined){result.confInfo.host=host}var presenter=getAttributeValue(conf_info,"presenter");if(presenter!==undefined){result.confInfo.presenter=presenter}var layoutSpeaker=getAttributeValue(conf_info,"layout_speaker");if(layoutSpeaker!==undefined){result.confInfo.layoutSpeaker=layoutSpeaker}var maxusercount=getAttributeValue(conf_info,"maxusercount");if(maxusercount!==undefined){result.confInfo.maxusercount=maxusercount}var usercount=getAttributeValue(conf_info,"usercount");if(usercount!==undefined){result.confInfo.usercount=usercount}var maxmic=getAttributeValue(conf_info,"maxmic");if(maxmic!==undefined){result.confInfo.maxmic=maxmic}var max_cam=getAttributeValue(conf_info,"max_cam");if(max_cam!==undefined){result.confInfo.maxCam=max_cam}var currcamcount=getAttributeValue(conf_info,"cur_cam_count");if(currcamcount!==undefined){result.confInfo.currcamcount=currcamcount;log.info("save currcamcount :",currcamcount);common_judgment_e.currcamcount=currcamcount}var presenterdisplay=getAttributeValue(conf_info,"presenter_display");if(presenterdisplay!==undefined){result.confInfo.presenterdisplay=presenterdisplay}var switchtime=getAttributeValue(conf_info,"switchtime");if(switchtime!==undefined){result.confInfo.switchtime=switchtime}var previewed=getAttributeValue(conf_info,"previewed");if(previewed!==undefined){result.confInfo.previewed=previewed}var mic_count=getAttributeValue(conf_info,"mic_count");if(mic_count!==undefined){result.confInfo.mic_count=mic_count}var conf_Time=getAttributeValue(conf_info,"time");if(conf_Time!==undefined){result.confInfo.conftime=conf_Time}var whiteBoardDisplay=getAttributeValue(conf_info,"white_board_display");if(whiteBoardDisplay){result.confInfo.whiteBoardDisplay=whiteBoardDisplay}var whiteBoardUser=getAttributeValue(conf_info,"white_board_user");if(whiteBoardUser){result.confInfo.whiteBoardUser=whiteBoardUser}var status=getAttributeValue(conf_info,"s");if(status!==undefined&&status!==""){result.confInfo.status={};result.confInfo.status.login_prompt=status[0]==="1";result.confInfo.status.logout_prompt=status[1]==="1";result.confInfo.status.rec=status[2]==="1";result.confInfo.status.demo=status[3]==="1";result.confInfo.status.host_join=status[4]==="1";result.confInfo.status.auto_rec=status[5]==="1";result.confInfo.status.mute=status[6]==="1";result.confInfo.status.lock=status[7]==="1";result.confInfo.status.userlist=status[8]==="1";result.confInfo.status.speaker_join=status[9]==="1";result.confInfo.status.started=status[10]==="1";result.confInfo.status.video=status[11]==="1";result.confInfo.status.present=status[12]==="1";result.confInfo.status.allow_rec=status[15]==="1";log.info("save confInfo present status: ",result.confInfo.status.present);common_judgment_e.isConfCurrentPresentOn=result.confInfo.status.present;if(common_judgment_e.isConfCurrentPresentOn===true){if(result.presenter&&common_judgment_e&&common_judgment_e.meSipAccount&&common_judgment_e.meSipAccount===result.presenter){log.info("I am sharing present .");common_judgment_e.isIamSharingPresent=true}}if(status.length>=17){result.confInfo.status.video_layout=status[16]}if(status.length>=18){result.confInfo.status.poll=status[17]==="1"}if(status.length>=19){result.confInfo.status.smart_layout=status[18]==="1"}if(status.length>=21){result.confInfo.status.autoSpeechRecognition=status[20]==="1"}if(status.length>=22){result.confInfo.status.speechRecognition=status[21]==="1"}if(status.length>=23){result.confInfo.status.enableASR=status[22]==="1"}if(status.length>=24){result.confInfo.status.whiteBoard=status[23]==="1"}if(status.length>=25){result.confInfo.status.p2p=status[24]==="0"}var share_type=getAttributeValue(conf_info,"share_type");if(share_type!==undefined){if(share_type==="0"){result.confInfo.share_type="desktop"}else if(share_type==="1"){result.confInfo.share_type="application"}else{result.confInfo.share_type=share_type}}if(result.confInfo.status.demo===true&&result.confInfo.status.video===false&&result.confInfo.status.present===false){result.confInfo.status.video=true}}}return result};SipMgr.onSipEventStack=function(e){log.info("==stack event = "+e.type);switch(e.type){case"started":if(SipMgr.sessionList===null){SipMgr.sessionList=new List}log.warn("stack started, notify web");if(SipMgr.sipApi.sip_stack_e.oSipSessionRegister){if(!SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.warn("session is over, don not handle register");return}else{var dialog=SipMgr.sipApi.sip_stack_e.oSipSessionRegister.o_session.o_stack.o_layer_dialog.find_by_ss(SipMgr.sipApi.sip_stack_e.oSipSessionRegister.o_session);if(dialog){log.log("When oversip resatrt, shutdown the old REGISTER dialogs.");dialog.shutdown()}SipMgr.sipApi.sip_stack_e.oSipSessionRegister=null;if(SipMgr.sipApi.events_e.transportRestartHandler){SipMgr.sipApi.events_e.transportRestartHandler()}if(SipMgr.sipApi.events_e.stackStartHandler){SipMgr.sipApi.events_e.stackStartHandler({codeType:code_type_e.ACTION_SUCCESSED})}else{log.error("user didn't set the callback of OnStackStart")}}}else{if(SipMgr.sipApi.events_e.stackStartHandler){SipMgr.sipApi.events_e.stackStartHandler({codeType:code_type_e.ACTION_SUCCESSED})}else{log.error("user didn't set the callback of OnStackStart")}}break;case"stopping":case"stopped":case"failed_to_start":case"failed_to_stop":var bFailure=e.type=="failed_to_start"||e.type=="failed_to_stop";SipMgr.cleanStack();webrtcSession.prototype.clearRTCSessionInstance();if(SipMgr.sipApi.events_e.stackStartHandler&&bFailure){log.error("stack start failed, notify web");SipMgr.sipApi.events_e.stackStartHandler({codeType:code_type_e.STACK_NOT_STARTED})}else if(SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.FAILED_TO_NEGOTIATE})}else{log.warn("user don not listen the error event")}}break;case"i_new_call":if(SipMgr.sipApi.sip_stack_e.sip_stack_e.oSipSessionCall){log.warn(" do not accept the incoming call if we're already 'in call' ");e.newSession.hangup()}break;case"i_new_notify":var oSipSessionNotify=e.newSession;var confCtrlRes=e.confCtrlRes;var xmlStr=e.notifyBody;var encode=e.acceptencode;if(xmlStr!=null){common_judgment_e.meetingNotifyInfo=SipMgr.sipConfNotifyParse(confCtrlRes,xmlStr,encode);if(SipMgr.sipApi.events_e.recvNotifyHandler){SipMgr.sipApi.events_e.recvNotifyHandler(confCtrlRes,xmlStr,encode)}else{log.error("user didn't set the callback of OnStackStart")}}else{log.info("This is not conference info NOTIFY")}break;case"i_new_message":log.info("receive message");var o_message=e.o_event?e.o_event.get_message():null;var mode=null;if(o_message){var msg_user_obj=o_message.get_x_gs_speical_head("X-IPVT-MSG-To");if(msg_user_obj==null){log.warn("X-IPVT-MSG-To");msg_user_obj=o_message.get_x_gs_speical_head("X-IPVT-MSG-To")}if(msg_user_obj){var msg_user=msg_user_obj.s_value;if(msg_user=="all"){mode="all"}else if(msg_user=="panelist"){mode="panelist"}else{mode="private"}}}SipMgr.sipApi.sip_stack_e.oSipSessionSendMessage=e.newSession;SipMgr.sipApi.sip_stack_e.oSipSessionSendMessage.setConfiguration();var fromUserName=e.getContactUserName();var sRemoteNumber=SipMgr.sipApi.sip_stack_e.oSipSessionSendMessage.getRemoteUserName()||"unknown";var sRemoteDisplayName=SipMgr.sipApi.sip_stack_e.oSipSessionSendMessage.getRemoteFriendlyName()||"unknown";SipMgr.sipApi.sip_stack_e.oSipSessionSendMessage.accept();var data={};data.from=sRemoteDisplayName;data.msg=e.getContentString();data.no=sRemoteNumber;data.sipID=fromUserName;data.mode=mode;log.log("receive message from("+fromUserName+"): "+e.getContentString());if(SipMgr.sipApi.events_e.recvMessageHandler){SipMgr.sipApi.events_e.recvMessageHandler(data)}else{log.warn("user don not listen the recvNotify event")}break;case"i_not_sip_message":if(e.o_event&&e.o_event.o_message){log.info("recv not-sip message: "+e.o_event.o_message)}else{log.info("the message is null");break}var obj=JSON.parse(e.o_event.o_message);if(obj&&obj.content&&obj.module&&obj.id){if(SipMgr.sipApi.events_e.websoctetMessageHandler){SipMgr.sipApi.events_e.websoctetMessageHandler({jsonData:obj})}else{log.warn("user don not listen the whoIsTalking event")}break}else{log.warn("i_not_sip_message: Format Error");break}case"i_new_info":log.info("receive info");break;case"m_permission_requested":if(SipMgr.sipApi.events_e.mediaPermissionHandler.request.mic){SipMgr.sipApi.events_e.mediaPermissionHandler.request.mic()}break;case"m_video_permission_requested":if(SipMgr.sipApi.events_e.mediaPermissionHandler.request.camera){SipMgr.sipApi.events_e.mediaPermissionHandler.request.camera(true)}break;case"m_permission_accepted":if(SipMgr.sipApi.events_e.mediaPermissionHandler.accept.mic){SipMgr.sipApi.events_e.mediaPermissionHandler.accept.mic(true)}break;case"m_permission_refused":SipMgr.cleanStack();if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.SHARE_PERMISSION_DENIED})}else{log.warn("user don not listen the error event")}break;case"m_local_stream_change":if(SipMgr.sipApi.events_e.localStreamChangeHandler){SipMgr.sipApi.events_e.localStreamChangeHandler()}break;case"some_error_happened":log.error("transport_error: WebSocket connect timeout");SipMgr.cleanStack();if(SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.TRANSPORT_ERROR})}}else{if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.TRANSPORT_ERROR})}}break;case"starting":default:break}};SipMgr.onSipEventSession=function(e){log.info("==session event = "+e.type);switch(e.type){case"connecting":case"connected":var bConnected=e.type==="connected";if(bConnected){if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionRegister){log.info("register succeed");if(e.session.o_register&&e.session.o_register.cb){e.session.o_register.cb({codeType:code_type_e.ACTION_SUCCESSED});e.session.o_register=null}}else if(e.session===SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(bConnected){log.info("Call has established");if(SipMgr.sipApi.events_e.callAnsweredHandler){log.info("alter user that the remote answer");var o_session=SipMgr.getDialogFromSession();var mediaType=o_session?o_session.e_type:null;log.info("the media type remote choose is "+mediaType.s_name);var data={};data.X_IPVT_Client_Info=e.o_event.o_message.X_IPVT_Client_Info;data.codec=e.o_event.o_message.codec;SipMgr.sipApi.events_e.callAnsweredHandler(data)}else{log.warn("the user don not listen the 'callAnswered' event")}}else if(SipMgr.sipApi.events_e.callingHandler){log.info("callingHandler()-->")}}else if(e.session===SipMgr.sipApi.sip_stack_e.oIncomingCallSipSessionCall){log.info("don not supported")}}break;case"terminating":case"terminated":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionRegister){if(!SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.info("session is over, don not handle register");return}log.warn("The register dialogs terminated");if(e.session.o_unregister&&e.session.o_unregister.cb){log.warn("notify web");e.session.o_unregister.cb({codeType:code_type_e.ACTION_SUCCESSED});e.session.o_unregister=undefined}else{log.warn("notify web register ineffective.")}var dialog=SipMgr.sipApi.sip_stack_e.oSipSessionRegister.o_session.o_stack.o_layer_dialog.find_by_ss(SipMgr.sipApi.sip_stack_e.oSipSessionRegister.o_session);if(dialog){log.warn("shutdown the REGISTER dialogs.");dialog.shutdown()}var b_started;if(SipMgr.sipApi.sip_stack_e.oSipSessionCall&&SipMgr.sipApi.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_transport.ao_transports.length>0){b_started=SipMgr.sipApi.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_transport.ao_transports[0].is_started()}if(b_started){log.info("The websocket resatrt, should send REGISTER.");SipMgr.sipApi.sip_stack_e.oSipSessionRegister=oSipStack.newSession("register",{expires:180,events_listener:{events:"*",listener:SipMgr.onSipEventSession},sip_caps:[{name:"+g.oma.sip-im",value:null},{name:"+audio",value:null},{name:"language",value:'"en,fr"'}]});SipMgr.sipApi.sip_stack_e.oSipSessionRegister.register()}}else if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.warn("The invite dialogs terminated");SipMgr.cleanStack();SipMgr.sipVideoDisplayEvent(null,false);if(e.session.o_hangup&&e.session.o_hangup.cb){log.warn("The local user hangup");e.session.o_hangup.cb({codeType:code_type_e.ACTION_SUCCESSED});e.session.o_hangup=undefined}else if(SipMgr.sipApi.events_e.callEndHandler){log.warn("The remote user hangup");SipMgr.sipApi.events_e.callEndHandler()}}if(SipMgr.sessionList.contains(e.session)){var index=SipMgr.sessionList.indexOf(e.session);SipMgr.sessionList.remove(index)}break;case"cancelled_request":if(e.session==SipMgr.sipApi.sip_stack_e.oIncomingCallSipSessionCall){log.warn("The incoming invite dialogs terminated");SipMgr.sipApi.sip_stack_e.oIncomingCallSipSessionCall=undefined;if(SipMgr.sipApi.events_e.incomingCallCanceledHandler){log.warn("The remote user cancelled the incoming call");SipMgr.sipApi.events_e.incomingCallCanceledHandler()}}break;case"transport_error":if(e.session===SipMgr.sipApi.sip_stack_e.oSipSessionCall){var o_message=e.o_event.o_message;if(o_message&&o_message==="send request failed"){log.warn("transport_error: send invite failed !");if(SipMgr.sipApi.sip_stack_e.oSipSessionCall){SipMgr.cleanStack();if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.TRANSPORT_ERROR})}}}else if(o_message&&o_message.is_info()){var hdrSeq=o_message.get_header(tsip_header_type_e.CSeq);var length=SipMgr.infoCallbacks.length;for(var i=0;i<length;i++){if(SipMgr.infoCallbacks[i].info_send_cseq===hdrSeq.i_seq){break}}if(i<SipMgr.infoCallbacks.length){SipMgr.infoCallbacks[i].info_send_cb({codeType:code_type_e.REQUEST_NOT_RESPONSE});SipMgr.infoCallbacks.splice(i,1)}log.warn("transport_error: send info failed !")}else if(o_message&&o_message.is_invite()){log.error("transport_error: send invite failed !");if(SipMgr.sipApi.sip_stack_e.oSipSessionCall){SipMgr.cleanStack();if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.TRANSPORT_ERROR})}}}}else if(e.session.sessionType==="message"){e.session.o_msg_callback({codeType:code_type_e.REQUEST_NOT_RESPONSE});log.warn("transport_error: failed to send msssage!")}else if(e.session.sessionType==="register"){log.warn("transport_error: failed to refresh register !")}break;case"get_lo_timeout":case"video_on_timeout":if(SipMgr.sessionList.contains(e.session)){if(e.session===SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(e.o_event&&e.o_event.s_phrase&&e.o_event.s_phrase=="applyConstraints error"){log.warn("applyConstraints error");if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.CAMERA_NOT_SUPPORT})}}else{log.error("get local sdp time out: session id = "+e.session.getId());SipMgr.cleanStack();if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.FAILED_TO_NEGOTIATE})}}}}break;case"o_action_result":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){var oMessage=e.o_event.get_message();var cseq=null;if(oMessage&&oMessage.o_response){cseq=oMessage.o_response.get_response_cseq()}else if(!oMessage||!oMessage.o_action){tsk_utils_log_info("o_action_failed: invalid argument");break}switch(oMessage.o_action){case action_type_e.SUCCESSED_TO_VIDEO_ON:if(e.session.o_videoOn&&e.session.o_videoOn.o_videoon_callback&&(cseq?e.session.o_videoOn.i_cseq==cseq.i_seq:true)){e.session.o_videoOn.o_videoon_callback({codeType:code_type_e.ACTION_SUCCESSED});log.warn("video on request succeed: session id = "+e.session.getId());e.session.o_videoOn.o_videoon_callback=null}break;case action_type_e.FAILED_TO_VIDEO_ON:if(e.session.o_videoOn&&e.session.o_videoOn.o_videoon_callback&&(cseq?e.session.o_videoOn.i_cseq==cseq.i_seq:true)){e.session.o_videoOn.o_videoon_callback({codeType:code_type_e.FAILED_TO_VIDEO_ON,reasonCode:shareLocalWebcamFiledReasonCode});log.warn("video on request failed: session id = "+e.session.getId());e.session.o_videoOn.o_videoon_callback=null}break;case action_type_e.SUCCESSED_TO_VIDEO_OFF:if(e.session.o_videoOff&&e.session.o_videoOff.o_videooff_callback&&(cseq?e.session.o_videoOff.i_cseq==cseq.i_seq:true)){e.session.o_videoOff.o_videooff_callback({codeType:code_type_e.ACTION_SUCCESSED});log.warn("video off request succeed: session id = "+e.session.getId());e.session.o_videoOff.o_videooff_callback=null}break;case action_type_e.SUCCESSED_TO_SCREEN_SHARE:if(e.session.o_presentOn&&e.session.o_presentOn.o_presenton_callback&&(cseq?e.session.o_presentOn.i_cseq==cseq.i_seq:true)){e.session.o_presentOn.o_presenton_callback({codeType:code_type_e.ACTION_SUCCESSED});log.info("present on request succeed: session id = "+e.session.getId());e.session.o_presentOn.o_presenton_callback=null}case action_type_e.FAILED_TO_SCREEN_SHARE:if(e.session.o_presentOn&&e.session.o_presentOn.o_presenton_callback&&(cseq?e.session.o_presentOn.i_cseq==cseq.i_seq:true)){e.session.o_presentOn.o_presenton_callback({codeType:code_type_e.FAILED_TO_SCREEN_SHARE});log.info("present on request failed: session id = "+e.session.getId());e.session.o_presentOn.o_presenton_callback=null}break;case action_type_e.SUCCESSED_TO_CLOSE_SCREEN_SHARE:if(e.session.o_presentOff&&e.session.o_presentOff.o_presentoff_callback&&e.session.o_presentOff.i_cseq==cseq.i_seq){e.session.o_presentOff.o_presentoff_callback({codeType:code_type_e.ACTION_SUCCESSED});log.info("present off request succeed: session id = "+e.session.getId());e.session.o_presentOff.o_presentoff_callback=null;SipMgr.closeStream(SipMgr.sipGetStream("present",true))}if(e.session.o_switchPresentationSource&&e.session.o_switchPresentationSource.o_switchPresentationSource_callback){log.info("present off succeed, and set switchPresentationSourceCallback to be null");e.session.o_switchPresentationSource.o_switchPresentationSource_callback=null}break;case action_type_e.SUCCESSED_TO_SWITCH_SCREEN_SHARE:if(e.session.o_switchPresentationSource&&e.session.o_switchPresentationSource.o_switchPresentationSource_callback&&(e.session.o_switchPresentationSource.i_cseq===cseq.i_seq||e.session.o_presentOn.i_cseq===cseq.i_seq||preCseqForFirefox===cseq.i_seq)){e.session.o_switchPresentationSource.o_switchPresentationSource_callback({codeType:code_type_e.ACTION_SUCCESSED});log.info("switch presentation source request succeed: session id = "+e.session.getId());e.session.o_switchPresentationSource.o_switchPresentationSource_callback=null}break;default:log.warn("o_action_failed: unknown type");break}}break;case"m_error_ice_connection_first":if(SipMgr.sessionList.contains(e.session)){if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.warn("First failed to check ice connectiong: media type = "+e.o_event.o_message);var error={};error.name="IceConnectionFailedFirst";error.type=e.o_event.o_message;error.codeType=code_type_e.ICE_CONNECTION_FAILED_FIREST;log.info("ice failed, errorHandler: "+JSON.stringify(error,null,"    "));if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler(error)}}}break;case"m_error_ice_connection":if(SipMgr.sessionList.contains(e.session)){if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.error("failed to check ice connectiong: session id = "+e.session.getId());SipMgr.cleanStack();if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.ICE_CONNECTION_FAILED})}}}break;case"m_ice_restart":if(SipMgr.sessionList.contains(e.session)){if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.warn("succeed to do ice resatrt: media type = "+e.o_event.o_message);if(SipMgr.sipApi.events_e.iceRestartHandler){SipMgr.sipApi.events_e.iceRestartHandler(e.o_event.o_message)}}}break;case"remote_stream_change":if(SipMgr.sipApi.events_e.remoteStreamChangeHandler){SipMgr.sipApi.events_e.remoteStreamChangeHandler("video")}break;case"m_stream_video_local_added":case"m_stream_video_local_removed":break;case"m_stream_video_remote_added":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.streamChangeHandler){SipMgr.sipVideoDisplayEvent("video",true)}}break;case"m_stream_video_remote_removed":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.streamChangeHandler){SipMgr.sipVideoDisplayEvent("video",false)}}break;case"m_stream_present_remote_added":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.streamChangeHandler){SipMgr.sipVideoDisplayEvent("present",true)}}break;case"m_stream_present_remote_removed":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.streamChangeHandler){SipMgr.sipVideoDisplayEvent("present",false)}}break;case"m_stream_audio_local_added":var audioStream=SipMgr.sipGetStream("audio",true);if(micAudioStreamHandler){micAudioStreamHandler(audioStream)}else{log.info("user don not listen micAudioStream event")}break;case"m_stream_audio_local_removed":if(micAudioStreamHandler){micAudioStreamHandler(null)}else{log.info("user don not listen micAudioStream event")}break;case"m_stream_audio_remote_added":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.streamChangeHandler){SipMgr.sipVideoDisplayEvent("audio",true)}}break;case"m_stream_audio_remote_removed":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){if(SipMgr.sipApi.events_e.streamChangeHandler){SipMgr.sipVideoDisplayEvent("audio",false)}}break;case"m_error_happened":var s_error=e.description;log.error("Get Media Stream Error: "+s_error);if(SipMgr.sipApi.sip_stack_e.oSipSessionCall){SipMgr.cleanStack();if(SipMgr.sipApi.events_e.errorHandler){SipMgr.sipApi.events_e.errorHandler({codeType:code_type_e.FAILED_TO_NEGOTIATE})}}break;case"i_request":var o_message=e.o_event?e.o_event.get_message():null;if(o_message){switch(o_message.line.request.e_type){case tsip_request_type_e.BYE:var o_data={};var o_reason=o_message.parse_reason_head();if(o_reason){log.info("Receivce BYE from server with X-ECode:"+o_reason.xEcode+", meetingid: "+o_reason.meetingid);o_data.reasonCode=o_reason.xEcode;o_data.meetingid=o_reason.meetingid}else{var xECode=o_message.get_cause_reason();if(xECode){log.info("Receivce BYE from server with X-ECode:"+xECode);o_data.reasonCode=xECode}else{o_data.type="server_status_error";o_data.reasonCode=code_type_e.SERVER_STATUS_ERROR;o_data.msg="bye"}}o_data.codeType=o_data.reasonCode;log.info("recv bye, byeHandler: "+JSON.stringify(o_data,null,"    "));if(SipMgr.sipApi.events_e.byeHandler){SipMgr.sipApi.events_e.byeHandler(o_data)}else{log.warn("user don not listen the bye event")}SipMgr.cleanStack();break;case tsip_request_type_e.INVITE:{}default:break}}break;case"i_ect_new_call":SipMgr.sipApi.sip_stack_e.oSipSessionTransferCall=e.session;break;case"i_ao_register":var iSipResponseCode=e.getSipResponseCode();if(iSipResponseCode>=100&&iSipResponseCode<200){log.info("This is a temporary response")}else if(iSipResponseCode>=200&&iSipResponseCode<300){log.info("Register Succeed with code:  "+iSipResponseCode);if(e.session.o_register&&e.session.o_register.cb){e.session.o_register.cb({codeType:code_type_e.ACTION_SUCCESSED});e.session.o_register=null}}else{log.error("Register Failed With Code: "+iSipResponseCode);
var o_message=e.o_event?e.o_event.get_message():null;var xECode=o_message.get_cause_reason();var o_data={};if(xECode){log.warn("Register Failed With Code: "+iSipResponseCode+", X-ECode: "+xECode);o_data.reasonCode=xECode}else{o_data.type="server_status_error";o_data.reasonCode=code_type_e.SERVER_STATUS_ERROR}o_data.sipCode=iSipResponseCode;o_data.codeType=code_type_e.REGISTER_ERROR;if(e.session.o_register&&e.session.o_register.cb){log.info("register failed, callback: "+JSON.stringify(o_data,null,"    "));e.session.o_register.cb(o_data);e.session.o_register=null}}break;case"i_ao_unregister":var iSipResponseCode=e.getSipResponseCode();var codeType;if(iSipResponseCode>=200&&iSipResponseCode<300){log.info("unRegister Succeed with code:  "+iSipResponseCode);codeType=code_type_e.ACTION_SUCCESSED}else{log.error("unRegister Failed with code:  "+iSipResponseCode);codeType=iSipResponseCode}for(var i=0;i<SipMgr.infoCallbacks.length;i++){if(SipMgr.infoCallbacks[i].info_send_cb){SipMgr.infoCallbacks[i].info_send_cb({codeType:codeType,action:SipMgr.infoCallbacks[i].data.info});SipMgr.infoCallbacks.splice(i,1)}}break;case"i_ao_request":var iSipResponseCode=e.getSipResponseCode();var oMessage=e.o_event.get_message();var index=SipMgr.sessionList.indexOf(e.session);var o_data={};var cause=oMessage.get_cause_reason();if(cause){log.info("Receivce response with X-ECode: "+cause);o_data.reasonCode=cause}else{o_data.type="server_status_error";o_data.reasonCode=code_type_e.SERVER_STATUS_ERROR}o_data.sipCode=iSipResponseCode;o_data.codeType=o_data.reasonCode;if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){var oInfoCallback=e.session.o_info_callback;var oMsgCallback=e.session.o_msg_callback;if(iSipResponseCode==180||iSipResponseCode==183){log.info("Remote ringing...");if(SipMgr.sipApi.events_e.callRemoteRingingHandler){SipMgr.sipApi.events_e.callRemoteRingingHandler()}}else if(iSipResponseCode>=200&&iSipResponseCode<300){if(oMessage&&oMessage.is_response_to_info()&&oInfoCallback){var hdrSeq=oMessage.get_header(tsip_header_type_e.CSeq);var length=SipMgr.infoCallbacks.length;for(var i=0;i<length;i++){if(SipMgr.infoCallbacks[i].info_send_cseq===hdrSeq.i_seq){break}}if(i<length){SipMgr.infoCallbacks[i].info_send_cb({codeType:code_type_e.ACTION_SUCCESSED,action:SipMgr.infoCallbacks[i].data.info});SipMgr.infoCallbacks.splice(i,1);oInfoCallback=null}else if(e.session.o_info_callback){e.session.o_info_callback({codeType:code_type_e.ACTION_SUCCESSED});e.session.o_info_callback=null}log.info("Send "+hdrSeq.i_seq+" Info Succeed")}else if(oMessage&&oMessage.is_response_to_message()&&oMsgCallback){var hdrSeq=oMessage.get_header(tsip_header_type_e.CSeq);var length=SipMgr.msgCallbacks.length;for(var i=0;i<length;i++){if(SipMgr.msgCallbacks[i].msg_send_cseq===hdrSeq.i_seq){break}}if(i<length){SipMgr.msgCallbacks[i].msg_send_cb({codeType:code_type_e.ACTION_SUCCESSED});SipMgr.msgCallbacks.splice(i,1)}else{oMsgCallback({codeType:code_type_e.ACTION_SUCCESSED});oMsgCallback=null}log.info("Send"+hdrSeq.i_seq+" Message Succeed")}else if(oMessage&&oMessage.is_response_to_invite()){log.info("Send Invite Succeed!");var cseq=oMessage.get_response_cseq();shareLocalWebcamFiledReasonCode=cause;if(e.session.o_adjustResolution&&e.session.o_adjustResolution.o_adjustresolution_callback){e.session.o_adjustResolution.o_adjustresolution_callback({codeType:code_type_e.ACTION_SUCCESSED});log.info("adjust resolution request succeed");e.session.o_adjustResolution.o_adjustresolution_callback=null}if(e.session.o_audioRefresh&&e.session.o_audioRefresh.o_audioRefresh_callback){log.info("audioRefresh succeed, callback: ");e.session.o_audioRefresh.o_audioRefresh_callback({codeType:code_type_e.ACTION_SUCCESSED,b_mute:e.session.o_audioRefresh.b_mute});e.session.o_audioRefresh.o_audioRefresh_callback=null}}}else if(iSipResponseCode>=300){if(oMessage&&oMessage.is_response_to_info()){log.warn("Send Info Failed, X-ECode: "+iSipResponseCode);if(oInfoCallback){var hdrSeq=oMessage.get_header(tsip_header_type_e.CSeq);var length=SipMgr.infoCallbacks.length;for(var i=0;i<length;i++){if(SipMgr.infoCallbacks[i].info_send_cseq===hdrSeq.i_seq){break}}if(i<length){var o_reason=oMessage.parse_reason_head();if(o_reason){o_data.reasonCode=o_reason.xEcode;o_data.meetingid=o_reason.meetingid}o_data.codeType=code_type_e.FAILED_TO_SEND_INFO;o_data.action=SipMgr.infoCallbacks[i].data.info;log.warn("send info failed, callback: "+JSON.stringify(o_data,null,"    "));SipMgr.infoCallbacks[i].info_send_cb(o_data);SipMgr.infoCallbacks.splice(i,1)}else{oInfoCallback(o_data)}log.info("Send"+hdrSeq.i_seq+" Info Failed, X-ECode: "+xECode)}}else if(oMessage&&oMessage.is_response_to_invite()){var iSipResponsePhrase=e.getSipResponsePrase();log.error("Invite Request   with "+iSipResponseCode+", the phrase is "+iSipResponsePhrase);SipMgr.cleanStack();var o_reason=oMessage.parse_reason_head();if(!o_reason&&iSipResponsePhrase){o_data.codePhrase=iSipResponsePhrase}o_data.codeType=code_type_e.INVITE_ERROR;if(SipMgr.sipApi.events_e.callFailedHandler){log.warn("alter user that the call failed, callFailedHandler: "+JSON.stringify(o_data,null,"    "));SipMgr.sipApi.events_e.callFailedHandler(o_data)}else if(SipMgr.sipApi.events_e.errorHandler){log.warn("call failed, errorHandler: "+JSON.stringify(o_data,null,"    "));SipMgr.sipApi.events_e.errorHandler(o_data)}else{log.warn("user don not listen the error evetnt")}}else if(oMessage&&oMessage.is_response_to_update()){deviceCheckInterval("clear");log.error("update Failed with "+iSipResponseCode+", X-ECode: "+xECode);if(SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.warn("Update session failed, send bye...");SipMgr.sipApi.sip_stack_e.oSipSessionCall.hangup({events_listener:{events:"*",listener:SipMgr.onSipEventSession}})}if(SipMgr.sipApi.events_e.byeHandler){log.info("Update session failed, byeHandler: "+JSON.stringify(o_data,null,"    "));SipMgr.sipApi.events_e.byeHandler(o_data)}}else if(oMessage&&oMessage.is_response_to_message()){log.error("Send Message Failed with X-ECode: "+iSipResponseCode);var hdrSeq=oMessage.get_header(tsip_header_type_e.CSeq);var length=SipMgr.msgCallbacks.length;for(var i=0;i<length;i++){if(SipMgr.msgCallbacks[i].msg_send_cseq===hdrSeq.i_seq){break}}if(i<length){log.info("send message failed, callback: "+JSON.stringify(o_data,null,"    "));SipMgr.msgCallbacks[i].msg_send_cb(o_data);SipMgr.msgCallbacks.splice(i,1)}else{oMsgCallback(o_data)}}}}if(oMessage&&oMessage.is_response_to_message()){if(iSipResponseCode==202){log.log("Gateway Accepted!")}if(iSipResponseCode!=200&&iSipResponseCode!=202){log.error("Send Message Failed with X-ECode: "+xECode);o_data.codeType=code_type_e.FAILED_TO_SEND_MESSAGE;log.warn("send Message failed, callback: "+JSON.stringify(o_data,null,"    "));SipMgr.sessionList.get(index).o_msg_callback(o_data);SipMgr.sessionList.remove(index)}else{log.log("Send Message Succeed!");SipMgr.sessionList.get(index).o_msg_callback({codeType:code_type_e.ACTION_SUCCESSED});SipMgr.sessionList.remove(index)}}break;case"i_message":log.warn("recv in_dialog message");break;case"m_early_media":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.info("Early media started");var o_message=e.o_event?e.o_event.get_message():null;if(o_message!=null){log.info("Early media started, has sdp");var o_joinConfBlock=o_message.get_x_gs_speical_head("X-Gs-Join-Block");if(o_joinConfBlock){tsk_utils_log_info("Join Conf Block !");inviteCallBack(o_joinConfBlock);inviteCallBack=null}}}break;case"m_local_hold_ok":break;case"m_local_hold_nok":break;case"m_local_resume_ok":break;case"m_local_resume_nok":break;case"m_remote_hold":break;case"m_remote_resume":break;case"m_updated":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.info("media has updated.")}break;case"o_ect_trying":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.info("Call transfer in progress...")}break;case"o_ect_accepted":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.info("Call transfer accepted")}break;case"o_ect_completed":case"i_ect_completed":if(e.session==SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.info("Call transfer completed");if(SipMgr.sipApi.sip_stack_e.oSipSessionTransferCall){SipMgr.sipApi.sip_stack_e.oSipSessionCall=SipMgr.sipApi.sip_stack_e.oSipSessionTransferCall}SipMgr.sipApi.sip_stack_e.oSipSessionTransferCall=null}break;case"o_ect_failed":case"i_ect_failed":if(e.session===SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.error("Call transfer failed")}break;case"o_ect_notify":case"i_ect_notify":break;case"i_ect_requested":break}};SipMgr.getDialogFromSession=function(oSession){var oSessionCall=oSession?oSession:SipMgr.sipApi.sip_stack_e.oSipSessionCall||SipMgr.sipApi.sip_stack_e.oIncomingCallSipSessionCall;if(oSessionCall){var dialog=oSessionCall.o_session.o_stack.o_layer_dialog.find_by_ss(oSessionCall.o_session);if(dialog&&dialog.o_msession_mgr&&dialog.o_msession_mgr.ao_sessions&&dialog.o_msession_mgr.ao_sessions.length>0){return dialog.o_msession_mgr.ao_sessions[0]}else{log.warn("getDialogFromSession: no sessionCall");return}}else{log.warn("getDialogFromSession: no sessionCall");return}};SipMgr.sipGetStream=function(type,b_local){if(!SipMgr.sipApi.sip_stack_e.oSipSessionCall){log.error("sipGetStream: Call session is not established!");return}if(!SipMgr.sipApi.sip_stack_e.oSipSessionCall.o_session){log.error("oSipSessionCall.o_session is NULL!");return}var session=SipMgr.sipApi.sip_stack_e.oSipSessionCall.o_session;if(type=="audio")return b_local?session.my_get_stream_local(tmedia_pc_type_e.AUDIO):session.my_get_stream_remote(tmedia_pc_type_e.AUDIO);if(type=="video")return b_local?session.my_get_stream_local(tmedia_pc_type_e.MAIN):session.my_get_stream_remote(tmedia_pc_type_e.MAIN);if(type=="present")return b_local?session.my_get_stream_local(tmedia_pc_type_e.SLIDES):session.my_get_stream_remote(tmedia_pc_type_e.SLIDES)};SipMgr.closeStream=function(stream){if(!stream){log.info("closeStream: Invalid argument");return}else{log.info("close stream id: "+stream.id)}try{stream.oninactive=null;var tracks=stream.getTracks();for(var track in tracks){tracks[track].onended=null;log.info("close stream");tracks[track].stop()}}catch(e){log.info("closeStream: Failed to close stream");log.info(e)}stream=null};SipMgr.cleanStack=function(){log.info("cleanStack");deviceCheckInterval("clear");if(SipMgr.sipApi.sip_stack_e.oSipSessionCall){var dialog=SipMgr.sipApi.sip_stack_e.oSipSessionCall.o_session.o_stack.o_layer_dialog.find_by_ss(SipMgr.sipApi.sip_stack_e.oSipSessionCall.o_session);if(dialog){dialog.o_msession_mgr.stop()}if(SipMgr.sipApi.sip_stack_e.oSipStack){SipMgr.sipApi.sip_stack_e.oSipStack.stop();SipMgr.sipApi.sip_stack_e.oSipStack=null}SipMgr.sipApi.sip_stack_e.oSipSessionCall=null;SipMgr.sipApi.sip_stack_e.oSipSessionRegister=null}else{log.info("clean stack already")}};SipMgr.removeInviteAction=function(data){if(!data||!data.func_name||!data.o_dialog){log.info("removeInviteAction: Invalid Argument");return}if(sendInviteQueue.length>0&&(adapter.browserDetails.browser==="chrome"||adapter.browserDetails.browser==="opera")&&data.func_name==="videoOn"&&sendInviteQueue[0].s_action!==data.func_name){log.info("removeInviteAction: action remove already!");return}if(sendInviteQueue.length>0){if(adapter.browserDetails.browser==="ie"&&data.func_name==="iceConnectSuccessed"&&restartType){for(var i=0,len=sendInviteQueue.length;i<len;i++){if(sendInviteQueue[i].s_type===restartType){sendInviteQueue.splice(i,1);log.info("sendInviteQueue length: "+sendInviteQueue.length+", ("+data.func_name+")");break}}restartType=null}else{for(var j=0;j<sendInviteQueue.length;j++){if(sendInviteQueue[j].s_action===data.func_name||sendInviteQueue[j].s_action==="doIceRestart"&&data.func_name==="iceConnectSuccessed"||sendInviteQueue[j].s_action==="doIceRestart"&&data.func_name==="checkInviteQueue"||sendInviteQueue[j].s_action==="videoOn"&&data.func_name==="handleStream"){sendInviteQueue.splice(j,1);log.info("sendInviteQueue length: "+sendInviteQueue.length+", ("+data.func_name+")");break}}}if(sendInviteQueue.length>0){log.info("prepare send invite: "+sendInviteQueue[0].s_action);setTimeout(function(){data.o_dialog.prepare_send_invite()},1)}else{if(send491InviteQueue.length>0){log.info("previously saved sendInviteQueue queue length: "+send491InviteQueue.length);for(var k=0;k<send491InviteQueue.length;k++){if(send491InviteQueue[k].s_action==="doIceRestart"){sendInviteQueue.push(send491InviteQueue[k])}}log.info("sendInviteQueue length: "+sendInviteQueue.length);send491InviteQueue.length=0;if(sendInviteQueue.length>0){log.info("prepare send invite: "+sendInviteQueue[0].s_action);setTimeout(function(){data.o_dialog.prepare_send_invite()},1)}}}}else{log.info("removeInviteAction: remove already");if(send491InviteQueue.length===1&&send491InviteQueue[0].s_action===data.func_name){log.info("Clear residual invite queue: ",data.func_name);send491InviteQueue=[]}}};SipMgr.sipVideoDisplayEvent=function(s_styp,b_added){if(!SipMgr.sipApi.events_e.streamChangeHandler){log.warn("user don not listen the streamChange event");return}log.info("sipVideoDisplayEvent, type: "+s_styp);if(s_styp){SipMgr.sipApi.events_e.streamChangeHandler(s_styp,b_added)}else{SipMgr.sipApi.events_e.streamChangeHandler("audio",b_added);SipMgr.sipApi.events_e.streamChangeHandler("video",b_added);SipMgr.sipApi.events_e.streamChangeHandler("present",b_added)}};SipMgr.MuteStream=function(data){if(data.stream!=null&&data.stream!=undefined){log.info("MuteStream: stream id = "+data.stream.id)}if(data&&data.stream&&data.type=="audio"&&data.stream.getAudioTracks().length>0){for(var i=0;i<data.stream.getAudioTracks().length;i++){if(data.b_mute){if(data.stream.getAudioTracks()[i].enabled==true){log.info("MuteStream exec mute audio");data.stream.getAudioTracks()[i].enabled=false}}else{if(data.stream.getAudioTracks()[i].enabled==false){log.info("MuteStream exec unmute audio");data.stream.getAudioTracks()[i].enabled=true}}}}else if((data.type=="video"||data.type=="present")&&data.stream.getVideoTracks().length>0){for(var i=0;i<data.stream.getVideoTracks().length;i++){if(data.b_mute){if(data.stream.getVideoTracks()[i].enabled==true){log.info("MuteStream exec mute video/present");data.stream.getVideoTracks()[i].enabled=false}}else{if(data.stream.getVideoTracks()[i].enabled==false){log.info("MuteStream exec unmute video/present");data.stream.getVideoTracks()[i].enabled=true}}}}};SipMgr.setLocalStream=function(data){if(!data||!data.o_stream||!data.e_role){log.info("setLocalStream: invalid argument");return}log.info("setLocalStream, type: "+data.e_role.s_name);function onmute(o_event){log.info("onmute, type: "+o_event.e_role.s_name);switch(o_event.e_role.s_name){case"audio":o_event.type="audio";break;case"main":o_event.type="video";break;case"slides":o_event.type="present";break;default:break}if(SipMgr.sipApi.events_e.onmuteHandler){SipMgr.sipApi.events_e.onmuteHandler(o_event)}else{log.info("user don not listen the onmute event")}}var tracks=data.o_stream.getTracks();if(tracks&&tracks.length>0){log.info("set stream onmute");tracks[0].onmute=null;tracks[0].onmute=function(event){data.event=event;onmute(data)}}else{log.info("can not set stream onmute without track");return}};SipMgr.inviteForIceRestart=function(){if(adapter.browserDetails.browser!=="chrome"&&adapter.browserDetails.browser!=="opera"&&adapter.browserDetails.browser!=="edge"){log.info("others browser don not support iceRstart invite retransmission");return error_status_e.err_status_fail}if(sendInviteQueue.length>0&&sendInviteQueue[0].s_action){log.info("inviteForIceRestart: s_action: "+sendInviteQueue[0].s_action);if(sendInviteQueue[0].s_action==="doIceRestart"){return error_status_e.err_status_ok}}else{log.info("inviteForIceRestart: not iceRstart invite");return error_status_e.err_status_fail}};SipMgr.correctIceSession=function(e_role){var s_type;switch(e_role){case tmedia_pc_type_e.AUDIO:s_type="audioRefresh";break;case tmedia_pc_type_e.MAIN:s_type="videoRefresh";break;case tmedia_pc_type_e.SLIDES:s_type="presentRefresh";break;default:break}if(sendInviteQueue.length>0&&sendInviteQueue[0].s_action&&sendInviteQueue[0].s_type){log.info("correctIceSession: s_action: "+sendInviteQueue[0].s_action+", s_styp: "+sendInviteQueue[0].s_type);if(adapter.browserDetails.browser=="ie"){if(sendInviteQueue[0].s_action==="doIceRestart"){for(var i=0,len=sendInviteQueue.length;i<len;i++){if(sendInviteQueue[i].s_type==s_type){restartType=s_type;return error_status_e.err_status_ok}}}}else{if(sendInviteQueue[0].s_action==="doIceRestart"&&sendInviteQueue[0].s_type==s_type){return error_status_e.err_status_ok}}}else{log.info("correctIceSession: not correct Ice Session");return error_status_e.err_status_fail}};SipMgr.getConfFromLocalStorage=function(s_key){if(!s_key){log.info("getConfFromLocalStorage: invalid argument");return}var s_value=localStorage.getItem(s_key);return s_value};SipMgr.sendInviteWithoutCandidate=function(){if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"&&sendInviteQueue.length==0){return error_status_e.err_status_ok}return error_status_e.err_status_fail};SipMgr.sendReinviteWithoutCandidate=function(){if(SipMgr.getConfFromLocalStorage("trickle_ice")=="true"&&sendInviteQueue.length>0&&sendInviteQueue[0].s_action=="doIceRestart"){return error_status_e.err_status_ok}return error_status_e.err_status_fail};SipMgr.bSendInfoWithCandidate=function(){if(SipMgr.sendInviteWithoutCandidate()||SipMgr.sendReinviteWithoutCandidate()){return error_status_e.err_status_ok}return error_status_e.err_status_fail};SipMgr.bUseMACCamera=function(){if(tsk_utils_detect_OS()=="Mac"){for(var i=videoInputDevices.length;i--;){if(videoInputDevices[i].state=="applyed"){tsk_utils_log_info("bUseMACCamera label: "+videoInputDevices[i].label);if(videoInputDevices[i].label&&videoInputDevices[i].label.indexOf("FaceTime ")>-1){return error_status_e.err_status_ok}}}}return error_status_e.err_status_fail};return SipMgr}(SipMgr||{});sipWebRTC.prototype=new sipWebRTCapi;function sipWebRTC(options){sipWebRTCapi.call(this);this.conf=options;if(options&&options.log){this.o_log_level=options.log}var log={};log.debug=window.debug("sipWebRTC:DEBUG");log.log=window.debug("sipWebRTC:LOG");log.info=window.debug("sipWebRTC:INFO");log.warn=window.debug("sipWebRTC:WARN");log.error=window.debug("sipWebRTC:ERROR");this.log=log;if(options){this.load_stack()}}sipWebRTC.prototype.load_stack=function(){var log_level=this.o_log_level?this.o_log_level:"log";SIPml.setDebugLevel(log_level);if(adapter.browserDetails.browser=="chrome"&&adapter.browserDetails.version>=69||adapter.browserDetails.browser==="safari"){localStorage.setItem("test_red_ulpfec_enabled","false")}else{if(localStorage.test_red_ulpfec_enabled==undefined){localStorage.setItem("test_red_ulpfec_enabled","true")}}if(localStorage.trickle_ice==undefined){localStorage.setItem("trickle_ice","false")}if(SIPml){SIPml.init(this.postInit)}else{this.log.error("ERR_NOT_INITIALIZED: Engine not initialized yet. Please create SIPml first")}};sipWebRTC.prototype.postInit=function(){if(SIPml.isWebRtc4AllSupported()&&SIPml.isWebRtc4AllPluginOutdated()){if(confirm("Your WebRtc4all extension is outdated ("+SIPml.getWebRtc4AllVersion()+"). A new version with critical bug fix is available. Do you want to install it?\nIMPORTANT: You must restart your browser after the installation.")){window.location="http://code.google.com/p/webrtc4all/downloads/list";return}}if(!SIPml.isWebRtcSupported()){if(adapter.browserDetails.browser==="chrome"){if(confirm("You're using an old Chrome version or WebRTC is not enabled.\nDo you want to see how to enable WebRTC?")){window.location="http://www.webrtc.org/running-the-demos"}else{window.location="index.html"}return}if(SIPml.getSystemFriendlyName()==="windows"){if(SIPml.getNavigatorFriendlyName()=="ie"){if(parseFloat(SIPml.getNavigatorVersion())<9){if(confirm("You are using an old IE version. You need at least version 9. Would you like to update IE?")){window.location="http://windows.microsoft.com/en-us/internet-explorer/products/ie/home"}else{window.location="index.html"}}if(!SIPml.isWebRtc4AllSupported()){if(confirm("webrtc4all extension is not installed. Do you want to install it?\nIMPORTANT: You must restart your browser after the installation.")){window.location="http://code.google.com/p/webrtc4all/downloads/list"}else{}}if(!SIPml.isWebRtc4AllSupported()){return}}else if(SIPml.getNavigatorFriendlyName()=="safari"||SIPml.getNavigatorFriendlyName()=="firefox"||SIPml.getNavigatorFriendlyName()=="opera"){if(confirm("Your browser don't support WebRTC.\nDo you want to install WebRTC4all extension to enjoy audio/video calls?\nIMPORTANT: You must restart your browser after the installation.")){window.location="http://code.google.com/p/webrtc4all/downloads/list"}else{window.location="index.html"}return}}else{if(confirm("WebRTC not supported on your browser.\nDo you want to download a WebRTC-capable browser?")){window.location="https://www.google.com/intl/en/chrome/browser/"}else{window.location="index.html"}return}}if(!SIPml.isWebSocketSupported()&&!SIPml.isWebRtc4AllSupported()){if(confirm("Your browser don't support WebSockets.\nDo you want to download a WebSocket-capable browser?")){window.location="https://www.google.com/intl/en/chrome/browser/"}else{window.location="index.html"}return}if(!SIPml.isWebRtc4AllSupported()&&!SIPml.isWebRtcSupported()&&!SIPml.isORTCSupported()){if(confirm("Your browser don't support WebRTC.\naudio/video calls will be disabled.\nDo you want to download a WebRTC-capable browser?")){window.location="https://www.google.com/intl/en/chrome/browser/"}}document.body.style.cursor="default"};sipWebRTC.prototype.init=function(cb){var This=this;try{!this.conf?this.conf={}:null;!this.conf.userId?this.conf.userId=window.localStorage?window.localStorage.getItem("userId"):null:null;!this.conf.sipPasswd?this.conf.sipPasswd=window.localStorage?window.localStorage.getItem("sipPasswd"):null:null;!this.conf.sipRealm?this.conf.sipRealm=window.localStorage?window.localStorage.getItem("sipRealm"):null:null;!this.conf.websocketUrl?this.conf.websocketUrl=window.localStorage?window.localStorage.getItem("websocketUrl"):null:null;!this.conf.iceServer?this.conf.iceServer=window.localStorage?window.localStorage.getItem("iceServer"):null:null;!this.conf.audioCodec?this.conf.audioCodec=window.localStorage?window.localStorage.getItem("audioCodec"):null:null;!this.conf.videoCodec?this.conf.videoCodec=window.localStorage?window.localStorage.getItem("videoCodec"):null:null;!this.conf.videoImageSize?this.conf.videoImageSize=window.localStorage?window.localStorage.getItem("videoImageSize"):null:null;!this.conf.videoBitRate?this.conf.videoBitRate=window.localStorage?window.localStorage.getItem("videoBitRate"):null:null}catch(e){throw new Error("Failed to start the SIP stack, the reason: "+e);if(cb){cb({status_code:code_type_e.STACK_NOT_STARTED})}}if(adapter.browserDetails.browser=="ie"||adapter.browserDetails.browser=="safari"&&adapter.browserDetails.isSupportWebRTC==false){adapter.browserShim.loadPlugin(function(error){This.log.warn("Load plugin: Error is "+error);if(!error){getWebRTCPluginVersion();This.log.warn("webrtc safari or IE plugin version:"+webRTCPluginInfo.version);if(webRTCPluginInfo.force!=undefined&&webRTCPluginInfo.force=="1"){window.location="https://meetings.ipvideotalk.com/getInstallPluginURL?isupdate=1"}}else{window.location="https://meetings.ipvideotalk.com/getInstallPluginURL?isupdate=0"}})}This.log.warn("websocketUrl: "+This.conf.websocketUrl);try{if(!This.conf||!This.conf.sipPasswd||!This.conf.websocketUrl){throw new Error("Please fill madatory fields (*)");if(cb){cb({status_code:code_type_e.STACK_PARAMETER_ERROR})}return}!This.conf.sipImpi?This.conf.sipImpi=This.conf.userId:This.conf.sipImpi;!This.conf.sipImpu?This.conf.sipImpu="sip:"+This.conf.userId+"@"+This.conf.sipRealm:This.conf.sipImpu;!This.conf.sipDispalyName?This.conf.sipDispalyName=This.conf.userId:This.conf.sipDispalyName;This.log.info("sipImpu: "+This.conf.sipImpu);var o_impu=tsip_uri.prototype.Parse(This.conf.sipImpu);if(!o_impu||!o_impu.s_user_name||!o_impu.s_host){This.log.error("["+This.conf.sipImpu+"] is not a valid Public identity");if(cb){cb({status_code:code_type_e.STACK_PARAMETER_ERROR})}return}if(window.webkitNotifications&&window.webkitNotifications.checkPermission()!=0){window.webkitNotifications.requestPermission()}var userAgent="Grandstream gsmeeting/webrtc_"+adapter.browserDetails.browser+" "+adapter.browserDetails.UIVersion;This.sip_stack_e.oSipStack=new SIPml.Stack({realm:this.conf.sipRealm,impi:This.conf.sipImpi,impu:This.conf.sipImpu,password:This.conf.sipPasswd,role_code:This.conf.sipRolecode,display_name:This.conf.sipDispalyName,websocket_proxy_url:This.conf.websocketUrl,outbound_proxy_url:null,ice_servers:This.conf.iceServer,ice_transport_policy:This.conf.iceTransportPolicy,RTCpeerConnection_optional:This.conf.RTCpeerConnectionOptional,enable_rtcweb_breaker:false,events_listener:{events:"*",listener:SipMgr.onSipEventStack},enable_early_ims:true,enable_media_stream_cache:false,bandwidth:This.conf.videoBitRate,video_size:This.conf.videoImageSize,sip_headers:[{name:"User-Agent",value:userAgent},{name:"Organization",value:"Grandstream"}]});if(This.sip_stack_e.oSipStack.start()!=0){This.log.error("Failed to start the SIP stack");if(cb){cb({status_code:code_type_e.STACK_NOT_STARTED})}}else{return}}catch(e){This.log.error("Failed to start the SIP stack, the reason: "+e);if(cb){cb({status_code:code_type_e.STACK_NOT_STARTED})}}};sipWebRTC.prototype.on=function(eventType,handlerFun){if(eventType=="onRecvMessage"){this.events_e.recvMessageHandler=handlerFun}else if(eventType=="onRecvNofity"){this.events_e.recvNotifyHandler=handlerFun}else if(eventType=="onRecvInfo"){this.events_e.recvInfoHandler=handlerFun}else if(eventType=="onRecvBye"){this.events_e.recvByeHandler=handlerFun}else if(eventType=="OnStackStart"){this.events_e.stackStartHandler=handlerFun}else if(eventType=="OnError"){this.events_e.errorHandler=handlerFun}else if(eventType=="onIncomingCall"){this.events_e.incomingCallHandler=handlerFun}else if(eventType=="onIncomingCallCanceled"){this.events_e.incomingCallCanceledHandler=handlerFun}else if(eventType=="onIncomingCallEnd"){this.events_e.incomingCallEndHandler=handlerFun}else if(eventType=="onMediaPermission"){this.events_e.MediaPermissionHandler=handlerFun}else if(eventType=="onCallRemoteRinging"){this.events_e.callRemoteRingingHandler=handlerFun}else if(eventType=="onCallFailed"){this.events_e.callFailedHandler=handlerFun}else if(eventType=="onCallCanceled"){this.events_e.callCanceledHandler=handlerFun}else if(eventType=="onCallAnswered"){this.events_e.callAnsweredHandler=handlerFun}else if(eventType=="onCallEnd"){this.events_e.callEndHandler=handlerFun}else if(eventType=="OnCalling"){this.events_e.callingHandler=handlerFun}else if(eventType=="OnBye"){this.events_e.byeHandler=handlerFun}else if(eventType=="OnIceRestart"){this.events_e.iceRestartHandler=handlerFun}else if(eventType=="OnTransportRestart"){this.events_e.transportRestartHandler=handlerFun}else if(eventType=="OnStreamChange"){this.events_e.streamChangeHandler=handlerFun}else if(eventType=="OnLocalStreamChange"){this.events_e.localStreamChangeHandler=handlerFun}else if(eventType=="OnRemoteStreamChange"){this.events_e.remoteStreamChangeHandler=handlerFun}else if(eventType=="OnMicDevLoaded"){this.events_e.mediaPermissionHandler.request.mic=handlerFun}else if(eventType=="OnVideoDevLoaded"){this.events_e.mediaPermissionHandler.request.camera=handlerFun}else if(eventType=="OnMicDevSelected"){this.events_e.mediaPermissionHandler.accept.mic=handlerFun}else if(eventType=="websoctetMessageHandler"){this.events_e.websoctetMessageHandler=handlerFun}else if(eventType=="OnOnmute"){this.events_e.onmuteHandler=handlerFun}else{}this.events_e.handlerFuns[eventType]=handlerFun};sipWebRTC.prototype.setCallConfiguration=function(args){var videoLocal=args.localVideo;var videoRemote=args.remoteVideo;var audioLocal=args.localAudio;var audioRemote=args.remoteAudio;var presentLocal=args.localPresent;var presentRemote=args.remotePresent;this.sip_stack_e.oConfigCall={audio_local:audioLocal,audio_remote:audioRemote,video_local:videoLocal,video_remote:videoRemote,present_local:presentLocal,present_remote:presentRemote,bandwidth:{audio:undefined,video:undefined},video_size:{minWidth:undefined,minHeight:undefined,maxWidth:undefined,maxHeight:undefined},events_listener:{events:"*",listener:SipMgr.onSipEventSession},sip_caps:[{name:"+g.oma.sip-im"},{name:"+sip.ice"},{name:"language",value:'"en,fr"'}]};if(args.email){this.sip_stack_e.oConfigCall.user_email=args.email}else{this.log.warn("No email passed in setCallConfiguration function before sipCall.")}return error_status_e.err_status_ok};$(window).load(function(){var oReadyStateTimer=setInterval(function(){if(document.readyState==="complete"){clearInterval(oReadyStateTimer);preInit()}},500)});var preInit=function(){var options={};if(window.sipWebRTC){const sipWebRTCSdk=new sipWebRTC(options);window.sipWebRTCSdk=sipWebRTCSdk}};function addSipEventHandler(eventType,handlerFun){preInit();if(window.sipWebRTC){switch(eventType){case"OnRecMsg":{eventType="onRecvMessage";break}case"OnRecNotify":{eventType="onRecvNofity";break}case"OnBye":{break}case"OnVideoShare":{eventType="OnStreamChange";break}default:{break}}window.sipWebRTCSdk.on(eventType,handlerFun)}if(eventType=="OnVideoDevUpdate"){videoDevUpdateHandler=handlerFun}else if(eventType=="OnMicAudioStream"){micAudioStreamHandler=handlerFun}else if(eventType==="OnDomainUpdate"){APP_DOMAIN=handlerFun}handlerFuns[eventType]=handlerFun}function setCallConfiguration(args){sipWebRTCSdk.setCallConfiguration(args)}function sipRegister(sipRegisterInfo,cb_register){if(!sipRegisterInfo){tsk_utils_log_error("sipRegister failed!");cb_register("RegisterSipError:ArgumentInvalid");return}deviceCheckInterval("set");if(sipWebRTCSdk.conf){sipWebRTCSdk.conf.sipRealm=sipRegisterInfo.sipRealm;sipWebRTCSdk.conf.sipImpi=sipRegisterInfo.sipImpi;sipWebRTCSdk.conf.sipImpu=sipRegisterInfo.sipImpu;sipWebRTCSdk.conf.sipPasswd=sipRegisterInfo.sipPasswd;sipWebRTCSdk.conf.sipRolecode=sipRegisterInfo.sipRolecode;sipWebRTCSdk.conf.sipDispalyName=sipRegisterInfo.sipDispalyName;sipWebRTCSdk.conf.websocketUrl=sipRegisterInfo.websocketUrl;sipWebRTCSdk.conf.iceServer=sipRegisterInfo.iceServers;sipWebRTCSdk.conf.iceTransportPolicy=sipRegisterInfo.iceTransportPolicy;sipWebRTCSdk.conf.RTCpeerConnectionOptional=sipRegisterInfo.optional}var initStatus={cb:function(obj){tsk_utils_log_info("init error")}};window.sipWebRTCSdk.init(initStatus.cb);function stackStart(){tsk_utils_log_info("stack start succeed");window.sipWebRTCSdk.sipRegister({cb:cb_register})}window.sipWebRTCSdk.on("OnStackStart",stackStart)}function sipUnRegister(){window.sipWebRTCSdk.sipUnRegister()}function sipSendInfo(data,cb_info){data.cb=cb_info;window.sipWebRTCSdk.sipSendInfo(data)}function sipCall(inviteInfo,cb_invite){if(window.sipWebRTCSdk.sip_stack_e.oSipStack&&!window.sipWebRTCSdk.sip_stack_e.oSipSessionCall&&cb_invite){inviteInfo.type="call-audiovideo";window.sipWebRTCSdk.sip_stack_e.oSipSessionCall=window.sipWebRTCSdk.sip_stack_e.oSipStack.newSession(inviteInfo.type,window.sipWebRTCSdk.sip_stack_e.oConfigCall);if(inviteInfo.initialResolution){initialResolution=inviteInfo.initialResolution}if(window.sipWebRTCSdk.sip_stack_e.oSipSessionCall.call(inviteInfo.to,window.sipWebRTCSdk.sip_stack_e.oConfigCall)!=0){window.sipWebRTCSdk.sip_stack_e.oSipSessionCall=null;tsk_utils_log_error("Failed to make call!");cb_invite("call meeting fail");return}function callFailed(e){tsk_utils_log_info("failed to join the meeting");cb_invite(e)}function callAnswer(e){tsk_utils_log_info("succeed to join the meeting");cb_invite(undefined,e)}function callCancel(e){tsk_utils_log_info("callCancel")}window.sipWebRTCSdk.on("onCallFailed",callFailed);window.sipWebRTCSdk.on("onCallAnswered",callAnswer);window.sipWebRTCSdk.on("onCallCanceled",callCancel);
}}function sipMuteMic(b_mute,cb_mute){var stream=SipMgr.sipGetStream("audio",true);SipMgr.MuteStream({b_mute:b_mute,type:"audio",stream:stream});cb_mute({codeType:code_type_e.ACTION_SUCCESSED})}function sipMuteCamera(b_mute,cb_mute){var stream=SipMgr.sipGetStream("video",true);SipMgr.MuteStream({b_mute:b_mute,type:"video",stream:stream});cb_mute({codeType:code_type_e.ACTION_SUCCESSED})}function sipMutePresent(b_mute,cb_mute){if(adapter.browserDetails.browser==="firefox"||adapter.browserDetails.browser==="chrome"||adapter.browserDetails.browser==="opera"){var stream=SipMgr.sipGetStream("present",true);SipMgr.isPausePresent=b_mute;SipMgr.MuteStream({b_mute:b_mute,type:"present",stream:stream});cb_mute({codeType:code_type_e.ACTION_SUCCESSED})}else if(adapter.browserDetails.browser==="edge"&&adapter.browserDetails.version>=17134){window.sipWebRTCSdk.sipToggleMutePresentation({b_mute:b_mute,cb:cb_mute})}}function sipGetStream(type,b_local){return SipMgr.sipGetStream(type,b_local)}function sipGetRtpInfo(){return window.sipWebRTCSdk.sipGetRtpInfo()}function sipGetNegotiationCodec(type){return o_negotiation_codec}function sipHangUp(cb){window.sipWebRTCSdk.sipHangUp({cb:cb})}function getStreamFromDevice(data){var stream=sipGetStream(data.streamType,true);if(!device.desktop()&&stream){tsk_utils_log_info("Clear previous stream: "+data.streamType);stream.oninactive=null;var tracks=stream.getTracks();for(var track in tracks){tracks[track].onended=null;tsk_utils_log_warn("close stream");tracks[track].stop()}}window.facingMode=data.facingMode;window.sipWebRTCSdk.getStreamFromDevice(data)}function sipAudioRefresh(data){window.sipWebRTCSdk.sipAudioRefresh(data)}function sipVideoOn(stream,cb_videoon){window.sipWebRTCSdk.sipVideoOn({stream:stream,cb:cb_videoon})}function sipVideoOff(cb_videooff){window.sipWebRTCSdk.sipVideoOff({cb:cb_videooff})}function sipAdjustVideoResolution(data,cb_callback){data.cb=cb_callback;window.sipWebRTCSdk.sipAdjustVideoResolution(data)}function sipSendMessage(data,cb_message){data.cb=cb_message;window.sipWebRTCSdk.sipSendMessage(data)}function sipPresent(s_to,s_type,cb_present,b_switch_source,b_pause_present){switch(s_type){case"info-present-window":{s_type="window";break}case"info-present-screen":{s_type="screen";break}case"info-present-tab":{s_type="tab";break}case"info-present-all":{s_type="all";break}case"info-present-stop":{s_type="stop";SipMgr.isPausePresent=false;break}default:break}var data={};data.type=s_type;data.cb=cb_present;data.b_switch_source=b_switch_source;data.b_pause_present=b_pause_present;window.sipWebRTCSdk.sipPresentationRefresh(data)}function closeDestopCaptureDialog(){window.cancelChooseDesktopMedia()}var IsCloseDestopCaptureController=false;function closeDestopCaptureController(){return}function onRecvNewInvite(){return}function sipChangePresent(s_type,b_pause_present,cb_present){sipPresent(undefined,s_type,cb_present,true,b_pause_present)}var oPresentStream;document.onreadystatechange=function(){if(document.readyState==="complete"){if(typeof DEPLOY_VERSION!=="undefined"){tsk_utils_log_info("Current webMeeting Version: ",DEPLOY_VERSION)}}};function isWebRtcSupported(){return SIPml.isWebRtcSupported()}
//# sourceMappingURL=gsRTC.min.js.map
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).webrtcSDK=t()}(this,function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}function Ye(e){return"object"==typeof e?null!==e:"function"==typeof e}function T(e){if(!Ye(e))throw TypeError(e+" is not an object!");return e}function je(e){try{return!!e()}catch(e){return!0}}function o(e){return n?t.createElement(e):{}}function Ke(e,t){if(!Ye(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!Ye(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!Ye(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!Ye(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}function Je(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function qe(e,t){return u.call(e,t)}function ze(e){return"Symbol(".concat(void 0===e?"":e,")_",(++c+d).toString(36))}function a(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}function Qe(o,i,e){if(a(o),void 0===i)return o;switch(e){case 1:return function(e){return o.call(i,e)};case 2:return function(e,t){return o.call(i,e,t)};case 3:return function(e,t,n){return o.call(i,e,t,n)}}return function(){return o.apply(i,arguments)}}var Xe=e(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),p=e(function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)}),$e=(p.version,!je(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),t=Xe.document,n=Ye(t)&&Ye(t.createElement),r=!$e&&!je(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}),s=Object.defineProperty,Ze={f:$e?Object.defineProperty:function(e,t,n){if(T(e),t=Ke(t,!0),T(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},et=$e?function(e,t,n){return Ze.f(e,t,Je(1,n))}:function(e,t,n){return e[t]=n,e},u={}.hasOwnProperty,c=0,d=Math.random(),l=e(function(e){var t="__core-js_shared__",n=Xe[t]||(Xe[t]={});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:p.version,mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),f=l("native-function-to-string",Function.toString),O=e(function(e){var a=ze("src"),t="toString",r=(""+f).split(t);p.inspectSource=function(e){return f.call(e)},(e.exports=function(e,t,n,o){var i="function"==typeof n;i&&(qe(n,"name")||et(n,"name",t)),e[t]!==n&&(i&&(qe(n,a)||et(n,a,e[t]?""+e[t]:r.join(String(t)))),e===Xe?e[t]=n:o?e[t]?e[t]=n:et(e,t,n):(delete e[t],et(e,t,n)))})(Function.prototype,t,function(){return"function"==typeof this&&this[a]||f.call(this)})}),R="prototype",h=function(e,t,n){var o,i,a,r,s=e&h.F,u=e&h.G,c=e&h.S,d=e&h.P,l=e&h.B,f=u?Xe:c?Xe[t]||(Xe[t]={}):(Xe[t]||{})[R],E=u?p:p[t]||(p[t]={}),_=E[R]||(E[R]={});for(o in u&&(n=t),n)a=((i=!s&&f&&void 0!==f[o])?f:n)[o],r=l&&i?Qe(a,Xe):d&&"function"==typeof a?Qe(Function.call,a):a,f&&O(f,o,a,e&h.U),E[o]!=a&&et(E,o,r),d&&_[o]!=a&&(_[o]=a)};Xe.core=p,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128;function E(e){return C.call(e).slice(8,-1)}function _(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}function tt(e){return Object(_(e))}function nt(e){return isNaN(e=+e)?0:(0<e?I:g)(e)}function ot(e){return 0<e?N(nt(e),9007199254740991):0}function m(e,t){return new(function(e){var t;return y(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!y(t.prototype)||(t=void 0),Ye(t)&&null===(t=t[w])&&(t=void 0)),void 0===t?Array:t}(e))(t)}function it(l,e){var f=1==l,E=2==l,_=3==l,p=4==l,R=6==l,h=5==l||R,S=e||m;return function(e,t,n){for(var o,i,a=tt(e),r=v(a),s=Qe(t,n,3),u=ot(r.length),c=0,d=f?S(e,u):E?S(e,0):void 0;c<u;c++)if((h||c in r)&&(i=s(o=r[c],c,a),l))if(f)d[c]=i;else if(i)switch(l){case 3:return!0;case 5:return o;case 6:return c;case 2:d.push(o)}else if(p)return!1;return R?-1:_||p?p:d}}function S(e,t){return!!e&&je(function(){t?e.call(null,function(){},1):e.call(null)})}var at=h,C={}.toString,v=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==E(e)?e.split(""):Object(e)},g=Math.ceil,I=Math.floor,N=Math.min,y=Array.isArray||function(e){return"Array"==E(e)},rt=e(function(e){var t=l("wks"),n=Xe.Symbol,o="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=o&&n[e]||(o?n:ze)("Symbol."+e))}).store=t}),w=rt("species"),A=it(0),D=S([].forEach,!0);at(at.P+at.F*!D,"Array",{forEach:function(e,t){return A(this,e,t)}});var M=[].sort,b=[1,2,3];at(at.P+at.F*(je(function(){b.sort(void 0)})||!je(function(){b.sort(null)})||!S(M)),"Array",{sort:function(e){return void 0===e?M.call(tt(this)):M.call(tt(this),a(e))}});function L(){var e=T(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}$e&&"g"!=/./g.flags&&Ze.f(RegExp.prototype,"flags",{configurable:!0,get:L});function P(e){O(RegExp.prototype,U,e,!0)}var U="toString",V=/./[U];je(function(){return"/a/b"!=V.call({source:"a",flags:"b"})})?P(function(){var e=T(this);return"/".concat(e.source,"/","flags"in e?e.flags:!$e&&e instanceof RegExp?L.call(e):void 0)}):V.name!=U&&P(function(){return V.call(this)});var G=Date.prototype,k="Invalid Date",H="toString",F=G[H],x=G.getTime;new Date(NaN)+""!=k&&O(G,H,function(){var e=x.call(this);return e==e?F.call(this):k});function B(e){return v(_(e))}function st(e,t){return(e=nt(e))<0?W(e+t,0):Y(e,t)}function ut(s){return function(e,t,n){var o,i=B(e),a=ot(i.length),r=st(n,a);if(s&&t!=t){for(;r<a;)if((o=i[r++])!=o)return!0}else for(;r<a;r++)if((s||r in i)&&i[r]===t)return s||r||0;return!s&&-1}}var W=Math.max,Y=Math.min,j=ut(!1),K=[].indexOf,J=!!K&&1/[1].indexOf(1,-0)<0;at(at.P+at.F*(J||!S(K)),"Array",{indexOf:function(e,t){return J?K.apply(this,arguments)||0:j(this,e,t)}});var q=rt("unscopables"),z=Array.prototype;null==z[q]&&et(z,q,{});function Q(e){z[q][e]=!0}function X(e,t){return{value:t,done:!!e}}function Z(e){return oe[e]||(oe[e]=ze(e))}function ee(e,t){var n,o=B(e),i=0,a=[];for(n in o)n!=ae&&qe(o,n)&&a.push(n);for(;t.length>i;)qe(o,n=t[i++])&&(~ie(a,n)||a.push(n));return a}function te(){}function ne(e,t,n){e&&!qe(e=n?e:e.prototype,pe)&&_e(e,pe,{configurable:!0,value:t})}var ct={},oe=l("keys"),ie=ut(!1),ae=Z("IE_PROTO"),re="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),se=Object.keys||function(e){return ee(e,re)},ue=$e?Object.defineProperties:function(e,t){T(e);for(var n,o=se(t),i=o.length,a=0;a<i;)Ze.f(e,n=o[a++],t[n]);return e},ce=Xe.document,de=ce&&ce.documentElement,le=Z("IE_PROTO"),fe="prototype",Ee=function(){var e,t=o("iframe"),n=re.length;for(t.style.display="none",de.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Ee=e.F;n--;)delete Ee[fe][re[n]];return Ee()},dt=Object.create||function(e,t){var n;return null!==e?(te[fe]=T(e),n=new te,te[fe]=null,n[le]=e):n=Ee(),void 0===t?n:ue(n,t)},_e=Ze.f,pe=rt("toStringTag"),Re={};et(Re,rt("iterator"),function(){return this});function he(){return this}var Se=Z("IE_PROTO"),Oe=Object.prototype,lt=Object.getPrototypeOf||function(e){return e=tt(e),qe(e,Se)?e[Se]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Oe:null},me=rt("iterator"),Ce=!([].keys&&"next"in[].keys()),ve="values",ft=function(e,t,n,o,i,a,r){!function(e,t,n){e.prototype=dt(Re,{next:Je(1,n)}),ne(e,t+" Iterator")}(n,t,o);function s(e){if(!Ce&&e in _)return _[e];switch(e){case"keys":case ve:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var u,c,d,l=t+" Iterator",f=i==ve,E=!1,_=e.prototype,p=_[me]||_["@@iterator"]||i&&_[i],R=p||s(i),h=i?f?s("entries"):R:void 0,S="Array"==t&&_.entries||p;if(S&&(d=lt(S.call(new e)))!==Object.prototype&&d.next&&(ne(d,l,!0),"function"!=typeof d[me]&&et(d,me,he)),f&&p&&p.name!==ve&&(E=!0,R=function(){return p.call(this)}),!Ce&&!E&&_[me]||et(_,me,R),ct[t]=R,ct[l]=he,i)if(u={values:f?R:s(ve),keys:a?R:s("keys"),entries:h},r)for(c in u)c in _||O(_,c,u[c]);else at(at.P+at.F*(Ce||E),t,u);return u}(Array,"Array",function(e,t){this._t=B(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,X(1)):X(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values");ct.Arguments=ct.Array,Q("keys"),Q("values"),Q("entries");for(var ge=rt("iterator"),Te=rt("toStringTag"),Ie=ct.Array,Ne={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ye=se(Ne),we=0;we<ye.length;we++){var Ae,De=ye[we],Me=Ne[De],be=Xe[De],Le=be&&be.prototype;if(Le&&(Le[ge]||et(Le,ge,Ie),Le[Te]||et(Le,Te,De),ct[De]=Ie,Me))for(Ae in ft)Le[Ae]||O(Le,Ae,ft[Ae],!0)}function Et(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Pe))?n:Ue?E(t):"Object"==(o=E(t))&&"function"==typeof t.callee?"Arguments":o}var Pe=rt("toStringTag"),Ue="Arguments"==E(function(){return arguments}()),Ve={};Ve[rt("toStringTag")]="z",Ve+""!="[object z]"&&O(Object.prototype,"toString",function(){return"[object "+Et(this)+"]"},!0);var Ge,ke,He,Fe;Ge="keys",ke=function(){return function(e){return se(tt(e))}},He=(p.Object||{})[Ge]||Object[Ge],(Fe={})[Ge]=ke(He),at(at.S+at.F*je(function(){He(1)}),"Object",Fe);var xe=Ze.f,Be=Function.prototype,We=/^\s*function ([^ (]*)/;"name"in Be||$e&&xe(Be,"name",{configurable:!0,get:function(){try{return(""+this).match(We)[1]}catch(e){return""}}});function _t(e){var t;return Ye(e)&&(void 0!==(t=e[Ct])?!!t:"RegExp"==E(e))}function pt(e,t){var n,o=T(e).constructor;return void 0===o||null==(n=T(o)[vt])?t:a(n)}function Rt(e,t,n){return t+(n?gt(e,t).length:1)}function ht(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==Et(e))throw new TypeError("RegExp#exec called on incompatible receiver");return Tt.call(e,t)}var St,Ot,mt,Ct=rt("match"),vt=rt("species"),gt=(St=!0,function(e,t){var n,o,i=String(_(e)),a=nt(t),r=i.length;return a<0||r<=a?St?"":void 0:(n=i.charCodeAt(a))<55296||56319<n||a+1===r||(o=i.charCodeAt(a+1))<56320||57343<o?St?i.charAt(a):n:St?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}),Tt=RegExp.prototype.exec,It=RegExp.prototype.exec,Nt=String.prototype.replace,yt=It,wt="lastIndex",At=(Ot=/a/,mt=/b*/g,It.call(Ot,"a"),It.call(mt,"a"),0!==Ot[wt]||0!==mt[wt]),Dt=void 0!==/()??/.exec("")[1];(At||Dt)&&(yt=function(e){var t,n,o,i,a=this;return Dt&&(n=new RegExp("^"+a.source+"$(?!\\s)",L.call(a))),At&&(t=a[wt]),o=It.call(a,e),At&&o&&(a[wt]=a.global?o.index+o[0].length:t),Dt&&o&&1<o.length&&Nt.call(o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o});var Mt=yt;at({target:"RegExp",proto:!0,forced:Mt!==/./.exec},{exec:Mt});function bt(n,e,t){var o=rt(n),a=!je(function(){var e={};return e[o]=function(){return 7},7!=""[n](e)}),i=a?!je(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[Lt]=function(){return t}),t[o](""),!e}):void 0;if(!a||!i||"replace"===n&&!Pt||"split"===n&&!Ut){var r=/./[o],s=t(_,o,""[n],function(e,t,n,o,i){return t.exec===Mt?a&&!i?{done:!0,value:r.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}),u=s[0],c=s[1];O(String.prototype,n,u),et(RegExp.prototype,o,2==e?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}}var Lt=rt("species"),Pt=!je(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),Ut=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Vt=Math.min,Gt=[].push,kt="split",Ht="length",Ft="lastIndex",xt=4294967295,Bt=!je(function(){RegExp(xt,"y")});bt("split",2,function(i,a,R,h){var S;return S="c"=="abbc"[kt](/(b)*/)[1]||4!="test"[kt](/(?:)/,-1)[Ht]||2!="ab"[kt](/(?:ab)*/)[Ht]||4!="."[kt](/(.?)(.?)/)[Ht]||1<"."[kt](/()()/)[Ht]||""[kt](/.?/)[Ht]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!_t(e))return R.call(n,e,t);for(var o,i,a,r=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=void 0===t?xt:t>>>0,d=new RegExp(e.source,s+"g");(o=Mt.call(d,n))&&!(u<(i=d[Ft])&&(r.push(n.slice(u,o.index)),1<o[Ht]&&o.index<n[Ht]&&Gt.apply(r,o.slice(1)),a=o[0][Ht],u=i,r[Ht]>=c));)d[Ft]===o.index&&d[Ft]++;return u===n[Ht]?!a&&d.test("")||r.push(""):r.push(n.slice(u)),r[Ht]>c?r.slice(0,c):r}:"0"[kt](void 0,0)[Ht]?function(e,t){return void 0===e&&0===t?[]:R.call(this,e,t)}:R,[function(e,t){var n=i(this),o=null==e?void 0:e[a];return void 0!==o?o.call(e,n,t):S.call(String(n),e,t)},function(e,t){var n=h(S,e,this,t,S!==R);if(n.done)return n.value;var o=T(e),i=String(this),a=pt(o,RegExp),r=o.unicode,s=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Bt?"y":"g"),u=new a(Bt?o:"^(?:"+o.source+")",s),c=void 0===t?xt:t>>>0;if(0==c)return[];if(0===i.length)return null===ht(u,i)?[i]:[];for(var d=0,l=0,f=[];l<i.length;){u.lastIndex=Bt?l:0;var E,_=ht(u,Bt?i:i.slice(l));if(null===_||(E=Vt(ot(u.lastIndex+(Bt?0:l)),i.length))===d)l=Rt(i,l,r);else{if(f.push(i.slice(d,l)),f.length===c)return f;for(var p=1;p<=_.length-1;p++)if(f.push(_[p]),f.length===c)return f;l=d=E}}return f.push(i.slice(d)),f}]});function Wt(e,t,n){var o={},i=je(function(){return!!Yt[e]()||""!=""[e]()}),a=o[e]=i?t(qt):Yt[e];n&&(o[n]=a),at(at.P+at.F*i,"String",o)}var Yt="\t\n\v\f\r \u2028\u2029\ufeff",jt="["+Yt+"]",Kt=RegExp("^"+jt+jt+"*"),Jt=RegExp(jt+jt+"*$"),qt=Wt.trim=function(e,t){return e=String(_(e)),1&t&&(e=e.replace(Kt,"")),2&t&&(e=e.replace(Jt,"")),e},zt=Wt;zt("trim",function(e){return function(){return e(this,3)}});var Qt=Math.max,Xt=Math.min,$t=Math.floor,Zt=/\$([$&`']|\d\d?|<[^>]*>)/g,en=/\$([$&`']|\d\d?)/g;bt("replace",2,function(i,a,C,v){return[function(e,t){var n=i(this),o=null==e?void 0:e[a];return void 0!==o?o.call(e,n,t):C.call(String(n),e,t)},function(e,t){var n=v(C,e,this,t);if(n.done)return n.value;var o=T(e),i=String(this),a="function"==typeof t;a||(t=String(t));var r=o.global;if(r){var s=o.unicode;o.lastIndex=0}for(var u=[];;){var c=ht(o,i);if(null===c)break;if(u.push(c),!r)break;""===String(c[0])&&(o.lastIndex=Rt(i,ot(o.lastIndex),s))}for(var d,l="",f=0,E=0;E<u.length;E++){c=u[E];for(var _=String(c[0]),p=Qt(Xt(nt(c.index),i.length),0),R=[],h=1;h<c.length;h++)R.push(void 0===(d=c[h])?d:String(d));var S=c.groups;if(a){var O=[_].concat(R,p,i);void 0!==S&&O.push(S);var m=String(t.apply(void 0,O))}else m=g(_,i,p,R,S,t);f<=p&&(l+=i.slice(f,p)+m,f=p+_.length)}return l+i.slice(f)}];function g(a,r,s,u,c,e){var d=s+a.length,l=u.length,t=en;return void 0!==c&&(c=tt(c),t=Zt),C.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return a;case"`":return r.slice(0,s);case"'":return r.slice(d);case"<":n=c[t.slice(1,-1)];break;default:var o=+t;if(0==o)return e;if(l<o){var i=$t(o/10);return 0===i?e:i<=l?void 0===u[i-1]?t.charAt(1):u[i-1]+t.charAt(1):e}n=u[o-1]}return void 0===n?"":n})}}),at(at.S,"Array",{isArray:y});function tn(e,t){"string"==typeof e&&"function"==typeof t&&(an[e]||(an[e]=[]),an[e].push(t))}function nn(e,t,n){var o=0<arguments.length&&void 0!==e?e:"",i=1<arguments.length&&void 0!==t?t:{},a=2<arguments.length?n:void 0,r="application/json";a&&(r=a);var s=i.isFormData?{method:"POST",mode:"cors",cache:"no-cache",redirect:"follow",referrer:"no-referrer",body:i.formData}:{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":r},redirect:"follow",referrer:"no-referrer",body:"application/json"===r?JSON.stringify(i):function(t){var n="";return Object.keys(t).forEach(function(e){n+=e+"="+encodeURIComponent(t[e])+"&"}),n.substring(0,n.length-1)}(i)};return fetch(o,s).then(function(e){return e.json()}).catch(function(e){return e.json()})}var on={EVENT_MEETING:"onIpvtEventTrigger",EVENT_JOIN_MEETING_SUCCESS:"onJoinMeetingSuccess",EVENT_MEETING_END:"onMeetingEnd",EVENT_MEETING_EXIT:"onMeetingExit",EVENT_HANDS_UP_SUCCESS:"onHandsUpSuccess",EVENT_HANDS_UP_ERROR:"onHandsUpError",EVENT_HANDS_DOWN_SUCCESS:"onHandsDownSuccess",EVENT_HANDS_DOWN_ERROR:"onHandsDownError",EVENT_CLOSE_SHARE_PRESENT_VIDEO:"onCloseSharePresentVideo",EVENT_CHAT_SYSTEM_MESSAGE_RECEIVED:"onChatMessageReceived",EVENT_CHAT_PRIVATE_MESSAGE_RECEIVED:"onChatPrivateMessageReceived",EVENT_CHAT_PANELIST_MESSAGE_RECEIVED:"onChatPanelistMessageReceived",EVENT_CHAT_GROUP_MESSAGE_RECEIVED:"onChatGroupMessageReceived",EVENT_CHAT_FILE_MESSAGE_RECEIVED:"onChatFileMessageReceived",EVENT_CHAT_FILE_UPLOADED:"onChatFileUploaded",EVENT_MEDIA_PLAYER_AUTOPLAY_PREVENTED:"onMediaPlayerAutoplayPrevented"},an={},rn={},sn=function(e){"string"==typeof e&&an[e]&&(an[e]=[])},un=function(e,t){"string"==typeof e&&(void 0!==an[e]&&null!=an[e]&&0<an[e].length&&Array.isArray(t)&&an[e].forEach(function(e){e.apply(null,t)}),void 0!==rn[e]&&null!=rn[e]&&(rn[e].apply(null,t),delete rn[e]))},cn={onUserInit:"onUserInit",onUserQuit:"onUserQuit",onUserMicStatusChange:"onUserMicStatusChange",onUserCameraStatusChange:"onUserCameraStatusChange",onChatStatusChange:"onChatStatusChange",onUsersViewStatusChange:"onUsersViewStatusChange",onUsersHandUpStatusChange:"onUsersHandUpStatusChange",onConfUserNumberChange:"onConfUserNumberChange",onConfChatStatusChange:"onConfChatStatusChange",onMeetingConfHostRoleChange:"onMeetingConfHostRoleChange",onConfMuteStatusChange:"onConfMuteStatusChange",onConfUsersViewStatusChange:"onConfUsersViewStatusChange",onConfRecordStatusChange:"onConfRecordStatusChange",onUserFixedPositionChage:"onUserFixedPositionChage",onConfInviteOK:"onConfInviteOK",onConfInfoInit:"onConfInfoInit",onConfWaitingToStart:"onConfWaitingToStart",onConfStarted:"onConfStarted",onConfAllLoaded:"onConfAllLoaded",onConfQuit:"onConfQuit",onConfEnablePlaning:"onConfEnablePlaning",onConfPlaningBeforeConfStart:"onConfPlaningBeforeConfStart",onMyWaitingStateOver:"onMyWaitingStateOver",onVideoUpStreamDataChange:"onVideoUpStreamDataChange",onVideoDownStreamDataChange:"onVideoDownStreamDataChange",onAudioUpStreamDataChange:"onAudioUpStreamDataChange",onAudioDownStreamDataChange:"onAudioDownStreamDataChange",onPresentUpStreamDataChange:"onPresentUpStreamDataChange",onPresentDownStreamDataChange:"onPresentDownStreamDataChange",onMediaStateToUnstable:"onMediaStateToUnstable",onMediaStateToStable:"onMediaStateToStable",onMediaStateToGood:"onMediaStateToGood",onUserRecvMainStreamSizesAvailable:"onUserRecvMainStreamSizesAvailable",onVideoResolutionChange:"onVideoResolutionChange",onMainResolutionChange:"onMainResolutionChange",onSlidesResolutionChange:"onSlidesResolutionChange",onConfVideoLayoutChange:"onConfVideoLayoutChange",onJoiningMeetingError:"onJoiningMeetingError",onConfInterruptError:"onConfInterruptError",onConfExceptionError:"onConfExceptionError",onConfWarningError:"onConfWarningError",onMicDenyShareError:"onMicDenyShareError",onGetConfInfoSuccess:"onGetConfInfoSuccess",onRecChatMsg:"onRecChatMsg",onRecFileMsg:"onRecFileMsg",onPresentVideoOpen:"onPresentVideoOpen",onPresentVideoClose:"onPresentVideoClose",onMainVideoOpen:"onMainVideoOpen",onMainVideoClose:"onMainVideoClose",onRemoteVideoNotify:"onRemoteVideoNotify",onMainVideoPlayerBindStream:"onMainVideoPlayerBindStream",onPresentVideoPlayerBindStream:"onPresentVideoPlayerBindStream",onRemoteAudioPlayerBindStream:"onRemoteAudioPlayerBindStream",onSharedCameraPreviewPlayerBindStream:"onSharedCameraPreviewPlayerBindStream",onOpenCameraPreviewVideoOpen:"onOpenCameraPreviewVideoOpen",onOpenCameraPreviewVideoClose:"onOpenCameraPreviewVideoClose",onLocalVideoPreviewPlayerBindStream:"onLocalVideoPreviewPlayerBindStream",onLocalVideoPreviewPlayerOpen:"onLocalVideoPreviewPlayerOpen",onLocalVideoPreviewPlayerClose:"onLocalVideoPreviewPlayerClose",onNotifyToCloseVideo:"onNotifyToCloseVideo",onNotifyToClosePresent:"onNotifyToClosePresent",onNotifyToOpenVideo:"onNotifyToOpenVideo",onNotifyToOpenPresent:"onNotifyToOpenPresent",onNotifyMyselfPresentOpened:"onNotifyMyselfPresentOpened",onInviteUserNotifyReceived:"onInviteUserNotifyReceived",onLiveNotifyReceived:"onLiveNotifyReceived",onMySelfPermLoad:"onMySelfPermLoad",onMyConfPermLoad:"onMyConfPermLoad",onMyUserlistPermLoad:"onMyUserlistPermLoad",onMeetingConfHostChange:"onMeetingConfHostChange",onWebniarConfRoleChange:"onWebniarConfRoleChange",onConfHostChange:"onConfHostChange",onLocalVideoStreamChange:"OnLocalStreamChange",onRemoteStreamChange:"OnRemoteStreamChange",OnTransportRestart:"OnTransportRestart",OnRecordFail:"OnRecordFail",onOpenOtherCameraFail:"onOpenOtherCameraFail",onUpdateUserList:"onUpdateUserList",onTakePlaningConfPerm:"onTakePlaningConfPerm",onUIMainPageLoadedOK:"onUIMainPageLoadedOK",onWhoIsTalking:"OnWhoIsTalking",onConfSpokesManChange:"onConfSpokesManChange",onConfUserInsert:"onConfUserInsert",onChatStatusInit:"onChatStatusInit",onUsersViewStatusInit:"onUsersViewStatusInit",onVideoLayoutSpeakerChange:"onVideoLayoutSpeakerChange",onPreviewStatsChange:"onPreviewStatsChange",onUserPreviewStatsChange:"onUserPreviewStatsChange",onUserPollStatsChange:"onUserPollStatsChange",onConfPollStateChange:"onConfPollStateChange",onLayoutInit:"onLayoutInit",onSpeicalLayoutStatusChange:"onSpeicalLayoutStatusChange",onAttendEnableLayoutStatusChange:"onAttendEnableLayoutStatusChange",onLayoutTxtChange:"onLayoutTxtChange",onUserWatchLayoutChange:"onUserWatchLayoutChange",onSpeicalLayoutIconInit:"onSpeicalLayoutIconInit",onLayoutVideoStatsChange:"onLayoutVideoStatsChange",onLayoutUserInfoChange:"onLayoutUserInfoChange",onLayoutWatchUserInfoChange:"onLayoutWatchUserInfoChange",onSpeechRecognitionStaChange:"onSpeechRecognitionStaChange",onSpeechRecognitionInfoHandler:"onSpeechRecognitionInfoHandler",onSpeechRecognitionException:"onSpeechRecognitionException",websoctetMessageHandler:"websoctetMessageHandler",onConfLockStatusChange:"onConfLockStatusChange",onHandlerNotifyErrCode:"onHandlerNotifyErrCode",onConfWhiteboardStatusChange:"onConfWhiteboardStatusChange",onConfWhiteboardStatusInit:"onConfWhiteboardStatusInit",onUserFeccStaChange:"onUserFeccStaChange"},dn=function(e){return fetch(0<arguments.length&&void 0!==e?e:"",{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrer:"no-referrer"}).then(function(e){return e.json()}).catch(function(e){return e.json()})};bt("match",1,function(o,i,c,d){return[function(e){var t=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=d(c,e,this);if(t.done)return t.value;var n=T(e),o=String(this);if(!n.global)return ht(n,o);for(var i,a=n.unicode,r=[],s=n.lastIndex=0;null!==(i=ht(n,o));){var u=String(i[0]);""===(r[s]=u)&&(n.lastIndex=Rt(o,ot(n.lastIndex),a)),s++}return 0===s?null:r}]});for(var ln,fn=ze("typed_array"),En=ze("view"),_n=!(!Xe.ArrayBuffer||!Xe.DataView),pn=_n,Rn=0,hn="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");Rn<9;)(ln=Xe[hn[Rn++]])?(et(ln.prototype,fn,!0),et(ln.prototype,En,!0)):pn=!1;function Sn(e,t,n){for(var o in t)O(e,o,t[o],n);return e}function On(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}function mn(e){if(void 0===e)return 0;var t=nt(e),n=ot(t);if(t!==n)throw RangeError("Wrong length!");return n}function Cn(e,t,n){for(var o=tt(this),i=ot(o.length),a=arguments.length,r=st(1<a?t:void 0,i),s=2<a?n:void 0,u=void 0===s?i:st(s,i);r<u;)o[r++]=e;return o}function vn(e){return void 0!==e&&(ct.Array===e||wn[yn]===e)}var gn={ABV:_n,CONSTR:pn,TYPED:fn,VIEW:En},Tn=re.concat("length","prototype"),In={f:Object.getOwnPropertyNames||function(e){return ee(e,Tn)}},Nn=e(function(e,t){var n=In.f,o=Ze.f,i="ArrayBuffer",a="DataView",r="prototype",l="Wrong index!",s=Xe[i],u=Xe[a],c=Xe.Math,f=Xe.RangeError,E=Xe.Infinity,d=s,_=c.abs,p=c.pow,R=c.floor,h=c.log,S=c.LN2,O="byteLength",m="byteOffset",C=$e?"_b":"buffer",v=$e?"_l":O,g=$e?"_o":m;function T(e,t,n){var o,i,a,r=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,d=23===t?p(2,-24)-p(2,-77):0,l=0,f=e<0||0===e&&1/e<0?1:0;for((e=_(e))!=e||e===E?(i=e!=e?1:0,o=u):(o=R(h(e)/S),e*(a=p(2,-o))<1&&(o--,a*=2),2<=(e+=1<=o+c?d/a:d*p(2,1-c))*a&&(o++,a/=2),u<=o+c?(i=0,o=u):1<=o+c?(i=(e*a-1)*p(2,t),o+=c):(i=e*p(2,c-1)*p(2,t),o=0));8<=t;r[l++]=255&i,i/=256,t-=8);for(o=o<<t|i,s+=t;0<s;r[l++]=255&o,o/=256,s-=8);return r[--l]|=128*f,r}function I(e,t,n){var o,i=8*n-t-1,a=(1<<i)-1,r=a>>1,s=i-7,u=n-1,c=e[u--],d=127&c;for(c>>=7;0<s;d=256*d+e[u],u--,s-=8);for(o=d&(1<<-s)-1,d>>=-s,s+=t;0<s;o=256*o+e[u],u--,s-=8);if(0===d)d=1-r;else{if(d===a)return o?NaN:c?-E:E;o+=p(2,t),d-=r}return(c?-1:1)*o*p(2,d-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function y(e){return[255&e]}function w(e){return[255&e,e>>8&255]}function A(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function D(e){return T(e,52,8)}function M(e){return T(e,23,4)}function b(e,t,n){o(e[r],t,{get:function(){return this[n]}})}function L(e,t,n,o){var i=mn(+n);if(i+t>e[v])throw f(l);var a=e[C]._b,r=i+e[g],s=a.slice(r,r+t);return o?s:s.reverse()}function P(e,t,n,o,i,a){var r=mn(+n);if(r+t>e[v])throw f(l);for(var s=e[C]._b,u=r+e[g],c=o(+i),d=0;d<t;d++)s[u+d]=c[a?d:t-d-1]}if(gn.ABV){if(!je(function(){s(1)})||!je(function(){new s(-1)})||je(function(){return new s,new s(1.5),new s(NaN),s.name!=i})){for(var U,V=(s=function(e){return On(this,s),new d(mn(e))})[r]=d[r],G=n(d),k=0;G.length>k;)(U=G[k++])in s||et(s,U,d[U]);V.constructor=s}var H=new u(new s(2)),F=u[r].setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||Sn(u[r],{setInt8:function(e,t){F.call(this,e,t<<24>>24)},setUint8:function(e,t){F.call(this,e,t<<24>>24)}},!0)}else s=function(e){On(this,s,i);var t=mn(e);this._b=Cn.call(new Array(t),0),this[v]=t},u=function(e,t,n){On(this,u,a),On(e,s,a);var o=e[v],i=nt(t);if(i<0||o<i)throw f("Wrong offset!");if(o<i+(n=void 0===n?o-i:ot(n)))throw f("Wrong length!");this[C]=e,this[g]=i,this[v]=n},$e&&(b(s,O,"_l"),b(u,"buffer","_b"),b(u,O,"_l"),b(u,m,"_o")),Sn(u[r],{getInt8:function(e){return L(this,1,e)[0]<<24>>24},getUint8:function(e){return L(this,1,e)[0]},getInt16:function(e,t){var n=L(this,2,e,t);return(n[1]<<8|n[0])<<16>>16},getUint16:function(e,t){var n=L(this,2,e,t);return n[1]<<8|n[0]},getInt32:function(e,t){return N(L(this,4,e,t))},getUint32:function(e,t){return N(L(this,4,e,t))>>>0},getFloat32:function(e,t){return I(L(this,4,e,t),23,4)},getFloat64:function(e,t){return I(L(this,8,e,t),52,8)},setInt8:function(e,t){P(this,1,e,y,t)},setUint8:function(e,t){P(this,1,e,y,t)},setInt16:function(e,t,n){P(this,2,e,w,t,n)},setUint16:function(e,t,n){P(this,2,e,w,t,n)},setInt32:function(e,t,n){P(this,4,e,A,t,n)},setUint32:function(e,t,n){P(this,4,e,A,t,n)},setFloat32:function(e,t,n){P(this,4,e,M,t,n)},setFloat64:function(e,t,n){P(this,8,e,D,t,n)}});ne(s,i),ne(u,a),et(u[r],gn.VIEW,!0),t[i]=s,t[a]=u}),yn=rt("iterator"),wn=Array.prototype,An=rt("iterator"),Dn=p.getIteratorMethod=function(e){if(null!=e)return e[An]||e["@@iterator"]||ct[Et(e)]},Mn=rt("iterator"),bn=!1;try{var Ln=[7][Mn]();Ln.return=function(){bn=!0},Array.from(Ln,function(){throw 2})}catch(e){}function Pn(e,t){if(!t&&!bn)return!1;var n=!1;try{var o=[7],i=o[Mn]();i.next=function(){return{done:n=!0}},o[Mn]=function(){return i},e(o)}catch(e){}return n}function Un(e){var t=Xe[e];$e&&t&&!t[Vn]&&Ze.f(t,Vn,{configurable:!0,get:function(){return this}})}var Vn=rt("species"),Gn=[].copyWithin||function(e,t,n){var o=tt(this),i=ot(o.length),a=st(e,i),r=st(t,i),s=2<arguments.length?n:void 0,u=Math.min((void 0===s?i:st(s,i))-r,i-a),c=1;for(r<a&&a<r+u&&(c=-1,r+=u-1,a+=u-1);0<u--;)r in o?o[a]=o[r]:delete o[a],a+=c,r+=c;return o},kn={f:{}.propertyIsEnumerable},Hn=Object.getOwnPropertyDescriptor,Fn={f:$e?Hn:function(e,t){if(e=B(e),t=Ke(t,!0),r)try{return Hn(e,t)}catch(e){}if(qe(e,t))return Je(!kn.f.call(e,t),e[t])}};e(function(e){if($e){var h=Xe,S=je,O=at,m=gn,t=Nn,_=Qe,C=On,n=Je,v=et,o=Sn,i=nt,g=ot,T=mn,a=st,r=Ke,s=qe,I=Et,N=Ye,p=tt,R=vn,y=dt,w=lt,A=In.f,D=Dn,u=ze,c=rt,d=it,l=ut,f=pt,E=ft,M=ct,b=Pn,L=Un,P=Cn,U=Gn,V=Ze,G=Fn,k=V.f,H=G.f,F=h.RangeError,x=h.TypeError,B=h.Uint8Array,W="ArrayBuffer",Y="Shared"+W,j="BYTES_PER_ELEMENT",K="prototype",J=Array[K],q=t.ArrayBuffer,z=t.DataView,Q=d(0),X=d(2),$=d(3),Z=d(4),ee=d(5),te=d(6),ne=l(!0),oe=l(!1),ie=E.values,ae=E.keys,re=E.entries,se=J.lastIndexOf,ue=J.reduce,ce=J.reduceRight,de=J.join,le=J.sort,fe=J.slice,Ee=J.toString,_e=J.toLocaleString,pe=c("iterator"),Re=c("toStringTag"),he=u("typed_constructor"),Se=u("def_constructor"),Oe=m.CONSTR,me=m.TYPED,Ce=m.VIEW,ve="Wrong length!",ge=d(1,function(e,t){return we(f(e,e[Se]),t)}),Te=S(function(){return 1===new B(new Uint16Array([1]).buffer)[0]}),Ie=!!B&&!!B[K].set&&S(function(){new B(1).set({})}),Ne=function(e,t){var n=i(e);if(n<0||n%t)throw F("Wrong offset!");return n},ye=function(e){if(N(e)&&me in e)return e;throw x(e+" is not a typed array!")},we=function(e,t){if(!(N(e)&&he in e))throw x("It is not a typed array constructor!");return new e(t)},Ae=function(e,t){return De(f(e,e[Se]),t)},De=function(e,t){for(var n=0,o=t.length,i=we(e,o);n<o;)i[n]=t[n++];return i},Me=function(e,t,n){k(e,t,{get:function(){return this._d[n]}})},be=function(e,t,n){var o,i,a,r,s,u,c=p(e),d=arguments.length,l=1<d?t:void 0,f=void 0!==l,E=D(c);if(null!=E&&!R(E)){for(u=E.call(c),a=[],o=0;!(s=u.next()).done;o++)a.push(s.value);c=a}for(f&&2<d&&(l=_(l,n,2)),o=0,i=g(c.length),r=we(this,i);o<i;o++)r[o]=f?l(c[o],o):c[o];return r},Le=function(){for(var e=0,t=arguments.length,n=we(this,t);e<t;)n[e]=arguments[e++];return n},Pe=!!B&&S(function(){_e.call(new B(1))}),Ue=function(){return _e.apply(Pe?fe.call(ye(this)):ye(this),arguments)},Ve={copyWithin:function(e,t,n){return U.call(ye(this),e,t,2<arguments.length?n:void 0)},every:function(e,t){return Z(ye(this),e,1<arguments.length?t:void 0)},fill:function(e){return P.apply(ye(this),arguments)},filter:function(e,t){return Ae(this,X(ye(this),e,1<arguments.length?t:void 0))},find:function(e,t){return ee(ye(this),e,1<arguments.length?t:void 0)},findIndex:function(e,t){return te(ye(this),e,1<arguments.length?t:void 0)},forEach:function(e,t){Q(ye(this),e,1<arguments.length?t:void 0)},indexOf:function(e,t){return oe(ye(this),e,1<arguments.length?t:void 0)},includes:function(e,t){return ne(ye(this),e,1<arguments.length?t:void 0)},join:function(e){return de.apply(ye(this),arguments)},lastIndexOf:function(e){return se.apply(ye(this),arguments)},map:function(e,t){return ge(ye(this),e,1<arguments.length?t:void 0)},reduce:function(e){return ue.apply(ye(this),arguments)},reduceRight:function(e){return ce.apply(ye(this),arguments)},reverse:function(){for(var e,t=this,n=ye(t).length,o=Math.floor(n/2),i=0;i<o;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e,t){return $(ye(this),e,1<arguments.length?t:void 0)},sort:function(e){return le.call(ye(this),e)},subarray:function(e,t){var n=ye(this),o=n.length,i=a(e,o);return new(f(n,n[Se]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?o:a(t,o))-i))}},Ge=function(e,t){return Ae(this,fe.call(ye(this),e,t))},ke=function(e,t){ye(this);var n=Ne(t,1),o=this.length,i=p(e),a=g(i.length),r=0;if(o<a+n)throw F(ve);for(;r<a;)this[n+r]=i[r++]},He={entries:function(){return re.call(ye(this))},keys:function(){return ae.call(ye(this))},values:function(){return ie.call(ye(this))}},Fe=function(e,t){return N(e)&&e[me]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},xe=function(e,t){return Fe(e,t=r(t,!0))?n(2,e[t]):H(e,t)},Be=function(e,t,n){return!(Fe(e,t=r(t,!0))&&N(n)&&s(n,"value"))||s(n,"get")||s(n,"set")||n.configurable||s(n,"writable")&&!n.writable||s(n,"enumerable")&&!n.enumerable?k(e,t,n):(e[t]=n.value,e)};Oe||(G.f=xe,V.f=Be),O(O.S+O.F*!Oe,"Object",{getOwnPropertyDescriptor:xe,defineProperty:Be}),S(function(){Ee.call({})})&&(Ee=_e=function(){return de.call(this)});var We=o({},Ve);o(We,He),v(We,pe,He.values),o(We,{slice:Ge,set:ke,constructor:function(){},toString:Ee,toLocaleString:Ue}),Me(We,"buffer","b"),Me(We,"byteOffset","o"),Me(We,"byteLength","l"),Me(We,"length","e"),k(We,Re,{get:function(){return this[me]}}),e.exports=function(e,l,t,i){function f(e,t){k(e,t,{get:function(){return function(e,t){var n=e._d;return n.v[o](t*l+n.o,Te)}(this,t)},set:function(e){return function(e,t,n){var o=e._d;i&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),o.v[a](t*l+o.o,n,Te)}(this,t,e)},enumerable:!0})}var E=e+((i=!!i)?"Clamped":"")+"Array",o="get"+e,a="set"+e,_=h[E],r=_||{},n=_&&w(_),s=!_||!m.ABV,u={},c=_&&_[K];s?(_=t(function(e,t,n,o){C(e,_,E,"_d");var i,a,r,s,u=0,c=0;if(N(t)){if(!(t instanceof q||(s=I(t))==W||s==Y))return me in t?De(_,t):be.call(_,t);i=t,c=Ne(n,l);var d=t.byteLength;if(void 0===o){if(d%l)throw F(ve);if((a=d-c)<0)throw F(ve)}else if(d<(a=g(o)*l)+c)throw F(ve);r=a/l}else r=T(t),i=new q(a=r*l);for(v(e,"_d",{b:i,o:c,l:a,e:r,v:new z(i)});u<r;)f(e,u++)}),c=_[K]=y(We),v(c,"constructor",_)):S(function(){_(1)})&&S(function(){new _(-1)})&&b(function(e){new _,new _(null),new _(1.5),new _(e)},!0)||(_=t(function(e,t,n,o){var i;return C(e,_,E),N(t)?t instanceof q||(i=I(t))==W||i==Y?void 0!==o?new r(t,Ne(n,l),o):void 0!==n?new r(t,Ne(n,l)):new r(t):me in t?De(_,t):be.call(_,t):new r(T(t))}),Q(n!==Function.prototype?A(r).concat(A(n)):A(r),function(e){e in _||v(_,e,r[e])}),(_[K]=c).constructor=_);var d=c[pe],p=!!d&&("values"==d.name||null==d.name),R=He.values;v(_,he,!0),v(c,me,E),v(c,Ce,!0),v(c,Se,_),(i?new _(1)[Re]==E:Re in c)||k(c,Re,{get:function(){return E}}),u[E]=_,O(O.G+O.W+O.F*(_!=r),u),O(O.S,E,{BYTES_PER_ELEMENT:l}),O(O.S+O.F*S(function(){r.of.call(_,1)}),E,{from:be,of:Le}),j in c||v(c,j,l),O(O.P,E,Ve),L(E),O(O.P+O.F*Ie,E,{set:ke}),O(O.P+O.F*!p,E,He),c.toString!=Ee&&(c.toString=Ee),O(O.P+O.F*S(function(){new _(1).slice()}),E,{slice:Ge}),O(O.P+O.F*(S(function(){return[1,2].toLocaleString()!=new _([1,2]).toLocaleString()})||!S(function(){c.toLocaleString.call([1,2])})),E,{toLocaleString:Ue}),M[E]=p?d:R,p||v(c,pe,R)}}else e.exports=function(){}})("Uint8",1,function(o){return function(e,t,n){return o(this,e,t,n)}});var xn=/^https:\/\/(((([a-zA-Z0-9]+[-a-zA-Z0-9]*[a-zA-Z0-9]+)|([a-zA-Z0-9]+))\.)+(([a-zA-Z0-9]+[-a-zA-Z0-9]*[a-zA-Z0-9]+)|([a-zA-Z0-9]+)))$/,Bn=/^([\w|\-|\.])+@([\w|\-|\.])+\.([a-zA-Z]{2,6})$/,Wn=/^[0-9]*$/,Yn=/^([\w\-~!#$%^&*()_+=[\]\\{}/;:'",.<>?]{1,32})$/,jn=function(e){return e?window.JSON.parse(window.JSON.stringify(e)):void 0},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"," ":"&nbsp;","\n":"</br>","\r\n":"</br>"},Jn=function(e){return void 0===e||""===e?"":String(e).replace(/[&<>'"\/]/g,function(e){return Kn[e]})},qn=function(e){return String(e).replace(/[\r\n]/g,function(e){return Kn[e]})},zn=function e(t,n,o,i){if(null==o&&(o=20),(n=n||[]).length<=o)return setTimeout(function(){t(n),i&&i()},0),!1;setTimeout(function(){t(n.slice(0,o))},0);var a=n.slice(o);e(t,a,null,i)},Qn=function(e){return function(e){var t,n,o,i,a,r;t="",o=e.length,n=0;for(;n<o;)switch((i=e.charCodeAt(n++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:a=e.charCodeAt(n++),t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e.charCodeAt(n++),r=e.charCodeAt(n++),t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&r)<<0)}return t}(function(e){var t,n,o,i,a,r,s;r=e.length,a=0,s="";for(;a<r;){for(;t=Xn[255&e.charCodeAt(a++)],a<r&&-1==t;);if(-1==t)break;for(;n=Xn[255&e.charCodeAt(a++)],a<r&&-1==n;);if(-1==n)break;s+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(o=255&e.charCodeAt(a++)))return s;o=Xn[o]}while(a<r&&-1==o);if(-1==o)break;s+=String.fromCharCode((15&n)<<4|(60&o)>>2);do{if(61==(i=255&e.charCodeAt(a++)))return s;i=Xn[i]}while(a<r&&-1==i);if(-1==i)break;s+=String.fromCharCode((3&o)<<6|i)}return s}(e))},Xn=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];var $n=function(e){function s(e,t){return e<<t|e>>>32-t}function u(e,t){var n,o,i,a,r;return i=2147483648&e,a=2147483648&t,r=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^r^i^a:n|o?1073741824&r?3221225472^r^i^a:1073741824^r^i^a:r^i^a}function t(e,t,n,o,i,a,r){return u(s(e=u(e,u(u(function(e,t,n){return e&t|~e&n}(t,n,o),i),r)),a),t)}function n(e,t,n,o,i,a,r){return u(s(e=u(e,u(u(function(e,t,n){return e&n|t&~n}(t,n,o),i),r)),a),t)}function o(e,t,n,o,i,a,r){return u(s(e=u(e,u(u(function(e,t,n){return e^t^n}(t,n,o),i),r)),a),t)}function i(e,t,n,o,i,a,r){return u(s(e=u(e,u(u(function(e,t,n){return t^(e|~n)}(t,n,o),i),r)),a),t)}function a(e){var t,n="",o="";for(t=0;t<=3;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var r,c,d,l,f,E,_,p,R,h=Array();for(h=function(e){for(var t,n=e.length,o=n+8,i=16*(1+(o-o%64)/64),a=Array(i-1),r=0,s=0;s<n;)r=s%4*8,a[t=(s-s%4)/4]=a[t]|e.charCodeAt(s)<<r,s++;return r=s%4*8,a[t=(s-s%4)/4]=a[t]|128<<r,a[i-2]=n<<3,a[i-1]=n>>>29,a}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):(127<o&&o<2048?t+=String.fromCharCode(o>>6|192):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128)),t+=String.fromCharCode(63&o|128))}return t}(e)),E=1732584193,_=4023233417,p=2562383102,R=271733878,r=0;r<h.length;r+=16)_=i(_=i(_=i(_=i(_=o(_=o(_=o(_=o(_=n(_=n(_=n(_=n(_=t(_=t(_=t(_=t(d=_,p=t(l=p,R=t(f=R,E=t(c=E,_,p,R,h[r+0],7,3614090360),_,p,h[r+1],12,3905402710),E,_,h[r+2],17,606105819),R,E,h[r+3],22,3250441966),p=t(p,R=t(R,E=t(E,_,p,R,h[r+4],7,4118548399),_,p,h[r+5],12,1200080426),E,_,h[r+6],17,2821735955),R,E,h[r+7],22,4249261313),p=t(p,R=t(R,E=t(E,_,p,R,h[r+8],7,1770035416),_,p,h[r+9],12,2336552879),E,_,h[r+10],17,4294925233),R,E,h[r+11],22,2304563134),p=t(p,R=t(R,E=t(E,_,p,R,h[r+12],7,1804603682),_,p,h[r+13],12,4254626195),E,_,h[r+14],17,2792965006),R,E,h[r+15],22,1236535329),p=n(p,R=n(R,E=n(E,_,p,R,h[r+1],5,4129170786),_,p,h[r+6],9,3225465664),E,_,h[r+11],14,643717713),R,E,h[r+0],20,3921069994),p=n(p,R=n(R,E=n(E,_,p,R,h[r+5],5,3593408605),_,p,h[r+10],9,38016083),E,_,h[r+15],14,3634488961),R,E,h[r+4],20,3889429448),p=n(p,R=n(R,E=n(E,_,p,R,h[r+9],5,568446438),_,p,h[r+14],9,3275163606),E,_,h[r+3],14,4107603335),R,E,h[r+8],20,1163531501),p=n(p,R=n(R,E=n(E,_,p,R,h[r+13],5,2850285829),_,p,h[r+2],9,4243563512),E,_,h[r+7],14,1735328473),R,E,h[r+12],20,2368359562),p=o(p,R=o(R,E=o(E,_,p,R,h[r+5],4,4294588738),_,p,h[r+8],11,2272392833),E,_,h[r+11],16,1839030562),R,E,h[r+14],23,4259657740),p=o(p,R=o(R,E=o(E,_,p,R,h[r+1],4,2763975236),_,p,h[r+4],11,1272893353),E,_,h[r+7],16,4139469664),R,E,h[r+10],23,3200236656),p=o(p,R=o(R,E=o(E,_,p,R,h[r+13],4,681279174),_,p,h[r+0],11,3936430074),E,_,h[r+3],16,3572445317),R,E,h[r+6],23,76029189),p=o(p,R=o(R,E=o(E,_,p,R,h[r+9],4,3654602809),_,p,h[r+12],11,3873151461),E,_,h[r+15],16,530742520),R,E,h[r+2],23,3299628645),p=i(p,R=i(R,E=i(E,_,p,R,h[r+0],6,4096336452),_,p,h[r+7],10,1126891415),E,_,h[r+14],15,2878612391),R,E,h[r+5],21,4237533241),p=i(p,R=i(R,E=i(E,_,p,R,h[r+12],6,1700485571),_,p,h[r+3],10,2399980690),E,_,h[r+10],15,4293915773),R,E,h[r+1],21,2240044497),p=i(p,R=i(R,E=i(E,_,p,R,h[r+8],6,1873313359),_,p,h[r+15],10,4264355552),E,_,h[r+6],15,2734768916),R,E,h[r+13],21,1309151649),p=i(p,R=i(R,E=i(E,_,p,R,h[r+4],6,4149444226),_,p,h[r+11],10,3174756917),E,_,h[r+2],15,718787259),R,E,h[r+9],21,3951481745),E=u(E,c),_=u(_,d),p=u(p,l),R=u(R,f);return(a(E)+a(_)+a(p)+a(R)).toLowerCase()},Zn=function(e){function I(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function N(e,t){return e>>>t|e<<32-t}function y(e,t){return e>>>t}return function(e){for(var t="0123456789abcdef",n="",o=0;o<4*e.length;o++)n+=t.charAt(e[o>>2]>>8*(3-o%4)+4&15)+t.charAt(e[o>>2]>>8*(3-o%4)&15);return n}(function(e,t){var n,o,i,a,r,s,u,c,d,l,f,E,_,p,R,h,S,O,m=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),C=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),v=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var g=0;g<e.length;g+=16){n=C[0],o=C[1],i=C[2],a=C[3],r=C[4],s=C[5],u=C[6],c=C[7];for(var T=0;T<64;T++)v[T]=T<16?e[T+g]:I(I(I(N(O=v[T-2],17)^N(O,19)^y(O,10),v[T-7]),N(S=v[T-15],7)^N(S,18)^y(S,3)),v[T-16]),d=I(I(I(I(c,N(h=r,6)^N(h,11)^N(h,25)),(R=r)&s^~R&u),m[T]),v[T]),l=I(N(p=n,2)^N(p,13)^N(p,22),(f=n)&(E=o)^f&(_=i)^E&_),c=u,u=s,s=r,r=I(a,d),a=i,i=o,o=n,n=I(d,l);C[0]=I(n,C[0]),C[1]=I(o,C[1]),C[2]=I(i,C[2]),C[3]=I(a,C[3]),C[4]=I(r,C[4]),C[5]=I(s,C[5]),C[6]=I(u,C[6]),C[7]=I(c,C[7])}return C}(function(e){for(var t=Array(),n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):(127<o&&o<2048?t+=String.fromCharCode(o>>6|192):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128)),t+=String.fromCharCode(63&o|128))}return t}(e)),8*e.length))};function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){if(T(e),!Ye(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}function no(e,t,n){var o,i=t.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&Ye(o)&&oo&&oo(e,o),e}var oo={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,o){try{(o=Qe(Function.call,Fn.f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return to(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:to}.set,io=Ze.f,ao=In.f,ro=Xe.RegExp,so=ro,uo=ro.prototype,co=/a/g,lo=/a/g,fo=new ro(co)!==co;if($e&&(!fo||je(function(){return lo[rt("match")]=!1,ro(co)!=co||ro(lo)==lo||"/a/i"!=ro(co,"i")}))){ro=function(e,t){var n=this instanceof ro,o=_t(e),i=void 0===t;return!n&&o&&e.constructor===ro&&i?e:no(fo?new so(o&&!i?e.source:e,t):so((o=e instanceof ro)?e.source:e,o&&i?L.call(e):t),n?this:uo,ro)};for(var Eo=function(t){t in ro||io(ro,t,{configurable:!0,get:function(){return so[t]},set:function(e){so[t]=e}})},_o=ao(so),po=0;_o.length>po;)Eo(_o[po++]);(uo.constructor=ro).prototype=uo,O(Xe,"RegExp",ro)}Un("RegExp");var Ro=it(1);at(at.P+at.F*!S([].map,!0),"Array",{map:function(e,t){return Ro(this,e,t)}});var ho=it(2);at(at.P+at.F*!S([].filter,!0),"Array",{filter:function(e,t){return ho(this,e,t)}});var So={},Oo={};So.getLogger=function(e){var t={};void 0!==Oo[e]?(Oo[e]++,e=e+"$"+Oo[e]):Oo[e]=0;var n=e;function o(e){return"string"!=typeof e&&(e=JSON.stringify(e)),n&&(e="["+n+"] "+e),e}return t.debug=function(e){!function(e){if(No<=1){var t=(new Date).Format("yyyy-MM-dd hh:mm:ss.S");1e5<vo&&(vo=1),t="["+vo+++"]"+t,window.console.debug(t+" "+e)}}(o(Co(arguments)))},t.log=function(e){!function(e){if(No<=2){var t=(new Date).Format("yyyy-MM-dd hh:mm:ss.S");1e5<vo&&(vo=1),t="["+vo+++"]"+t,window.console.log(t+" "+e)}}(o(Co(arguments)))},t.info=function(e){!function(e){if(No<=3){var t=(new Date).Format("yyyy-MM-dd hh:mm:ss.S");1e5<vo&&(vo=1),t="["+vo+++"]"+t,window.console.info(t+" "+e)}}(o(Co(arguments)))},t.warn=function(e){!function(e){if(No<=4){var t=(new Date).Format("yyyy-MM-dd hh:mm:ss.S");1e5<vo&&(vo=1),t="["+vo+++"]"+t,window.console.warn(t+" "+e)}}(o(Co(arguments)))},t.error=function(e){!function(e){if(No<=5){var t=(new Date).Format("yyyy-MM-dd hh:mm:ss.S");1e5<vo&&(vo=1),t="["+vo+++"]"+t,window.console.error(t+" "+e)}}(o(Co(arguments)))},t};var mo=["{}"];function Co(e){var t=Array.prototype.slice.call(e),n=t[0];if(2<=t.length){var o=t.slice(1);if(n){var i=mo.filter(function(e){return 0<=n.indexOf(e)});if(i&&0<i.length){var a=i.map(function(e){var t=e.split("");return(t=t.map(function(e){return"\\"+e})).join("")}),r=new RegExp(a.join("|"),"g"),s=n.match(r);if(s&&0<s.length)for(var u=0;u<s.length&&o[u];u++){var c=o[u],d=void 0;d="object"===eo(c)?JSON.stringify(c):""+c,n=n.replace(s[u],d)}}}}return n}var vo=1,go={DEBUG:"DEBUG",LOG:"LOG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR"},To={1:"DEBUG",2:"LOG",3:"INFO",4:"WARN",5:"ERROR"},Io={DEBUG:1,LOG:2,INFO:3,WARN:4,ERROR:5},No=Io.INFO;Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var yo={convertBooleanToSwitchSta:function(e){return e?yo.SwitchSta.On:yo.SwitchSta.Off},convertValueToConfType:function(e){if(null!=e)return"0"==e?yo.ConfType.Meeting:yo.ConfType.Webniar},convertBooleanToCommonSta:function(e){return e?yo.CommonStats.On:yo.CommonStats.Off},convertValueToDeviceType:function(e){var t;switch(e){case"1":t=yo.DeviceType.Gvc;break;case"2":t=yo.DeviceType.Web;break;case"3":t=yo.DeviceType.Android;break;case"4":t=yo.DeviceType.IOS;break;case"5":t=yo.DeviceType.Phone;break;case"7":t=yo.DeviceType.Gxv;break;default:t=yo.DeviceType.Unknown}return t},CurrentMediaStatus:{demo:void 0,present:void 0,defaultt:void 0},LastStreamState:{video:"close",present:"close"},MicSta:{None:"None",Normal:"Normal",NormalMute:"NormalMute",Forbidden:"Forbidden",ForbiddenMute:"ForbiddenMute"},CamSta:{Open:"Open",Close:"Close",CloseByHost:"CloseByHost",None:"None"},SwitchSta:{On:"On",Off:"Off"},DeviceType:{Gvc:"Gvc",Web:"Web",Android:"Android",IOS:"IOS",Phone:"Phone",Gxv:"Gxv",Unknown:"Unknown"},ConfType:{Meeting:"Meeting",Webniar:"Webniar"},VideoResolutionMode:{auto:"auto",manual:"manual"},VideoLayout:{Plain:"0",Cone:"1",Cone5:"2",Cone7:"3",Cone0:"4",Plain2:"a",Plain4:"b",Plain9:"c",Plain16:"d",Plain25:"e",Plain36:"f",Plain49:"g"},CommonStats:{On:"1",Off:"0"},ConfLayoutType:{Conf:"0",Special1:"1",Special2:"2"},LayoutSettingMode:{Manual:"manual",Speaker:"speaker"},SharePresentType:{Close:"0",Whiteboard:"1",Doc:"2"}},wo=So.getLogger("ATTENDEE_SORT"),Ao={},Do=[],Mo=[],bo=[],Lo=[];Ao.sortByCamera=function(){wo.info("clear old userlist by camera"),bu(),yo.ConfType.Webniar,Do=[],Mo=[],bo=[],Lo=[];var e=[],t=[],n=Js.getUserList();for(var o in wo.info("the most new userlist: %j",n),n){var i=n[o];i.id=o,bu()==yo.ConfType.Webniar?i.isSelf?"host"==i.role||"webinar_panelist"==i.role?e.push(i):t.push(i):"host"==i.role||"webinar_panelist"==i.role?i.camSta==yo.CamSta.Open?Do.push(i):Mo.push(i):i.camSta==yo.CamSta.Open?bo.push(i):Lo.push(i):i.isSelf?t.push(i):i.camSta==yo.CamSta.Open?bo.push(i):Lo.push(i)}return bu()==yo.ConfType.Webniar&&(Do=Ni(Do),e.push.apply(e,Do),Mo=Ni(Mo),e.push.apply(e,Mo)),bo=Ni(bo),t.push.apply(t,bo),Lo=Ni(Lo),t.push.apply(t,Lo),bu()!=yo.ConfType.Webniar?t:{pannellist:e,attendeelist:t}};var Po=[],Uo=[],Vo=[],Go=[];Ao.sortByMic=function(){wo.info("clear old userlist by mic"),bu()==yo.ConfType.Webniar&&(0<Po.length&&(Po=[]),0<Uo.length&&(Uo=[])),0<Vo.length&&(Vo=[]),0<Go.length&&(Go=[]);var e=Js.getUserList();wo.info("the most new userlist: %j",e);var t=[],n=[];for(var o in e){var i=e[o];i.id=o,bu()==yo.ConfType.Webniar?i.isSelf?"host"==i.role||"webinar_panelist"==i.role?t.push(i):n.push(i):"host"==i.role||"webinar_panelist"==i.role?i.micSta==yo.MicSta.Normal?Po.push(i):Uo.push(i):i.micSta==yo.MicSta.Normal?Vo.push(i):Go.push(i):i.isSelf?n.push(i):i.micSta==yo.MicSta.Normal?Vo.push(i):Go.push(i)}return bu()==yo.ConfType.Webniar&&(Po=Ni(Po),t.push.apply(t,Po),Uo=Ni(Uo),t.push.apply(t,Uo)),Vo=Ni(Vo),n.push.apply(n,Vo),Go=Ni(Go),n.push.apply(n,Go),bu()!=yo.ConfType.Webniar?n:{pannellist:t,attendeelist:n}};var ko=[],Ho=[],Fo=[],xo=[];Ao.sortByHand=function(){wo.info("clear old userlist by handup"),bu()==yo.ConfType.Webniar&&(0<ko.length&&(ko=[]),0<Ho.length&&(Ho=[])),0<Fo.length&&(Fo=[]),0<xo.length&&(xo=[]);var e=[],t=[],n=Js.getUserList();for(var o in wo.info("the most new userlist: %j",n),n){var i=n[o];i.id=o,bu()==yo.ConfType.Webniar?i.isSelf?"host"==i.role||"webinar_panelist"==i.role?e.push(i):t.push(i):"host"==i.role||"webinar_panelist"==i.role?"On"==i.handup?ko.push(i):Ho.push(i):"On"==i.handup?Fo.push(i):xo.push(i):i.isSelf?t.push(i):"On"==i.handup?Fo.push(i):xo.push(i)}return bu()==yo.ConfType.Webniar&&(ko=Ni(ko),e.push.apply(e,ko),Ho=Ni(Ho),e.push.apply(e,Ho)),Fo=Ni(Fo),t.push.apply(t,Fo),xo=Ni(xo),t.push.apply(t,xo),bu()!=yo.ConfType.Webniar?t:{pannellist:e,attendeelist:t}};var Bo=[],Wo=[],Yo=[],jo=[],Ko=[],Jo=[],qo=[],zo=[],Qo=[],Xo=[],$o=[],Zo=[];Ao.sortUserListHostAuto=function(){wo.info("clear old userlist by host auto"),0<Bo.length&&(Bo=[]),0<Wo.length&&(Wo=[]),0<Yo.length&&(Yo=[]),0<jo.length&&(jo=[]),0<Ko.length&&(Ko=[]),0<Jo.length&&(Jo=[]),0<qo.length&&(qo=[]),0<zo.length&&(zo=[]),0<Qo.length&&(Qo=[]),0<Xo.length&&(Xo=[]),0<$o.length&&($o=[]),0<Zo.length&&(Zo=[]);var e=[],t=[],n=Js.getUserList();for(var o in wo.info("the most new userlist: %j",n),n){var i=n[o];i.id=o,i.isSelf?e.push(i):"host"==i.role?"On"==i.handup&&i.micSta==yo.MicSta.Normal?Bo.push(i):"On"==i.handup&&i.micSta!=yo.MicSta.Normal?Wo.push(i):"Off"==i.handup&&i.micSta==yo.MicSta.Normal?Yo.push(i):jo.push(i):"webinar_panelist"==i.role?"On"==i.handup&&i.micSta==yo.MicSta.Normal?Ko.push(i):"On"==i.handup&&i.micSta!=yo.MicSta.Normal?Jo.push(i):"Off"==i.handup&&i.micSta==yo.MicSta.Normal?qo.push(i):zo.push(i):"On"==i.handup&&i.micSta==yo.MicSta.Normal?Qo.push(i):"On"==i.handup&&i.micSta!=yo.MicSta.Normal?Xo.push(i):"Off"==i.handup&&i.micSta==yo.MicSta.Normal?$o.push(i):Zo.push(i)}if(Bo=Ni(Bo),e.push.apply(e,Bo),Wo=Ni(Wo),e.push.apply(e,Wo),Yo=Ni(Yo),e.push.apply(e,Yo),jo=Ni(jo),e.push.apply(e,jo),bu()==yo.ConfType.Webniar&&(Ko=Ni(Ko),e.push.apply(e,Ko),Jo=Ni(Jo),e.push.apply(e,Jo),qo=Ni(qo),e.push.apply(e,qo),zo=Ni(zo),e.push.apply(e,zo)),Qo=Ni(Qo),t.push.apply(t,Qo),Xo=Ni(Xo),t.push.apply(t,Xo),$o=Ni($o),t.push.apply(t,$o),Zo=Ni(Zo),t.push.apply(t,Zo),bu()==yo.ConfType.Webniar)return{pannellist:e,attendeelist:t};var a=[];return a.push.apply(a,e),a.push.apply(a,t),a};var ei,ti=[],ni=[];function oi(){return void 0===ei&&(ei=Js.MyselfIsHost?"hostauto":"attendeeauto"),ei}Ao.sortByAttendeeAuto=function(){wo.info("clear old userlist by AttendeeAuto"),0<ti.length&&(ti=[]),0<ni.length&&(ni=[]),0<Po.length&&(Po=[]),0<Uo.length&&(Uo=[]),0<Vo.length&&(Vo=[]),0<Go.length&&(Go=[]);var e=Js.getUserList();wo.info("the most new userlist: %j",e);var t=[],n=[];for(var o in e){var i=e[o];i.id=o,i.isSelf?bu()==yo.ConfType.Webniar?"host"==i.role||"webinar_panelist"==i.role?t.push(i):n.push(i):t.push(i):"host"==i.role?i.micSta==yo.MicSta.Normal?ti.push(i):ni.push(i):"webinar_panelist"==i.role?i.micSta==yo.MicSta.Normal?Po.push(i):Uo.push(i):i.micSta==yo.MicSta.Normal?Vo.push(i):Go.push(i)}if(ti=Ni(ti),t.push.apply(t,ti),ni=Ni(ni),t.push.apply(t,ni),bu()==yo.ConfType.Webniar&&(Po=Ni(Po),t.push.apply(t,Po),Uo=Ni(Uo),t.push.apply(t,Uo)),Vo=Ni(Vo),n.push.apply(n,Vo),Go=Ni(Go),n.push.apply(n,Go),bu()==yo.ConfType.Webniar)return{pannellist:t,attendeelist:n};var a=[];return a.push.apply(a,t),a.push.apply(a,n),a},Ao.sortUserListByType=function(e){var t;switch(ei=e){case"handup":t=Ao.sortByHand();break;case"mic":t=Ao.sortByMic();break;case"camera":t=Ao.sortByCamera();break;case"hostauto":t=Ao.sortUserListHostAuto();break;case"attendeeauto":t=Ao.sortByAttendeeAuto()}return t},Ao.insertNewUser=function(e){if(wo.info("insert new username:"+e.display),null!=e.display){var t=oi();wo.info("sort userlist type: "+t),wo.info("new join user: {}",e);var n={id:e.id,name:e.display,isSelf:e.self,role:e.role,devType:yo.convertValueToDeviceType(e.type),camSta:yi(e.status),micSta:wi(e.status),status:e.status,options:e.options,newstatus:e.newstatus,confperm:e.confperm,grantperm:e.grantperm};e.newstatus&&(n.handup=yo.convertBooleanToSwitchSta(e.newstatus.handup)),e.options&&(n.chatSta=yo.convertBooleanToSwitchSta(e.options.message));var o=void 0;switch(t){case"handup":o=bu()==yo.ConfType.Webniar?ii(n):ai(n);break;case"mic":o=bu()==yo.ConfType.Webniar?ri(n):si(n);break;case"camera":o=bu()==yo.ConfType.Webniar?ui(n):ci(n);break;case"hostauto":o=bu()==yo.ConfType.Webniar?di(n):li(n);break;case"attendeeauto":o=bu()==yo.ConfType.Webniar?fi(n):Ei(n)}null!=o&&un(cn.onUserInit,[o])}else wo.info("user display name is null")};var ii=function(e){var t=void 0,n=ko.length,o=Fo.length,i={user:e,position:t=e.isSelf?0:"host"==e.role||"webinar_panelist"==e.role?"On"==e.handup?Ii(e,ko,0):Ii(e,Ho,n):"On"==e.handup?Ii(e,Fo,0):Ii(e,xo,o)};return wo.info("insert by handup ,position of userList:"+t),i},ai=function(e){var t=void 0,n=Fo.length,o={user:e,position:t="On"==e.handup?Ii(e,Fo,0):Ii(e,xo,n)};return wo.info("insert by handup,position of userList:"+t),o},ri=function(e){var t=void 0,n=Po.length,o=Vo.length,i={user:e,position:t=e.isSelf?0:"host"==e.role||"webinar_panelist"==e.role?e.micSta==yo.MicSta.Normal?Ii(e,Po,0):Ii(e,Uo,n):e.micSta==yo.MicSta.Normal?Ii(e,Vo,0):Ii(e,Go,o)};return wo.info("insert by mic ,position of userList:"+t),i},si=function(e){var t=void 0,n=Vo.length,o={user:e,position:t=e.isSelf?0:e.micSta==yo.MicSta.Normal?Ii(e,Vo,0):Ii(e,Go,n)};return wo.info("insert by mic ,position of userList:"+t),o},ui=function(e){var t=void 0,n=Do.length,o=bo.length,i={user:e,position:t=e.isSelf?0:"host"==e.role||"webinar_panelist"==e.role?e.camSta==yo.CamSta.Open?Ii(e,Do,0):Ii(e,Mo,n):e.camSta==yo.CamSta.Open?Ii(e,bo,0):Ii(e,Lo,o)};return wo.info("insert by camera, position of userList:"+t),i},ci=function(e){var t=void 0,n=bo.length,o={user:e,position:t=e.camSta==yo.CamSta.Open?Ii(e,bo,0):Ii(e,Lo,n)};return wo.info("insert by camera ,position of userList:"+t),o},di=function(e){var t=Bo.length,n=t+Wo.length,o=n+Yo.length,i=o+jo.length,a=i+Ko.length,r=a+Jo.length,s=r+qo.length,u=(zo.length,Qo.length),c=u+Xo.length,d=c+$o.length;Zo.length;return{user:e,position:e.isSelf?0:"host"==e.role?"On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Bo,0):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Wo,t):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Yo,n):Ii(e,jo,o):"webinar_panelist"==e.role?"On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Ko,i):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Jo,a):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,qo,r):Ii(e,zo,s):"On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Qo,0):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Xo,u):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,$o,c):Ii(e,Zo,d)}},li=function(e){var t=Bo.length,n=t+Wo.length,o=n+Yo.length,i=o+jo.length,a=i+Qo.length,r=a+Xo.length,s=r+$o.length;Zo.length;return{user:e,position:e.isSelf?0:"host"==e.role?"On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Bo,0):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Wo,t):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Yo,n):Ii(e,jo,o):"On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Qo,i):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Xo,a):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,$o,r):Ii(e,Zo,s)}},fi=function(e){var t=void 0,n=ti.length,o=n+ni.length,i=o+Po.length,a=(Uo.length,Vo.length),r={user:e,position:t=e.isSelf?0:"host"==e.role?e.micSta==yo.MicSta.Normal?Ii(e,ti,0):Ii(e,ni,n):"webinar_panelist"==e.role?e.micSta==yo.MicSta.Normal?Ii(e,Po,o):Ii(e,Uo,i):e.micSta==yo.MicSta.Normal?Ii(e,Vo,0):Ii(e,Go,a)};return wo.info("insert by AttendeeAuto ,position of userList:"+t),r},Ei=function(e){var t=void 0,n=ti.length,o=n+ni.length,i=o+Vo.length,a={user:e,position:t=e.isSelf?0:"host"==e.role?e.micSta==yo.MicSta.Normal?Ii(e,ti,0):Ii(e,ni,n):e.micSta==yo.MicSta.Normal?Ii(e,Vo,o):Ii(e,Go,i)};return wo.info("insert by AttendeeAuto ,position of userList:"+t),a};Ao.updateUserlist=function(e,t){var n=void 0;if(null!=t.role&&e.role!=t.role){if(null==t.role)return void wo.info("user role is undefined");n="role",e.role=t.role,t.status&&(e.micSta?e.micSta=wi(t.status):wo.info("olduser micSta is undefined"),e.camSta?e.camSta=yi(t.status):wo.info("olduser camSta is undefined")),null!=t.newstatus.handup&&(e.handup?e.handup=yo.convertBooleanToSwitchSta(t.newstatus.handup):wo.info("olduser handup is undefined "))}else if(null!=t.status){var o=yi(t.status),i=wi(t.status);wo.info("newMicSta:"+i+"-----oldMicSta:"+e.micSta),wo.info("newCamsta:"+o+"-----oldCamsta:"+e.camSta),null!=e.micSta&&null!=i&&e.micSta!=i&&(n="mic",e.micSta=i),null!=e.camSta&&null!=o&&e.camSta!=o&&(n="camera",e.camSta=o)}else t.newstatus&&null!=t.newstatus.handup&&null!=e.newstatus.handup&&t.newstatus.handup!=e.newstatus.handup&&(n="handup",e.newstatus.handup=t.newstatus.handup,e.handup=yo.convertBooleanToSwitchSta(t.newstatus.handup));var a=oi();wo.info("current sort userlist type: "+a),wo.info("update id of user: "+t.id);var r=void 0;switch(a){case"handup":if("role"!=n&&"handup"!=n)return;Oi(e),r=_i(e);break;case"mic":if("role"!=n&&"mic"!=n)return;mi(e),r=pi(e);break;case"camera":if("role"!=n&&"camera"!=n)return;Ci(e),r=Ri(e);break;case"hostauto":if("role"!=n&&"camera"!=n&&"handup"!=n&&"mic"!=n)return;vi(e),r=hi(e);break;case"attendeeauto":if("role"!=n&&"mic"!=n)return;gi(e),r=Si(e)}null!=r&&un(cn.onUpdateUserList,[r])};var _i=function(e){var t=ko.length,n=Fo.length,o=void 0,i=void 0,a=void 0;return a=bu()==yo.ConfType.Webniar?(i="host"==e.role||"webinar_panelist"==e.role?(o=e.isSelf?0:"On"==e.handup?Ii(e,ko,0):Ii(e,Ho,t),"panel"):(o=e.isSelf?0:"On"==e.handup?Ii(e,Fo,0):Ii(e,xo,n),"attendee"),{userid:e.id,position:o,area:i}):(o=e.isSelf?0:"On"==e.handup?Ii(e,Fo,0):Ii(e,xo,n),{userid:e.id,position:o}),wo.info("update by handup position of userList:"+o),a},pi=function(e){var t=Po.length,n=Vo.length,o=void 0,i={};if(bu()==yo.ConfType.Webniar){var a=void 0;a="host"==e.role||"webinar_panelist"==e.role?(o=e.isSelf?0:e.micSta==yo.MicSta.Normal?Ii(e,Po,0):Ii(e,Uo,t),"panel"):(o=e.isSelf?0:e.micSta==yo.MicSta.Normal?Ii(e,Vo,0):Ii(e,Go,n),"attendee"),i={userid:e.id,position:o,area:a}}else o=e.isSelf?0:e.micSta==yo.MicSta.Normal?Ii(e,Vo,0):Ii(e,Go,n),i={userid:e.id,position:o};return wo.info("update by mic position of userList:"+o),i},Ri=function(e){var t=Do.length,n=bo.length,o=void 0,i=void 0;if(bu()==yo.ConfType.Webniar){var a=void 0;a="host"==e.role||"webinar_panelist"==e.role?(o=e.isSelf?0:e.camSta==yo.CamSta.Open?Ii(e,Do,0):Ii(e,Mo,t),"panel"):(o=e.isSelf?0:e.camSta==yo.CamSta.Open?Ii(e,bo,0):Ii(e,Lo,n),"attendee"),i={userid:e.id,position:o,area:a}}else o=e.isSelf?0:e.camSta==yo.CamSta.Open?Ii(e,bo,0):Ii(e,Lo,n),i={userid:e.id,position:o};return wo.info("update by camera position of userList:"+o),i},hi=function(e){var t=Bo.length,n=t+Wo.length,o=n+Yo.length,i=o+jo.length,a=i+Ko.length,r=a+Jo.length,s=r+qo.length,u=s+zo.length,c=u+Qo.length,d=c+Xo.length,l=d+$o.length,f=(Zo.length,0);if(e.isSelf)f=0,"host"==e.role||e.role;else if("host"==e.role)f="On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Bo,0):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Wo,t):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Yo,n):Ii(e,jo,o);else if("webinar_panelist"==e.role)f="On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Ko,i):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Jo,a):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,qo,r):Ii(e,zo,s);else if(bu()==yo.ConfType.Webniar)if("On"==e.handup&&e.micSta==yo.MicSta.Normal)f=Ii(e,Qo,0);else if("On"==e.handup&&e.micSta!=yo.MicSta.Normal)f=Ii(e,Xo,Qo.length);else if("Off"==e.handup&&e.micSta==yo.MicSta.Normal){var E=Qo.length+Xo.length;f=Ii(e,$o,E)}else{var _=Qo.length+Xo.length+$o.length;f=Ii(e,Zo,_)}else f="On"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,Qo,u):"On"==e.handup&&e.micSta!=yo.MicSta.Normal?Ii(e,Xo,c):"Off"==e.handup&&e.micSta==yo.MicSta.Normal?Ii(e,$o,d):Ii(e,Zo,l);var p=void 0;if(bu()==yo.ConfType.Webniar){var R=void 0;R="host"==e.role||"webinar_panelist"==e.role?"panel":"attendee",p={userid:e.id,position:f,area:R}}else p={userid:e.id,position:f};return wo.info("update by hostautoposition of userList:"+f),p},Si=function(e){var t=ti.length,n=t+ni.length,o=n+Po.length,i=o+Uo.length,a=i+Vo.length,r=(Go.length,0),s={};if(r=e.isSelf?0:"host"==e.role?e.micSta==yo.MicSta.Normal?Ii(e,ti,0):Ii(e,ni,t):"webinar_panelist"==e.role?e.micSta==yo.MicSta.Normal?Ii(e,Po,n):Ii(e,Uo,o):bu()==yo.ConfType.Webniar?e.micSta==yo.MicSta.Normal?Ii(e,Vo,0):Ii(e,Go,Vo.length):e.micSta==yo.MicSta.Normal?Ii(e,Vo,i):Ii(e,Go,a),bu()==yo.ConfType.Webniar){var u=void 0;u="host"==e.role||"webinar_panelist"==e.role?"panel":"attendee",s={userid:e.id,position:r,area:u}}else s={userid:e.id,position:r};return wo.info("update by attendeeauto position of userList:"+r),s};Ao.deleteUser=function(e){if(null!=e&&null!=e.id)switch(oi()){case"handup":Oi(e);break;case"mic":mi(e);break;case"camera":Ci(e);break;case"hostauto":vi(e);break;case"attendeeauto":gi(e)}else wo.error("user is undefined")};var Oi=function(e){bu()==yo.ConfType.Webniar&&(Ti(e,ko),Ti(e,Ho)),Ti(e,Fo),Ti(e,xo)},mi=function(e){bu()==yo.ConfType.Webniar&&(Ti(e,Po),Ti(e,Uo)),Ti(e,Vo),Ti(e,Go)},Ci=function(e){bu()==yo.ConfType.Webniar&&(Ti(e,Do),Ti(e,Mo)),Ti(e,bo),Ti(e,Lo)},vi=function(e){Ti(e,Bo),Ti(e,Wo),Ti(e,Yo),Ti(e,jo),bu()==yo.ConfType.Webniar&&(Ti(e,Ko),Ti(e,Jo),Ti(e,qo),Ti(e,zo)),Ti(e,Qo),Ti(e,Xo),Ti(e,$o),Ti(e,Zo)},gi=function(e){Ti(e,ti),Ti(e,ni),bu()==yo.ConfType.Webniar&&(Ti(e,Po),Ti(e,Uo)),Ti(e,Vo),Ti(e,Go)},Ti=function(e,t){if(null!=t&&0!=t.length)for(var n=0;n<t.length;n++)if(t[n].id&&t[n].id==e.id)return void t.splice(n,1)},Ii=function(e,t,n){if(null!=e&&null!=t&&null!=n){var o=void 0;if(0==t.length)o=n,t.push(e);else{for(var i=0;i<t.length;i++)if(e.name&&t[i].name){if((255<e.name.charCodeAt(0)&&255<t[i].name.charCodeAt(0)?e.name.localeCompare(t[i].name,"zh"):e.name.localeCompare(t[i].name))<0){o=n+i,t.splice(i,0,e);break}}i==t.length&&(o=n+i,t.push(e))}return o}},Ni=function(e){return e.length<=1?e:e.sort(function(e,t){return 255<e.name.charCodeAt(0)&&255<t.name.charCodeAt(0)?t.name.localeCompare(t.name,"zh"):t.name.localeCompare(t.name)})},yi=function(e){var t;return e&&(t=e.opencamera&&e.openedcamera?yo.CamSta.Open:e.opencamera&&!e.openedcamera?yo.CamSta.CloseByHost:yo.CamSta.Close),t},wi=function(e){var t;return e&&(e.muted||e.mute?e.muted&&!e.mute?t=yo.MicSta.NormalMute:!e.muted&&e.mute?t=yo.MicSta.Forbidden:e.muted&&e.mute&&(t=yo.MicSta.ForbiddenMute):t=yo.MicSta.Normal),t},Ai={TIP_OK:"OK",TIP_CANCEL:"Cancel",TIP_WARNING:"Warning",TIP_REMINDER:"Reminder",NETWORK_BUSY:"The network is busy. Please try again later",TO_LOWER:"to",TO:"To",REPLY:"Reply",ME:"Me",PANELISTS:"Panelists",ALL_PEOPLE:"All",ERROR:"No error message",ERROR_ALERT:"No content",RESIDUE_WORDS:" words!",RESIDUE_WORD:" word!",NO_SELECT:"Null",TIP_RELOAD:"Reload",TIP_ENABLE:"Enable"},Di={ERROR_CODE:" (Code: {code})",NONE:"None",MEETINGNUM_TIP:"Please enter the meeting ID",MEETING_UNOPEN:"The meeting has not yet started",MEETING_END:"The meeting has ended",MEETING_NULL:"The meeting does not exist",MEETING_REVOKE:"The meeting has been cancelled",MEETING_EXPIRED:"The meeting has expired",INPUT_MEETING_PWD:"Please enter the meeting password",MEETINGNUM_WARN:"The meeting ID must be a numeric number",CALL_NO_MIC:"The microphone is not detected. You are not able to join the meeting. Please make sure the microphone is plugged in and try again.",CALL_NO_MEETING:"The meeting does not exist or has ended.",CALL_TIMEOUT:"Connecting to the server has timed out. Please try again.",CALL_FULL:"This meeting is full. Please contact the host.",CALL_DENY_JOIN:"This meeting cannot be joined.",CALL_DUP_LOGIN:"You have already logged in from another device. You cannot log in again at this time.",CALL_AUTH_FAIL:"Failed to join the meeting. Data certification error.",CALL_PASSWORD_ERROR:"The password you have entered is incorrect. Please try again.",CALL_CON_FAIL:"Connection to the server has timed out. Please try it again later.",NO_CHAT_PERMISSION:"You do not have the required permission needed to send a chat message.",RETRY:"Retry",RETRY_JOIN:"Join Again",PWD_TITLE:"The meeting is protected with password",MEETING_LOCK:"The  meeting has been locked. Please wait for the host to approve your request to join",SIP_ERROR:"Unable to obtain the information to join the meeting. Please contact your administrator.",SIP_NOPERMISSION:"You do not have the required permission to perform this operation.",SEND_OK:"The message was sent: ",SEND_FAIL:"The message has failed to send: ",SHOW_VIDEO:"Show the Video Remote",HIDE_VIDEO:"Hide the Video Remote",SHARE_DESKTOP:" is sharing the screen",SHARE_APP:" is sharing the application",SHARING:" is sharing ",DENY_MIC_SHARE:"You have rejected access to the microphone. Please check and join the meeting again.",BTN_REJOIN:"Join again",ONERROR_NETWORK_BREAK:"The server connection has been lost. Please check your network and try again.",ONERROR_COMMON:"The request cannot be processed by the server.",ONERROR_JOIN_MEETING:"Joining this meeting has failed. Please try again.",ONERROR_TIMEOUT:"Request timed out. Please try again later.",ONERROR_DUP_LOGIN:"Your account is logged in from other devices. Thank you for your participation.",ONERROR_UNKNOWN:"Unknown error. Please try again later.",ONERROR_UNCONNECT_TO_MEETING:"You have lost connection with the meeting. Please try again later.",ONBYE:"You have exited the meeting. Thank you for attending the meeting.",ONBYE_BOOT:"You have been removed from the meeting.",CONNECT_SERVER:"You have lost your connection with the meeting host. Please check your network connection and try again.",CONNECT_MEETING_SERVER:"The server could not complete your request. Please try again.",CONNECT_SERVER_BEFORE_MEETING:"Connecting to the server has failed. Please try again.",ONBYE_CONFLICT:"You are attending another meeting at this time, the current meeting has ended.",ONBYE_DENY_JOIN:"This meeting cannot be joined.",ONBYE_TIMEOUT:"The connection to the server is lost. Please check your network or try again.",ONBYE_END:"This meeting has ended. Goodbye",CLICK_SOUND:"Click to unmute",CLICK_MUTE:"Click to mute",CLICK_UNMUTE_MYSELF:"Click to unmute yourself",CLICK_MUTE_MYSELF:"Click to mute yourself",CLICK_MIC:"Click to apply for microphone access",HOST:"(Host)",H_PRESENTER:"(Host)",PANELIST:"(Panelist)",PRESENTER:"",ALT_MIC:"The host has granted you microphone access permission",ALT_SHMIC:"The host has revoked your microphone access permission",ALT_MUTE:"You are muted, other participants can't hear you.",ALT_SOUND:"You are unmuted, other participants can hear you.",ALT_BMUTE:"The host has muted you, other participants can't hear you.",ALT_BUNMUTE:"The host has unmuted you,other participants can hear you.",ALT_MUTEANDBMUTE:"You are muted, other participants can't hear you.",ALT_UNMUTEANDBMUTE:"The microphone has been enabled, but you are muted by the host, the participants can't hear you",ALT_UNMUTED_BY_HOST:"The host has unmuted you",DENY_APPLY:"Sorry, the host rejected your request.",ALT_COPY:"Copied",CHAT_NHOST:" is now the presenter",CHAT_NPRESENTER:" is the host now",CHAT_OK:"The host has enabled the chat",CHAT_OFF:"The host has disabled the chat",CHAT_TRANS:"Enable all to send files",CHAT_TRANS_OFF:"Disable all to send files",CHAT_MET_LOCK:"Meeting locked",CHAT_MET_UNLOCK:"Meeting unlocked",CHAT_LIST:"The host is sharing the attendee list.",CHAT_LIST_OFF:"The host disabled the viewing of the attendees list",CHAT_RECORD:"The host has started meeting recording",CHAT_RECORD_OFF:"The host has stopped recording",CHAT_MUTE:"Enable Mute When Attending Meeting ",CHAT_MUTE_OFF:"Disable Mute When Attending Meeting",DEL_ALT:"Are you sure you want to clear the chat history?",DOWN_FAIL:"You request to download has failed.",DOWN_INVALID:"Your request to download is not permitted",DOWN_ERROR:"You request to download has failed, unknown error.",SEND_RE:"send again?",LENGTH_ALT:"Text content is too long, the character limit is 225. ",CHAT_EMPTY_ALT:"text content cannot be empty",SERVER_EXP:"Server connection error, please try again later.",SERVER_ERROR:"Unknown error:",WAIT_MIC:"Requesting mouse access permission from the host, please wait for the host to confirm",MUTE_FAIL:"Restricted operation.",FILE_EMP:"The file list is empty.",FILE_LIST:"File List",DEVICE1:"Device 1",COPY_TIP:"Copy meeting information",COPY_FLASH:"Adobe Flash is required to copy meeting information. Otherwise please manually copy the information.",MEETING_NAME:"Meeting theme: ",MEETING_ID:"Meeting ID: ",MEETING_PWD:"Meeting password: ",MEETING_CREATOR:"Host: ",MEETING_TIME:"Meeting time: ",MEETING_URL:"Meeting URL: ",MEETING_SIP:"SIP Access: ",MEETING_PSTN:"PSTN Access: ",QUIT_THX:"You have exited the meeting. Thank you for attending",QUIT_CONFIRM:"Are you sure you want to exit the meeting?",BTN_QUIT:"Exit",CPURL_FLASH:"Adobe Flash is required to copy meeting information. Otherwise please manually copy the information.",CPURL_TIP:"Copy Link",LEAVE_CONFIRM:"If you leave this page, you will leave this meeting.",MIC_NUM_TO_MAX_LIMIT:"You cannot use the microphone. All available mricophones have been occupied by other attendees.",PRESENT_VIDEO_NAME:"Presentation Lost: ",VIDEO_NAME:"Video Lost: ",AUDIO_NAME:"Audio Lost: ",JITTER:"Jitter ",LOSS:"Lost ",AUDIO_APPLY_TIMEOUT:"Granting microphone permission timed out. Please join meeting again.",VIDEO_APPLY_TIMEOUT:" Granting microphone permission timed out. You will not be able to view video. Please join the meeting again.",USER_QUIT_MEETING:" has left the meeting",USER_JOIN_MEETING:" has joined the meeting",INSTALL_PLUGIN_NOW:"Install Now",INSTALL_PLUGIN_AND_TRY:"Please try again after installation",NOT_FOUND_PLUGIN_TIP:"Install add-ons before opening the sharing feature",ICON_TIP_SHARE_DESKTOP:"Share desktop or applications",START_SHARE_ERROR:"Sharing failed. Please try again later.",DESKTOP_SHARE_ALREADY_STOPED:"Screen sharing has stopped",DESKTOP_SHARE_STOPED_FAIL:"Stop sharing has failed",ICON_TIP_STOP_SHARE:"Stop sharing",START_SHARE_ERROR_ALREADY_ON:"Another attendee has started sharing. You cannot start sharing at this time.",TIP_SHARING_DESKTOP:"You are sharing the desktop...",TIP_SHARING_APPLICATION:"You are sharing the application...",ICON_QUIT_MEETING:"Exit meeting",ICON_MEETING_INFO:"Meeting info",ICON_FULLSCREEN_ON:"Full screen",ICON_FULLSCREEN_OFF:"Exit full screen",LOADING_VIDEO:"Loading video...",MORE:"More",RETRACT:"Retract",STA_UNSTABLE:"Unstable",STA_STABLE:"Normal",STA_GOOD:"Excellent",NET_STA:"Network Status",CURRENT_NET:"The current network ",SERVER:"Server",PULLOUT_MIC_TO_NONE:"Microphone unplugged or access is limited",PULLOUT_CURRENT_MIC:"Microphone unplugged, another microphone will be shared automatically",START_USE_MIC:" Microphone Enabled",START_USE_NEW_MIC:"New microphone Enabled",INSERT_MIC_FOR_USE:"Please insert microphone",INSERT_MIC_FOR_USE_FIREFOX:"Please insert Microphone, and re-enter meeting to enable",NO_FILES:"No files in list now",ERR_HOST_EMPTY:"Host code cannot be empty!",ERR_HOST_FORMAT:"Host code error",ERR_HOST_CODE_NOMATCH:"Host code error",HOST_MEETING_OK:"You are now the host",UNMUTE_CONF_FAIL:"UnMute all has failed.",UNMUTE_CONF_OK:"You have unmuted all successfully",MUTE_CONF_FAIL:"Mute all has failed.",MUTE_CONF_OK:"You have muted all successfully",UNENABLED_GROUP_CHAT_FAIL:"Disable all to chat has failed.",UNENABLED_GROUP_CHAT:"Disable All to Chat",ENABLED_GROUP_CHAT_FAIL:"Enable all to chat has failed.",ENABLED_GROUP_CHAT:"Enable All to Chat",KICK:"Remove",MUTE:"Mute",UNMUTE:"Unmute",MUTE_ALL:"Mute All",UNMUTE_ALL:"Unmute All",KICK_USER_FAIL:"Remove attendee has failed",KICK_USER_OK:"Remove {somebody} success",UNMUTE_USER_FAIL:"Unmute attendee has failed.",MUTE_USER_FAIL:"Mute attendee has failed.",SHARE:"Share",UNSHARE:"Unshare",REQUEST_ARGS_ERR:"This request cannot be processed by the server",UNKOWN_COMMAND:"The request unknown",SERVER_BUSY:"The server is busy. Please try again.",REQUEST_DENY:"The request was denied",DATABASE_ERROR:"This request cannot be processed. Please try again.",UNABLE_JOIN_MEETING:"Unable to join this meeting",USER_LEFT_MEETING:"This operation cannot be performed. {somebody} has left the meeting.",NOT_IN_MEETING:"You are not in the meeting now.",SYSTEM_UPDATE:"Server is under maintenence now, your meeting room will be closed.  Please try again later after server recovery.",MESSATE_FAIL:"Send failed, {somebody} has left meeting.",REGISTER_FAIL:"Registration has failed. Please try again.",REPEAT_REGISTER:"You have been invited to the meeting.",NETWOEK_ERROR:"You may have a network connection problem, please try again later",COUNTRY_NOT_EMPTY:"Please select a country",CURRENT_NET_UNSTABLE:"The network is currently unstable, ",VIEW_VIDEO_INFO:"click to view information",HOST_CODE_EMPTY:"Please enter host code",SHARE_TIP_DESC_FIREFOX:"Requires 2Mbps+ uplink bandwidth for Firefox to ensure good video quality",SHARE_TIP_DESC_CHROME:"Requires 2Mbps+ uplink bandwidth for Chrome to ensure good video quality",SHARE_TIP_DESC_OPERA:"Requires 2Mbps+ uplink bandwidth for Opera to ensure good video quality",INSERT_CAMERA:"Please insert webcam",INSERT_CAMERA_FOR_USE_FIREFOX:"Please insert webcam, and re-enter meeting to enable",OPEN_CAMERA:"Click to share",CLOSE_CAMERA:"Click to unshare",INVITATION_HAS_SENT:"The meeting invitation has been sent",WEBCAM_HAS_OPENED:"The webcam has been enabled, the participants can see you",WEBCAM_HAS_CLOSED:"The webcam has been disabled, the participants cannot see you",WEBCAM_HAS_CLOSED_FAIL_BY_HOST:"Disable webcam failed",WEBCAM_HAS_CLOSED_SUCCESS_BY_HOST:"You have disabled the webcam of {somebody}",WEBCAM_HAS_CLOSED_BY_HOST:"The host has disabled your webcam, the participants cannot see you",SHARE_LOCAL_WEBCAM_FAIL:"The maximum amount of simultaneous video feeds has been reached",STOP_SHARE_LOCAL_WEBCAM_FAIL:"Stop sharing webcam has failed",WEBCAM_HAS_OCCUPIED:"The webcam is occupied by other applications",START_USE_WEBCAM:"The webcam enabled",PULLOUT_WEBCAM_TO_NONE:"Webcam is unplugged or access is limited",OPEN_CAMERA_FAIL:"Cannot find the available webcam",SHARING_WEBCAMERA:"You are sharing your webcam...",SHARE_TYPE_SELECT:"Please select share type",NO_PERMISSION_TO_SEND:"You do not have permission to send a message to this attendee",SEND_FAILED:'Send failed. Click "!" to re-send',ICE_FAILED_FIRST:"Connection to the media server was lost. Reconnecting...",ALLOW_ATTENDEE_LIST:"Allow All to View Attendee List",UNALLOW_ATTENDEE_LIST:"Prohibit All to View Attendee List",HAND_DOWN:"Your hand is no longer raised",HAND_UP:"Your hand is raised",CLICK_HAND_DOWN:"Click to lower hand",CLICK_HAND_UP:"Click to raise hand",CHAT_ATTENDEE:"Attendee",CHAT_USER_NOT_EXIT_ROOM:"Operate failed, the attendee not exist",OPERATE_FAILED:"Operate failed",NOT_PERMISSION_SEND:"You don't have permission to send a message to this attendee",STOP_SHAREING:"You have stopped sharing screen!",HAS_STOP_SHAREING:" has stopped sharing screen!",PLEASE_INPUT_HOST_CODE:"Please Enter Host Code",SELECT_DEVICE:"Select Device",TYPE_GVC:"GVC",TYPE_WEB:"Web",TYPE_ANDROID:"Android",TYPE_IOS:"iOS",TYPE_PHONE:"Phone(PSTN)",TYPE_DEVICE:"Room Device",TYPE_OTHER:"Other",OPTION_OPEN_CAMERA:"Require webcam sharing",WORK_GROUP:"Set as panelist",SET_AS_PANELIST:"{sb} has been set as a panelist",SET_PANELIST_OK:"You have become a panelist",REQUEST_SEND:"The request has been sent",RESOLUTION:"Resolution",AUTO:"Auto",ULTRA_HD:"FHD",HD:"HD",SD:"SD",AUTO_RESOLUTION_CHANGE:"The video resolution has been set  to {resolution} to adapt your network conditions.",MANUAL_RESOLUTION_CHANGE:"The video resolution has been set to {resolution}.",RESOLUTION_SET_FAIL:"Set video resolution failed.",OPERATION_TOO_FREQUENT:"Your operation is too frequent, please try again later.",USER_JOIN_MEETING_AND_HOST:" has joined the meeting as a host",WAIT_MUSIC_ON:"Click to enable waiting tone",WAIT_MUSIC_OFF:"Click to disable waiting tone",TIP_CONF_WILL_END:"The meeting will end in {time} minute(s) if nobody speaking",TIP_INSTALL_PLUGIN_SUCCESS:"The screen sharing plug-in has been installed successfully, you can start sharing now.",TIP_INSTALL_PLUGIN_FAILED:"Installation of the screen sharing plug-in has failed, please try again.",VIDEO_RESOLUTION:"Video Resolution: ",PRESENT_RESOLUTION:"Presentation Resolution: ",SHARE_PAUSE:"Pause",SHARE_CONTINUE:"Continue",SHARE_PAUSE_TIP:"You have paused sharing...",LIVE_BOX_TITLE:"Select live platform",LIVE_HAS_START_TIP:"Live meeting is now on Facebook/YouTube",LIVE_FAIL_TIP:"Transmission of live data has failed, please try again.",RECORDING_STARTED:"Recording has started",RECORDING_STOPPED:"Recording has stopped",RECORDING_STARTED_FAIL:"Start recording failed",RECORDING_STOPPED_FAIL:"Stop recording failed",START_RECORDING:"Record this Meeting",STOP_RECORDING:"Stop Recording Meeting",START_RECORDING_ALREADY:"Recording already started",STOP_RECORDING_ALREADY:"Recording already stopped",INSTALL_PLUGIN:"Install Plug-in to Improve Video Quality",REFRESH_JOIN:"Refresh to Join Meeting",SUCCESS_PLUG_INSTALL:"After successful plug-in installation, please ",KICK_USER_CONFIRM:"Are you sure you would like to remove {participant}?",ATTENDEE:"Participants",CALL_NOW:"Call now",CALL_REQUEST_SUBMITTED:"Call request submitted",PLANING_MEETING_TIP_FOR_HOST:"Preparing webinar. Please note, the participants will be in the waiting room until you start webinar.",PLANING_MEETING_TIP_FOR_UNHOST_USER:"The participants will remain in the waiting room until the webinar is started.",MEETING_ALREADY_START_USERS_CAN_JOIN:"The webinar has started, participants can now join",WAITING_ROOM:"Participants in waiting",CALL_NOW_FOR_HOST_DEVICE_AND_PANELIST:"Do you want to call the host device and panelists: ",CALL_NOW_FOR_HOST_DEVICE:"Do you want to call  the host device: ",CALL_NOW_FOR_PANELIST:"Do you want to call the panelists: ",MIC_UNAUTHORIZED:"Click to require microphone access permission through the browser",WEBCAM_NO_RESPONCE:"Sharing source exception, please restart your browser to try again",FEATRUE_NOT_SUPPORT:"The current browser does not support this function, please use Chrome or Firefox browsers",VIDEO_GET_TIMEOUT:"Get video stream timeout",SORT_BOX_SHOW:"Search Participant",SORT_BOX_HIDE:"Hide search box",QUIT_VIDEO_SPLIT:"Cancel split screen",HAS_SPLIT_ALONE:"Split screen is enabled",SHARE_SUCCESS:"Sharing screen switched successfully",SHARE_FAIL:"Switching the shared screen failed",SHARE_LOADING:"Loading...",SHARE_PAUSE_DESKTOP:"Desktop sharing is paused...",SHARE_PAUSE_APP:"Application sharing is paused...",SHARE_PRESENT_CLOSE:"You have stopped sharing, switch to presentation failed",MIC_UNAVAILABLE:"Your Microphone is disabled, please click to enable Microphone",LAYOUT_TILED_TIP:"Click to switch to tiled layout for all",LAYOUT_POLLING_TIP:"Click to switch to speaker layout for all",LAYOUT_SWITCHING:"Switching to video layout...",LAYOUT_TILED_TOAST:"Switch to tiled layout for all was successful",LAYOUT_POLLING_TOAST:"Switch to speaker layout for all was successful",LAYOUT_ATTENDENT_TOAST:"The host has switched to video layout",LAYOUT_SWITCH_FAIL:"Switch to video layout failed",PLUG_IN_LOW:"The screen-sharing plug-inis not supported, please upgrade the plug-in.",REQUEST_SET_PANELIST:"Panelists have the ability to access the microphone, webcam, presentation and view attendee list. Granting panelist access cannot be undone.",SET_PANELIST_TIP:"Are you sure you want to set {somebody} as a panelist?",SHARE_SOURCE_EXCEPTION:"Sharing source exception",ALL_ATTENDEE_LOWER_HAND:"All attendees have lowered hands",DISABLE_CHAT_BY_HOST:"You have disabeld chat for the attendees",ENABLE_CHAT_BY_HOST:"You have enabled chat for the attendees",ENABLE_VIEW_USERLIST:"Attendee list is set to public-Attendees can view the attendee list",DISBALE_VIEW_USERLIST:"Attendee list is set to private and can only be seen by the host and panelists",ENABLE_MUTE_ATTENDEES_JOIN_MEETING:'You have enabled "mute all attendees on entry"',DISABLE_MUTE_ATTENDEES_JOIN_MEETING:'You have disabled "mute all attendees on entry"',MIC_MUTE_BY_BROWER_TIP:"Your MIC has been temporarily closed by the browser, the meeting is abnormal, please rejoin the meeting.",WEBCAM_MUTE_BY_BROWER_TIP:"Your Webcam has been temporarily closed by the browser, the meeting is abnormal, please rejoin the meeting.",UNMUTE_MIC_TIP:"You are muted, if you want to speak, please click to unmute yourself",MIC_AVAILABLE_TIP:"You can speak now! You are using {device},",CHANGE_MIC_TIP:"go to Settings to change MIC",MIC_MUTED_BY_HOST:"Thehosthasmutedyou,youcan'tunmute yourself",REPORT_PROBLEM:"Report a Problem",POLL_SPEAKER_SWITCH_FAIL:"Failed to switch to the Active Speaker layout, please try again.",POLL_USER_LEAVE_CLOSE:"Video layout has been automatically switched to the current speaker.",SCREEN_SHARE_PERMISSION_DISABEL:"No sharing content is selected, or no permission to share.",LAYOUT_POLLING_THREE:"The video layout for all participants has been switched to the 1 large and 3 small video layout.",LAYOUT_POLLING_FIVE:"The video layout for all participants has been switched to the 1 large and 5 small video layout.",LAYOUT_POLLING_SEVEN:"The video layout for all participants has been switched to the 1 large and 7 small video layout.",OTHER_LIVING_OK:"The Live broadcast request has been submitted, please log in to the third-party platform to view",LIVING_FAIL:"Live broadcast failed",LIVING_RTMP_FAIL:"The live broadcast failed, the RTMP address already exists.",SELF_HAS_LIVING:"You are broadcasting live on another platform, to broadcast live on the new platform your current live broadcast will end.",OTHER_HAS_LIVING:"The meeting is broadcasting live on another platform, to broadcast live on the new platform your current live broadcast will end.",RELIVING_BTN:"Broadcast new live session",CREATLIVING_BTN:"Broadcast new live session",START_PREVIEW_VIDEO:"Preview video",END_PREVIEW_VIDEO:"End preview",PREVIEWING_VIDEO:"You are previewing {somebody}'s screen",JOIN_CYCLIC_TIP:"{somebody} has joined video carousal display",SET_FOCUS_VIDEO_SUCCESS_TIP:"{somebody} has been set as the focus video",FOCUS_VIDEO_EMPTY_TIP:"Please set the focus video",CYCLIC_ATTENDEE_EMPTY_TIP:"Please select the attendees to include in video carousel",SET_FOCUS_VIDEO_TIP:"Set as focus's video",UNSET_FOCUS_VIDEO_TIP:"Remove focus",ME_AND_HOST:"(Me, Host)",CANCEL_CYCLIC:"Disable video carousel",LAYOUT_SPEAKER_ATTENDEE:"The video layout has been switched to the speaker video layout.",LAYOUT_AUTO_SCREEN_ATTENDEE:"Video layout has been switched to Auto.",LAYOUT_FOCUS_ATTENDEE:"Video layout has been switched to {mode} focus.",LAYOUT_TILE_ATTENDEE:"Video layout has been switched to {mode} tile.",ALL_PANELISTS:"All Panelists",SELECT_FIXED_POSTION:"Select fixed position",UNSELECT_FIXED_POSTION:"Unselect fixed position",SERVER_RESOURCE_REACH_LIMIT:"Media server resources have reached the limit. Camera cannot be opened.",FIXED_COMPLETE_VIDEO_NOT_DISPALY:"The fixed windows are occupied completely. The remaining attendees cannot be displayed.",VIDEO_NOT_ALL_SHOW:"Your video is not allowed to display",VIDEO_RESTORE_SHOW:"Your video has been restored to display",FIXED_POSTION:"Fixed position",CLICK_REPLACE_SB:"Click to replace {name}",CLICK_CANCEL_SELF:"Click to cancel",DISBALE_VIEW_USERLIST_FOR_MEETING:"The participans list is set to Private and can be seen only by the host",LAYOUT_SETTING_TITLE:"Meeting Layout",LAYOUT_SELF_ONE_TITLE:"Custom Layout 1",LAYOUT_SELF_TWO_TITLE:"Custom Layout 2",WATCH_ABLE_TXT:"Configured",WATCH_UNABLE_TXT:"Not configured",LAYOUT_ON_TIP:"When disabled, the layout cannot be viewed.",LAYOUT_OFF_TIP:"When enabled, the layout can be viewed.",SPEAK_SET_TIP:' To enable "Speaker Layout", the other custom layouts must be disabled.',SPEAK_SET_BTN:"Disable all custom layouts",LAYOUT_ENABLE_TXT:"Enabled",LAYOUT_DISABLE_TXT:"Disabled",LAYOUT_WATCH_MEMBER_EMPTY:"Please select viewers",LAYOUT_CANNOT_ENABLE:"The current meeting layout is Speaker layout. Custom layouts cannot be enabled at this time.",CANCEL_WATCH_TIP:"After clicking, the user will view the meeting layout",CLEAR_WATCH_TIP:"After clearing, the user will view the meeting layout by default",SPECIAL1_LAYOUT_CANNOT_SETTING:"The current layout is Speaker layout. Custom layouts cannot be configured or enabled",NOT_BATCH_UPLOAD:"Batch uploading is not supported",NOT_FORMAT_SUPPORT:"Unsupported file/image format",NOT_SIZE_THAN10M:"Image/file size is over 10 MB",PICTURE_PRE:"[Image] ",FILE_PRE:"[File] ",NOT_FIND_FILE:"File cannot be found and resent.",HOST_ALLOW_SWITCH_LAYOUT_FOR_ATTEND:"Participants are allowed to change layouts",HOST_FORBID_SWITCH_LAYOUT_FOR_ATTEND:"Participants are not allowed to change layouts",ALLOW_SWITCH_LAYOUT_FOR_ATTEND:"You are allowed to change layouts",FORBID_SWITCH_LAYOUT_FOR_ATTEND:"You are not allowed to change layouts.",SUBTITLE_NO_VIDEO_TIP:"The current meeting layout (default) does not receive video from participants. Captions cannot be enabled.",LAY_SPEAKER_OFFLINE:"The designated speaker ({sb}) has not joined the meeting",LAY_SPEAKER_LEAVE:"The speaker ({sb}) has left the meeting",LAYOUT_SWITCH_TO_CONF:"Changing to Meeting Layout...",LAYOUT_SWITCH_TO_SPECIAL1:"Changing to Custom Layout 1...",LAYOUT_SWITCH_TO_SPECIAL2:"Changing to Custom Layout 2...",SUBTITLE_PREVIEW:"Caption preview",SUBTITLE_CLOSE_TIP:"Caption disabled",SUBTITLE_SHOW_TIP:"Caption is displayed",SET_SPEAKER_TIP:"Please select the speaker",SET_SPEAKER_VIDEO_TIP:"Set to speaker",UNSET_SPEAKER_VIDEO_TIP:"Current speaker",LAY_USER_CAMERA:"Camera enabled",LAY_USER_UNCAMERA:"Camera disabled",LAY_USER_LEAVE:"Offline",SWITCH_LINK_TIP:"You will be redirected to join the meeting again if meeting route is switched",LAYOUT_CLICK_TO_SELECT:"Click to select",LAYOUT_AUTO_CANNOT_CUSTOM:"If layout is set to Auto Tile, users cannot select custom display for the video feeds.",SERVER_SAVE_ERR:"Server Storage Exception",PRIVIEW_AND_CONTROLLER_VIDEO:"Preview and Control Video",USER_ROLE_CHANGE:"This participant is already the host",ASR_SUBTITLE_ENABLE:"Live speech captioning enabled",ASR_SUBTITLE_DISABLE:"Live speech captioning disabled"},Mi={NOTIFICATION_TITLE:"IPVideoTalk - Notifications",QUESTION_TITLE:"IPVideoTalk - Q & A",CHAT_TITLE:"IPVideoTalk - Message",LOST_CONNECTION:"Connection to the Server has been lost",STOP_SHARE:"You have stopped sharing the presentation",CHANGE_SHARE_SOURCE:"You have switched the presentation source",MEETING_END_MINITE:"The meeting will end in {time} minute(s) if nobody speaking",MUTE_BY_HOST:"You are muted by the host",UNMUTE_BY_HOST:"The host has unmuted you",NEW_QUESTION:"You have one question to answer",PRIVITE_MESSAGE:"You have received a private message from {somebody}",PRIVITE_SENDER:"{fromSb}(To {toSb}): ",WORKER_SENDER:"{fromSb}(To Panelists): ",ALL_SENDER:"{fromSb}: "},bi={ERROR_CODE_0:"No error",ERROR_CODE_1:"The connection to the server is lost. Please check your network or try again.",ERROR_CODE_2:"You do not have the required permission to perform this operation.",ERROR_CODE_3:"Operation failed, please try again.",ERROR_CODE_4:"The request cannot be processed by the server. ",ERROR_CODE_5:"Connecting to the server has timed out. Please try again.",ERROR_CODE_6:"The maximum amount of simultaneous video feeds has been reached",ERROR_CODE_7:"Invalid parameter",ERROR_CODE_8:"Cannot find the available webcam",ERROR_CODE_9:"The webcam is occupied by other applications",ERROR_CODE_10:"Failed to join the meeting. Data certification error.",ERROR_CODE_11:"Failed to join the meeting. Data certification error.",ERROR_CODE_12:"You have disabled your webcam, to share video please reload the page and click enable",ERROR_CODE_13:"You have disabled access to the webcam",ERROR_CODE_14:"Cannot find the available microphone",ERROR_CODE_15:"Another attendee has started sharing. You cannot start sharing at this time.",ERROR_CODE_16:"No sharing content is selected, or no permission to share.",ERROR_CODE_17:"Sharing source exception",ERROR_CODE_18:"The live broadcast failed, the RTMP address already exists.",ERROR_CODE_19:"You are broadcasting live on another platform, to broadcast live on the new platform your current live broadcast will end.",ERROR_CODE_20:"The meeting is broadcasting live on another platform, to broadcast live on the new platform your current live broadcast will end.",ERROR_CODE_21:"The other side have left from the meeting or does not exist.",ERROR_CODE_22:"The host has disabled the chat.",ERROR_CODE_23:"Password error",ERROR_CODE_24:"The meeting does not exist",ERROR_CODE_25:"The meeting has ended",ERROR_CODE_26:"The meeting has not yet started",ERROR_CODE_27:"The meeting has been cancelled",ERROR_CODE_28:"The meeting has expired",ERROR_CODE_29:"The meeting room is temporarily closed, please contact the organizer.",ERROR_CODE_30:"Wrong host code or the meeting hasn't started. The host can only begin the meeting 15 minutes prior to the meeting time.",ERROR_CODE_31:"Host code error",ERROR_CODE_32:"The name limit has been reached",ERROR_CODE_33:"The email limit has been reached",ERROR_CODE_34:"Email address format error",ERROR_CODE_35:"Meeting registration has failed",ERROR_CODE_36:"Your registration request is pending",ERROR_CODE_37:'You are a panelist to join the meeting,please click "Join Meeting" in the invitation email.',ERROR_CODE_121:"The connection to the server is lost. Please check your network or try again.",ERROR_CODE_131:"This webcam is not supported.",ERROR_CODE_700:"The server is busy. Please try again.",ERROR_CODE_701:"Connection to the server has timed out. Please try again.",ERROR_CODE_941:"You have rejected access to the microphone. Please check and join the meeting again",ERROR_CODE_1000:"The request cannot be processed by the server. ",ERROR_CODE_1001:"The request cannot be processed by the server. ",ERROR_CODE_1002:"The request cannot be processed by the server. ",ERROR_CODE_1005:"The server connection has been lost. Please check your network and try again.",ERROR_CODE_1007:"The server connection has been lost. Please check your network and try again.",ERROR_CODE_1008:"The meeting does not exist or has ended.",ERROR_CODE_1013:"The server connection has been lost. Please check your network and try again.",ERROR_CODE_1016:" Failed to join the meeting. Please try again.",ERROR_CODE_1020:"The server is busy, please try again.",ERROR_CODE_1021:"Failed to join the meeting. Please try again.",ERROR_CODE_1022:"The meeting does not exist or has ended.",ERROR_CODE_1026:"Your request has timed out,please try again.",ERROR_CODE_1028:"Failed to connect to server. Please try again.",ERROR_CODE_1031:"Failed to connect to server. Please try again.",ERROR_CODE_1032:"You have already logged in from another device. You cannot log in again at this time.",ERROR_CODE_1033:"You have already logged in from another device. You cannot log in again at this time.",ERROR_CODE_1035:"You do not have the required permission needed to send a chat message.",ERROR_CODE_3000:"This request cannot be processed by the server",ERROR_CODE_3001:"This request cannot be processed by the server",ERROR_CODE_3002:"You do not have the required permission to perform this operation.",ERROR_CODE_3003:"Operation failed, you've already exited the meeting.",ERROR_CODE_3004:"The server could not complete your request. Please try again.",ERROR_CODE_3005:"This request cannot be processed. Please try again.",ERROR_CODE_3006:"The server is currently unavailable, please try again later.",ERROR_CODE_3007:"The server is busy, please try again later.",ERROR_CODE_3008:"This meeting is full. Please contact the host.",ERROR_CODE_3014:"Another attendee has started sharing. You cannot start sharing at this time.",ERROR_CODE_3017:"This meeting has ended. Goodbye",ERROR_CODE_3018:"Server maintenance is being performed, your meeting will end.  Please try again later after server recovery.",ERROR_CODE_3023:"The meeting members have reached the limit",ERROR_CODE_3028:"The firmware version of the device does not support this function, please upgrade to the newest version. Firmware can be downloaded from http://www.grandstream.com/support/firmware or via the IPVideoTalk Portal.",ERROR_CODE_3029:"The meeting has not yet started.",ERROR_CODE_3030:"The MCU resource is unavailable, please try again later.",ERROR_CODE_3033:"MCU RTP Timeout, please try again later.",ERROR_CODE_3034:"Offline or does not exist",ERROR_CODE_3035:"Rejected your call",ERROR_CODE_3036:"Was rejected for other reasons",ERROR_CODE_3037:"No answer",ERROR_CODE_3038:"Already in the meeting",ERROR_CODE_3039:"The number length exceeds the limit",ERROR_CODE_3040:"Request failed, the participant has no permission for this function.",ERROR_CODE_3044:"The firmware version is too low",ERROR_CODE_3045:"The number of the invited account(s) is frozen.",ERROR_CODE_3051:"This meeting does not exists or has ended.",ERROR_CODE_3052:"The meeting has not yet started or does not exist.",ERROR_CODE_3053:"The password you have entered is incorrect. Please try again.",ERROR_CODE_3054:"This meeting cannot be joined.",ERROR_CODE_3055:"This meeting is full. Please contact the host.",ERROR_CODE_3057:"Offline or has not been registered",ERROR_CODE_3061:"The meeting does not support device participation",ERROR_CODE_3063:"The media server in this region could not be found.",ERROR_CODE_3066:"Offline or does not exist",ERROR_CODE_3069:"You have joined this meeting in another location.",ERROR_CODE_3070:"This account number is currently in another meeting, you can't join more than one meeting at a time",ERROR_CODE_3071:"Recording already started",ERROR_CODE_3072:"Recording already stopped",ERROR_CODE_3073:"Storage space is full. Meeting cannot be recorded.",ERROR_CODE_3074:"{somebody} rejected your request to share the webcam or the request has timed out. Please try again",ERROR_CODE_3075:"Open presentation failed, please try again.",ERROR_CODE_3076:"Failed to set the primary video, the participant has left the meeting.",ERROR_CODE_3077:"Failed to set the primary video, the participant has closed their webcam.",ERROR_CODE_3078:"Other hosts are previewing, please try again later.",ERROR_CODE_3079:"Something went wrong with the speech-to-text service. Please check with your service provider.",ERROR_CODE_3081:"You are already calling this account",ERROR_CODE_3082:"The current meeting type does not support this feature. ",ERROR_CODE_3083:"The maximum number of connections allowed by your speech-to-text service has been reached",ERROR_CODE_3084:"Please whitelist the IPVT server address in your speech-to-text service",ERROR_CODE_3085:"The App ID is incorrect",ERROR_CODE_3086:"The API Key is incorrect or has expired",ERROR_CODE_3088:"Set video resolution failed.",ERROR_CODE_3089:"The participant is a host, unable to configure",ERROR_CODE_3091:"Preview video has ended!",ERROR_CODE_3092:"{somebody} has stopped sharing webcam. The previewing has ended.",ERROR_CODE_3093:"{somebody} has left the meeting. The previewing has ended.",ERROR_CODE_3095:"The layout does not exist or has been disabled.",ERROR_CODE_3096:"The device does not support turning the camera on/off. ",ERROR_CODE_3098:"Storage space is full. Meeting cannot be recorded.",ERROR_CODE_3099:"Meeting layouts cannot be configured at the moment.",ERROR_CODE_3100:"The other side have left from the meeting or does not exist.",ERROR_CODE_3101:"Enable speech recognition now ...",ERROR_CODE_3901:"The meeting is locked. Please contact the organizer of the meeting.",ERROR_CODE_3999:"The other side ended the call, goodbye!",ERROR_CODE_5001:"You have lost your connection with the meeting host. Please check your network connection and rejoin the meeting.",ERROR_CODE_5002:"You have lost your connection with the meeting host. Please check your network connection and rejoin the meeting.",ERROR_CODE_5003:"You have been removed from the meeting.",ERROR_CODE_5004:"The server could not complete your request. Please try again.",ERROR_CODE_5005:"The server could not complete your request. Please try again.",ERROR_CODE_5006:"The server could not complete your request. Please try again.",ERROR_CODE_5007:"The server could not complete your request. Please try again.",ERROR_CODE_5008:"This meeting has ended. Goodbye",ERROR_CODE_5009:"Connection to the server has failed, please try again later.",ERROR_CODE_5010:"The meeting does not exist or has ended.",ERROR_CODE_5011:"The server is currently unavailable, please try again later.",ERROR_CODE_5012:"Unable to join this meeting",ERROR_CODE_5013:"The meeting is locked. Please contact the organizer of the meeting.",ERROR_CODE_5015:"This meeting has ended. Goodbye",ERROR_CODE_5016:"This meeting is full. Please contact the host.",ERROR_CODE_5017:"The maximum amount of simultaneous video feeds has been reached.",ERROR_CODE_5022:"No answer",ERROR_CODE_5023:"Connecting to the server has timed out. Please try again.",ERROR_CODE_5024:"Connecting to the server has timed out. Please try again.",ERROR_CODE_5025:"Connecting to the server has timed out. Please try again.",ERROR_CODE_5026:"Media server resources have reached the limit. Camera cannot be opened.",ERROR_CODE_5027:"Server resource limit reached. Unable to join meeting.",ERROR_CODE_5028:"Server resource limit reached. Unable to join meeting.",ERROR_CODE_5029:"Server resource limit reached. Unable to join meeting.",ERROR_CODE_5030:"You have not joined the meeting yet and are unable to do that.",ERROR_CODE_8001:"Offline or has not been registered.",ERROR_CODE_8014:"Invalid account, authentication failed.",ERROR_CODE_8019:"You do not have the required permission needed to send a chat message.",ERROR_CODE_8025:"Unable to receive the call or has been disabled",ERROR_CODE_8034:"Failed to join the meeting, no available server resource, please try again later.",ERROR_CODE_8035:"This request cannot be processed by the server",ERROR_CODE_8036:"This request cannot be processed by the server",ERROR_CODE_8037:"You are not in the meeting now.",ERROR_CODE_8038:"Connecting to the server has timed out. Please try again.",ERROR_CODE_8039:"This meeting does not exists.",ERROR_CODE_10035:"The IPVideoTalk ID plan has expired, please renew.",ERROR_CODE_10058:"The IPVideoTalk ID has been frozen. Please contact IPVideoTalk for assistence.",ERROR_CODE_20009:"This meeting has ended. Goodbye",ERROR_CODE_20012:"This meeting does not exists or has ended.",ERROR_CODE_20015:"This meeting has been cancelled.",ERROR_CODE_20016:"The meeting has expired",ERROR_CODE_20021:"The meeting is in session.",ERROR_CODE_20023:"The meeting has ended.",ERROR_CODE_20024:"The meeting has expired.",ERROR_CODE_20036:"Unable to start new meeting. Meeting {id} is currently ongoing. Log into the Meeting Management Portal to end the meeting. ",ERROR_CODE_20040:"This meeting has ended, goodbye!",ERROR_CODE_20052:"You are no longer listed as the owner of this plan, the meeting cannot be started.",ERROR_CODE_21016:"The meeting has ended already or has been cancelled.",ERROR_CODE_30015:"This meeting does not exists or has ended.",ERROR_CODE_30018:"This meeting has ended. Goodbye.",ERROR_CODE_50007:"Your storage space is full, you can't record meeting.",ERROR_CODE_50054:"Plan is invalid, meeting cannot be started.",ERROR_CODE_50055:"The meeting is in progress and cannot be canceled.",ERROR_CODE_50057:"The meeting has not yet started",ERROR_CODE_60006:"Server Storage Exception"},Li="Incorrect log level parameters, should use webrtcSDK.LOG_LEVEL_ENUM Object to determine the specified parameters",Pi="The 'msg' parameter can't be empty!",Ui="The 'msg' parameter is required type of 'string'",Vi="parameter 'roomPassword' length should be 1-8, request length:",Gi="wrong format of parameter 'roomPassword', should use pure number like '123456'",ki="lack of SDK init params of [appID], [sdkSecret], [userName], [password]",Hi="lack of server address: please use 'webrtcSDK.setServerAddr(ipvtSever)', please note the parameter 'server' pattern should be like \"https://[xxx.xxx.xxx || ip]\", the protocol \" https://\" is required",Fi="Incorrect file type",xi="Parameter 'userId' is not allowed to be empty.",Bi={WB_END:"End shared whiteboard",ME_SHARE:"Sharing whiteboard now.",OTHER_SHARE:"{sb} is sharing whiteboard"},Wi={HTML_MICROPHONE:"Microphone",HTML_SPEAKER:"Speaker",HTML_WEBCAMERA:"Camera",HTML_TEST:"Test",HTML_STOP:"Stop",HTML_SELECT_MIC_SPEAKER:"Please select your microphone and speaker",HTML_SELECT_MIC:"Please select your microphone",NOMIC_SETTING_SPEAKER_TIP:"The microphone device {icon} could not be located. No microphone has been selected at this time.Please select the speaker in your computer settings if you cannot hear others.",I_KNOWN:"I know",SETTING_MIC_SPEAKER_SUCCESS:"Microphone and speaker selected successfully",SETTING_MIC_SUCCESS:"Microphone ({device}) selected successfully",SETTING_SPEAKER_SUCCESS:"Speaker selected successfully",DETECT_NEW_DEVICE:"Detected new device  '{device}'",UNPLUGGED_DEVICE:"'{device}'  unplugged",CHOOSE_NEW_MIC:"Click to choose a new microphone",CHOOSE_NEW_CAMERA:"\tClick to choose a new webcam",CHOOSE_NEW_SPEAKER:"Click to choose a new speaker",MIC_DISABLE_ACCESS:"You have disabled microphone access",SETTING_MIC_PERMISSION:"Please click the 'Setting' icon within your browser, select 'Allow microphone' in the drop-down and then click 'Reload'",DISABLE_MIC_ACCESS:"You have disabled microphone access, you cannot use the microphone at this time",DISABLED_SPEAKER_ACCESS:"You have disabled microphone access, you cannot use the speaker at this time",DISABLE_CAMERA_ACCESS:"You have disabled access to the webcam",SETTING_CAMERA_ACCESS:"Please click the 'Setting' icon within your browser, select 'Allow webcam' in the drop-down and then click 'Reload'",MIC_ACCESS_TIP:"The browser requires authorization to access the microphone",SPEAKER_ACCESS_TIP:"The browser requires authorization to access the microphone first in order to access the speaker",WEBCAMERA_ACCESS_TIP:"The browser requires your webcam access authorization",SETTING_MIC_ACCESS:"Please click the 'Setting' icon within your browser, select 'Allow microphone' in the drop-down",SETTING_CAMERA_PERMISSION:"Please click the 'Setting' icon within your browser, select 'Allow webcam' in the drop-down",MIC_UNPLUG_TIP:"Microphone is unplugged",MIC_UNPLUG_MEDIA_EXCEPTION:"The audio and video may be abnormal if your USB microphone is unplugged. Please lease go to Task Manager to force quit Firefox and rejoin the meeting to fix the audio issue.",NO_SPEAKER_DEVICE:"No speaker device can be found",MIC_TEST_RECORD:"Recording",MIC_TEST_PLAY:"Playing",SPEAK_TO_MIC_DEVICE:"Please speak into the mic",PLAY_MIC_RECORD_TIP:"If you can't hear yourself, please make sure your audio device is properly connected",MIC_PERMISSION_DENY_TIP:'You have disabled your microphone, to share your microphone please reload the page and click "enable"',CAMERA_PERMISSION_DENY_TIP:"You have disabled your webcam, to share video please reload the page and click enable",SETTING_SPEAKER_SUCCESS_TIP:"{device} is now set to the speaker",SHARE_UNALLOW:"You have disabled screen-sharing",SHARE_TO_ALLOW:'Please click the setting icon within your browser, and select "Allow sharing screen" in the dropdown window',SAFARI_DISABLE_MIC_ACCESS:'Please right click the browser\'s address bar, and click "Allow microphone" in the menu and then click "Reload"',SAFARI_DISABLE_CAMERA_ACCESS:'Please right click the browser\'s address bar, and click "Allow camera" in the menu and then click "Reload"',SETTING_MIC_SUCCESS_TIP:"{device} is now set as the microphone",SCREEN_SHARE_PERMISSION_DENY_TIP:'You have disabled screen sharing. To share your screen, please reload the page and click "enable"'},Yi={GS_ERROR_CODE_NO_ERROR:0,GS_ERROR_CODE_NETWORK_ERROR:1,GS_ERROR_CODE_NO_PERMISSION:2,GS_ERROR_CODE_OPERATION_FAIL:3,GS_ERROR_CODE_CANNOT_PROCESS:4,GS_ERROR_CODE_REQUEST_TIMEOUT:5,GS_ERROR_CODE_WEBCAM_LIMIT:6,GS_ERROR_CODE_INVALID_PARAMETER:7,GS_ERROR_CODE_OPEN_CAMERA_FAIL:8,GS_ERROR_CODE_WEBCAM_HAS_OCCUPIED:9,GS_ERROR_CODE_DATA_CERTIFICATION_ERROR:10,GS_ERROR_CODE_STACK_PARAMETER_ERROR:11,GS_ERROR_CODE_CAMERA_PERMISSION_DENY:12,GS_ERROR_CODE_DISABLED_CAMERA_ACCESS:13,GS_ERROR_CODE_MICROPHONE_NOT_FOUND:14,GS_ERROR_CODE_SHARE_CONFLICT_ERROR:15,GS_ERROR_CODE_SCREEN_SHARE_PERMISSION_DISABLE:16,GS_ERROR_CODE_SHARE_SOURCE_EXCEPTION:17,GS_ERROR_CODE_LIVING_RTMP_FAIL:18,GS_ERROR_CODE_SELF_HAS_LIVING:19,GS_ERROR_CODE_OTHER_HAS_LIVING:20,GS_ERROR_CODE_TARGET_NOT_IN_ROOM:21,GS_ERROR_CODE_CHAT_PERMISSION_DENY:22,GS_ERROR_CODE_PASSWORD_ERROR:23,GS_ERROR_CODE_MEETING_STATUS_NULL:24,GS_ERROR_CODE_MEETING_STATUS_END:25,GS_ERROR_CODE_MEETING_STATUS_UNOPEN:26,GS_ERROR_CODE_MEETING_STATUS_REVOKE:27,GS_ERROR_CODE_MEETING_STATUS_EXPIRED:28,GS_ERROR_CODE_CONSTANT_MEETING_EXPIRED:29,GS_ERROR_CODE_MEETING_UNOPEN_HOSTCODE_UNMATCH:30,GS_ERROR_CODE_MEETING_HOSTCODE_UNMATCH:31,GS_ERROR_CODE_MEETING_USERNAME_LONG:32,GS_ERROR_CODE_MEETING_EMAIL_LONG:33,GS_ERROR_CODE_EMAIL_FORMAT_ERROR:34,GS_ERROR_CODE_MEETING_NEED_REGISTER_AUTHORIZE:35,GS_ERROR_CODE_MEETING_NEED_REGISTER_CHECK_FAIL:36,GS_ERROR_CODE_MEETING_NEED_JOIN_AS_PANELIST:37,GS_ERROR_CODE_ICE_CONNECTION_FAILED:121,GS_ERROR_CODE_NOT_SUPPORT_WEBCAM:131,GS_ERROR_CODE_SERVER_STATUS_ERROR:700,GS_ERROR_CODE_FAILED_TO_NEGOTIATE:701,GS_ERROR_CODE_MIC_REQUEST_REFUSE:941,GS_ERROR_CODE_CANNOT_PROCESS_1000:1e3,GS_ERROR_CODE_CANNOT_PROCESS_1001:1001,GS_ERROR_CODE_CANNOT_PROCESS_1002:1002,GS_ERROR_CODE_CONNECTION_LOST_1005:1005,GS_ERROR_CODE_CONNECTION_LOST_1007:1007,GS_ERROR_CODE_ROOM_NOT_FOUND_1008:1008,GS_ERROR_CODE_CONNECTION_LOST_1013:1013,GS_ERROR_CODE_JOIN_ROOM_ERROR_1016:1016,GS_ERROR_CODE_SERVER_BUSY_1020:1020,GS_ERROR_CODE_JOIN_ROOM_ERROR_1021:1021,GS_ERROR_CODE_ROOM_NOT_FOUND_1022:1022,GS_ERROR_CODE_REQUEST_TIMEOUT_1026:1026,GS_ERROR_CODE_CONNECTION_LOST_1028:1028,GS_ERROR_CODE_CONNECTION_LOST_1031:1231,GS_ERROR_CODE_ACCOUNT_CONFLICT_1032:1032,GS_ERROR_CODE_ACCOUNT_CONFLICT_1033:1033,GS_ERROR_CODE_NO_PERMISSION_SEND_MESSAGE:1035,GS_ERROR_CODE_INVALID_PARAMETER_3000:3e3,GS_ERROR_CODE_UNSUPPORTED_REQUEST:3001,GS_ERROR_CODE_NO_PERMISSION_3002:3002,GS_ERROR_CODE_NOT_IN_ROOM:3003,GS_ERROR_CODE_SERVER_COMMON_ERROR:3004,GS_ERROR_CODE_SERVER_ACCESS_DB_ERROR:3005,GS_ERROR_CODE_INVALID_MEDIA_RESOURCE:3006,GS_ERROR_CODE_SERVER_BUSY_3007:3007,GS_ERROR_CODE_PARTICIPANT_LIMIT:3008,GS_ERROR_CODE_SHARE_CONFLICT_ERROR_3004:3014,GS_ERROR_CODE_ROOM_CLOSED_BY_HOST:3017,GS_ERROR_CODE_ROOM_CLOSED_BY_SERVERMAINTENANCE:3018,GS_ERROR_CODE_PARTICIPANT_LIMIT_3023:3023,GS_ERROR_CODE_FIRMWARE_NOT_SUPPORT:3028,GS_ERROR_CODE_ROOM_NOT_STARTED_3029:3029,GS_ERROR_CODE_INVALID_MCU_RESOURCE:3030,GS_ERROR_CODE_MCU_RTP_TIMEOUT:3033,GS_ERROR_CODE_NOT_FOUND_CALLEE:3034,GS_ERROR_CODE_REJECTED_BY_CALLEE:3035,GS_ERROR_CODE_REJECTED_COMMON_REASON:3036,GS_ERROR_CODE_NO_ANSWER:3037,GS_ERROR_CODE_CALLEE_ALREADY_IN_ROOM:3038,GS_ERROR_CODE_CALLEE_LENGTH_LIMIT:3039,GS_ERROR_CODE_TARGET_NO_PERMISSION:3040,GS_ERROR_CODE_FIRMWARE_TOO_LOW:3044,GS_ERROR_CODE_CALLEE_NO_CALL_PERMISSION:3045,GS_ERROR_CODE_CALLER_NO_CALL_PERMISSION:3051,GS_ERROR_CODE_ROOM_NOT_FOUND_3052:3052,GS_ERROR_CODE_INVALID_PASSWORD:3053,GS_ERROR_CODE_ROOM_LOCKED:3054,GS_ERROR_CODE_PARTICIPANT_LIMIT_3055:3055,GS_ERROR_CODE_NOT_FOUND_CALLEE_3057:3057,GS_ERROR_CODE_NOT_SUPPORT_DEVICE_JOIN:3061,GS_ERROR_CODE_NOT_FOUND_MEDIARESOURCE:3063,GS_ERROR_CODE_NOT_FOUND_CALLEE_3066:3066,GS_ERROR_CODE_ACCOUNT_CONFLICT_IN_SAME_ROOM:3069,GS_ERROR_CODE_ACCOUNT_CONFLICT_IN_DIFFERENT_ROOM:3070,GS_ERROR_CODE_RECORD_ALREADY_STARTED:3071,GS_ERROR_CODE_RECORD_ALREADY_STOPPED:3072,GS_ERROR_CODE_RECORD_ERROR_NO_SPACE:3073,GS_ERROR_CODE_OPEN_CAMERA_REJECTED_BY_CALLEE:3074,GS_ERROR_CODE_PRESENT_INVALID_MARAMETER_ERROR:3075,GS_ERROR_CODE_SPEAKER_NOT_IN_ROOM:3076,GS_ERROR_CODE_SPEAKER_NO_CAMERA:3077,GS_ERROR_CODE_PREVIEW_CONFLICT:3078,GS_ERROR_CODE_SPEECH_TO_TEXT_SERVICE_ERROR:3079,GS_ERROR_CODE_CALL_THE_SAME_CALLEE_ERROR:3081,GS_ERROR_CODE_NO_SUPPORT_FUNCTION:3082,GS_ERROR_CODE_SPEECH_TO_TEXT_CONNECTION_LIMIT:3083,GS_ERROR_CODE_SPEECH_TO_TEXT_NOT_IN_WHITELIST:3084,GS_ERROR_CODE_SPEECH_TO_TEXT_INVALID_APPID:3085,GS_ERROR_CODE_SPEECH_TO_TEXT_INVALID_APIKEY:3086,GS_ERROR_CODE_SWITCH_RESOLUTION_ERROR:3088,GS_ERROR_CODE_TARGET_IS_HOST_ERROR:3089,GS_ERROR_CODE_PREVIEWED_VIDEO_ENDED:3091,GS_ERROR_CODE_PREVIEWED_CAMERA_CLOSED:3092,GS_ERROR_CODE_PREVIEWED_PARTICIPANT_EXIT:3093,GS_ERROR_CODE_NOT_FOUND_LAYOUT:3095,GS_ERROR_CODE_REJECTED_CAMERA_OPERATE_BY_CALLEE:3096,GS_ERROR_CODE_RECORD_ERROR_NO_SPACE_3098:3098,GS_ERROR_CODE_NOT_SUPPORT_SET_LAYOUT:3099,GS_ERROR_CODE_TARGET_NOT_IN_ROOM_3100:3100,GS_ERROR_CODE_ENABLE_SPEECH_RECOGNITION:3101,GS_ERROR_CODE_ROOM_LOCKED_3901:3901,GS_ERROR_CODE_ROOM_ENDED_BY_THIRDPARTY_SERVICE:3999,GS_ERROR_CODE_SERVER_RTP_TIMEOUT:5001,GS_ERROR_CODE_SERVER_SESSION_TIMEOUT:5002,GS_ERROR_CODE_KICKED_BY_HOST:5003,GS_ERROR_CODE_MCU_BRIDGE_ERROR:5004,GS_ERROR_CODE_MCU_SETPRESENT_ERROR:5005,GS_ERROR_CODE_SERVER_GET_MCU_INFO_ERROR:5006,GS_ERROR_CODE_SERVER_NOT_FOUND_SPEAKER:5007,GS_ERROR_CODE_ROOM_ENDED_DURATION_LIMIT:5008,GS_ERROR_CODE_SERVER_PROCESS_DB_ERROR:5009,GS_ERROR_CODE_ROOM_NOT_FOUND_5010:5010,GS_ERROR_CODE_INVALID_MEDIA_RESOURCE_5011:5011,GS_ERROR_CODE_ROOM_LOCKED_TIMEOUT:5012,GS_ERROR_CODE_ROOM_LOCKED_REFUSE:5013,GS_ERROR_CODE_ROOM_ENDED:5015,GS_ERROR_CODE_PARTICIPANT_LIMIT_5016:5016,GS_ERROR_CODE_VIDEO_FEEDS_LIMIT:5017,GS_ERROR_CODE_NO_ANSWER_5022:5022,GS_ERROR_CODE_SESSION_ENDED_COMMON_ERROR:5023,GS_ERROR_CODE_CALLEE_NO_RESPONSE:5024,GS_ERROR_CODE_SERVER_SHUTDOWN:5025,GS_ERROR_CODE_VIDEO_FEEDS_LIMIT_5026:5026,GS_ERROR_CODE_INVALID_CALL_RESOURCE:5027,GS_ERROR_CODE_INVALID_ROOM_RESOURCE:5028,GS_ERROR_CODE_INVALID_MCU_RESOURCE_5029:5029,GS_ERROR_CODE_NOT_IN_ROOM_5030:5030,GS_ERROR_CODE_NOT_FOUND_CALLEE_8001:8001,GS_ERROR_CODE_INVALID_ACCOUNT:8014,GS_ERROR_CODE_NO_PERMISSION_SEND_MESSAGE_8019:8019,GS_ERROR_CODE_ACCOUNT_DISABLED:8025,GS_ERROR_CODE_INVALID_MEDIA_RESOURCE_8034:8034,GS_ERROR_CODE_DB_OPERATE_ERROR:8035,GS_ERROR_CODE_SIGNAL_OPERATE_ERROR:8036,GS_ERROR_CODE_SESSION_NOT_EXIST:8037,GS_ERROR_CODE_REQUEST_TIMEOUT_8038:8038,GS_ERROR_CODE_ROOM_NOT_FOUND_8039:8039,GS_ERROR_CODE_PLAN_EXPIRED_10035:10035,GS_ERROR_CODE_ACCOUNT_FROZEN:10058,GS_ERROR_CODE_ROOM_ENDED_20009:20009,GS_ERROR_CODE_ROOM_NOT_FOUND_20012:20012,GS_ERROR_CODE_ROOM_CANCELLED:20015,GS_ERROR_CODE_ROOM_EXPIRED_20016:20016,GS_ERROR_CODE_ROOM_IN_SESSION_20021:20021,GS_ERROR_CODE_ROOM_ENDED_20023:20023,GS_ERROR_CODE_ROOM_EXPIRED_20024:20024,GS_ERROR_CODE_ROOM_IN_SESSION_20036:20036,GS_ERROR_CODE_ROOM_ENDED_ONLY_ONE_IN_ROOM:20040,GS_ERROR_CODE_NO_PERMISSION_START_ROOM:20052,GS_ERROR_CODE_ROOM_ENDED_OR_CANCELLED:21016,GS_ERROR_CODE_ROOM_NOT_FOUND_30015:30015,GS_ERROR_CODE_ROOM_ENDED_30018:30018,GS_ERROR_CODE_RECORD_ERROR_NO_SPACE_50007:50007,GS_ERROR_CODE_PLAN_INVALID:50054,GS_ERROR_CODE_ROOM_IN_SESSION_50055:50055,GS_ERROR_CODE_ROOM_NOT_STARTED_50057:50057,GS_ERROR_CODE_SERVER_STORAGE_EXCEPTION:60006},ji={};Object.keys(Yi).forEach(function(e){ji[Yi[e]]=e});function Ki(t){var n=null;if(t&&""!==t){var e={confInfo:{},userList:[],layout:{},banner:{}};try{(n=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch(e){n=(new DOMParser).parseFromString(t,"text/xml")}if(null!=n){var o=n.getElementsByTagName("conference-info")[0],i=ea(o,"refresh"),a=ea(o,"state");if("full"===a&&$i&&(clearInterval($i),$i=void 0),ta(o)&&!Xi&&(Xi=!0,qi.info("isMySelfJoinedMessage"),as(!0),qi.info("send mute info and local mute")),!Xi)return qi.info("recv notify before userself join meeting"),!1;if(null!=o&&0!=o.childNodes.length){for(var r=void 0,s=void 0,u=0;u<o.childNodes.length;u++)if("action"===o.childNodes[u].nodeName){e.action={},r=o.childNodes[u];break}if(null!=r){for(var c=0;c<r.childNodes.length;c++)if("reason"===r.childNodes[c].nodeName){s=r.childNodes[c];break}if(null!=s){var d=ea(s,"cause");ea(s,"text");d&&(e.reason=d)}var l=ea(r,"type");if(qi.info("receive action node [type] "+l),"invite_attendee"===(e.action.type=l)){for(var f=void 0,E=0;E<o.childNodes.length;E++)if("users"===o.childNodes[E].nodeName){f=o.childNodes[E].childNodes;break}if(null!=f)for(var _=0;_<f.length;_++){var p=f[_],R={};if(R.state=ea(p,"state"),R.id=ea(p,"entity"),"fail"==R.state){if(null!=p.childNodes&&0!=p.childNodes.length){for(var h=void 0,S=void 0,O=0;O<p.childNodes.length;O++)if("reason"===p.childNodes[O].nodeName){h=p.childNodes[O];break}h&&(S=ea(h,"cause")),e.oInviteRetData={},e.oInviteRetData=Tu(S),e.oInviteRetData.sAccount=R.id}}else"ok"==R.state&&(e.oInviteRetData={},e.oInviteRetData=Tu(Yi.GS_ERROR_CODE_NO_ERROR),e.oInviteRetData.sAccount=R.id)}}else if("prompt"===l){for(var m=void 0,C=0;C<o.childNodes.length;C++)if("info"===o.childNodes[C].nodeName){m=o.childNodes[C];break}if(null!=m)if("20039"===ea(m,"code")){var v=ea(m,"time-left"),g=ea(m,"end-time");v&&g&&(e.confLeftTime={leftTime:v,endTime:g})}}else if("live"===l){for(var T=void 0,I=0;I<o.childNodes.length;I++)if("users"===o.childNodes[I].nodeName){T=o.childNodes[I].childNodes;break}if(null!=T)for(var N=0;N<T.length;N++){var y=T[N],w={};w.state=ea(y,"state"),w.id=ea(y,"entity"),w.type=ea(y,"type"),w.sernum=ea(y,"sernum"),"fail"===w.state?(w.code=ea(y,"code"),e.oLiveRetData={sAccount:w.id,sRetCode:"1",sType:w.type,sernum:w.sernum}):"ok"===w.state&&(e.oLiveRetData={sAccount:w.id,sRetCode:"0"})}}}}if(null!=i){if("get_refresh"===e.action.type&&parseInt(i)!=Qi)return na(),Qi=parseInt(i),void qi.info("get_refresh to get_all_user.");if("join"===e.action.type&&ta(o))Qi=parseInt(i);else if("full"!==a&&parseInt(i)>Qi)parseInt(i)-1!==Qi?(qi.info("refresh conference info: "+i+" last-refresh: "+Qi),Qi=parseInt(i),setTimeout(function(){qi.info("delay to get_all_user."),na(),function(){$i&&(clearInterval($i),$i=void 0);$i=setTimeout(function(){na()},3e4)}()},200)):Qi=parseInt(i);else if("full"!=a&&parseInt(i)<=Qi)return qi.info("the message is old message ,drop it:  "+i+" last-refresh: "+Qi),!1}e.state=a;var A=ea(o,"region");null!=A&&""!=A&&(zi=A);var D=ea(o,"creater");null!=D&&(e.confInfo.creater=D);var M=ea(o,"host");null!=M&&(e.confInfo.host=M,Ji=M);var b=ea(o,"presenter");null!=b&&(e.confInfo.presenter=b,Zi=b);var L=ea(o,"layout_speaker");null!=L&&(e.confInfo.layoutSpeaker=L);var P=ea(o,"maxusercount");null!=P&&(e.confInfo.maxusercount=P);var U=ea(o,"usercount");null!=U&&(e.confInfo.usercount=U);var V=ea(o,"maxmic");null!=V&&(e.confInfo.maxmic=V);var G=ea(o,"max_cam");void 0!==G&&(e.confInfo.maxCam=G);var k=ea(o,"cur_cam_count");void 0!==k&&(e.confInfo.currcamcount=k);var H=ea(o,"presenter_display");void 0!==H&&(e.confInfo.presenterdisplay=H);var F=ea(o,"switchtime");null!=F&&(e.confInfo.switchtime=F);var x=ea(o,"previewed");null!=x&&(e.confInfo.previewed=x);var B=ea(o,"mic_count");null!=B&&(e.confInfo.mic_count=B);var W=ea(o,"time");null!=W&&(e.confInfo.conftime=W);var Y=ea(o,"white_board_display");Y&&(e.confInfo.whiteBoardDisplay=Y);var j=ea(o,"white_board_user");j&&(e.confInfo.whiteBoardUser=j);var K=ea(o,"s");if(null!=K&&""!=K){e.confInfo.status={},e.confInfo.status.login_prompt="1"==K[0],e.confInfo.status.logout_prompt="1"==K[1],e.confInfo.status.rec="1"==K[2],e.confInfo.status.demo="1"==K[3],e.confInfo.status.host_join="1"==K[4],e.confInfo.status.auto_rec="1"==K[5],e.confInfo.status.mute="1"==K[6],e.confInfo.status.lock="1"==K[7],e.confInfo.status.userlist="1"==K[8],e.confInfo.status.speaker_join="1"==K[9],e.confInfo.status.started="1"==K[10],e.confInfo.status.video="1"==K[11],e.confInfo.status.present="1"==K[12],e.confInfo.status.allow_rec="1"==K[15],17<=K.length&&(e.confInfo.status.video_layout=K[16]),18<=K.length&&(e.confInfo.status.poll="1"==K[17]),19<=K.length&&(e.confInfo.status.smart_layout="1"==K[18]),21<=K.length&&(e.confInfo.status.autoSpeechRecognition="1"==K[20]),22<=K.length&&(e.confInfo.status.speechRecognition="1"==K[21]),23<=K.length&&(e.confInfo.status.enableASR="1"==K[22]),24<=K.length&&(e.confInfo.status.whiteBoard=K[23]);var J=ea(o,"share_type");null!=J&&(e.confInfo.share_type="0"==J?"desktop":"1"==J?"application":J),1==e.confInfo.status.demo&&0==e.confInfo.status.video&&0==e.confInfo.status.present&&(e.confInfo.status.video=!0)}var q=ea(o,"options");if(null!=q&&""!=q&&(e.confInfo.options={},e.confInfo.options.message="1"==q[0],e.confInfo.options.sendfile="1"==q[1],2<q.length&&(e.confInfo.options.enableLayout="1"==q[2])),qi.info("conf_info_state: "+a),null!=o&&0!=o.childNodes.length){for(var z=void 0,Q=0;Q<o.childNodes.length;Q++)if("users"===o.childNodes[Q].nodeName){z=o.childNodes[Q].childNodes;break}null!=z&&function(e,t){for(var n=0;n<e.length;n++){var o={};if(o.id=ea(e[n],"entity"),null!=o.id&&""!=o.id&&null!=o.id){if(o.id==Du().sipAccount&&(o.self=!0,t.confInfo.me=o.id),null!=t.action&&null!=t.action.type&&(o.action=t.action.type),o.state=ea(e[n],"state"),"deleted"==o.state)t.userList.push(o);else if("full"==o.state||"partial"==o.state){o.id==Ji&&(o.isHost=!0),o.id==Zi&&(o.isPresenter=!0);var i=ea(e[n],"display");null!=i&&(o.display=i);var a=ea(e[n],"ua");null!=a&&(o.ua=a);var r=ea(e[n],"type");null!=r&&(o.type=r);var s=ea(e[n],"role");null!=s&&(o.role=s);var u=ea(e[n],"seq");null!=u&&(o.seqNum=u);var c=ea(e[n],"cause");null!=c&&(o.cause=c);var d=ea(e[n],"pos");null!=d&&(o.position=d);var l=ea(e[n],"layout_show");if(null!=l&&(o.layoutShow=l),1==o.self){var f=ea(e[n],"region");null!=zi&&""!=zi||null==f||""==f||(zi=f),qi.info("set media region: "+zi)}var E=ea(e[n],"options");null!=E&&""!=E&&(o.options={},o.options.message="1"==E[0],o.options.camera="1"==E[1],o.options.present="1"==E[2],o.options.handup="1"==E[3],o.options.unmuted="1"==E[4],o.options.userlist="1"==E[5]);var _=ea(e[n],"s");null!=_&&""!=_&&(o.status={},o.status.mute="1"==_[0],o.status.muted="1"==_[1],o.status.mic="1"==_[2],o.status.userlist="1"==_[3],o.status.opencamera="1"==_[4],o.status.openedcamera="1"==_[5]);var p=ea(e[n],"sx");null!=p&&""!==p&&(o.newstatus={},o.newstatus.handup="1"==p[0],o.newstatus.ispresent="1"==p[1],3<=p.length&&(o.newstatus.waiting="1"==p[2]),4<=p.length&&(o.newstatus.poll="1"==p[3]),5<=p.length&&(o.newstatus.preview="1"==p[4]),6<=p.length&&(o.newstatus.fecc="1"==p[5]));var R=ea(e[n],"conf_p");null!=R&&""!=R&&(o.confperm={},o.confperm.camera=1==R[0],o.confperm.present=1==R[1],o.confperm.muted=1==R[2],o.confperm.handdown=1==R[3],o.confperm.inviteuser=1==R[4],o.confperm.kickuser=1==R[5],o.confperm.endconf=1==R[6],o.confperm.grantpanelrole=1==R[7]);var h=ea(e[n],"grant_p");void 0!==h&&""!==h&&(o.grantperm={},o.grantperm.grantchat=h[0],o.grantperm.grantuserlist=h[1]),"full"!=o.state||null!=o.display&&""!==$.trim(o.display)||(o.display=o.id),o.self?t.userList.unshift(o):t.userList.push(o)}}else tsk_utils_log_warn("parse a user 'entity' is null!!")}}(z,e)}if(null!=o&&0!=o.childNodes.length){for(var X=void 0,Z=0;Z<o.childNodes.length;Z++)if("layouts"===o.childNodes[Z].nodeName){var ee=ea(o.childNodes[Z],"state");qi.info("layout state:"+ee),null!=ee&&(e.layout.state=ee),X=o.childNodes[Z].childNodes;break}null!=X&&function(e,t){t.layout.layoutList=[];for(var n=0;n<e.length;n++){var o={},i=ea(e[n],"id");null!=i&&(o.id=i);var a=ea(e[n],"enable");null!=a&&(o.enable="1"===a);var r=ea(e[n],"txt");null!=r&&(o.txt=r);var s=ea(e[n],"video");null!=s&&(o.video="1"===s);var u=void 0,c=void 0;if(null!=e[n]&&e[n].childNodes&&0!=e[n].childNodes.length)for(var d=0;d<e[n].childNodes.length;d++)if("upload-video"!==e[n].childNodes[d].nodeName)if("download-video"!==e[n].childNodes[d].nodeName);else{o.download={};var l=ea(e[n].childNodes[d],"all");null!=l&&(o.download.all="1"==l);var f=ea(e[n].childNodes[d],"state");null!=f&&(o.download.state=f),c=e[n].childNodes[d].childNodes}else{o.upload={};var E=ea(e[n].childNodes[d],"time");null!=E&&(o.upload.time=E);var _=ea(e[n].childNodes[d],"smart");null!=_&&(o.upload.smart="1"===_);var p=ea(e[n].childNodes[d],"all");null!=p&&(o.upload.all="1"===p);var R=ea(e[n].childNodes[d],"mode");null!=R&&(o.upload.mode=R);var h=ea(e[n].childNodes[d],"state");null!=h&&(o.upload.state=h),u=e[n].childNodes[d].childNodes}if(null!=u){o.upload.userList=[];for(var S=0;S<u.length;S++){var O={},m=ea(u[S],"entity");null!=m&&""!=m&&(O.id=m);var C=ea(u[S],"name");null!=C&&(O.name=C);var v=ea(u[S],"seq");null!=v&&(O.seqNum=v);var g=ea(u[S],"pos");null!=g&&(O.position=g);var T=ea(u[S],"uuid");null!=T&&(O.uuid=T),o.upload.userList.push(O)}}if(null!=c){o.download.userList=[];for(var I=0;I<c.length;I++){var N={},y=ea(c[I],"entity");null!=y&&""!=y&&(N.id=y);var w=ea(c[I],"state");null!=w&&(N.state=w);var A=ea(c[I],"name");null==A&&""==A||(N.name=A);var D=ea(c[I],"uuid");null==D&&""==D||(N.uuid=D),o.download.userList.push(N)}}t.layout.layoutList.push(o)}}(X,e)}if(null!=o&&0!=o.childNodes.length){for(var te=void 0,ne=0;ne<o.childNodes.length;ne++)if("banner"===o.childNodes[ne].nodeName){te=o.childNodes[ne].childNodes;break}null!=te&&function(e,t){for(var n=0;n<e.length;n++)"video-content"===e[n].nodeName&&(t.banner.videoContent=e[n].childNodes[0].nodeValue),"layout-id"===e[n].nodeName&&(t.banner.layoutId=e[n].childNodes[0].nodeValue),"show-enble"===e[n].nodeName&&(t.banner.showEnable="1"===e[n].childNodes[0].nodeValue),"show-time"===e[n].nodeName&&(t.banner.showTime=e[n].childNodes[0].nodeValue),"mix-text"===e[n].nodeName&&(t.banner.mixText=e[n].childNodes[0].nodeValue)}(te,e)}}return e}}var Ji,qi=So.getLogger("PARSE_NOTIFY"),zi="",Qi=0,Xi=!1,$i=null,Zi=void 0;function ea(e,t){if(e&&e.attributes)return null!=e.attributes[t]?e.attributes[t].value:null!=e.attributes.getNamedItem(t)?e.attributes.getNamedItem(t).value:void 0}function ta(e){if(null==e||0==e.childNodes.length)return!1;if("partial"!=ea(e,"state"))return!1;for(var t=void 0,n=0;n<e.childNodes.length;n++)if("users"===e.childNodes[n].nodeName){t=e.childNodes[n].childNodes;break}if(null==t)return!1;for(var o=0;o<t.length;o++){var i=ea(t[o],"state"),a=ea(t[o],"entity");if("full"==i&&a==Du().sipAccount)return!0}return!1}function na(){var e="uid="+Du().sipAccount+";action=get_all_users;conf-id="+Du().meetingNum;is(e,function(e,t){},"br")}function oa(e){var t=Ke(e,!1);if("string"==typeof t&&2<t.length){var n,o,i,a=(t=Ea?t.trim():sa(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+t}for(var r,s=t.slice(2),u=0,c=s.length;u<c;u++)if((r=s.charCodeAt(u))<48||i<r)return NaN;return parseInt(s,o)}}return+t}var ia=In.f,aa=Fn.f,ra=Ze.f,sa=zt.trim,ua="Number",ca=Xe[ua],da=ca,la=ca.prototype,fa=E(dt(la))==ua,Ea="trim"in String.prototype;if(!ca(" 0o1")||!ca("0b1")||ca("+0x1")){ca=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ca&&(fa?je(function(){la.valueOf.call(n)}):E(n)!=ua)?no(new da(oa(t)),n,ca):oa(t)};for(var _a,pa=$e?ia(da):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ra=0;pa.length>Ra;Ra++)qe(da,_a=pa[Ra])&&!qe(ca,_a)&&ra(ca,_a,aa(da,_a));(ca.prototype=la).constructor=ca,O(Xe,ua,ca)}var ha=So.getLogger("Audio"),Sa=!1;tn(cn.onConfInfoInit,function(){ha.warn("recv notify, init conf status ok........"),Sa=!0});var Oa={};Oa.handleRemoteAudioStream=function(e,t){var n;if(!0===t){var o=Oa.getAudioStream(!1),i=Ta.getRemoteAudioPlayer();window.attachMediaStream(i.audioNode,o),ha.info("attach audio stream....."),Wa(navigator.userAgent)?un(on.EVENT_MEETING,[cn.onRemoteAudioPlayerBindStream,i.audioNode]):n=setInterval(function(){Sa&&(clearInterval(n),i.play())},200),ha.info("audiostream>> stream established...")}else clearInterval(n),ha.info("audiostream>>  stream close...")},Oa.getAudioStream=function(e){return window.sipGetStream("audio",e)},Oa.muteUser=function(e,t,n){t?Rs(e,n):hs(e,n)},Oa.muteAll=function(e,t){e?Ss(t):Os(t)},Oa.localMute=function(e,t){vs(e,t)};var ma={API_SERVER:"",MEETINGS_URL:"",STYLE_URL:"",NOTIFICATION:!(Oa.setAudioVolume=function(e,t){var n="Invalid param of vol:["+e+"], parameter 'vol' should use number type with 0-100";if(void 0===e&&"number"!=typeof e){ha.warn(n);var o;return o=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER),void(t&&"function"==typeof t&&t(o))}if(e<0||100<e){ha.warn(n);var i;return i=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER),void(t&&"function"==typeof t&&t(i))}var a=Ta.getRemoteAudioPlayer();a.audioNode.volume=e/100,ha.info("set audio volume success."+a.audioNode.volume);var r;r=Tu(Yi.GS_ERROR_CODE_NO_ERROR),t&&"function"==typeof t&&t(r)}),PROJECT_NAME:"",NOTIFICATION_ICON_URL:""},Ca=So.getLogger("CONFIG");var va={STACK_ERROR:1,TRANSPORT_ERROR:2,STACK_PARAMETER_ERROR:11,STACK_NOT_STARTED:12,SESSION_NOT_ESTABLISHED:13,TRANSPORT_NOT_STARTED:14,REQUEST_NOT_RESPONSE:15,FAILED_TO_MUTE:110,FAILED_TO_UNMUTE:111,FAILED_TO_HOLD:112,FAILED_TO_RESUME:113,FAILED_TO_CLOSE_LOCAL_VIDEO:114,FAILED_TO_OPEN_LOCAL_VIDEO:115,CANCEL_TO_SHARE:116,SHARE_PERMISSION_DENIED:117,FAILED_TO_SHARE:118,FAILED_TO_OPEN_DOOR:119,SHARE_STREAM_STOPED_BY_CONTROL_BAR:109,ICE_CONNECTION_FAILED_FIREST:120,ICE_CONNECTION_FAILED:121,FAILED_TO_VIDEO_ON:130,CAMERA_NOT_SUPPORT:131,FAILED_TO_SCREEN_SHARE:132,FAILED_TO_SEND_INFO:133,FAILED_TO_SEND_MESSAGE:134,SERVER_RESOURCE_REACHED_LIMIT:135,REGISTER_ERROR:200,INVITE_ERROR:201,SERVER_STATUS_ERROR:700,FAILED_TO_NEGOTIATE:701,MIC_REQUEST_REFUSE:941,MIC_REQUEST_FAIL:942,MIC_REQUEST_CLOSE:943,VIDEO_REQUEST_REFUSE:945,VIDEO_REQUEST_OCCUPY:946,VIDEO_REQUEST_BEYOND:948,VIDEO_REQUEST_FAIL:949,ACTION_SUCCESSED:999},ga=So.getLogger("MEDIA_DEVICE"),Ta={},Ia=0,Na=0,ya=void 0,wa=!1,Aa=Number.MAX_VALUE,Da=!1,Ma={};Ta.isNoMicCurrent=!0,Ta.showInstructionPanelTimer=void 0,Ta.isExistCamera=!1,Ta.isMicGetPermissionBefore=!1,Ta.isOpenSettingBoxBeforeUnmute=!1,Ta.isSendCloseCameraIvite=!1;var ba,La,Pa=void 0,Ua=void 0,Va=void 0,Ga=void 0,ka=void 0,Ha=void 0,Fa=window.audioInputDevices,xa=window.audioOutputDevices,Ba=window.videoInputDevices;tn(cn.onConfInfoInit,function(e){e&&e.maxCam&&(Aa=e.maxCam,ga.info("received max_cam param:"+e.maxCam))}),tn(cn.onUserCameraStatusChange,function(e,t){if(void 0===t)return;Js.getMyId()===e&&t===yo.CamSta.CloseByHost&&(ga.info("close camera by host"),Ta.isCameraSharing()&&!Ta.isSendCloseCameraIvite&&(ga.info("close camera by host and then send invite"),Ta.stopShareCamera(Ta.closeshareLocalWebcamCallback)),Ta.setIsCameraSharing(!1))});var Wa=function(e){var t=e.toLowerCase();return-1!==t.indexOf("mobile")||-1!==t.indexOf("crios")||/(Macintosh|iPhone|iPad|iPod|iOS)/i.test(t)};Ta.initAudioPlayer=function(e){var t={};t.id=e,t.eventsMap={},t.playSeqNo=0,t.timeout=void 0;var n=window.document.createElement("audio");return n.setAttribute("id",e),n.setAttribute("autoplay","autoplay"),t.audioNode=n,t.play=function(e){if(!e){var t=this.audioNode.play();void 0!==t&&t.then(function(e){}).catch(function(e){un(on.EVENT_MEETING,[on.EVENT_MEDIA_PLAYER_AUTOPLAY_PREVENTED,e]),ga.error("{}",e)})}},t};var Ya=Ta.initAudioPlayer("audio_remote"),ja=Ta.initAudioPlayer("audio_local"),Ka=Ta.initAudioPlayer("audio_speak_test"),Ja=Ta.initAudioPlayer("audio_mic_test");function qa(e,t){var n=window.document.createElement("video");return n.setAttribute("id",e),Wa(navigator.userAgent)||n.setAttribute("autoplay","autoplay"),"firefox"===window.adapter.browserDetails.browser&&(ga.info("firefox add playing eventListener to video tag:nodeId--"+n.id),n.addEventListener("playing",function(){ga.info("firefox playing event triggered:nodeId--"+n.id),t.timerRef=er(t)})),n}Ta.getRemoteAudioPlayer=function(){return Ya},Ta.initVideoPlayer=function(e){var t={};return t.id=e,t.eventsMap={},t.playSeqNo=0,t.timeout=void 0,t.setTimeout=function(e){ga.info("player[id="+this.id+"] set stream check timeout value: "+e),e&&!isNaN(e)&&0<parseInt(e)&&(this.timeout=parseInt(e))},t.videoNode=qa(e,t),t.addVideoEventHandler=function(e,t){e&&"string"==typeof e?t&&"function"==typeof t?(this.eventsMap[e]=t,ga.info("player[id="+this.id+"] success bind event: "+e)):ga.warn("player[id="+this.id+"] fail bind event: "+e+", beacause callback not function"):ga.warn("player[id="+this.id+"] fail bind event: "+e+", beacause event name not string")},t.triggerVideoEvent=function(e,t,n,o,i){if(t){var a=t.eventsMap[e];a?a(t,n,o,i):ga.debug("player[id="+t.id+"] trigger event: "+e+", but not found callback")}else ga.error("trigger event: "+e+", but player is null ")},t.play=function(e){if(e)this.state="readying",this.playSeqNo+=1,this.stream=e,Ta.stopStreamCheckTimer(this.timerRef),window.attachMediaStream(this.videoNode,e),this.state="binding",this.triggerVideoEvent(Ta.VideoPlayer.onLoad,this),this.state="loading","firefox"!==adapter.browserDetails.browser&&(this.timerRef=er(this));else{var t=this.videoNode.play();void 0!==t&&t.then(function(e){}).catch(function(e){un(on.EVENT_MEETING,[on.EVENT_MEDIA_PLAYER_AUTOPLAY_PREVENTED,e]),ga.error("{}",e)})}},t.show=function(){ga.info("will show player: "+this.id),this.videoNode.style.display="block"},t.hide=function(){ga.info("player[id="+this.id+"] visible change to hide"),this.videoNode.style.display="none"},t.close=function(){this.state="close",ga.info("player[id="+this.id+"] has been closed.")},t};var za={userId:"",userName:""},Qa=Ta.initVideoPlayer("cameraPrev"),Xa=Ta.initVideoPlayer("cameraVideo"),$a=Ta.initVideoPlayer("mainVideo"),Za=Ta.initVideoPlayer("shareVideo");tn(cn.onConfQuit,function(){ba&&clearInterval(ba),Ha&&clearInterval(Ha)}),tn(cn.onMainVideoOpen,function(){if(ga.info("call onMainVideoOpen"),!Ws.isCurrentMainVideoOpen()&&!Js.getMyPreviewStats())return ga.info("audio conf and user is not previewing video"),!1;ga.info("will call play main stream");var e=Ws.getVideoStream(!1);$a.play(e)}),tn(cn.onMainVideoClose,function(){if(Js.getMyPreviewStats())return ga.info("user is preview and main video close not excute"),!1;ga.info("call onMainVideoClose"),$a.close(),clearInterval(void 0),un(on.EVENT_MEETING,[cn.onMainVideoClose,$a.videoNode])}),tn(cn.onPresentVideoOpen,function(e){!function(e){if(ga.info("call onPresentVideoOpen"),!Ws.isCurrentPresentVideoOpen())return ga.info("ConfVideo.isCurrentPresentVideoOpen()"+Ws.isCurrentPresentVideoOpen()+",ConfVideo.isIamSharingPresent()"+Ws.isIamSharingPresent());ga.info("presenter video:"+JSON.stringify(e));var t=e.presenterdisplay;if(void 0===t||""===t){var n=Js.getUserById(e.whoShare);ga.info("current share user:{}",n)}{if(za.userId=e.whoShare,za.userName=t,e.isSrcFromMe)return;if("visible"!==window.document.visibilityState&&"safari"===window.adapter.browserDetails.browser)return;var o=Di.SHARE_DESKTOP;ga.info(t+o),Za.play(Wu())}}(e)}),tn(cn.onPresentVideoClose,function(){ga.info("call onPresentVideoClose"),Za.close(),un(on.EVENT_MEETING,[cn.onPresentVideoClose,Za.videoNode])}),Ta.audioOnlyPage=function(){ga.info("audio meeting page")},Ta.VideoPlayer={},Ta.VideoPlayer.PLAYER_NODE_TYPE_OBJECT="object",Ta.VideoPlayer.PLAYER_NODE_TYPE_VIDEO="video",Ta.VideoPlayer.PLAYER_NODE_TYPE_AUDIO="audio",Ta.VideoPlayer.onLoad="onLoad",Ta.VideoPlayer.onPlay="onPlay",Ta.VideoPlayer.onResize="onResize",Ta.VideoPlayer.onDragStart="onDragStart",Ta.VideoPlayer.onDragEnd="onDragEnd",Ta.VideoPlayer.onDBclick="onDBclick",Ta.VideoPlayer.onError="onError";var er=function(e){var t=e.playSeqNo,n=void 0===e.timeout?-1:Math.ceil(e.timeout/500);return setInterval(function(){100<e.videoNode.videoHeight?(clearInterval(e.timerRef),t===e.playSeqNo?(ga.info("player[id="+e.id+"] stream check ok, and can play now.."),e.state="playing",e.triggerVideoEvent(Ta.VideoPlayer.onPlay,e)):ga.warn("player[id="+e.id+"] stream check ok, but playSeqNo not match, will ignore")):0===n?(ga.error("player[id="+e.id+"] stream check fail, reason: reach max loop check,timeout"),clearInterval(e.timerRef),e.triggerVideoEvent(Ta.VideoPlayer.onError,e)):n--},1e3)};Ta.stopStreamCheckTimer=function(e){ga.info("clear check stream timer"),clearInterval(e)},Ta.showMainVideoPlayer=function(e){if($a.show(),e&&"function"==typeof e){e(Tu(Yi.GS_ERROR_CODE_NO_ERROR))}},Ta.hideMainVideoPlayer=function(e){if($a.hide(),e&&"function"==typeof e){e(Tu(Yi.GS_ERROR_CODE_NO_ERROR))}},$a.addVideoEventHandler(Ta.VideoPlayer.onPlay,function(e){ga.info("videoMainPlayer start playing"),Wa(navigator.userAgent)||(!0===$a.videoNode.paused&&(ga.warn("video main node paused then excute play event"),$a.play()),Ws.isCurrentMainVideoOpen()&&un(on.EVENT_MEETING,[cn.onMainVideoOpen,$a.videoNode]))}),Za.addVideoEventHandler(Ta.VideoPlayer.onPlay,function(e){ga.info("videoSharePlayer start playing"),Wa(navigator.userAgent)||(!0===Za.videoNode.paused&&(ga.warn("video prensent node paused then excute play event"),Za.play()),un(on.EVENT_MEETING,[cn.onPresentVideoOpen,Za.videoNode]))}),Xa.addVideoEventHandler(Ta.VideoPlayer.onPlay,function(e){ga.info("sharedVideoCameraPreviewPlayer start playing"),!0===Xa.videoNode.paused&&(ga.warn("sharedVideoCameraPreviewPlayer node paused then excute play event"),Xa.play()),Wa(navigator.userAgent)||(!0===Xa.videoNode.paused&&(ga.warn("sharedVideoCameraPreviewPlayer node paused then excute play event"),Xa.play()),un(on.EVENT_MEETING,[cn.onOpenCameraPreviewVideoOpen,Xa.videoNode]))}),Qa.addVideoEventHandler(Ta.VideoPlayer.onPlay,function(e){ga.info("videoPerview start playing"),!0===Qa.videoNode.paused&&(ga.warn("videoPerview node paused then excute play event"),Qa.play()),Wa(navigator.userAgent)||(!0===Qa.videoNode.paused&&(ga.warn("videoPerview node paused then excute play event"),Qa.play()),un(on.EVENT_MEETING,[cn.onLocalVideoPreviewPlayerOpen,Qa.videoNode]))}),Qa.addVideoEventHandler(Ta.VideoPlayer.onLoad,function(e){ga.info("videoPerview start loading"),Wa(navigator.userAgent)&&un(on.EVENT_MEETING,[cn.onLocalVideoPreviewPlayerBindStream,Qa.videoNode])}),Xa.addVideoEventHandler(Ta.VideoPlayer.onLoad,function(e){ga.info("onMainVideo start loading"),Wa(navigator.userAgent)&&un(on.EVENT_MEETING,[cn.onSharedCameraPreviewPlayerBindStream,Xa.videoNode])}),$a.addVideoEventHandler(Ta.VideoPlayer.onLoad,function(e){if(ga.info("onMainVideo start loading"),Wa(navigator.userAgent)){un(on.EVENT_MEETING,[cn.onMainVideoPlayerBindStream,$a.videoNode]);var t=Ws.getVideoStream(!0);null!=t&&(Xa.videoNode=qa("cameraVideo",Xa),Xa.play(t))}}),Za.addVideoEventHandler(Ta.VideoPlayer.onLoad,function(e){ga.info("onPresentVideo start loading"),Wa(navigator.userAgent)&&un(on.EVENT_MEETING,[cn.onPresentVideoPlayerBindStream,Za.videoNode])}),Ta.setIsCameraSharing=function(e){wa=e},Ta.isCameraSharing=function(){return wa},Ta.isOperateCamera=function(){return Da},Ta.setOperateCamera=function(e){Da=e},Ta.isExceedMeetingMaxCam=function(){var e=Js.getConfShareCamNum();return ga.info("currentOpenedCam:"+e),void 0!==e&&""!==e||(ga.info("parse notify current open camera:"+e),e=0),(e-=0)!==Aa&&(ga.info("currentOpenedCam:"+e),!(e<Aa))},Ta.shareLocalWebCamCallback=function(e,t){(ga.info("share local camera for meeting result:"+JSON.stringify(e)),e&&e.code===Yi.GS_ERROR_CODE_NO_ERROR)?(ga.info("share camera success."),Js.getMyself().camSta===yo.CamSta.CloseByHost&&ga.info("share camera success but camera close by host then stop share camera"),t&&"function"==typeof t&&t(e)):(Ta.closeLocalCamera(),window.webrtcSession.prototype.o_local_streams.o_video_stream=null,ga.info(e.description),t&&"function"==typeof t&&t(e))},Ta.closeshareLocalWebcamCallback=function(e,t){ga.info("user close camera sharing result:"+JSON.stringify(e)),Ta.isSendCloseCameraIvite=!1,e&&e.code===Yi.GS_ERROR_CODE_NO_ERROR&&Js.getMyPreviewStats(),t&&"function"==typeof t&&t(e)},Ta.shareCamera=function(o,e){if(Ta.setOperateCamera(!0),"user"!==e&&"environment"!==e||!Wa(navigator.userAgent)){if(Ta.isExceedMeetingMaxCam()){ga.info(Di.SHARE_LOCAL_WEBCAM_FAIL);var t;return t=Tu(Yi.GS_ERROR_CODE_WEBCAM_LIMIT),o&&"function"==typeof o&&o(t),!1}}else;if(void 0===(ya=Ma[Ia])||null==ya){var n;return n=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),o&&"function"==typeof o&&o(n),!1}window.sipVideoOn(ya,function(e){if(e&&e.codeType===va.ACTION_SUCCESSED){wa=!0;var t=gu(e);o&&"function"==typeof o&&o(t)}else{ga.info("share camera fail, and will close local camera"),Ta.closeLocalCamera();var n;n=gu(e),o&&"function"==typeof o&&o(n)}Ws.isCurrentMainVideoOpen()&&($a.videoNode=qa("mainVideo",$a),Ws.NotifyRePlayMainVideo()),Ta.setOperateCamera(!1)})},Ta.stopShareCamera=function(n){Ta.setOperateCamera(!0),window.sipVideoOff(function(e){e&&e.codeType===va.ACTION_SUCCESSED?(ga.info("stop share camera ok, and will close local camera stream"),Ta.closeLocalCamera(),un(on.EVENT_MEETING,[cn.onOpenCameraPreviewVideoClose,Xa.videoNode]),Ws.isCurrentMainVideoOpen()&&($a.videoNode=qa("mainVideo",$a),Ws.NotifyRePlayMainVideo()),wa=!1):ga.info("stop share camera fail: {}",e);var t;t=gu(e),n&&"function"==typeof n&&n(t),Ta.setOperateCamera(!1)})},Ta.openLocalCamera=function(e,t,n,o){ga.info("camera device id:"+n),function a(e,r,s,u,t,c){function n(e){if(e){if(e.codeType===va.ACTION_SUCCESSED){if(ga.info("camera getUserMedia callback success.camSeqNum:"+e.camSeqNum+",cameraSeqNum:"+Ia),Ia!==e.camSeqNum){var t=e.stream.getVideoTracks();if(t){for(var n=0;n<t.length;n++)t[n].stop();ga.info("close Camera stream")}return!1}if(Ta.closeLocalCamera(),e.stream.getVideoTracks()[0]&&"ended"===e.stream.getVideoTracks()[0].readyState)return ga.info(" stream track is ended, get stream again"),a(!1,r,s,u,e.camSeqNum,c),!1;if(Ma[e.camSeqNum]=e.stream,r&&"function"==typeof r){var o={};o=gu(e),r(e.stream,u,o)}}else if(s&&"function"==typeof s){e.deviceType="camera";var i=gu(e);s(e.s_error,u,i)}}else ga.info("openLocalCamera: Invalid Argument")}var o={};o.streamType="video";o.b_first=!0;ga.info("cameraType:{}",c);"user"!==c&&"environment"!==c||!Wa(navigator.userAgent)?o.deviceId=u:(o.facingMode=c,o.deviceId="");o.cb=n;o.camSeqNum=t;ga.info("data:{}",o);Ta.getStreamFromDevice(o)}(0,e,t,n,Ia+=1,o)},Ta.closeLocalCamera=function(t){var e=void 0;try{for(var n in Ma){if(e=Ma[n].getVideoTracks()){for(var o=0;o<e.length;o++)e[o].stop();ga.info("close Local Camera stream")}delete Ma[n]}var i=Ws.getVideoStream(!0);if(i&&(e=i.getVideoTracks())){for(var a=0;a<e.length;a++)e[a].stop();ga.info("close local remote stream")}if("playing"===Qa.state&&(Qa.close(),t&&"function"==typeof t)){var r={};(r=Tu(Yi.GS_ERROR_CODE_NO_ERROR)).videoNode=Qa.videoNode,t(r)}}catch(e){if(ga.warn(JSON.stringify(e)),t&&"function"==typeof t){t(Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL))}}},Ta.openLocalCameraFailureCallback=function(e,t,n){ga.info("open locall camera fail"+e.name);var o={};o="OverconstrainedError"===e.name||"InternalError"===e.name?Tu(Yi.GS_ERROR_CODE_OPEN_CAMERA_FAIL):"SourceUnavailableError"===e.name||"NotReadableError"===e.name||"TrackStartError"===e.name?Tu(Yi.GS_ERROR_CODE_WEBCAM_HAS_OCCUPIED):"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?"edge"===window.adapter.browserDetails.browser||"safari"===window.adapter.browserDetails.browser&&!0===window.adapter.browserDetails.isWebRTCPluginInstalled?Tu(Yi.GS_ERROR_CODE_CAMERA_PERMISSION_DENY):("firefox"===adapter.browserDetails.browser||"safari"===adapter.browserDetails.browser&&adapter.browserDetails.isWebRTCPluginInstalled,Tu(Yi.GS_ERROR_CODE_DISABLED_CAMERA_ACCESS)):Tu(Yi.GS_ERROR_CODE_OPEN_CAMERA_FAIL),n&&"function"==typeof n&&n(o)},Ta.openLocalCameraSuccessCallback=function(e,t,n){if(ga.info("open local camera success!!"),"opera"===window.adapter.browserDetails.browser&&53<=window.adapter.browserDetails.version){var o=e.getVideoTracks()[0].getCapabilities();ga.info("deviceId:"+t+",getCapabilities.deviceId:"+o.deviceId),o.deviceId!==t&&ga.info("deviceId set to new one => {}",o.deviceId)}if("firefox"===window.adapter.browserDetails.browser&&50<=window.adapter.browserDetails.version){var i=e.getVideoTracks();0<i.length&&(i[0].onended=function(){ga.warn("stream onended is triggered"),Ta.isCameraSharing()&&(ga.info("found my camera is sharing, will stop camera sharing"),Ta.stopShareCamera(Ta.closeshareLocalWebcamCallback),Ta.isSendCloseCameraIvite=!0)})}Ta.showLocalVideo(e,n)},Ta.showLocalVideo=function(e,t){if(Qa.setTimeout(5e3),Qa.videoNode=qa("cameraPrev",Qa),Qa.play(e),t&&"function"==typeof t){var n={};(n=Tu(Yi.GS_ERROR_CODE_NO_ERROR)).videoNode=Qa.videoNode,t(n)}},Ta.onVideoLoaded=function(e){ga.info("before joining meeting cameraLoaded_hasCamera => "+e),Ta.isExistCamera=e},Ta.onVideoUpdate=function(e){if("ie"===window.adapter.browserDetails.browser)return ga.info("IE can not share camera"),!1;if(!e||!e.cameraStatus)return ga.info("video device check result is null"),!1;if(ga.info("cameraUpdate_hasCamera => "+e.cameraStatus),e.cameraStatus&&Ta.getVideoDevSelection(),"MsgPluginCameraToOne"===e.cameraStatus)Ta.isExistCamera=!0;else if("MsgPlugoutCurrentCamera"===e.cameraStatus){return"safari"===window.adapter.browserDetails.browser&&!0===window.adapter.browserDetails.isWebRTCPluginInstalled||("safari"===window.adapter.browserDetails.browser&&!1===window.adapter.browserDetails.isWebRTCPluginInstalled&&0<Ba.length?ga.info("if exist videoInputdevice after safari plugout current camera,donot send videoOff"):(Ta.closeLocalCamera(),ga.info("cameraUpdate_isShareCamera => "+Ta.isCameraSharing()),Ta.isCameraSharing()&&Ta.stopShareCamera(function(e){ga.info("cameraUpdate_stopShareCamera_error => {}",e),e.codeType,va.ACTION_SUCCESSED}))),!1}else if("MsgPlugoutCameraToNone"===e.cameraStatus)Ta.isExistCamera=!1,ga.info("MsgPlugoutCameraToNone");else if("MsgPluginNewCamera"===e.cameraStatus){return ga.info("MsgPluginNewCamera"),!(Ta.isExistCamera=!0)}else"MsgPlugoutACamera"===e.cameraStatus&&ga.info("MsgPlugoutACamera")},Ta.autoSendMuteStatusToSever=function(e,t){var n=Js.getMyMicStatus();if(Ta.isOpenSettingBoxBeforeUnmute=!1,"mute"===e)n!==yo.MicSta.Normal&&n!==yo.MicSta.Forbidden||Cs(!0,t);else if("unmute"===e)if(n===yo.MicSta.ForbiddenMute)if(Js.isCanBeUnmuteAfterMuted()===yo.SwitchSta.On){if(!Ta.isMicGetPermissionBefore){if(ga.info("mic do not get permission before"),Ta.setMicPermAction("unmute"),t&&"function"==typeof t){var o;o=Tu(Yi.GS_ERROR_CODE_MICROPHONE_NOT_FOUND),t(o)}return!1}if(Cs(!1,t),Js.isCanBeUnmuteAfterMuted()===yo.SwitchSta.Off)return!1;setTimeout(function(){gs(!1,t)},200)}else Cs(!1,t);else if(n===yo.MicSta.Forbidden){if(Js.isCanBeUnmuteAfterMuted()===yo.SwitchSta.On){if(!Ta.isMicGetPermissionBefore){if(ga.info("mic do not get permission before"),Ta.setMicPermAction("unmute"),t&&"function"==typeof t){var i;i=Tu(Yi.GS_ERROR_CODE_MICROPHONE_NOT_FOUND),t(i)}return!1}gs(!1,t)}else if(t&&"function"==typeof t){var a;a=Tu(Yi.GS_ERROR_CODE_NO_PERMISSION),t(a)}}else if(n===yo.MicSta.NormalMute){if(!Ta.isMicGetPermissionBefore){if(ga.info("mic do not get permission before"),Ta.setMicPermAction("unmute"),t&&"function"==typeof t){var r;r=Tu(Yi.GS_ERROR_CODE_MICROPHONE_NOT_FOUND),t(r)}return!1}Cs(!1,t)}},Ta.audioTrackRefresh=function(e){window.sipAudioRefresh(e)},Ta.getStreamFromDevice=function(e){return window.getStreamFromDevice(e)},Ta.stopMicRecord=function(){Ta.stopRecording()};var tr=!(Ta.playMicRecord=function(e){return ConfDevCheck.play(e)}),nr=!1,or=!1,ir=void 0;function ar(e,t){window.sipPresent(Du().meetingNum,e,function(e){t&&"function"==typeof t&&t(e)},void 0,Ws.isCurrentPresentVideoOpen(),Ws.isIamSharingPresent())}function rr(e,t,n){if(ga.info("start share invite callback error type "+JSON.stringify(e)),"stopPresnt"===e.actionType){if(tr||nr||!Ws.isIamSharingPresent())return ga.info("[uishare]click stop share btn and stream ended, then return"),nr=!1;Ta.stopShare(sr)}else if("startPresnt"===e.actionType);else if("ShareCancel"===e.actionType);else if("NotAllowedError"===e.actionType||"PermissionDeniedError"===e.actionType){if(n&&"function"==typeof n){n(Tu(Yi.GS_ERROR_CODE_SCREEN_SHARE_PERMISSION_DISABLE))}}else if("NotReadableError"===e.actionType){if(n&&"function"==typeof n){n(Tu(Yi.GS_ERROR_CODE_SHARE_SOURCE_EXCEPTION))}}else if(e.codeType&&e.codeType!==va.ACTION_SUCCESSED){if(Ws.clearLocalPresentStream(),nr=!0,e.codeType===va.FAILED_TO_SCREEN_SHARE&&Ws.isCurrentPresentVideoOpen()&&("edge"===window.adapter.browserDetails.browser||"firefox"===window.adapter.browserDetails.browser&&(58<=window.adapter.browserDetails.version||window.adapter.browserDetails.version<=47))&&(Ws.NotifyRePlayPresentVideo(),ga.info("Edge or Firefox NotifyRePlayPresentVideo")),n&&"function"==typeof n){n(gu(e))}}else if(e&&e.codeType===va.ACTION_SUCCESSED&&(nr=!1,n&&"function"==typeof n)){n(Tu(Yi.GS_ERROR_CODE_NO_ERROR))}}function sr(e){if(ga.info("stop share callback error:"+JSON.stringify(e)),tr=!1,e&&e.codeType!==va.ACTION_SUCCESSED){if("14"===e.codeType||"15"===e.codeType)return}else e.codeType===va.ACTION_SUCCESSED&&(un(on.EVENT_MEETING,[on.EVENT_CLOSE_SHARE_PRESENT_VIDEO,Za.videoNode]),!0!==window.adapter.browserDetails.isWebRTCPluginInstalled&&"safari"!==window.adapter.browserDetails.browser||window.adapter.browserDetails.browser,ga.info("stop share invite callback success"),or&&Ta.shareWhiteboard());or=!1}Ta.startPresent=function(e,t){if(Ws.isCurrentPresentVideoOpen()||Js.getCachedRoomInfo().status.whiteBoard){if(t&&"function"==typeof t){t(Tu(Yi.GS_ERROR_CODE_SHARE_CONFLICT_ERROR))}}else!function(e,n){"window"===e?function(t){ar("info-present-window",function(e){t&&"function"==typeof t&&t(e,"window")})}(function(e,t){rr(e,t,n)}):"screen"===e?function(t){ar("info-present-screen",function(e){e&&t(e,"screen")})}(function(e,t){rr(e,t,n)}):"whiteboard"===e?Ta.shareWhiteboard(n):"tab"===e?function(t){ar("info-present-tab",function(e){e&&t(e,"tab")})}(function(e,t){rr(e,t,n)}):function(t){ar("info-present-all",function(e){e&&t(e,"all")})}(function(e,t){rr(e,t,n)})}(e,t)},Ta.isIamSharingPresent=function(){return Ws.isIamSharingPresent()},Ta.stopShare=function(e){!function(n){window.sipPresent(Du().meetingNum,"info-present-stop",function(e){var t=gu(e);t.code===Yi.GS_ERROR_CODE_NO_ERROR&&(ir=void 0),"function"==typeof n&&n(t)},void 0,Ws.isCurrentPresentVideoOpen(),Ws.isIamSharingPresent())}(e)},Ta.hostStopShare=function(t){sipPresent(Du().meetingNum,"info-host-stopshare",function(e){t&&t(e)})},Ta.pausePresentStream=function(e,t){ir=e,window.sipMutePresent(e,t)},Ta.isPausePresentStream=function(){return ir},tn(cn.onConfWhiteboardStatusChange,function(e){if(!e)return!1;e.status?function(e){ga.info("show whiteBoard : {}",e);var t={};t.status=e.status,t.sipId=e.userid;var n=Js.getMyId();t.isSelfShare=n===t.sipId?"1":"0",t.titleTxt="","1"===t.isSelfShare?t.titleTxt=Bi.ME_SHARE:t.titleTxt=Bi.OTHER_SHARE;t.sharingUser=e.displayName;var o=Du().meetingSerialNum,i=Zn(t.sipId+" & "+o),a="roomId="+o+"&userId="+n+"&lang=en&signature="+i;t.whiteboardAddr=ma.MEETINGS_URL+"/whiteboard?"+a,ga.info(t),un(on.EVENT_MEETING,[cn.onConfWhiteboardStatusChange,t])}(e):function(e){var t={};t.isShareWhiteBoard=e.status,un(on.EVENT_MEETING,[cn.onConfWhiteboardStatusChange,t]),sn("")}(e)}),Ta.shareWhiteboard=function(e){Ts(yo.CommonStats.On,e)},Ta.closeWhiteboard=function(t){ga.info("click to stop share white board"),tr=!0,Ts(yo.CommonStats.Off,function(e){ga.info("white board info callback, error:"+JSON.stringify(e)),tr=!1,t&&"function"==typeof t&&t(e)})};var ur,cr,dr,lr,fr=void 0,Er=void 0,_r=void 0,pr=!1;function Rr(e,n){if(!e)return!1;Ta.stopMicVolumeTest();try{window.audioCtx=new(window.AudioContext||window.webkitAudioContext)}catch(e){return ga.error("donot support audiocontext api"),!1}"suspended"===window.audioCtx.state&&window.audioCtx.resume().then(function(){ga.log("resume audioContext success: {}",window.audioContext)}).catch(function(e){ga.error("audioContext resume error:{}",e)}),(window.calVolume=new vr(window.audioCtx)).connect(e),ba&&clearInterval(ba),ba=setInterval(function(){var e=window.calVolume.instant.toFixed(2),t=0;"firefox"===window.adapter.browserDetails.browser?e<.02&&0<e?t=1:.15<e?t=10:.02<=e&&e<.05?(e-=.02,t=Math.round(100*e)+2):.05<=e&&e<=.1?(e-=.05,t=Math.round(60*e)+5):.1<e&&e<=.15&&(e-=.1,t=Math.round(20*e)+8):"edge"===window.adapter.browserDetails.browser?(.01<=e&&(e-=.01),e<.04&&0<e?t=1:.24<e?t=10:.04<=e&&e<=.14?(e-=.04,t=Math.round(50*e)+1):.14<e&&e<=.24&&(e-=.14,t=Math.round(30*e)+6)):e<.05&&0<e?t=1:.25<e?t=10:.05<=e&&e<=.15?(e-=.05,t=Math.round(50*e)+1):.15<e&&e<=.25&&(e-=.15,t=Math.round(30*e)+6),ga.info("show mic Volume intensity:{}",t),n&&n(t)},100)}function hr(){dr&&clearInterval(dr);var t=5;ga.info(Wi.MIC_TEST_RECORD+"({})",t),dr=setInterval(function(){var e;return(e=--t)<=0&&-1<=e?(clearInterval(dr),Or(),void function(e){var t=Ta.playMicRecord(Ja.audioNode);if(!t)if(t||(ga.info("play record fail"),Ha&&clearTimeout(Ha),Ha=setTimeout(function(){clearTimeout(Ha),Sr()},5500)),0<xa.length)"chrome"!==window.adapter.browserDetails.browser&&"opera"!==window.adapter.browserDetails.browser||e&&(ga.info("[uiDevicesCheck]Test mic after record"),Ta.attachAudioOutputDevice(Ja.audioNode,e,"testMic",mr));else if(0<xa.length){if("chrome"===window.adapter.browserDetails.browser||"opera"===window.adapter.browserDetails.browser){var n=Ya.audioNode.sinkId;ga.info("Test mic after record"),Ta.attachAudioOutputDevice(Ja.audioNode,n,"testMic",mr)}}else{Ya.audioNode.muted=!0,Ja.audioNode.currentTime=0;var o=Ja.audioNode.play();o&&o.catch(function(e){ga.info("audioMicTestPlayer dom play error:{}",e),Ha&&clearTimeout(Ha),Ha=setTimeout(function(){clearTimeout(Ha),Sr()},5500)})}}()):e<-1?(clearInterval(dr),!1):void ga.info(Wi.MIC_TEST_RECORD+"({})",e)},1e3)}function Sr(){Pa=void 0,Ya.audioNode.muted=!1,Ja.audioNode.pause(),Ta.stopMicVolumeTest()}function Or(){clearInterval(dr),Ta.stopMicRecord()}function mr(e,t,n){if(t)if(ga.info("set audio output device error:"+t.name+".eventType:"+e),"SecurityError"===t.name){if("testSpeaker"===e)return n&&(Va&&clearTimeout(Va),Va=setTimeout(function(){},5e3),function(){Ga&&Cr();ga.info("create mic error count"),Ga=setInterval(function(){15===++Na&&(Cr(),clearTimeout(Ua),clearTimeout(Va))},1e3)}(),ga.info("[uiDevicesCheck]speaker noPermission,getUserMedia, device:"+n),Ta.getLocalMicDeviceStream(n,"testSpeaker",Ta.getStreamFromDeviceCb)),!1;"firefox"===window.adapter.browserDetails.browser?Ta.forbidDeviceSetttingBox(Wi.DISABLED_SPEAKER_ACCESS,Wi.SETTING_MIC_ACCESS):Ta.forbidDeviceSetttingBox(Wi.DISABLED_SPEAKER_ACCESS,Wi.SETTING_MIC_PERMISSION)}else Ka.audioNode.pause(),Dr(0);if(!t){if("testSpeaker"===e){Ka.audioNode.currentTime=0;var o=Ka.audioNode.play();o&&o.catch(function(e){ga.error("[uiDevCheck]audioMicTestPlayer dom play error."+e)})}else if("testMic"===e){Ya.audioNode.muted=!0,Ja.currentTime=0;var i=Ja.play();i&&i.catch(function(e){ga.info("audioMicTestPlayer dom play error."+e),Ha&&clearTimeout(Ha),Ha=setTimeout(function(){clearTimeout(Ha)},5500)})}if("useSpeaker"===e){for(var a="",r="",s=xa.length;s--;)if("applyed"===xa[s].state){a=xa[s].label,r=xa[s].deviceId;break}var u=Ta.getMicPermAction();if(u&&"join"===u)return ga.info("click ok btn in device setting box no setting audioouput device success tip"),!1;if(""!==a){var c=Wi.SETTING_SPEAKER_SUCCESS_TIP.replace("{device}","<span class='colorblue'>"+a+"</span>");ga.info(c)}else window.navigator.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){if("audiooutput"===e.kind&&r===e.deviceId){a=e.label;var t=Wi.SETTING_SPEAKER_SUCCESS_TIP.replace("{device}","<span class='colorblue'>"+a+"</span>");ga.info(t)}})}).catch(function(e){ga.log(e.name+": "+e.message)})}}}function Cr(){clearInterval(Ga),Na=0}function vr(e){this.audioCtx=e,this.instant=0,this.script=this.audioCtx.createScriptProcessor(2048,1,1);var i=this;this.script.onaudioprocess=function(e){var t,n=e.inputBuffer.getChannelData(0),o=0;for(t=0;t<n.length;++t)o+=n[t]*n[t];i.instant=Math.sqrt(o/n.length)}}function gr(e){var t=Js.getMyself().micSta;t===yo.MicSta.Normal||t===yo.MicSta.NormalMute||t===yo.MicSta.Forbidden||t===yo.MicSta.ForbiddenMute||yo.MicSta.None;var n=Ta.getMicPermAction();if(ga.info("[confDevCheck]user unmute self true or false:"+e+",action is:"+n),e)vs(!0,function(){});else{if(Ta.isNoMicCurrent)return vs(!0,function(){}),ga.info("mic not exist then not send info to mute self"),!1;if(t===yo.MicSta.Forbidden&&gs(!1,function(e,t){t&&t.userid&&t.userid,Ar(e)}),t===yo.MicSta.ForbiddenMute){if(Cs(!1,function(e,t){t&&t.userid&&t.userid,Ar(e)}),n&&"enable"===n)return!1;if(Js.isCanBeUnmuteAfterMuted()===yo.SwitchSta.Off)return!1;setTimeout(function(){gs(!1,function(e,t){t&&t.userid&&t.userid,Ar(e)})},200)}t===yo.MicSta.NormalMute&&Cs(!1,function(e,t){t&&t.userid&&t.userid,Ar(e)}),yo.MicSta.Normal}}function Tr(e){ga.info("An error has occurred when mic record.error: "+e.message)}function Ir(e){ga.info("Recorder stopped: ",e)}function Nr(e){function n(){if(!t())throw"Audio amplitude meter not supported";return r=new(window.AudioContext||window.webkitAudioContext),(a=r.createAnalyser()).minDecibels=-60,a.maxDecibels=-30,a.smoothingTimeConstant=.8,a.fftSize=256,r}function o(e){return i&&(i.disconnect(),i=void 0),e&&(i=e).connect(a),i}function t(){return void 0!==s}var i,a,r,s=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;this.setStream=function(e){var t=n();return o(e?t.createMediaStreamSource(e):null)},this.setMediaElement=function(e){var t=n();return o(e?t.createMediaElementSource(e):null)},this.connectDestination=function(){a&&r&&a.connect(r.destination)},this.getAmplitude=function(){if(!i||!r)return-1;var e=new Uint8Array(a.frequencyBinCount);a.getByteFrequencyData(e);for(var t=0,n=0;n<e.length;n++)t+=e[n];return t/e.length*3},this.close=function(){i.disconnect(a),r?r.close().then(function(){ga.info("success")}).catch(function(){ga.info(error)}):window.Promise.resolve(),a=r=null},this.supported=t}function yr(e){e.data&&0<e.data.size&&ur.push(e.data)}function wr(e){ur=[];try{var t={mimeType:"audio/webm;codecs=opus"};window.MediaRecorder.isTypeSupported(t.mimeType)||(ga.info(t.mimeType+" is not Supported"),t={mimeType:"audio/webm"},window.MediaRecorder.isTypeSupported(t.mimeType)||(ga.info(t.mimeType+" is not Supported"),t={mimeType:""})),ga.info("record stream:{}",e);try{cr=new window.MediaRecorder(e,t)}catch(e){return ga.error("Exception while creating MediaRecorder: "+e+". mimeType: "+t.mimeType),!1}return ga.info("MediaRecorder started:{}",cr),cr.onstop=Ir,cr.ondataavailable=yr,cr.start(10),ga.info("MediaRecorder started:{}",cr),cr.onerror=Tr,!0}catch(e){ga.error("media record fail."+e)}return!1}function Ar(e){var t=Di.MUTE_FAIL;e.codeType!==va.ACTION_SUCCESSED&&(133===e.codeType?void 0===(t="3003"===e.reasonCode?bi.ERROR_CODE_3003:bi["ERROR_CODE_"+e.reasonCode])&&(t=Di.MUTE_FAIL):t=Di.ONERROR_COMMON,window.alert(t))}function Dr(e,t){var n=t,o=(Math.floor(e)-25)/1.5;if(o<=0&&(o=0),16<=o&&(o=16),n!==o){clearInterval(lr);var i=Math.abs(o-n)+1;lr=setInterval(function(){n<o?n++:o<n?n--:clearInterval(lr)},Math.floor(100/i))}}Ta.isOperateMic=function(){return pr},Ta.getAvailableDevices=function(t){window.detectDevicespluginout=!1,window.deviceCheckInterval("set"),window.getAvailableDev(function(e){window.setTimeout(function(){t&&"function"==typeof t&&t(e),window.detectDevicespluginout=!0},100)})},Ta.onMicLoaded=function(){Ta.isNoMicCurrent=!1},Ta.onMicDevSelected=function(e){ga.info("onMicDevSelected called: "+e),clearTimeout(Ta.showInstructionPanelTimer),Ta.showInstructionPanelTimer=null,ga.info("clear MediaDevice.showInstructionPanelTimer and will hide instructionsWrap-select")},Ta.onMicStatusChange=function(e){if(!e||!e.micStatus)return ga.info("get mic status null"),!1;var t=e.micStatus;if(ga.info("mic state => "+t),t&&Ta.getMicDevSelection(),"MsgPlugoutMicToNone"===t)Ta.isNoMicCurrent=!0,clearInterval(void 0),"ie"!==window.adapter.browserDetails.browser&&"safari"!==window.adapter.browserDetails.browser||(Ta.isMicGetPermissionBefore=!1),Ta.stopTestSpeaker();else if("MsgPlugoutCurrentMic"===t){return Ta.closeLocalMic(),Ta.closeLocalDeviceMicStream(),Ta.isMicGetPermissionBefore&&(Ta.isMicGetPermissionBefore=!1),!1}else if("MsgPluginNewMic"===t){return Ta.isNoMicCurrent&&(Ta.isNoMicCurrent=!1),!1}else if("MsgPluginMicToOne"===t)Ta.isNoMicCurrent=!1;else if("MsgPlugoutAMic"===t)Pa&&e.device&&e.device.deviceId===Pa&&Ta.closeLocalDeviceMicStream();else if("MsgPlugoutCurrentSpeak"===t){return xa.length,!1}},Ta.getLocalMicDeviceStream=function(o,i,a){if(o){if("testMic"===i&&"firefox"===window.adapter.browserDetails.browser){if(fr&&fr===o&&Er){if(47<=window.adapter.browserDetails.version)if(!wr(Er)){if(a){var e={codeType:"recordFail"};a(i,e)}return!1}if(Rr(Er),a){var t={};t.codeType=va.ACTION_SUCCESSED,t.deviceId=o,a(i,t)}return!1}Ta.closeLocalDeviceMicStream()}if("useMic"===i&&"safari"!==window.adapter.browserDetails.browser&&"ie"!==window.adapter.browserDetails.browser){if(!0===Ta.isMicGetPermissionBefore)for(var n=0;n<Fa.length;n++)if("applyed"===Fa[n].state&&Fa[n].deviceId===o){ga.info("user is use the mic current,deviceId:"+o);if(gr(!1),a){var r={};r.codeType=va.ACTION_SUCCESSED,a(i,r)}return!1}if(("firefox"===window.adapter.browserDetails.browser||"edge"===window.adapter.browserDetails.browser)&&fr&&fr===o&&Er){if(a){var s={};s.codeType=va.ACTION_SUCCESSED,s.deviceId=o,a(i,s)}return Ta.audioTracksReflesh(Er,o),!1}}}"useMic"===i&&Ta.closeLocalDeviceMicStream(),ga.info("get stream from local mic device");var u={streamType:"audio"};u.deviceId=o,u.cb=function(e){if(ga.info("audio get user media error:"+e.codeType),!e||!e.codeType)return!1;if(o=e.deviceId,e.codeType!==va.ACTION_SUCCESSED){var t;t=gu(e),ga.info(t.description)}else{if(Er=e.stream,"firefox"===window.adapter.browserDetails.browser&&50<=window.adapter.browserDetails.version)Er.getAudioTracks()[0].onended=function(){if(fr=Er=void 0,a){var e={codeType:"streamEnd"};a(i,e)}ga.info("audio stream onended is trigger")};if(fr=o,"testMic"===i)if("chrome"===window.adapter.browserDetails.browser&&window.adapter.browserDetails.version<49)Rr(e.stream);else if("edge"===window.adapter.browserDetails.browser)Rr(e.stream);else if("firefox"===window.adapter.browserDetails.browser&&window.adapter.browserDetails.version<47)Rr(e.stream);else{if(!wr(e.stream)){if(a){var n={codeType:"recordFail"};a(i,n)}return!1}Rr(e.stream)}else"useMic"===i&&e.stream&&Ta.audioTracksReflesh(e.stream,o)}e.deviceId=o,a&&a(i,e)},Ta.getStreamFromDevice(u)},Ta.audioTracksReflesh=function(e,s){if(pr=!0,ga.info("audio track refresh."),!e)return ga.info("get audio stream null"),!1;window.checkAvailableDev();var t={};t.stream=e,t.cb=function(e){if(ga.info("audio track refresh error:"+e.codeType),pr=!1,!e||!e.codeType)return!1;var t=e.b_mute;if(e.codeType!==va.ACTION_SUCCESSED){var n=Di.ONERROR_COMMON;941===e.codeType&&(n=Di.DENY_MIC_SHARE),ga.info(n)}else{if(Ta.isMicGetPermissionBefore=!0,"safari"===window.adapter.browserDetails.browser||"ie"===window.adapter.browserDetails.browser){return gr(!1),!1}for(var o="",i=Fa.length;i--;)Fa[i].deviceId!==s?Fa[i].state=void 0:(Fa[i].state="applyed",o=Fa[i].label);var a=Ta.getMicPermAction();if(Js.isCanBeUnmuteAfterMuted()===yo.SwitchSta.Off&&t?ga.info("user state : {} , muteState: {}",yo.SwitchSta.Off,t):Js.isCanBeUnmuteAfterMuted()===yo.SwitchSta.On&&t&&ga.info("user state : {} , muteState: {}",yo.SwitchSta.On,t),a&&"enable"===a)if(ga.info("[confDevCheck]set speak success, but action is unmute, no tip"),""!==o){var r=Wi.SETTING_MIC_SUCCESS_TIP.replace("{device}","<span class='colorblue'>"+o+"</span>");ga.info(r)}else window.navigator.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){if("audioinput"===e.kind&&s===e.deviceId){o=e.label;var t=Wi.SETTING_MIC_SUCCESS_TIP.replace("{device}","<span class='colorblue'>"+o+"</span>");ga.info(t)}})}).catch(function(e){ga.log(e.name+": "+e.message)});gr(t)}},t.b_mute=!1,Ta.audioTrackRefresh(t)},Ja.audioNode.addEventListener("ended",function(){Sr()}),Ta.forbidDeviceSetttingBox=function(e,t){if("edge"===window.adapter.browserDetails.browser||"safari"===window.adapter.browserDetails.browser&&!0===window.adapter.browserDetails.isWebRTCPluginInstalled)return ga.info(JSON.stringify({content:e,type:"oneBTn-ok",icoType:"none",title:"",btnStyle:"btn-green btn-reload",btnLeftVal:t,titleStyle:"bg-white",clickAlertBgNoClose:"true",alertBgOpacity:"0",oppositeto:".desktop-main"})),!1;window.adapter.browserDetails.browser,"chrome"===window.adapter.browserDetails.browser||"opera"===window.adapter.browserDetails.browser||"safari"===window.adapter.browserDetails.browser&&window.adapter.browserDetails.isWebRTCPluginInstalled,window.adapter.browserDetails.browser},Ta.getStreamFromDeviceCb=function(e,t,n,o){if(ga.info("getStream from device eventType"+e+", errorCode:"+t.codeType),Cr(),clearTimeout(Ua),clearTimeout(Va),t.codeType===va.MIC_REQUEST_REFUSE){if("ie"===window.adapter.browserDetails.browser||"safari"===window.adapter.browserDetails.browser&&!0===window.adapter.browserDetails.isWebRTCPluginInstalled){var i;return i=gu(t),ga.info(i.description),o&&"function"==typeof o&&o(i),!1}"edge"===window.adapter.browserDetails.browser?("useMic"===e&&(Ta.isMicGetPermissionBefore=!1),Ta.forbidDeviceSetttingBox(Wi.MIC_PERMISSION_DENY_TIP,Ai.TIP_RELOAD)):"firefox"===window.adapter.browserDetails.browser?("useMic"===e&&(Ta.isMicGetPermissionBefore=!1),Ta.forbidDeviceSetttingBox(Wi.MIC_DISABLE_ACCESS,Wi.SETTING_MIC_ACCESS)):"safari"===window.adapter.browserDetails.browser&&!1===window.adapter.browserDetails.isWebRTCPluginInstalled?Ta.forbidDeviceSetttingBox(Wi.MIC_DISABLE_ACCESS,Wi.SAFARI_DISABLE_MIC_ACCESS):("testSpeaker"===e&&Ta.forbidDeviceSetttingBox(Wi.DISABLED_SPEAKER_ACCESS,Wi.SETTING_MIC_PERMISSION),Ta.forbidDeviceSetttingBox(Wi.MIC_DISABLE_ACCESS,Wi.SETTING_MIC_PERMISSION));var a;return a=gu(t),ga.info(a.description),o&&"function"==typeof o&&o(a),!1}if(t.codeType===va.ACTION_SUCCESSED){if("testMic"===e){if(Pa=t.deviceId,"chrome"===window.adapter.browserDetails.browser&&window.adapter.browserDetails.version<49||"edge"===window.adapter.browserDetails.browser||"firefox"===window.adapter.browserDetails.browser&&window.adapter.browserDetails.version<47)return ga.info(Wi.HTML_STOP),!1;var r=setTimeout(function(){clearTimeout(r)},1e3);ga.info(Wi.SPEAK_TO_MIC_DEVICE),hr()}"useMic"===e&&("chrome"!==window.adapter.browserDetails.browser&&"opera"!==window.adapter.browserDetails.browser||(!xa[0]||""!==xa[0].label||"Win32"!==window.navigator.platform&&"Windows"!==window.navigator.platform?n&&(ga.info("[uiDevicesCheck]audio output device select devideId:"+n),Ta.attachAudioOutputDevice(Ya.audioNode,n,"useSpeaker",mr)):Ta.filterBlueTooth(n,Ya.audioNode,"useSpeaker")),Ta.stopTestSpeaker()),"testSpeaker"===e&&(!xa[0]||""!==xa[0].label||"Win32"!==window.navigator.platform&&"Windows"!==window.navigator.platform?n&&(ga.info("getUserMedia then test speaker, devideId:"+n),Ta.attachAudioOutputDevice(Ka.audioNode,n,"testSpeaker",mr)):Ta.filterBlueTooth(Ka.audioNode,"testSpeaker"));var s;s=gu(t),ga.info(s.description),o&&"function"==typeof o&&o(s)}else if(t.codeType===va.MIC_REQUEST_CLOSE){if("useMic"===e){var u;u=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),ga.info(u.description),o&&"function"==typeof o&&o(u)}}else if("recordFail"===t.codeType&&"testMic"===e){Ta.closeLocalDeviceMicStream();var c;c=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),ga.info(c.description),o&&"function"==typeof o&&o(c)}else if("streamEnd"===t.codeType){if(Ta.isMicGetPermissionBefore){for(var d=0;d<Fa.length;d++)"applyed"===Fa[d].state&&(Fa[d].state=void 0);Ta.closeLocalDeviceMicStream(),Ta.closeLocalMic(),Ta.isMicGetPermissionBefore=!1}var l;l=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),ga.info(l.description),o&&"function"==typeof o&&o(l)}else{var f;f=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),ga.info(f.description),o&&"function"==typeof o&&o(f)}},Ta.filterBlueTooth=function(n,t,o){var i,a=!1,r=!1,s=!1,u=!1;window.navigator.mediaDevices.enumerateDevices().then(function(e){ga.warn("enumerateDevices then set audio output device"),e.forEach(function(e){var t=e.label;"audioinput"===e.kind&&-1!==t.toLocaleLowerCase().indexOf("Hands-Free".toLocaleLowerCase())&&(a=!0),"audiooutput"===e.kind&&-1!==t.toLocaleLowerCase().indexOf("Hands-Free".toLocaleLowerCase())&&(r=!0,i=e.deviceId),"audiooutput"===e.kind&&-1!==t.toLocaleLowerCase().indexOf("Stereo".toLocaleLowerCase())&&(s=!0,n===e.deviceId&&(u=!0))}),a&&s&&r&&(!u&&"default"!==n&&"communications"!==n||(n=i)),Ta.attachAudioOutputDevice(t,n,o,mr)}).catch(function(e){console.log(e.name+": "+e.message)})},vr.prototype.connect=function(e){try{this.source=this.audioCtx.createMediaStreamSource(e),this.source.connect(this.script),this.script.connect(this.audioCtx.destination)}catch(e){ga.error("start mic volume test error: {}",e)}},vr.prototype.disconntect=function(){try{ga.info("close audioCtx,audioCtx state:"+(this.audioCtx?this.audioCtx.state:"window.audioCtx is undefined")),this.source.disconnect(this.script),this.script.disconnect(this.audioCtx.destination),this.audioCtx&&"closed"!==this.audioCtx.state&&this.audioCtx.close().then(function(){ga.info("close audiocontext success"),ga.info("11111close audioCtx,audioCtx state:"+(this.audioCtx?this.audioCtx.state:"window.audioCtx is undefined"))}).catch(function(e){ga.error("close audiocontext error: {}",e)}),this.audioCtx&&(this.audioCtx=void 0)}catch(e){ga.error("stop mic volume test error : {}",e)}},Ta.stopMicVolumeTest=function(){ba&&clearInterval(ba),window.calVolume&&(window.calVolume.disconntect(),window.calVolume=void 0)},Ta.getMicPermAction=function(){return ka},Ta.setMicPermAction=function(e){ka=e},Ta.attachAudioOutputDevice=function(e,t,n,o){if(void 0!==e.sinkId){if(t&&"useSpeaker"===n)for(var i=0;i<xa.length;i++)if("applyed"===xa[i].state&&xa[i].deviceId===t)return ga.info("User is use the audio output current,deviceId:"+t),!1;e.setSinkId(t).then(function(){if(ga.info("Success, audio output device attached: "+t+",eventType:"+n),"useSpeaker"===n)for(var e=xa.length;e--;)xa[e].deviceId!==t?xa[e].state=void 0:xa[e].state="applyed";"testSpeaker"===n&&(Ta.stopSpeakerVolume(),(_r=new window.Audio).src=ma.STYLE_URL+"/web/music/SoundTest.ogg",_r.crossOrigin="anonymous",_r.loop=!0,Ta.showSpeakerVolume(_r),_r.play()),o&&o(n)}).catch(function(e){var t=e;e&&"SecurityError"===e.name&&(t="error, device: "+e),ga.error("Set output device error:"+t),o&&o(n,e)})}else ga.warn("Browser does not support output device selection.")},Ta.stopTestMic=function(){"chrome"===window.adapter.browserDetails.browser&&window.adapter.browserDetails.version<49||"edge"===window.adapter.browserDetails.browser||"firefox"===window.adapter.browserDetails.browser&&window.adapter.browserDetails.version<47?(Pa=void 0,ga.info(Wi.HTML_TEST),Ta.stopMicVolumeTest(),ga.info(ga.info("mic Volume intensity reset to 0"))):(Or(),Sr())},Ta.stopMicVolumeTest=function(){ba&&clearInterval(ba),window.calVolume&&(window.calVolume.disconntect(),window.calVolume=void 0)},Ta.showSpeakerVolume=function(e){if(window.amplitudeMeter)return La&&clearInterval(La),La=setInterval(function(){var e=window.amplitudeMeter.getAmplitude();50<(e=Math.min(100,Math.max(0,e)))&&(e/=2),Ta.loudTest(e)},100),!1;window.amplitudeMeter=new Nr(e),window.amplitudeMeter.setMediaElement(e),La&&clearInterval(La),La=setInterval(function(){var e=window.amplitudeMeter.getAmplitude();50<(e=Math.min(100,Math.max(0,e)))&&(e/=2),Ta.loudTest(e)},100)},Ta.loudTest=function(e){Dr(e)},Ta.stopSpeakerVolume=function(){_r&&(_r.pause(),_r.currentTime=0,_r=void 0),La&&clearInterval(La),window.amplitudeMeter&&(window.amplitudeMeter.close(),window.amplitudeMeter=void 0)},Ta.stopRecording=function(){try{cr.stop()}catch(e){ga.info("stop record fail.error: {}",e)}},Ta.play=function(e){try{var t=new Blob(ur,{type:"audio/webm"});e.src=URL.createObjectURL(t)}catch(e){return ga.error("play mic record error: {}",e),!1}return!0},Ta.closeLocalDeviceMicStream=function(){var e=void 0;if(Er){if(e=Er.getAudioTracks())for(var t=0;t<e.length;t++)e[t].stop(),ga.info("close Local device audio stream");fr=Er=void 0}},Ta.closeLocalMic=function(){var e=void 0,t=Oa.getAudioStream(!0);t&&(e=t.getAudioTracks())&&0<e.length&&(e[0].stop(),ga.info("close Local audio stream already send to others"))},Ta.stopTestSpeaker=function(){ga.log("stop test speaker"),Ka.audioNode.pause(),Dr(0),Ta.stopSpeakerVolume()},Ta.getMicDevSelection=function(C,v){ms(function(e){if(e){C&&(C.name=C.label||"microphone0",ga.info("device:{}",C));var t=!1,n=e.audioInputDev;if(n){for(var o="",a=!1,r=0,s=0;s<n.length;s++)"communications"!==n[s].deviceId&&"default"!==n[s].deviceId&&(n[s].label&&-1!==n[s].label.toLocaleLowerCase().indexOf("Hands-Free".toLocaleLowerCase())&&(t=!0),r++,v?v===n[s].deviceId&&(ga.info(n[s].label||"microphone"+r),a=!0):(C||s!==n.length-1||(n[s].name=n[s].label||"microphone"+r,ga.info(n[s])),a=!0),o+='<span deviceId="'+n[s].deviceId+'" groupId="'+n[s].groupId+'">'+(n[s].label||"microphone"+r)+"</span>");a||(0<n.length?(n[i].name=n[n.length-1].label||"microphone"+n.length,ga.info(n[i])):ga.info("no available audio device.")),ga.info(o),n.length<=0&&ga.info("no available audio device.")}var u=!1,c=!1,d=e.audioOutputDev;if(d){var l="";if(d.length<=0)return ga.info(Wi.NO_SPEAKER_DEVICE),Ta.stopTestSpeaker(),!1;for(var f,E=!1,_=0,p=!1,R=0;R<d.length;R++){var h=d[R].label;h&&(-1!==h.toLocaleLowerCase().indexOf("Hands-Free".toLocaleLowerCase())&&(u=!0,f=d[R]),-1!==h.toLocaleLowerCase().indexOf("Stereo".toLocaleLowerCase())&&(c=!0,v===d[R].deviceId&&(p=!0)))}for(var S=[],O=0;O<d.length;O++){var m=d[O].label;("Win32"!==window.navigator.platform&&"Windows"!==window.navigator.platform||"chrome"!==window.adapter.browserDetails.browser&&"opera"!==window.adapter.browserDetails.browser||!t||!u||!c||"default"!==d[O].deviceId&&"communications"!==d[O].deviceId&&-1===m.toLocaleLowerCase().indexOf("Stereo".toLocaleLowerCase()))&&(S.push(d[O]),_++,v?v===d[O].deviceId&&(ga.info(d[O].label||"speaker"+_),E=!0):(ga.info("deviceId [{}] name: {}",S[0].deviceId,S[0].label||"speaker"+_),E=!0),l+='<span deviceId="'+d[O].deviceId+'">'+(d[O].label||"speaker"+_)+"</span>")}E||(ga.info("deviceId [{}] name: {}",S[0].deviceId,S[0].label||"speaker"+_),0<d.length?(u&&t&&c&&(!p&&"default"!==v&&"communications"!==v||ga.info("deviceId [{}] name: {}",f.deviceId,f.label)),void 0!==Ka.audioNode.sinkId&&""!==Ka.audioNode.sinkId&&Ta.attachAudioOutputDevice(Ka.audioNode,v,"setting",mr)):stopTestSpeaker()),ga.info(l),d.length}}})},Ta.getVideoDevSelection=function(a){ms(function(e){var t;if(e){a&&(ga.info("deviceId:{} => {}",a.deviceId,a.label||"camera0"),t=a.deviceId);var n=e.videoInputDev;if(n){for(var o=!1,i=0;i<n.length;i++)t?t===n[i].deviceId&&(ga.info("deviceId [{}] exist => {}",n[i].deviceId,n[i].label||"camera"+(i+1)),o=!0):a||0!==i||(ga.info("deviceId [{}] exist => {}",n[i].deviceId,n[i].label||"camera"+(i+1)),o=!0),ga.info("deviceId [{}] ,groupId [{}] => {}",n[i].deviceId,n[i].groupId,n[i].label||"camera"+(i+1));o?n.length<=0&&(a?ga.info("videoInputDevs.length <= 0, deviceId [{}] doesn't exist.",a.deviceId):ga.info("videoInputDevs.length <= 0, deviceId  doesn't exist.")):0<n.length?ga.info("isExist is false, videoInputDevs.length > 0, deviceId [{}] exist => {}",n[0].deviceId,n[0].label||"camera1"):a?ga.info("isExist is false, videoInputDevs.length <= 0, deviceId [{}] doesn't exist.",a.deviceId):ga.info("isExist is false, videoInputDevs.length <= 0, deviceId doesn't exist.")}}})};function Mr(e,t,n){var o=new Date,i=o.getUTCFullYear()+(o.getUTCMonth()+1<10?"0"+(o.getUTCMonth()+1):(o.getUTCMonth()+1).toString())+(o.getUTCDate()<10?"0"+o.getUTCDate():o.getUTCDate().toString())+(o.getUTCHours()<10?"0"+o.getUTCHours():o.getUTCHours().toString())+(o.getUTCMinutes()<10?"0"+o.getUTCMinutes():o.getUTCMinutes().toString())+(o.getUTCSeconds()<10?"0"+o.getUTCSeconds():o.getUTCSeconds().toString()),a=Du(),r={bizType:"WEBRTC_CHAT",bizId:Js.getMyId(),confSernum:a.meetingSerialNum,confNum:a.meetingNum,appID:"10010",format:"JSON",source:"webrtc",timeStamp:i,version:"1.0"},s=function(e){for(var t=Object.keys(e).sort(),n="",o=0;o<t.length;o++)n+="&"+t[o]+"="+e[t[o]];return $n(n+="&443A3DE5F4794B67A651BAE7E6F5C7EE&")}(r),u=ma.API_SERVER+"/pro/file/uploadFile",c={isFormData:!0},d=new FormData;d.append("bizType",r.bizType),d.append("bizId",r.bizId),d.append("confSernum",r.confSernum),d.append("confNum",r.confNum),d.append("appID",r.appID),d.append("format",r.format),d.append("source",r.source),d.append("timeStamp",r.timeStamp),d.append("version",r.version),d.append("signature",s),d.append("fileData",e),c.formData=d,nn(u,c).then(function(e){"0"===e.retCode?(br.info("file upload success: "+JSON.stringify(e)),t&&t(e)):(br.info("file upload failed:"+e.retCode),"60006"===e.retCode&&br.info(Di.SERVER_SAVE_ERR),n&&n(JSON.stringify(e)))}).catch(function(e){var t=JSON.stringify(e);return n&&n(t),br.error("file upload failed:"+t)})}var br=So.getLogger("FILE");var Lr=So.getLogger("Chat");tn(cn.onRecChatMsg,function(e){var t={};{if("user_del"===e.type){var n=Di.CHAT_ATTENDEE,o=Js.getUserById(e.msg[0]);if(!o)return void Lr.warn("can not find the user :"+e.msg[0]);if(Js.getMyselfUsersViewState()!==yo.SwitchSta.Off||Js.userIsHost(e.msg[0])||Js.userIsPanelist(e.msg[0]))n=o.name;else if(n=Di.CHAT_ATTENDEE,!Js.MyselfIsHost())return;return n=Jn(n),t.msg=n+Di.USER_QUIT_MEETING,t.type="user_del",void un(on.EVENT_MEETING,[on.EVENT_CHAT_SYSTEM_MESSAGE_RECEIVED,t])}if("user_add"===e.type){var i=Di.CHAT_ATTENDEE,a=Js.getUserById(e.msg[0].id);if(a){if(Js.getMyselfUsersViewState()!==yo.SwitchSta.Off||Js.userIsHost(e.msg[0].id)||Js.userIsPanelist(e.msg[0].id))i=a.name;else if(i=Di.CHAT_ATTENDEE,!Js.MyselfIsHost())return}else;return i=Jn(i),t.msg=i+Di.USER_JOIN_MEETING,Js.userIsHost(e.msg[0].id)&&(t.msg=i+Di.USER_JOIN_MEETING_AND_HOST),t.type="user_add",void un(on.EVENT_MEETING,[on.EVENT_CHAT_SYSTEM_MESSAGE_RECEIVED,t])}if(e.type&&0===e.type.indexOf("sysinfo")){if("sysinfo_options_message"===e.type)e.msg=e.msg?Di.CHAT_OK:Di.CHAT_OFF;else if("sysinfo_options_sendfile"===e.type)e.msg=e.msg?Di.CHAT_TRANS:Di.CHAT_TRANS_OFF;else if("sysinfo_status_lock"===e.type)e.msg=e.msg?Di.CHAT_MET_LOCK:Di.CHAT_MET_UNLOCK;else if("sysinfo_status_userlist"===e.type)e.msg=e.msg?Di.CHAT_LIST:Di.CHAT_LIST_OFF;else if("sysinfo_status_rec"===e.type){if("webinar_regular"===Js.getUserRole(Js.getMyId()))return;e.msg=e.msg?Di.CHAT_RECORD:Di.CHAT_RECORD_OFF}else"sysinfo_status_mute"===e.type?e.msg=e.msg?Di.CHAT_MUTE:Di.CHAT_MUTE_OFF:"sysinfo_host"===e.type?e.msg=Js.getUserById(e.msg).name+Di.CHAT_NPRESENTER:"sysinfo_presenter"===e.type&&(e.msg=Js.getUserById(e.msg).name+Di.CHAT_NHOST);return e.msg=Jn(e.msg),t.msg=e.msg,t.time=(new Date).Format("hh:mm:ss"),t.type=e.type,void un(on.EVENT_MEETING,[on.EVENT_CHAT_SYSTEM_MESSAGE_RECEIVED,t])}var r,s,u=Js.getUserById(e.sipID),c=function(e){var t=e.match(/\[\s.*(?=\s\()/gi);{if(t){var n=t[0].substring(2),o=e.replace(n,"").split(" ");if(0<o.length&&(o=o.filter(function(e){return""!==e})),"Share"!==o[0]||"["!==o[2]||"]"!==o[4])return e;var i="Image"===o[1]?"pic":"file",a=Style_Domain+"/"+o[5].split("/").slice(3).join("/");return{fKind:o[0],fType:i,fName:n,fSize:o[3].replace("(","").replace(")",""),fPath:a}}return e}}(e.msg),d=Di.CHAT_ATTENDEE,l=Di.CHAT_ATTENDEE,f="",E=e.msg;c&&"Share"===c.fKind&&(Lr.info("msg is file"),"pic"===c.fType&&(E=Di.PICTURE_PRE+c.fName),"file"===c.fType&&(E=Di.FILE_PRE+c.fName)),u?Js.getMyselfUsersViewState()===yo.SwitchSta.On||Js.userIsHost(e.sipID)||Js.userIsPanelist(e.sipID)?(d=u.name,l=u.name,d=Jn(d)):(d=Di.CHAT_ATTENDEE,l=Di.CHAT_ATTENDEE):Lr.info("Handler recive chat message, cannot find user from userlist"),Js.userIsHost(e.sipID)&&(f=u.role);var _=-1<String(window.navigator.platform).indexOf("Mac");128<E.length&&(E=E.substring(0,127)+"..."),32<l.length&&(l=l.substring(0,31)+"..."),16<l.length&&_&&(l=l.substring(0,15)+"..."),"private"===e.mode?(r=Mi.PRIVITE_SENDER.replace("{fromSb}",l).replace("{toSb}",Ai.ME),function(e,t,n,o){var i=Js.getUserRole(e.sipID),a={};a.textHost=n,a.time=(new Date).Format("hh:mm:ss"),a.action=Ai.TO_LOWER,a.to={userName:Ai.ME},a.from={userId:e.sipID,role:i,userName:t},o.fKind?("pic"===o.fType&&(a.self=e.self,a.imgSrc=o.fPath,a.reactAction=Ai.REPLY),"file"===o.fType&&(a.self=e.self,a.filePath=o.fPath,a.fileName=o.fName,a.fileSize=o.fSize,a.reactAction=Ai.REPLY)):(o=Vr(o,!0),a.self=e.self,a.reactAction=Ai.REPLY,a.msg=o);un(on.EVENT_MEETING,[on.EVENT_CHAT_PRIVATE_MESSAGE_RECEIVED,a])}(e,d,f,c)):"all"===e.mode?(r=Mi.ALL_SENDER.replace("{fromSb}",l),function(e,t,n,o,i){var a={};a.textHost=n,a.time=(new Date).Format("hh:mm:ss"),a.action=Ai.TO_LOWER,a.from=i,o.fKind?("pic"===o.fType&&(a.self=e.self,a.imgSrc=o.fPath),"file"===o.fType&&(a.self=e.self,a.filePath=o.fPath,a.fileName=o.fName,a.fileSize=o.fSize)):(o=Vr(o,!0),a.self=e.self,a.msg=o);un(on.EVENT_MEETING,[on.EVENT_CHAT_GROUP_MESSAGE_RECEIVED,a])}(e,0,f,c,u)):"panelist"===e.mode&&(r=Mi.WORKER_SENDER.replace("{fromSb}",l),function(e,t,n,o){var i=Js.getUserRole(e.sipID),a={};a.textHost=n,a.time=(new Date).Format("hh:mm:ss"),a.action=Ai.TO_LOWER,a.from={userId:e.sipID,role:i,userName:t,userGroup:Ai.PANELISTS},a.mode=e.mode,o.fKind?("pic"===o.fType&&(a.self=e.self,a.imgSrc=o.fPath),"file"===o.fType&&(a.self=e.self,a.filePath=o.fPath,a.fileName=o.fName,a.fileSize=o.fSize)):(o=Vr(o,!0),a.self=e.self,a.msg=o);un(on.EVENT_MEETING,[on.EVENT_CHAT_PANELIST_MESSAGE_RECEIVED,a])}(e,d,f,c)),ma.NOTIFICATION&&(s=r+E,function(e,t,n){log.info("UiNotification.desktopTip enter");var o,i,a=client.isIamSharingPresent(),r=-1<String(navigator.platform).indexOf("Mac");if(e===Mi.CHAT_TITLE){if(!window.Notification||!window.document.hidden)return;if(o=2,r&&"chrome"===adapter.browserDetails.browser&&(o=(new Date).getTime()),void 0!==ma.PROJECT_NAME&&""!==ma.PROJECT_NAME&&(e=e.replace("IPVideoTalk",ma.PROJECT_NAME),t=t.replace("IPVideoTalk",ma.PROJECT_NAME)),i=void 0===ma.NOTIFICATION_ICON_URL||""===ma.NOTIFICATION_ICON_URL?ma.STYLE_URL+"/web/img/conference/logo_msg.png":ma.NOTIFICATION_ICON_URL,r||"opera"!==adapter.browserDetails.browser&&"chrome"!==adapter.browserDetails.browser){var s=new Notification(e,{body:t,renotify:!1,icon:i,tag:o});s.onshow=function(){setTimeout(function(){s.close()},3e3)},s.onclick=function(){window.focus(),s.close(),setTimeout(function(){$(".bg-groupChat").click(),$(".dialog-arrow-btn").hasClass("arrow-left")&&$(".dialog-arrow-btn").click()},500)},s.onerror=function(e){Lr.info("Notification err:{}",e)}}else Hr&&Hr.close(),(Hr=new Notification(e,{body:t,renotify:!1,icon:i,tag:o})).onshow=function(){clearTimeout(Fr),Fr=setTimeout(function(){Hr.close()},3e3)},Hr.onclick=function(){window.focus(),Hr.close(),setTimeout(function(){$(".bg-groupChat").click(),$(".dialog-arrow-btn").hasClass("arrow-left")&&$(".dialog-arrow-btn").click()},500)},Hr.onerror=function(){log.info("Notification err")}}else{if(!window.Notification||!(document.hidden||n||a))return;if(Lr.info("desktopTip enter success:hide & notify: "+document.hidden+" & "+window.Notification),e===Mi.NOTIFICATION_TITLE&&(o=(new Date).getTime()),e===Mi.QUESTION_TITLE){if(!window.document.hidden)return;o=1,r&&"chrome"===adapter.browserDetails.browser&&(o=(new Date).getTime())}if(void 0!==ma.PROJECT_NAME&&""!==ma.PROJECT_NAME&&(e=e.replace("IPVideoTalk",ma.PROJECT_NAME),t=t.replace("IPVideoTalk",ma.PROJECT_NAME)),i=void 0===ma.NOTIFICATION_ICON_URL||""===ma.NOTIFICATION_ICON_URL?ma.STYLE_URL+"/web/img/conference/logo_msg.png":ma.NOTIFICATION_ICON_URL,r||"opera"!==window.adapter.browserDetails.browser){var u=new Notification(e,{body:t,renotify:!1,icon:i,tag:o});u.onshow=function(){setTimeout(function(){u.close()},5e3)},u.onclick=function(){window.focus(),u.close()},u.onerror=function(){log.info("Notification err")}}else Hr&&Hr.close(),(Hr=new Notification(e,{body:t,renotify:!1,icon:i,tag:o})).onshow=function(){clearTimeout(Fr),Fr=setTimeout(function(){Hr.close()},5e3)},Hr.onclick=function(){window.focus(),Hr.close()},Hr.onerror=function(){log.info("Notification err")}}}(Mi.CHAT_TITLE,s))}}),tn(cn.onRecFileMsg,function(e){var t=Js.getUserById(e.sipID),n={};n.from=t,n.time=(new Date).Format("hh:mm:ss"),n.file=e,un(on.EVENT_MEETING,[on.EVENT_CHAT_FILE_MESSAGE_RECEIVED,n])});var Pr=0,Ur=/^Share (\w+) \[ (.+) \((.+)\) \] (.+)/;function Vr(e,t){var n=/(((http|ftp|https):(&#x2F;&#x2F;|\/\/))?((([\w\-]+\.)([\w\-]{2,}\.)+[A-Za-z\-]{2,})|((\d{1,3}\.){3}\d{1,3}))(((&#x2F;|\/)|(\:))[\w\-\.(&#x2F;|\/)?\@\%\!\&=\+\~\:\#\;\,]*)?)/gi,o=e.match(n),i=decodeURI(o),a=new RegExp(n);return e=a.test(o)&&t?-1!==i.indexOf("http")||-1!==i.indexOf("ftp")?qn(Jn(e)).replace(a,'<a href="$1" target="_blank">$1</a>'):qn(Jn(e)).replace(a,'<a href="http://$1" target="_blank">$1</a>'):qn(Jn(e))}function Gr(r,e,s){r=r||"";var u,t,c=void 0;e&&e.lastModified&&e.size?("pic"===(c=-1!==kr.indexOf(e.type)?"pic":"file")&&(t=(u=URL.createObjectURL(e)).split("/").pop()),"file"===c&&(t=URL.createObjectURL(e).split("/").pop(),u=e.name+"/"+function(e){return 0===e?"0Kb":e<=1024?"1Kb":e<=1048576?(e/1024).toFixed(1)+"Kb":(e/1048576).toFixed(1)+"Mb"}(e.size)+"/"+t),Br(u,r,c,s)&&Mr(e,function(e){var t=e.data[0],n="pic"===c?"Image":"File",o=t.fileSize<1024?t.fileSize+"Kb":(t.fileSize/1024).toFixed(1)+"Mb",i={};"pic"===(i.uploadType=c)&&(i.selfImgSrc=ma.STYLE_URL+"/"+t.fileUrl.split("/").slice(3).join("/"),URL.revokeObjectURL(u)),"file"===c&&(i.fileUrl=ma.STYLE_URL+"/"+t.fileUrl.split("/").slice(3).join("/"));var a="Share "+n+" [ "+t.fileName+" ("+o+") ] "+t.fileUrl;i.msg=a,Lr.info("upload file/pic sip msg:"+a),un(on.EVENT_MEETING,[on.EVENT_CHAT_FILE_UPLOADED,i]),Is(r,a,function(e){if(Lr.info("send message callback:"+JSON.stringify(e)),e.codeType===va.ACTION_SUCCESSED){var t;t=Tu(Yi.GS_ERROR_CODE_NO_ERROR),s&&"function"==typeof s&&s(t)}else{var n;n=gu(e),s&&"function"==typeof s&&s(n)}})},function(e){var t;t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),s&&"function"==typeof s&&s(t)})):"function"==typeof s&&s(Iu(Fi))}var kr=["image/jpeg","image/bmp","image/png","image/gif"];var Hr,Fr,xr={PANELIST:"panelist",ALL:"all"},Br=function(e,t,n,o){var i=Js.getCachedRoomInfo();if(i.options&&!i.options.message){var a=Js.getMyId();if(!Js.userIsHost(a)&&!Js.userIsPanelist(a))return o&&o(Tu(Yi.GS_ERROR_CODE_CHAT_PERMISSION_DENY)),!1}if(""===t||void 0===t||t===xr.ALL);else if(t===xr.PANELIST);else{var r=Js.getUserById(t),s=Js.getUserRole();if(void 0===r){if(Js.getMyselfUsersViewState()===yo.SwitchSta.Off&&s&&-1!==s.indexOf("regular")){var u;u=Tu(Yi.GS_ERROR_CODE_NO_PERMISSION),o&&"function"==typeof o&&o(u)}else{var c;c=Tu(Yi.GS_ERROR_CODE_TARGET_NOT_IN_ROOM),o&&"function"==typeof o&&o(c)}return!1}if(Js.getMyselfUsersViewState()===yo.SwitchSta.Off&&!Js.userIsHost(t)&&!Js.userIsPanelist(t)){var d;return d=Tu(Yi.GS_ERROR_CODE_NO_PERMISSION),o&&"function"==typeof o&&o(d),!1}}if(!n){if(null==e){var l=Iu(Pi);return Lr.warn(l.description),o&&"function"==typeof o&&o(l),!1}if("string"!=typeof e){var f=Iu(Ui);return Lr.warn(f.description),o&&"function"==typeof o&&o(f),!1}if(""===(e=e.trim())){var E=Iu(Pi);return Lr.warn(E.description),o&&"function"==typeof o&&o(E),!1}Is(t,e,function(e){Lr.info("send message callback:"+JSON.stringify(e));var t=gu(e);o&&"function"==typeof o&&o(t)})}return!0};var Wr=So.getLogger("HOST_CONTROL");tn(cn.onConfChatStatusChange,function(e){if(void 0===e)return;yo.SwitchSta.On===e?un(on.EVENT_MEETING,[cn.onConfChatStatusChange,!0]):un(on.EVENT_MEETING,[cn.onConfChatStatusChange,!1])}),tn(cn.onConfUsersViewStatusChange,function(e){if(void 0===e)return;yo.SwitchSta.Off===e?(Wr.info(Di.UNALLOW_ATTENDEE_LIST),un(on.EVENT_MEETING,[cn.onConfUsersViewStatusChange,!1])):(Wr.info(Di.ALLOW_ATTENDEE_LIST),un(on.EVENT_MEETING,[cn.onConfUsersViewStatusChange,!0]))}),tn(cn.onConfUserNumberChange,function(e){e&&(Wr.info("total user count in meetings:"+e),un(on.EVENT_MEETING,[cn.onConfUserNumberChange,e]))}),tn(cn.onConfRecordStatusChange,function(e){if(void 0===e)return;yo.SwitchSta.On===e?(Wr.info(Di.START_RECORDING),Js.userIsRegular(Js.getMyId())&&bu()!==yo.ConfType.Meeting||un(on.EVENT_MEETING,[cn.onConfRecordStatusChange,!0])):Js.userIsRegular(Js.getMyId())&&bu()!==yo.ConfType.Meeting||(Wr.info(Di.STOP_RECORDING),un(on.EVENT_MEETING,[cn.onConfRecordStatusChange,!1]))}),tn(cn.onConfMuteStatusChange,function(e){if(void 0===e)return;yo.SwitchSta.On===e?un(on.EVENT_MEETING,[cn.onConfMuteStatusChange,!0]):un(on.EVENT_MEETING,[cn.onConfMuteStatusChange,!1])}),tn(cn.OnRecordFail,function(e){Wr.info("onRecordFail error:"+e);var t=Di.ONERROR_UNKNOWN;e&&void 0===(t=bi["ERROR_CODE_"+e])&&(t=Di.ONERROR_UNKNOWN);un(on.EVENT_MEETING,[cn.OnRecordFail,t])}),tn(cn.onAttendEnableLayoutStatusChange,function(e){var t="";yo.SwitchSta.On===e?Js.userIsHost(Js.getMyId())?un(on.EVENT_MEETING,[cn.onAttendEnableLayoutStatusChange,!0]):t=Di.ALLOW_SWITCH_LAYOUT_FOR_ATTEND:Js.userIsHost(Js.getMyId())?un(on.EVENT_MEETING,[cn.onAttendEnableLayoutStatusChange,!1]):t=Di.FORBID_SWITCH_LAYOUT_FOR_ATTEND;""!==t&&Wr.info(t)}),tn(cn.onSpeechRecognitionStaChange,function(e){if(void 0===e)return;yo.SwitchSta.On===e?Js.userIsHost(Js.getMyId())&&(Wr.info(Di.ASR_SUBTITLE_ENABLE),un(on.EVENT_MEETING,[cn.onSpeechRecognitionStaChange,!0])):Js.userIsHost(Js.getMyId())&&(Wr.info(Di.ASR_SUBTITLE_DISABLE),un(on.EVENT_MEETING,[cn.onSpeechRecognitionStaChange,!1]))}),tn(cn.onSpeechRecognitionException,function(e){un(on.EVENT_MEETING,[cn.onSpeechRecognitionException,e])}),tn(cn.onConfLockStatusChange,function(e){yo.SwitchSta.On===e?un(on.EVENT_MEETING,[cn.onConfLockStatusChange,!0]):un(on.EVENT_MEETING,[cn.onConfLockStatusChange,!1])}),tn(cn.onInviteUserNotifyReceived,function(e){if(e){var t={};t.user=e.sAccount;var n=function(e){return ji[e]}(e.code);if(n){var o=Tu(Yi[n]);t.code=o.code,t.description=o.description}else t.code=e.code,t.description=e.description;jr.push(t)}0===Kr.length&&(Yr.time=(new Date).valueOf(),Yr.users=jn(jr),un(on.EVENT_MEETING,[cn.onInviteUserNotifyReceived,jn(Yr)]),Yr={},jr=[])}),tn(cn.onUsersHandUpStatusChange,function(e){un(on.EVENT_MEETING,[cn.onUsersHandUpStatusChange,e])}),tn(cn.onUserCameraStatusChange,function(e,t){if(void 0===t)return;un(on.EVENT_MEETING,[cn.onUserCameraStatusChange,{id:e,newCamSta:t}])}),tn(cn.onUserMicStatusChange,function(e,t){if(void 0===t)return;un(on.EVENT_MEETING,[cn.onUserCameraStatusChange,{id:e,newMicSta:t}])}),tn(cn.onMeetingConfHostChange,function(e){un(on.EVENT_MEETING,[cn.onMeetingConfHostChange,e])});var Yr={},jr=[],Kr=[],Jr=!1;function qr(e,s){var t=Js.MyselfIsHost()?Tu(Yi.GS_ERROR_CODE_NO_ERROR):Tu(Yi.GS_ERROR_CODE_NO_PERMISSION);if(0===t.code){if(Array.isArray(e)){for(var u=[],c=[],n=0;n<e.length;n++){if("string"!=typeof e[n]){if("function"==typeof s){var o=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER);s(o)}return}var i=e[n].trim();""!==i&&(Bn.test(i)?u.push(i):(Wn.test(i)||Yn.test(i))&&c.push(i))}if(0===u.length&&0===c.length)return Wr.warn("the invitees is not supportted format !"),void("function"==typeof s&&s(Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER)));if(0<u.length&&0<c.length&&(Jr=!0),0<u.length){var a={confSerialNum:Du().meetingSerialNum,emails:u.join(",")};nn(ma.API_SERVER+"/rtc/sendMoreInviteEmails",a,"application/x-www-form-urlencoded").then(function(e){if(Wr.info("{}",e),0===e.state){for(var t=Tu(Yi.GS_ERROR_CODE_NO_ERROR),n=0;n<u.length;n++){var o={};o.user=u[n],o.code=t.code,o.description=t.description,jr.push(o)}Jr||("function"==typeof s&&s(t),un(cn.onInviteUserNotifyReceived,[]))}else{for(var i=function(e){if(e){var t={};return t.code=e.code,t.description=e.description,t}}(i),a=0;a<u.length;a++){var r={};r.user=u[a],r.code=i.code,r.description=i.description,jr.push(r)}Jr||("function"==typeof s&&s(i),un(cn.onInviteUserNotifyReceived,[]))}Jr&&zr(c,s)}).catch(function(e){Wr.error("{}",e);for(var t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),n=0;n<u.length;n++){var o={};o.user=u[n],o.code=t.code,o.description=t.description,jr.push(o)}if(Jr)for(var i=0;i<c.length;i++){var a={};a.user=c[i],a.code=t.code,a.description=t.description,jr.push(a)}"function"==typeof s&&s(t),un(cn.onInviteUserNotifyReceived,[])})}else zr(c,s)}else if(Wr.warn("the invitees is not Array type !"),s&&"function"==typeof s){var r=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER);s(r)}}else s&&"function"==typeof s&&s(t)}function zr(e,o){0<e.length&&(Kr=Kr.concat(e),ns({sipAccountList:e},function(e,t){var n=gu(e);"function"==typeof o&&o(n)},function(){!function(n){setTimeout(function(){for(var e=0;e<n.length;e++)if(-1!==Qr(n[e],Kr)){var t=Tu(Yi.GS_ERROR_CODE_NO_ANSWER_5022);t.sAccount=n[e],Wr.log("onInviteUserNotifyReceived:",JSON.stringify([t])),Xr(n[e],Kr),un(cn.onInviteUserNotifyReceived,[t]),Wr.info("receive Invite time out:"+n[e])}},2e4)}(e)}))}function Qr(e,t){if(e&&Array.isArray(t))for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function Xr(e,t){var n=Qr(e,t);-1!==n&&t.splice(n,1),0===t.length&&(Jr=!1)}var $r=So.getLogger("SIP_OPERATION"),Zr=function(e){ts(e)},es=function(){sipUnRegister()},ts=function(n){sipHangUp(function(e){if(n&&"function"==typeof n){var t={};e&&(t=gu(e),n(t))}})},ns=function(e,t,n){e&&e.sipAccountList&&0<e.sipAccountList.length&&(Ku()?os(e,t,n):t&&"function"==typeof t&&t("Conference connect already break!"))},os=function(e,n,t){for(var o=e.sipAccountList,i='<?xml version="1.0" encoding="UTF-8"?><resource-lists xmlns="urn:ietf:params:xml:ns:resource-lists"><list>',a=0;a<o.length;a++)i=i+'<entry uri="sip:'+o[a]+'@"/>';rs(i+="</list></resource-lists>","application/recipient-list-invite+xml",function(e,t){n&&"function"==typeof n&&n(e,t)}),"function"==typeof t&&t()},is=function(e,t,n){rs(e,void 0,t,n)},as=function(e){window.sipMuteMic(e,function(e){});var t="uid="+Du().sipAccount+";action=mute;conf-id="+Du().meetingNum+";mute-status="+(e?1:0);is(t,function(e){})};function rs(e,t,i,n){var o={};o.to=Du().meetingNum,t?(o.contentType=t,o.content=e):o.info=e,n&&(o.encodingType=n),window.sipSendInfo(o,function(e){if($r.log("Info callback:",JSON.stringify(e)),i&&"function"==typeof i){var t={};if(e){if(t=gu(e),e.action)for(var n=e.action.split(";"),o=0;o<n.length;o++)-1!==n[o].indexOf("uid=")&&(t.userid=n[o].substring(n[o].indexOf("=")+1)),-1!==n[o].indexOf("action=")&&(t.action=n[o].substring(n[o].indexOf("=")+1)),-1!==n[o].indexOf("previewed=")&&(t.previewed=n[o].substring(n[o].indexOf("=")+1)),-1!==n[o].indexOf("status=")&&(t.status=n[o].substring(n[o].indexOf("=")+1)),-1!==n[o].indexOf("mode")&&(t.mode=n[o].substring(n[o].indexOf("=")+1)),-1!==n[o].indexOf("layout_id")&&(t.layoutId=n[o].substring(n[o].indexOf("=")+1));e.meetingid&&(t.meetingid=e.meetingid),i(t)}}})}function ss(e,t,n){if(!Ju()){var o;try{if(null!=e&&"X-Gs-Conf-Control-Res"===e.s_name&&"mic-user=none"===e.s_value){return!1}if("br"===n){var i=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=255&e[n].charCodeAt(0);return t}(t);t=function(e){if("string"==typeof e)return e;for(var t="",n=e,o=0;o<n.length;o++){var i=n[o].toString(2),a=i.match(/^1+?(?=0)/);if(a&&8===i.length){for(var r=a[0].length,s=n[o].toString(2).slice(7-r),u=1;u<r;u++)s+=n[u+o].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),o+=r-1}else t+=String.fromCharCode(n[o])}return t}(window.BrotliDecompressBuffer(i));var a=Du();"true"!==window.localStorage.getItem("printXml")&&0===a.loglevel||$r.info(t)}o=Ki(t)}catch(e){$r.error("ParseNotifyError:"+e)}o&&Js.pushConfInfo2ConfUserExecuteQueue(o,function(){try{o.confInfo.status,null!=o.oInviteRetData&&void 0!==o.oInviteRetData&&function(e){-1!==Qr(e.sAccount,Kr)&&(Wr.log("onInviteUserNotifyReceived:",JSON.stringify([e])),Xr(e.sAccount,Kr),un(cn.onInviteUserNotifyReceived,[e]),Wr.info("trigger onInviteUserNotifyReceived success: {}",e),Wr.info("current aUnreceivedNotifyAccounts:{}",Kr))}(o.oInviteRetData),null!=o.confLeftTime&&o.confLeftTime,null!==o.oLiveRetData&&void 0!==o.oLiveRetData&&un(cn.onLiveNotifyReceived,[o.oLiveRetData]),o.action&&o.action.type&&("open_record"===o.action.type||"record_handle"===o.action.type?null!=o.reason&&o.reason&&un(cn.OnRecordFail,[o.reason]):"open_other_camera"===o.action.type?null!=o.reason&&o.reason&&o.userList&&0<o.userList.length&&un(cn.onOpenOtherCameraFail,[o.reason,o.userList]):"asr_handle"===o.action.type?null!=o.reason&&o.reason&&un(cn.onSpeechRecognitionException,[o.reason]):null!=o.reason&&o.reason&&un(cn.onHandlerNotifyErrCode,[o]))}catch(e){$r.error("handle remote video or other error")}})}}function us(e,t){"audio"===e?Oa.handleRemoteAudioStream(e,t):Ws.setLastStreamState(e,t)}function cs(e){!function(e){try{var t=!1;if(e.sipID===Du().sipAccount&&(e.self=!0),0===e.msg.indexOf("Share ")&&-1!==e.msg.indexOf("http")){var n=function(e){var t,n=e.match(Ur);void 0!==n&&5===n.length&&((t={}).type=n[1],t.name=n[2],t.size=n[3],t.location=n[4]);return t}(e.msg);n&&(n.from=e.from,n.no=e.no,n.self=e.self,n.sipID=e.sipID,t=!0,un(cn.onRecFileMsg,[n]))}t||(++Pr,e.seqno=Pr,un(cn.onRecChatMsg,[e]))}catch(e){Lr.error("ParseMessageError:"+e)}}(e)}var ds=function(e){Ju()||($r.warn("web-client Error Trigger:"+JSON.stringify(e)),Ou.onErrorHandler(e))};function ls(e){Ju()||Ou.onByeHandler(e)}var fs={};function Es(e){if($r.info("onIceRestart mediaType: "+e),e&&""!=e){delete fs[e];var t=0;for(var n in fs)t+=1;0==t&&$r.info("all media ice reconnection success, will close error tips")}}function _s(e){if($r.info("onIceConnectionFailedFirst mediaType: "+e),e&&""!=e){var t=VIDEO.ICE_FAILED_FIRST;fs[e]="disconnection",$(".iceFailedTips").text(t).show()}}var ps,Rs=function(e,t){var n="uid="+e+";action=mute_user;conf-id="+Du().meetingNum+";mute-status=1";is(n,function(e){$r.info("muteuser result: "+JSON.stringify(e)),t&&"function"==typeof t&&t(e)})},hs=function(e,t){var n="uid="+e+";action=mute_user;conf-id="+Du().meetingNum+";mute-status=0";is(n,function(e){$r.info("unmuteall result: "+JSON.stringify(e)),t&&"function"==typeof t&&t(e)})},Ss=function(t){var e="uid=all;action=mute_user;conf-id="+Du().meetingNum+";mute_status=1";is(e,function(e){$r.info("muteAll result: "+JSON.stringify(e)),t&&"function"==typeof t&&t(e)})},Os=function(t){var e="uid=all;action=mute_user;conf-id="+Du().meetingNum+";mute_status=0";is(e,function(e){$r.info("unmuteAll result: "+JSON.stringify(e)),t&&"function"==typeof t&&t(e)})},ms=function(e){window.getAvailableDev(e)},Cs=function(e,t){var n=Du(),o="uid="+n.sipAccount+";action=mute;conf-id="+n.meetingNum+";mute-status="+(e?1:0);is(o,function(e){t&&"function"==typeof t&&t(e)})},vs=function(e,n){window.sipMuteMic(e,function(e){if(n&&"function"==typeof n){var t;t=gu(e),n(t)}})},gs=function(e,t){if(Ku()){var n=Du(),o="uid="+n.sipAccount+";action=mute_user;conf-id="+n.meetingNum+";mute-status="+(e?1:0);is(o,function(e){t&&"function"==typeof t&&t(e)})}else t&&"function"==typeof t&&t("Conference connect already break!")},Ts=function(e,t){var n=Du(),o="uid="+n.sipAccount+";action=white_board;conf-id="+n.meetingNum+";status="+e;is(o,function(e){$r.info("share white board info result: {}",e),t&&"function"==typeof t&&t(e)})},Is=function(e,t,n){var o={};o.to=Du().meetingNum,o.msg=t,null!=e&&""!==e&&(o.target=e),window.sipSendMessage(o,n)},Ns=So.getLogger("VIDEO_RESOLUTION_SWITCH"),ys=(yo.VideoResolutionMode.auto,[]),ws=[],As=[],Ds=[],Ms=!1,bs=!1,Ls={getScreenResolution:function(){var e;return void 0===window.devicePixelRatio&&(window.devicePixelRatio=1),e=Wa(navigator.userAgent)?"480":window.screen.height*window.devicePixelRatio*window.screen.width*window.devicePixelRatio<=1296e3?"720":"1080",Ns.info("screen resolution = {} * {}",window.screen.height*window.devicePixelRatio,window.screen.width*window.devicePixelRatio),e}},Ps=Ls.getScreenResolution();function Us(e){if(e)return e.map(function(e){return e.toString()})}Ls.init=function(e){if(e){Ns.info("video resolution switch data:"+JSON.stringify(e));var t=e.X_IPVT_Client_Info;if(t){if(0<(ps=e.codec).length)for(var n=0;n<ps.length;n++)"H264"===ps[n]?Ms=!0:"VP8"===ps[n]&&(bs=!0);Ns.info("coding: "+ps);var o=t.s_value.split("="),i=JSON.parse(o[1]);i.h264&&(ys=Us(ys=l(i.h264)),As=ys.concat(),Ns.info("h264Sizes: "+ys)),i.vp8&&(ws=Us(ws=l(i.vp8)),Ds=ws.concat(),Ns.info("vp8Sizes: "+ws));var a=ys,r=ws;if(0<a.length||0<r.length){var s={};if(s.initConsultedResolution=function(e){var t="";switch(e){case"1080":t="FHD";break;case"720":t="HD";break;case"480":t="SD"}return t}(Ps),Ms&&!bs)s.recvMainStreamSizes=a;else if(!Ms&&bs)s.recvMainStreamSizes=r;else if(Ms&&bs){for(var u=0;u<a.length;u++)for(var c=0;c<r;c++)a[u]===r[c]&&r.splice(c,1);if(0<r.length)for(var d=0;d<r.length;d++)a.push(r[d]);s.recvMainStreamSizes=a}un(cn.onUserRecvMainStreamSizesAvailable,[s])}}}function l(e){if(Array.isArray(e))return e.map(function(e){return e.replace("p","")-0}).sort(function(e,t){return e-t})}},Ls.getVideoPackageSizes=function(){return{h264:As,vp8:Ds}};var Vs=So.getLogger("VIDEO");tn(cn.onRemoteStreamChange,function(e){Vs.info("remote stream change:"+e),"video"===e?Ws.isCurrentMainVideoOpen()&&Ws.NotifyRePlayMainVideo():"present"===e&&Ws.isCurrentPresentVideoOpen()&&(Ws.isIamSharingPresent()||Ws.NotifyRePlayPresentVideo())}),tn("OnOnmute",function(e){Vs.info("browser onmute stream type:"+e.type),"safari"===window.adapter.browserDetails.browser&&!1===window.adapter.browserDetails.isWebRTCPluginInstalled&&("audio"===e.type?Vs.info("browser mute mic,give tip to rejoin meeting"):"video"===e.type?Vs.info("browser mute camera,give tip to rejoin meeting"):e.type)});var Gs={LAYOUT_PLAIN_2:"a",LAYOUT_PLAIN_4:"b",LAYOUT_PLAIN_9:"c",LAYOUT_PLAIN_16:"d",LAYOUT_PLAIN_25:"e",LAYOUT_PLAIN_36:"f",LAYOUT_PLAIN_49:"g",LAYOUT_AUTO:"0",LAYOUT_FOCUS_1_SMALL_3:"1",LAYOUT_FOCUS_1_SMALL_5:"2",LAYOUT_FOCUS_1_SMALL_7:"3",LAYOUT_FOCUS_1:"4",LAYOUT_SPEAKER:"speaker"},ks={};Object.keys(Gs).forEach(function(e){ks[Gs[e]]=e});var Hs,Fs={demo:void 0,present:void 0,defaultt:void 0},xs={video:"close",present:"close"},Bs=!1,Ws={};Ws.getVideoQuality=function(){return window.sipGetRtpInfo()},Ws.setLastStreamState=function(e,t){Vs.info("video or present stream>> s_stype: "+e),"video"===e?!0===t?(xs.video="established_wait_notify",Vs.info("videostream>> stream established...")):(xs.video="close",Vs.info("videostream>>  stream close...")):"present"===e&&(!0===t?(xs.present="established_wait_notify",Vs.info("prensentstream>> stream established...")):(xs.present="close",Vs.info("presentstream>>  stream close...")))},Ws.getLastStreamState=function(){return xs},Ws.isIamSharingPresent=function(){return Bs},Ws.isCurrentMainVideoOpen=function(){return Fs.defaultt},Ws.isCurrentPresentVideoOpen=function(){return Fs.present},Ws.NotifyRePlayMainVideo=function(){var e=setInterval(function(){"established_wait_notify"===Ws.getLastStreamState().video&&(Vs.info("replay main video>> established_wait_notify"),clearInterval(e),un(cn.onMainVideoOpen,[]))},50)},Ws.NotifyRePlayPresentVideo=function(){var e=setInterval(function(){"established_wait_notify"===Ws.getLastStreamState().present&&(Vs.info("replay present video>> established_wait_notify"),clearInterval(e),un(cn.onPresentVideoOpen,[Hs]))},50)},Ws.handRemoteVideo=function(e){if(e.status){var t={};if(Vs.info("new confInfo.status.present:"+e.status.present+",currentMediaStatus.present:"+Fs.present),Vs.info("new confInfo.status.video:"+e.status.video+",currentMediaStatus.main:"+Fs.defaultt),Fs.demo=!0,e.status.present&&!0!==Fs.present){if(t.shareType=e.share_type,t.whoShare=Js.getPresenterId(),t.presenterdisplay=Js.getPresenterDisplay(),Js.getPresenterId()===Du().sipAccount&&(t.isSrcFromMe=!0),Fs.present=!0,(Hs=t).isSrcFromMe)un(cn.onPresentVideoOpen,[t]),Bs=!0;else if(Bs=!1,"established_wait_notify"===xs.present)un(cn.onPresentVideoOpen,[t]);else var n=setInterval(function(){"established_wait_notify"===xs.present&&(clearInterval(n),un(cn.onPresentVideoOpen,[t]))},50);Vs.info("now meetings type is present meeting")}else e.status.present||!0!==Fs.present||(Fs.present=!1,Hs=void 0,Vs.info("now meetings type is main meeting"),Bs?Bs=!1:un(cn.onPresentVideoClose,[]),Vs.warn("ConfUser.getMyPreviewStats: {}, isIamSharingPresent:{}",Js.getMyPreviewStats(),Bs))}},Ws.clearLocalPresentStream=function(){var e=Ws.getPresentStream(!0);e&&e.getTracks().forEach(function(e){e.stop(),Vs.info("[confVideo]clear local present stream")})},Ws.getVideoStream=function(e){return window.sipGetStream("video",e)},Ws.getPresentStream=function(e){return window.sipGetStream("present",e)},Ws.switchPresentationSource=function(t,e,n){if(Ws.isIamSharingPresent()){var o=Ws.getPresentStream(!0);if(t){var i=void 0;switch(t){case"window":i="info-present-window";break;case"screen":i="info-present-screen";break;case"tab":i="info-present-tab";break;default:i="info-present-all"}sipChangePresent(i,e,function(e){e&&e.codeType===va.ACTION_SUCCESSED&&o&&(o.oninactive=null,o.getTracks().forEach(function(e){e.stop(),Vs.info("[confVideo]clear local present stream")})),n&&n(e,t)})}}},Ws.handlerConfMainVideo=function(e){if(Vs.info("conf_video handlerConfMainVideo, mainVideoStatus:"+e+",currentMediaStatus.defaultt:"+Fs.defaultt),1==e&&1!=Fs.defaultt)if(Fs.defaultt=!0,"established_wait_notify"!==xs.video||Js.getMyPreviewStats())var t=setInterval(function(){"established_wait_notify"===xs.video&&(clearInterval(t),Js.getMyPreviewStats()||un(cn.onMainVideoOpen,[]))},50);else un(cn.onMainVideoOpen,[]);else 0==e&&1==Fs.defaultt&&(Fs.defaultt=!1,un(cn.onMainVideoClose,[]))},Ws.openAttendeeCamera=function(e,t){!function(e,t){var n="uid="+e+";action=open_other_camera;conf-id="+Du().meetingNum+";status=1";is(n,function(e){t&&"function"==typeof t&&t(e)})}(e,t)},Ws.closeAttendeeCamera=function(e,t){!function(e,t){var n="uid="+e+";action=setv1v2;conf-id="+Du().meetingNum+";sendv1=N;revv1=P;sendv2=P;recvv2=P";is(n,function(e){$r.info("host close user camera result:"+JSON.stringify(e)),t&&"function"==typeof t&&t(e)})}(e,t)};var Ys="",js=!(Ws.getLiveVideoResolution=function(){if(""!==Ys)return Ys;var e=Ls.getVideoPackageSizes();if(e){var t=e.h264;return Ys=t[t.length-1]}return""});Ws.openLiveStream=function(e,i){var t=Js.getMyId();if(js){Vs.info("last live request not finished.");var n;n=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(n)}else{js=!0,tn(cn.onLiveNotifyReceived,function(e){if(e)if("1"===e.sRetCode){var t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);i&&"function"==typeof i&&i(t),Vs.info("user [{}] live failed!",e.sAccount),Vs.warn(Di.LIVE_FAIL_TIP);var n={xwebid:ma.xwebid,result:"fail",type:e.sType,sernum:e.sernum};nn(ma.MEETINGS_URL+"/living/result",n,"application/x-www-form-urlencoded").then(function(e){0===e.state&&Vs.warn("update server webrtc server live state success : {}",n)}).catch(function(e){})}else{Vs.info("user [{}] live success!",e.sAccount);var o;o=Tu(Yi.GS_ERROR_CODE_NO_ERROR),i&&"function"==typeof i&&i(o)}sn(cn.onLiveNotifyReceived),js=!1});var o={};e.forceFlag&&(o.force=e.forceFlag?"true":"false"),o.xwebid=ma.xwebid,o.sipid=t,o.push=e.rtmpAddr,e.code&&(o.code=e.code),o.resolution=Ws.getLiveVideoResolution()+"p";var a=ma.MEETINGS_URL+"/living/push";nn(a,o,"application/x-www-form-urlencoded").then(function(e){if(0===e.state)Vs.info(Di.OTHER_LIVING_OK);else{var t={};t="repeated_live_uri"===e.msg?Tu(Yi.GS_ERROR_CODE_LIVING_RTMP_FAIL):"self_lived"===e.msg?Tu(Yi.GS_ERROR_CODE_SELF_HAS_LIVING):"others_lived"===e.msg?Tu(Yi.GS_ERROR_CODE_OTHER_HAS_LIVING):Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),Vs.info(t.description),i&&"function"==typeof i&&i(t),js=!1,sn(cn.onLiveNotifyReceived)}}).catch(function(e){var t,n=JSON.stringify(e);return t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(t),js=!1,sn(cn.onLiveNotifyReceived),Vs.error(n)}),setTimeout(function(){js&&(Vs.info("me [{}] live request timeout.",t),js=!1,sn(cn.onLiveNotifyReceived))},22e3)}};var Ks=So.getLogger("ATTENDEE"),Js={},qs=!1,zs=!1;tn(cn.onConfQuit,function(){zs=qs=!1});var Qs={},Xs=0,$s=!1,Zs={},eu={},tu={},nu=!1,ou=1,iu={status:{},options:{},host:void 0,me:void 0,started:!1,confUsedTimes:0,maxusercount:0,currcamcount:0,presenterdisplay:void 0},au={};Js.getConfUsedTimes=function(){return iu.confUsedTimes},Js.getUserList=function(){return jn(Qs)},Js.getCachedRoomInfo=function(){return jn(iu)},Js.isInitConfOk=function(){return qs},Js.isCanBeEndConf=function(){return ru().endconf},Js.isCanBeUnmuteAfterMuted=function(){var e=Qs[iu.me].options.unmuted;return yo.convertBooleanToSwitchSta(e)},Js.getMyMicStatus=function(){return Js.getUserById(iu.me).micSta};var ru=function(){var e=Js.getUserById(iu.me);if(!e)return!1;var t=e.confperm;return null!=t&&{camera:yo.convertBooleanToSwitchSta(t.camera),present:yo.convertBooleanToSwitchSta(t.present),handdown:yo.convertBooleanToSwitchSta(t.handdown),muted:yo.convertBooleanToSwitchSta(t.muted),kickuser:yo.convertBooleanToSwitchSta(t.kickuser),endconf:yo.convertBooleanToSwitchSta(t.endconf),grantpanelrolePerm:yo.convertBooleanToSwitchSta(t.grantpanelrole)}};Js.MyselfIsHost=function(){return!!Js.getHostList()[Js.getMyId()]},Js.getUserById=function(e){return jn(Qs[e])},Js.getMyId=function(){return iu.me},Js.getMyself=function(){return Js.getUserById(Js.getMyId())},Js.userIsHost=function(e){var t=e;return"object"==eo(e)&&(t=e.id),!!Js.getHostList()[t]},Js.getPresenterId=function(){return iu.presenter},Js.getHostList=function(){return jn(eu)},Js.getAllUserId=function(){var e=[];for(var t in Qs)e.push(t);return e},Js.getConfSmartLayoutState=function(){return Js.getCachedRoomInfo().status.smart_layout},Js.getMyselfUsersViewState=function(){var e=yo.SwitchSta.On,t=Js.getCachedRoomInfo();if(t&&t.status&&(e=yo.convertBooleanToSwitchSta(t.status.userlist)),e===yo.SwitchSta.Off){var n=Js.getUserRole(Js.getMyId());"host"!==n&&"webinar_panelist"!==n||(e=yo.SwitchSta.On)}return Ks.info("user self view state:"+e),e},Js.userIsPanelist=function(e){var t=e;"object"==eo(e)&&(t=e.id);var n=Js.getUserRole(t);return!(!n||"webinar_panelist"!==n)},Js.userIsRegular=function(e){var t=Js.getUserRole(e);return!(!t||"meeting_regular"!==t&&"webinar_regular"!==t)},Js.getUserRole=function(e){var t=jn(tu[e]);if(t)return t;var n=Js.getUserById(e);return n?n.role:void 0},Js.getConfShareCamNum=function(){return Js.getCachedRoomInfo().currcamcount},Js.getPresenterDisplay=function(){return Js.getCachedRoomInfo().presenterdisplay},Js.getConfPollState=function(){return Js.getCachedRoomInfo().status.poll},Js.getMyPreviewStats=function(){return Js.getUserById(Js.getMyId()).newstatus.preview},Js.getPreviewedUser=function(){return Js.getCachedRoomInfo().previewed};var su={};Js.getAttendeeCard=function(n,o){var i=!1,e=Du().meetingSerialNum,t=ma.MEETINGS_URL+"/rtc/user/invite_card";nn(t,{confSerNum:e,userid:n,displayName:o},"application/x-www-form-urlencoded").then(function(e){var t;(Ks.info("[web] request user card success, state: "+e.state),0===e.state)?(su[n]&&delete su[n],e.entity&&(t=e.entity.headImg&&""!==e.entity.headImg?APP_DOMAIN+"/download?fileId="+e.entity.headImg:"",su[n]={userid:n,dispalyName:o,headImg:t,email:e.entity.email,description:e.entity.description})):(!1===i&&setTimeout(function(){Js.getAttendeeCard(n,o)},500),i=!0)}).catch(function(e){Ks.warn("[web]request user card error, will retry again, err: "+e),!1===i&&setTimeout(function(){Js.getAttendeeCard(n,o)},500),i=!0})};var uu=[];function cu(n){try{n&&function(e){var t=e.layout;if(t){var u=t.layoutList;if(null==u)return;if("full"==t.state)for(var n in Su){for(var o=!1,i=0,a=u.length;i<a;i++)if(n==u[i].id){o=!0;break}o||delete Su[n]}for(var r=function(e){var t=u[e],i=Su[t.id];if(null!=i){if("host"!=Js.getUserById(Js.getMyId()).role&&t.id==yo.ConfLayoutType.Conf&&i.txt==yo.LayoutSettingMode.Speaker&&t.txt==yo.LayoutSettingMode.Manual&&(delete Su[yo.ConfLayoutType.Special1],delete Su[yo.ConfLayoutType.Special2]),null!=t.enable&&i.enable!=t.enable&&(i.enable=t.enable,un(cn.onSpeicalLayoutStatusChange,[t.id,yo.convertBooleanToSwitchSta(t.enable)])),null!=t.txt&&i.txt!=t.txt&&(i.txt=t.txt,un(cn.onLayoutTxtChange,[t.txt])),null!=t.video&&(i.video=t.video),t.upload)if(!t.upload.mode&&null==t.upload.smart||i.upload.mode==t.upload.mode&&i.upload.smart==t.upload.smart||(i.upload.mode=t.upload.mode,i.upload.smart=t.upload.smart,un(cn.onConfVideoLayoutChange,[t.id,t.upload.mode,t.upload.smart,t.txt])),null!=t.upload.all&&(i.upload.all=t.upload.all),null!=t.upload.time&&(i.upload.time=t.upload.time),"partial"==t.upload.state){var a=i.upload.users,n=t.upload.userList;a&&n?n.forEach(function(e,t){var n=a[e.id];if(n)"delete"==e.state?delete a[e.id]:(n.id=e.id,n.name=e.name,n.position=e.position,n.seqNum=e.seqNum,n.uuid=e.uuid);else{var o={id:e.id,name:e.name,position:e.position,seqNum:e.seqNum,state:e.state,uuid:e.uuid};a[e.id]=o}}):null==a&&n&&(i.upload.users={},t.upload.userList.forEach(function(e,t){if(null==e.state||"delete"!=e.state){var n={id:e.id,name:e.name,position:e.position,seqNum:e.seqNum,state:e.state,uuid:e.uuid};i.upload.users[e.id]=n}}))}else i.upload.users={},t.upload.userList.forEach(function(e,t){if(null==e.state||"delete"!=e.state){var n={id:e.id,name:e.name,position:e.position,seqNum:e.seqNum,state:e.state,uuid:e.uuid};i.upload.users[e.id]=n;try{null!=e.uuid&&""!=e.uuid&&un(cn.onLayoutUserInfoChange,[jn(n)])}catch(e){Ks.error("update poll userinfo about web setting:"+e)}}});if(t.download)if(i.download.all=t.download.all,"partial"==t.download.state){var r=i.download.users,o=t.download.userList;o&&r?o.forEach(function(e,t){var n=r[e.id];if(n)"delete"==e.state?delete i.download.users[e.id]:(n.id=e.id,n.name=e.name,n.uuid=e.uuid);else{var o={id:e.id,state:e.state,name:e.name,uuid:e.uuid};r[e.id]=o}}):o&&!r&&(i.download.users={},t.download.userList.forEach(function(e,t){if(null==e.state||"delete"!=e.state){var n={id:e.id,state:e.state,name:e.name,uuid:e.uuid};i.download.users[e.id]=n}}))}else i.download.users={},t.download.userList.forEach(function(e,t){if(null==e.state||"delete"!=e.state){var n={id:e.id,state:e.state,name:e.name,uuid:e.uuid};i.download.users[e.id]=n,null!=e.uuid&&e.uuid}})}else{var s={id:t.id,enable:t.enable,video:t.video,txt:t.txt,upload:{},download:{}};t.upload&&(s.upload.time=t.upload.time,s.upload.all=t.upload.all,s.upload.smart=t.upload.smart,s.upload.mode=t.upload.mode,t.upload.userList&&0<t.upload.userList.length&&(s.upload.users={},t.upload.userList.forEach(function(e,t){if(null==e.state||"delete"!=e.state){var n={id:e.id,name:e.name,position:e.position,seqNum:e.seqNum,state:e.state,uuid:e.uuid};s.upload.users[e.id]=n}}))),t.download&&(s.download.all=t.download.all,t.download.userList&&0<t.download.userList.length&&(s.download.users={},t.download.userList.forEach(function(e,t){if(null==e.state||"delete"!=e.state){var n={id:e.id,state:e.state,name:e.name,uuid:e.uuid};s.download.users[e.id]=n}}))),Su[t.id]=s,un(cn.onLayoutInit,[s])}},s=0;s<u.length;s++)r(s);var c=Su[yo.ConfLayoutType.Conf];c&&c.txt==yo.LayoutSettingMode.Speaker&&un(cn.onSpeicalLayoutIconInit,[]),un(cn.onLayoutVideoStatsChange,[])}}(n)}catch(e){Ks.error("handler layout info error."+e)}try{n&&function(e){e&&e.banner&&e.banner.videoContent&&(au={videoContent:e.banner.videoContent,layoutId:e.banner.layoutId,showEnable:e.banner.showEnable,showTime:e.banner.showTime,mixText:e.banner.mixText})}(n)}catch(e){Ks.error("handler banner info error."+e)}try{n&&(function(e){Ks.info("rec notify,then handle confInfo");var t=e.confInfo;if(!t)return;"host"!==Js.getUserRole(Js.getMyId())&&void 0!==t.layoutSpeaker&&(t.layoutSpeaker=void 0);if(qs){if(t.status){if(t.status.rec!==iu.status.rec){var n={type:"sysinfo_status_rec"};n.msg=t.status.rec,un(cn.onRecChatMsg,[n]),un(cn.onConfRecordStatusChange,[yo.convertBooleanToSwitchSta(t.status.rec)])}if(t.status.lock!==iu.status.lock&&un(cn.onConfLockStatusChange,[yo.convertBooleanToSwitchSta(t.status.lock)]),t.status.userlist!==iu.status.userlist){var o={type:"sysinfo_status_userlist"};o.msg=t.status.userlist,un(cn.onRecChatMsg,[o]);var i=Js.getUserRole(Js.getMyId());un(cn.onUsersViewStatusChange,"host"==i||"webinar_panelist"==i?[yo.SwitchSta.On]:[yo.convertBooleanToSwitchSta(t.status.userlist)]),un(cn.onConfUsersViewStatusChange,[yo.convertBooleanToSwitchSta(t.status.userlist)])}if(t.status.mute!==iu.status.mute&&un(cn.onConfMuteStatusChange,[yo.convertBooleanToSwitchSta(t.status.mute)]),t.status.video_layout!==iu.status.video_layout||(t.status.smart_layout,iu.status.smart_layout),t.status.poll,iu.status.poll,t.status.speechRecognition!==iu.status.speechRecognition&&un(cn.onSpeechRecognitionStaChange,[yo.convertBooleanToSwitchSta(t.status.speechRecognition)]),t.status.whiteBoard!==iu.status.whiteBoard){var a=void 0;t.status.whiteBoard===yo.SharePresentType.Whiteboard?a=1:t.status.whiteBoard===yo.SharePresentType.Doc&&(a=2);var r={status:t.status.whiteBoard,displayName:t.whiteBoardDisplay,userid:t.whiteBoardUser};void 0!==a&&(r.shareType=a),un(cn.onConfWhiteboardStatusChange,[r])}if(t.status.p2p!==iu.status.p2p){var s=ConfHepler.convertBooleanToSwitchSta(t.status.p2p);un(cn.onConfp2pModeChange,[s])}iu.started=t.status.started,iu.status=t.status}if(t.options){if(t.options.message!==iu.options.message){var u={type:"sysinfo_options_message"};u.msg=t.options.message,un(cn.onRecChatMsg,[u]);var c=Js.getUserRole(Js.getMyId());un(cn.onChatStatusChange,"host"==c||"webinar_panelist"==c?[yo.SwitchSta.On]:[yo.convertBooleanToSwitchSta(t.options.message)]),un(cn.onConfChatStatusChange,[yo.convertBooleanToSwitchSta(t.options.message)])}t.options.enableLayout!==iu.options.enableLayout&&un(cn.onAttendEnableLayoutStatusChange,[yo.convertBooleanToSwitchSta(t.options.enableLayout)]),iu.options=t.options}if(void 0!==t.presenter&&""!==t.presenter&&(iu.presenter=t.presenter),t.conftime&&(iu.confUsedTimes=t.conftime),t.currcamcount&&(iu.currcamcount=t.currcamcount),void 0!==t.layoutSpeaker&&t.layoutSpeaker!==iu.layoutSpeaker)Ks.info("layout>> update: "+t.layoutSpeaker),iu.layoutSpeaker=t.layoutSpeaker,t.status?t.status.video:Ws.isCurrentMainVideoOpen(),iu.status.video_layout&&(iu.status.video_layout,yo.VideoLayout.Plain);if(void 0!==t.presenterdisplay&&(iu.presenterdisplay=t.presenterdisplay,t.status.present||(iu.presenterdisplay=void 0)),void 0!==t.switchtime&&(iu.switchtime=t.switchtime),void 0!==t.previewed&&t.previewed!==iu.previewed){var d=Js.getUserById(Js.getMyId()).cause,l=yo.convertBooleanToSwitchSta(Js.getUserById(Js.getMyId()).newstatus.preview);un(cn.onPreviewStatsChange,[iu.previewed,t.previewed,l,d]),iu.previewed=t.previewed}t.whiteBoardUser&&t.whiteBoardUser!==iu.whiteBoardUser&&(iu.whiteBoardUser=t.whiteBoardUser),t.whiteBoardDisplay&&t.whiteBoardDisplay!==iu.whiteBoardDisplay&&(iu.whiteBoardDisplay=t.whiteBoardDisplay)}else{qs=!0,iu.status=t.status,iu.options=t.options,iu.presenter=t.presenter,iu.layoutSpeaker=t.layoutSpeaker,iu.maxusercount=t.maxusercount,iu.confUsedTimes=t.conftime,iu.maxCam=t.maxCam,iu.started=t.status.started,iu.auto_rec=t.status.auto_rec,iu.allow_rec=t.status.allow_rec,iu.currcamcount=t.currcamcount,iu.presenterdisplay=t.presenterdisplay,iu.switchtime=t.switchtime,iu.previewed=t.previewed,iu.whiteBoardDisplay=t.whiteBoardDisplay,iu.whiteBoardUser=t.whiteBoardUser,Ks.info("layout>> init: "+t.layoutSpeaker),iu.started||(iu.host=void 0);var f={maxCam:iu.maxCam,confUsedTimes:iu.confUsedTimes,maxUserCount:iu.maxusercount,me:Js.getUserById(iu.me),chatSta:yo.convertBooleanToSwitchSta(t.options.message),muteSta:yo.convertBooleanToSwitchSta(t.status.mute),usersViewSta:yo.convertBooleanToSwitchSta(t.status.userlist),recordSta:yo.convertBooleanToSwitchSta(t.status.rec),auto_recSta:yo.convertBooleanToSwitchSta(t.status.auto_rec),allow_rec:yo.convertBooleanToSwitchSta(t.status.allow_rec),layoutSpeaker:t.layoutSpeaker,video_layout:t.status.video_layout,enableLayout:yo.convertBooleanToSwitchSta(t.options.enableLayout),auto_speechRecognition:yo.convertBooleanToSwitchSta(t.status.autoSpeechRecognition),speechRecognition:yo.convertBooleanToSwitchSta(t.status.speechRecognition),lockSta:yo.convertBooleanToSwitchSta(t.status.lock),enableASR:yo.convertBooleanToSwitchSta(t.status.enableASR)};un(cn.onConfInfoInit,[f]),un(on.EVENT_MEETING,[on.EVENT_JOIN_MEETING_SUCCESS,f]);var E=Js.getUserRole(Js.getMyId());if("host"===E||"webinar_panelist"===E?(un(cn.onChatStatusInit,[yo.SwitchSta.On]),un(cn.onUsersViewStatusInit,[yo.SwitchSta.On])):(un(cn.onChatStatusInit,[f.chatSta]),un(cn.onUsersViewStatusInit,[f.usersViewSta])),t.status.whiteBoard!==yo.SharePresentType.Close){var _=void 0;t.status.whiteBoard===yo.SharePresentType.Whiteboard?_=1:t.status.whiteBoard===yo.SharePresentType.Doc&&(_=2);var p={status:t.status.whiteBoard,displayName:t.whiteBoardDisplay,userid:t.whiteBoardUser,shareType:_};un(cn.onConfWhiteboardStatusChange,[p])}Ks.debug("confInfo state is fullhandler confInfo",t),!1===Js.getUserById(Js.getMyId()).newstatus.waiting&&t.status&&t.status.started?hu(!0):hu(!1)}if(Ks.debug("confInfo state is full or parthandler confInfo",t),!$s&&qs&&iu.status&&iu.status.started&&(0==Js.getUserById(Js.getMyId()).newstatus.waiting&&hu(!0),bu()==yo.ConfType.Webniar))for(var R in Qs)"host"!=R.role&&"webinar_panelist"!=R.role||Js.getAttendeeCard(R.id,R.display);if(0==zs&&"full"==e.state&&(zs=!0,0==$s)){var h={};0==Js.getUserById(Js.getMyId()).newstatus.waiting&&Js.userIsHost(Js.getMyId())&&(Js.getHostList()&&1==Object.keys(Js.getHostList()).length?h.hasPlanConfPerm=!0:h.hasPlanConfPerm=!1,un(cn.onTakePlaningConfPerm,[h.hasPlanConfPerm]))}}(n),setTimeout(function(){Ws.handRemoteVideo(n.confInfo);var e=Js.getUserById(Js.getMyId()),t=Su[e.layoutShow];Ws.handlerConfMainVideo(t.video)},10))}catch(e){Ks.error("handle confInfo from notify error:"+e)}}function du(e,t){var n=e.userList;e.userList||(e.userList=[]),zn(lu,n,null,t)}function lu(e){for(var t=0;t<e.length;t++){var n=e[t];Ks.info("[confUser]user notify state:{}",n.state);try{if(void 0!==n)if("deleted"===n.state){var o=jn(n);Eu(n),Ao.deleteUser(o)}else{var i=Qs[n.id];if("partial"===n.state&&void 0===i){Ks.info("[confUser]user cache is not exist and user state is partial,user.id:{}",n.id);continue}var a=jn(n),r=void 0;tu[n.id]=n.role,"host"===n.role&&(eu[n.id]=n),void 0!==i&&(r=jn(i)),void 0===i&&Ao.insertNewUser(a),fu(n),Ks.info("update or insert user to userlist cache"),r&&(Ks.info("into ConfUserSort updateUserlist"),Ao.updateUserlist(r,a))}}catch(e){Ks.error("handler user,user.id:"+n.id+",error:"+e+"{}",e)}}}Js.pushConfInfo2ConfUserExecuteQueue=function(e,t){void 0!==e&&(e.cachedSeqno=ou++,Ks.debug("push cached confInfo to queue(seqno): "+e.cachedSeqno),uu.push({data:e,cb:t}),1===uu.length&&function e(){var t=uu.shift();if(t){var n=t.data;if(Ks.debug("shift cached confInfo from queue(seqno): "+n.cachedSeqno),Ks.info("[confUser]recv notify, execute conf info"),n&&n.confInfo&&n.confInfo.host&&n.confInfo.host,n&&n.confInfo&&n.confInfo.me&&(iu.me=n.confInfo.me),null==n.userList&&(n.userList=[]),"full"===n.state&&qs)try{var o=_u(n.userList);Ks.info("[cache user] success remove orphan users total: "+o)}catch(e){Ks.error("refresh user list error:"+e)}du(n,function(){cu(n),t.cb&&t.cb(),e()})}}())};var fu=function(e){if(!e)return Ks.info("[cache user] don't cache, user is null"),!1;Ks.info("[cache user] will cache user: "+JSON.stringify(e)),e.self&&e.id;var t=Qs[e.id];if(t){Ks.info("[cache user] update old cache, because exist userid: "+e.id);try{!function(e,t){if(e!=t){if("get_host"==t.action&&(Ks.info("[confUser]user action type:"+t.action),t.name=e.name,un(cn.onConfHostChange,[t])),t.role){if(t.role!=e.role){if("host"==t.role&&(Zs[t.id]=t,eu[t.id]=t,iu.started)){var n={type:"sysinfo_host"};n.msg=t.id,un(cn.onRecChatMsg,[n])}tu[t.id]=t.role,t.name=e.name,bu()!=yo.ConfType.Meeting&&("host"!=t.role&&"webinar_panelist"!=t.role||Js.getAttendeeCard(t.id,t.name),un(cn.onWebniarConfRoleChange,[t])),bu()==yo.ConfType.Meeting&&un(cn.onMeetingConfHostChange,[t]),t.self&&("host"!=t.role&&"webinar_panelist"!=t.role||(Ks.info("user role change, userlistview state or conf status change"),un(cn.onChatStatusChange,[yo.SwitchSta.On]),un(cn.onUsersViewStatusChange,[yo.SwitchSta.On])))}e.role=t.role;var o=ru();t.self||un(cn.onMyUserlistPermLoad,[t.id,o])}if(t.status){var i=Ru(t.status);if(e.micSta!=i){e.micSta=i,un(cn.onUserMicStatusChange,[t.id,i]);var a=ru();t.self||un(cn.onMyUserlistPermLoad,[t.id,a])}var r=pu(t.status);if(e.camSta!=r){e.camSta=r,un(cn.onUserCameraStatusChange,[t.id,r]);var s=ru();t.self||un(cn.onMyUserlistPermLoad,[t.id,s])}e.status=t.status}if(t.self){var u={};if(t.options&&(t.options.message!=e.options.message&&(e.chatSta=yo.convertBooleanToSwitchSta(t.options.message)),t.options.camera!=e.options.camera&&(Ta.isCameraSharing()&&(Ks.info("[confUser]use no permisson, open camera before then close camera"),Ta.stopShareCamera(UiUserList.closeShareWebcamCallback)),u.sharecamPerm=yo.convertBooleanToSwitchSta(t.options.camera),un(cn.onMySelfPermLoad,[u])),t.options.present!=e.options.present&&(e.newstatus.isPresent&&(Ks.info("[confUser]use no permisson but sharing before then stop share"),Ws.stopShare(UiShare.stopPresentCallback)),u.presentPerm=yo.convertBooleanToSwitchSta(t.options.present),un(cn.onMySelfPermLoad,[u])),t.options.handup!=e.options.handup&&(u.handupPerm=yo.convertBooleanToSwitchSta(t.options.handup),un(cn.onMySelfPermLoad,[u])),t.self&&(t.options.userlist!=e.options.userlist&&(e.usersViewSta=yo.convertBooleanToSwitchSta(t.options.userlist)),t.options.unmuted!=e.options.unmuted&&(u.unmutedStatus=yo.convertBooleanToSwitchSta(t.options.unmuted),un(cn.onMySelfPermLoad,[u]))),e.options=t.options),t.confperm){Ks.info("[confUser]update user conf permission");var c={},d=!1;if(t.confperm.inviteuser!=e.confperm.inviteuser&&(d=!0,u.inviteuserPerm=yo.convertBooleanToSwitchSta(t.confperm.inviteuser),un(cn.onMySelfPermLoad,[u])),t.confperm.grantpanelrole!=e.confperm.grantpanelrole&&(d=!0,c.grantpanelrolePerm=yo.convertBooleanToSwitchSta(t.confperm.grantpanelrole)),t.confperm.camera!=e.confperm.camera&&(d=!0,c.camera=yo.convertBooleanToSwitchSta(t.confperm.camera)),t.confperm.present!=e.confperm.present&&(d=!0,c.present=yo.convertBooleanToSwitchSta(t.confperm.present)),t.confperm.muted!=e.confperm.muted&&(d=!0,c.muted=yo.convertBooleanToSwitchSta(t.confperm.muted),un(cn.onMyConfPermLoad,[c])),t.confperm.handdown!=e.confperm.handdown&&(d=!0,c.handdown=yo.convertBooleanToSwitchSta(t.confperm.handdown),un(cn.onMyConfPermLoad,[c])),t.confperm.kickuser!=e.confperm.kickuser&&(d=!0,c.kickuser=yo.convertBooleanToSwitchSta(t.confperm.kickuser)),d){Ks.info("user userlist permission change, then update user list");for(var l=Js.getAllUserId(),f=0;f<l.length;f++){var E=l[f];E!=iu.me&&un(cn.onMyUserlistPermLoad,[E,c])}}e.confperm=t.confperm}}else t.options&&(e.options=t.options),t.confPerm&&(e.confperm=t.confperm);if(t.seqNum&&t.seqNum!=e.seqNum&&(e.seqNum=t.seqNum),t.position&&t.position!=e.position&&(e.position=t.position,un(cn.onUserFixedPositionChage,[t.id,t.position])),t.cause&&t.cause!=e.cause&&(e.cause=t.cause),t.layoutShow&&t.layoutShow!=e.layoutShow&&(e.layoutShow=t.layoutShow,un(cn.onUserWatchLayoutChange,[t.id,t.layoutShow])),t.newstatus){if(t.newstatus.handup!==e.newstatus.handup){e.handup=yo.convertBooleanToSwitchSta(t.newstatus.handup),t.name=e.name,t.handup=e.handup,un(cn.onUsersHandUpStatusChange,[t]);var _=ru();t.self||un(cn.onMyUserlistPermLoad,[t.id,_])}if(t.newstatus.poll!=e.newstatus.poll)yo.convertBooleanToSwitchSta(t.newstatus.poll);if(t.newstatus.fecc!=e.newstatus.fecc){var p={status:t.newstatus.fecc,userid:t.id};un(cn.onUserFeccStaChange,[p])}var R=e.newstatus.waiting,h=e.newstatus.preview;if(e.newstatus=t.newstatus,t.newstatus.preview!=h){var S=yo.convertBooleanToSwitchSta(t.newstatus.preview);t.self&&un(cn.onUserPreviewStatsChange,[S])}if(t.self&&0==t.newstatus.waiting&&1==R&&!nu){var O={canJoinBeforeConfStart:!0};if(Js.userIsHost(Js.getMyId())){O.hasStartConfPerm=!0;var m=0;for(var C in Js.getHostList())++m;1==m&&(O.hasPlanConfPerm=!0)}un(cn.onConfWaitingToStart,[O])}}}}(t,e)}catch(e){Ks.error("[confUser]update user cache error."+e)}}else{Ks.info("[cache user] success cache new useruserid"+e.id),void 0===e.options&&(e.options={});var n={id:e.id,name:e.display,isSelf:e.self,role:e.role,devType:yo.convertValueToDeviceType(e.type),camSta:pu(e.status),micSta:Ru(e.status),status:e.status,options:e.options,newstatus:e.newstatus,confperm:e.confperm,grantperm:e.grantperm,seqNum:e.seqNum,position:e.position,cause:e.cause,layoutShow:e.layoutShow};if(e.newstatus&&(n.handup=yo.convertBooleanToSwitchSta(e.newstatus.handup)),e.options&&(n.chatSta=yo.convertBooleanToSwitchSta(e.options.message),n.usersViewSta=yo.convertBooleanToSwitchSta(e.options.userlist)),Qs[e.id]=n,Xs+=1,bu()==yo.ConfType.Webniar&&("host"!=e.role&&"webinar_panelist"!=e.role||Js.getAttendeeCard(e.id,e.display)),un(cn.onConfUserNumberChange,[Xs]),un(cn.onConfUserInsert,[]),"host"==e.role&&(Zs[e.id]=n,eu[e.id]=n,!e.self&&zs)){var o={type:"sysinfo_host"};o.msg=n.id,un(cn.onRecChatMsg,[o])}e.self&&(iu.me=e.id);var i=ru();if(e.self&&"host"!=e.role||un(cn.onMyUserlistPermLoad,[e.id,i]),e.self){var a={};e.options&&(a.sharecamPerm=yo.convertBooleanToSwitchSta(e.options.camera),a.presentPerm=yo.convertBooleanToSwitchSta(e.options.present),a.handupPerm=yo.convertBooleanToSwitchSta(e.options.handup)),e.confperm&&(a.inviteuserPerm=yo.convertBooleanToSwitchSta(e.confperm.inviteuser)),un(cn.onMySelfPermLoad,[jn(a)]),un(cn.onMyConfPermLoad,[i]),Ks.info("insert new user then excute my conf permission")}if(!e.self&&zs&&e.action&&"join"==e.action){Ks.info("recv user join meetings notify then give tip");var r={type:"user_add"};r.msg=[{id:e.id,display:e.display}],un(cn.onRecChatMsg,[r])}}return!0},Eu=function(e){if(!e)return Ks.info("[cache user] don't remove cache, user is null"),!1;Ks.info("[cache user] will remove user from cache userid: "+e.id);var t=!1,n=Qs[e.id];if(n){var o={type:"user_del"};o.msg=[e.id],"deleted"==e.state&&un(cn.onRecChatMsg,[o]),un(cn.onUserQuit,[jn(n)]),e.self||delete Qs[e.id],Xs-=1,un(cn.onConfUserNumberChange,[Xs]),Zs[e.id]&&(delete Zs[e.id],delete eu[e.id]),Ks.info("[cache user] success remove user from cacheuserid: "+e.id),t=!0}return t};function _u(e){var t=!0,n=0;for(var o in Qs)if(t=!0,iu.me!=o){for(var i=0;i<e.length;i++)if(o==e[i].id){t=!1;break}t&&(Ks.info("[cache user] found orphan user will remove, userid: "+o),Ao.deleteUser(Qs[o]),Eu(Qs[o]),n+=1)}return n}function pu(e){var t;return e&&(t=e.opencamera&&e.openedcamera?yo.CamSta.Open:e.opencamera&&!e.openedcamera?yo.CamSta.CloseByHost:yo.CamSta.Close),t}function Ru(e){var t;return e&&(e.muted||e.mute?e.muted&&!e.mute?t=yo.MicSta.Forbidden:!e.muted&&e.mute?t=yo.MicSta.NormalMute:e.muted&&e.mute&&(t=yo.MicSta.ForbiddenMute):t=yo.MicSta.Normal),t}var hu=function(e){if(e)$s=e,un(cn.onConfStarted,[]),un(cn.onConfAllLoaded,[]),nu=!0;else{var t={};0==Js.getUserById(Js.getMyId()).newstatus.waiting&&(t.canJoinBeforeConfStart=!0,Js.userIsHost(Js.getMyId())&&(t.hasStartConfPerm=!0)),un(cn.onConfWaitingToStart,[t])}},Su={};Js.getLayoutInfo=function(e){return jn(Su[e])},Js.getRemoteVideoLayouts=function(){var e=[];for(var t in Su){var n={};if(n.layoutid=Su[t].id,n.enable=Su[t].enable,Su[t].txt==yo.LayoutSettingMode.Speaker?n.layoutmode=Gs.LAYOUT_SPEAKER:n.layoutmode=Su[t].upload.mode,e.push(n),n.layoutmode==Gs.LAYOUT_SPEAKER)break}return e},Js.getPollUserIdList=function(e){var t=[],n=[],o=Su[e];if(o&&o.upload&&o.upload.users){var i=o.upload.users;for(var a in i){var r=i[a];n.push(r)}}n.sort(function(e,t){return parseInt(e.seqNum)-parseInt(t.seqNum)});for(var s=0;s<n.length;s++)t.push(n[s].id);return t},Js.getFixedPositionUserList=function(e){var t=[],n=Su[e];if(n&&n.upload&&n.upload.users){var o=n.upload.users;for(var i in o){var a=o[i];a.position&&"0"!=a.position&&t.push(a)}}return t},Js.getLayoutShowUserIdList=function(e){var t=[],n=Su[e];if(n&&n.download&&n.download.users){var o=n.download.users;t=Object.keys(o)}return t},Js.getLayoutShowUserCacheList=function(e){var t=[],n=Su[e];if(n&&n.download&&n.download.users){var o=n.download.users;for(var i in o){var a=o[i];a.position&&"0"!=a.position&&t.push(a)}}return t},Js.getBannerInfoCache=function(){return jn(au)};var Ou={},mu=So.getLogger("CONF_ERROR_BYE");function Cu(e){Yu()?un(on.EVENT_MEETING,[on.EVENT_MEETING_EXIT,e]):un(on.EVENT_MEETING,[cn.onJoiningMeetingError,e])}function vu(e){e&&mu.info("[conf_error_bye] on bye meeting error:"+e.reasonCode);e.reasonCode;if("20015"!==e.reasonCode&&"20016"!==e.reasonCode){if("701"!==e.reasonCode&&"5023"!==e.reasonCode&&"5024"!==e.reasonCode&&"5025"!==e.reasonCode)return 3900<=parseInt(e.reasonCode)&&parseInt(e.reasonCode)<=4e3||20009<=parseInt(e.reasonCode)&&parseInt(e.reasonCode)<=20050?(Cu(e),e="Terminate",void un(cn.onConfQuit,[e])):(e.reasonCode,void Cu(e));Cu(e)}else Cu(e)}Ou.onErrorHandler=function(e){mu.info("Trigger:"+JSON.stringify(e)),Xu(),void 0===e.reasonCode&&(e.reasonCode=e.codeType);var t="ERROR_CODE_"+e.reasonCode,n=bi[t];if(void 0===n&&(n=Di.ONERROR_UNKNOWN),e.description=n,"100"===e.reasonCode)un(cn.onMicDenyShareError,[]);else{if("121"===e.reasonCode||"1"===e.reasonCode||"10"===e.reasonCode||"11"===e.reasonCode||"12"===e.reasonCode||"13"===e.reasonCode)return void Cu(e);if("701"===e.reasonCode)return Zr(function(){}),void Cu(e);if("131"===e.reasonCode)return void mu.warn(bi.ERROR_CODE_131);if("2"===e.reasonCode||"3055"===e.reasonCode||"5016"===e.reasonCode||"3008"===e.reasonCode||"3053"===e.reasonCode||"5019"===e.reasonCode||"3054"===e.reasonCode||"3004"===e.reasonCode||"5004"===e.reasonCode||"5005"===e.reasonCode||"5006"===e.reasonCode||"5007"===e.reasonCode||"1031"===e.reasonCode||"5009"===e.reasonCode||"8014"===e.reasonCode||"3006"===e.reasonCode||"5011"===e.reasonCode||"1026"===e.reasonCode||"8038"===e.reasonCode||"3063"===e.reasonCode){if("2"===e.reasonCode&&Yu()){var o=Mi.LOST_CONNECTION;e.description=o,mu.warn(o)}return void Cu(e)}if(e&&e.meetingid&&("3067"===e.reasonCode||"30022"===e.reasonCode))return void Cu(e);if("5027"===e.reasonCode||"5028"===e.reasonCode||"5029"===e.reasonCode)return void Cu(e);if("3901"===e.reasonCode)return void Cu(e)}!function(e){e&&mu.info("[conf_error_bye] on meeting error:"+e.reasonCode);if("120"===e.reasonCode)return mu.warn("IceConnectionFailedFirst"),Cu(e);var t="ERROR_CODE_"+e.reasonCode,n=bi[t];if(void 0===n)return n=Di.ONERROR_UNKNOWN,e.description=n,Cu(e);{if(e.description=n,"1032"!==e.reasonCode&&"1033"!==e.reasonCode)return"5001"===e.reasonCode||"5002"===e.reasonCode||"1005"===e.reasonCode||"1007"===e.reasonCode||"1013"===e.reasonCode||"1028"===e.reasonCode?(Cu(e),un(cn.onConfExceptionError,[n,Di.BTN_REJOIN])):"8037"===e.reasonCode?(Cu(e),un(cn.onConfExceptionError,[n,Di.RETRY_JOIN])):"121"===e.reasonCode||"700"===e.reasonCode||"1"===e.reasonCode||"8034"===e.reasonCode||"701"===e.reasonCode||"50057"===e.reasonCode||"30015"===e.reasonCode?("701"!==e.reasonCode||"30015"!==e.reasonCode||e.reasonCode,Cu(e),un(cn.onConfExceptionError,[n,Di.RETRY])):(Cu(e),un(cn.onConfInterruptError,[n]));Cu(e),un(cn.onConfQuit,[n])}}(e)},Ou.onByeHandler=function(e){if(Xu(),mu.info("[ConfErrorBye]OnBye Triger:"+e.reasonCode),null===e||"3016"===e.reasonCode||"3017"===e.reasonCode||"5008"===e.reasonCode)return Cu(e),e="Terminate",void un(cn.onConfQuit,[e]);if("5003"===e.reasonCode)return Cu(e),e="5003",void un(cn.onConfQuit,[e]);if("3054"!==e.reasonCode&&"5009"!==e.reasonCode&&"1031"!==e.reasonCode&&"5012"!==e.reasonCode&&"5013"!==e.reasonCode&&"5016"!==e.reasonCode&&"3008"!==e.reasonCode&&"3055"!==e.reasonCode&&"1015"!==e.reasonCode&&"1008"!==e.reasonCode&&"3052"!==e.reasonCode&&"1022"!==e.reasonCode&&"5010"!==e.reasonCode&&"3051"!==e.reasonCode&&"3901"!==e.reasonCode)if(e.meetingid&&"20036"===e.reasonCode)Cu(e);else if("3030"===e.reasonCode||"3033"===e.reasonCode){if(!Yu())return void Cu(e);vu(e)}else vu(e);else Cu(e)};var gu=function(e){var t={};switch(e.codeType){case va.ACTION_SUCCESSED:t=Tu(Yi.GS_ERROR_CODE_NO_ERROR);break;case va.TRANSPORT_ERROR:t=Tu(Yi.GS_ERROR_CODE_REQUEST_TIMEOUT);break;case va.SHARE_PERMISSION_DENIED:t=Tu(Yi.GS_ERROR_CODE_NO_PERMISSION);break;case va.FAILED_TO_SEND_INFO:e.reasonCode?(t=Tu(e.reasonCode),e.reasonCode!=Yi.GS_ERROR_CODE_ROOM_IN_SESSION_20036&&"3067"!=e.reasonCode&&"30022"!=e.reasonCode||(t.description=bi.ERROR_CODE_20036.replace("{id}",e.meetingid))):t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);break;case va.REQUEST_NOT_RESPONSE:t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);break;case va.SESSION_NOT_ESTABLISHED:t=Tu(Yi.GS_ERROR_CODE_NETWORK_ERROR);break;case va.STACK_NOT_STARTED:t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);break;case va.REGISTER_ERROR:t=e.reasonCode?Tu(e.reasonCode):Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);break;case va.TRANSPORT_NOT_STARTED:t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);break;case va.FAILED_TO_VIDEO_ON:t=e.reasonCode?Tu(e.reasonCode):Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);break;case va.FAILED_TO_SCREEN_SHARE:t=Tu(Yi.GS_ERROR_CODE_SHARE_CONFLICT_ERROR);break;case va.INVITE_ERROR:t=e.reasonCode?Tu(e.reasonCode):Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL);break;case va.MIC_REQUEST_FAIL:if("camera"===e.deviceType){t=Tu(Yi.GS_ERROR_CODE_OPEN_CAMERA_FAIL);break}default:t=Tu(e.codeType)}return e.code=t.code,e.description=t.description,e},Tu=function(e){return{code:e,description:function(e){var t=void 0;return void 0!==e&&(t=bi["ERROR_CODE_"+e]),t=t||e}(e)}},Iu=function(e){var t=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER);return t.description=t.description+" : "+e,t};tn(cn.onConfInterruptError,function(e){mu.warn("onConfInterruptError: {}",e)}),tn(cn.onHandlerNotifyErrCode,function(e){if(!e)return void mu.info("handler notify error code, result is null");var t=e.reason;if(t){if(mu.info("handler notify error code:"+t),200===t)return;var n=bi["ERROR_CODE_"+t];null!=n&&""!==n||(n=bi.ERROR_CODE_COMMON),mu.warn("onHandlerNotifyErrCode: {}",n)}});var Nu=So.getLogger("MEETING_ROOM"),yu={};tn(cn.onConfWaitingToStart,function(e){un(on.EVENT_MEETING,[cn.onConfWaitingToStart,e])}),tn(cn.onConfStarted,function(e){un(on.EVENT_MEETING,[cn.onConfStarted,e])});function wu(e){tn(on.EVENT_MEETING_END,Pu),e&&"function"==typeof e&&tn(on.EVENT_MEETING_END,e),function(t){var e="uid=all;action=kick;conf-id="+Du().meetingNum;is(e,function(e){t&&"function"==typeof t&&t(e)})}(function(e){un(on.EVENT_MEETING_END,[e]),un(on.EVENT_MEETING,[on.EVENT_MEETING_END,e])})}function Au(e,t,n){Nu.info("start to joinMeeting: params => {}",e),Ao.sortUserListByType("hostauto"),function(c,d,l){Nu.info("request sip info start...");var f=function(e){var t=window.localStorage.getItem("webRTCSipAccountCache"),n=JSON.parse(t);if(n&&30<Object.keys(n).length){for(var o in n){var i=n[o],a=(new Date).getTime()-i.updateTime;2592e6<parseInt(a)&&(delete n[o],Nu.info("Email and sip account in localstorage is exipred, email:"+o))}window.localStorage.setItem("webRTCSipAccountCache",JSON.stringify(n))}var r=null==n?"":n[e],s="";null!=r&&""!=r&&(s=r.clientId);return s}(c.email),E=ma.MEETINGS_URL+"/rtc/sip";!function(e,o){var t=ma.MEETINGS_URL+"/rtc/authorize?";t+="confNum="+e.roomId,t+="&userName="+encodeURIComponent(e.userName),t+="&email="+e.email,e.hostCode&&(t+="&isHost=true&hostCode="+e.hostCode);e.roomPassword&&(t+="&password="+e.roomPassword);dn(t).then(function(e){if(Nu.log(JSON.stringify(e)),e&&null!=e.state){var t={};if(0===e.state)t=Tu(e.state),yu.creator=e.entity.creator,yu.meetingTime=e.entity.meetingTime,yu.startTime=e.entity.startTime,yu.endTime=e.entity.endTime,yu.timeDescp=e.entity.timeDescp,yu.roomUrl=e.entity.confUrl,yu.meetingTheme=e.entity.meetingTheme,e.code=t.code,e.description=t.description,o(e);else{switch(e.entity.errStr){case"meeting_username_long":t=Tu(Yi.GS_ERROR_CODE_MEETING_USERNAME_LONG);break;case"meeting_email_long":t=Tu(Yi.GS_ERROR_CODE_MEETING_EMAIL_LONG);break;case"email_format_error":t=Tu(Yi.GS_ERROR_CODE_EMAIL_FORMAT_ERROR);break;case"meeting_status_unopen":t=Tu(Yi.GS_ERROR_CODE_MEETING_STATUS_UNOPEN);break;case"meeting_status_end":t=Tu(Yi.GS_ERROR_CODE_MEETING_STATUS_END);break;case"meeting_status_null":t=Tu(Yi.GS_ERROR_CODE_MEETING_STATUS_NULL);break;case"meeting_status_revoke":t=Tu(Yi.GS_ERROR_CODE_MEETING_STATUS_REVOKE);break;case"meeting_status_expired":t=Tu(Yi.GS_ERROR_CODE_MEETING_STATUS_EXPIRED);break;case"meeting_hostcode_unmatch":t=Tu(Yi.GS_ERROR_CODE_MEETING_HOSTCODE_UNMATCH);break;case"meeting_unopen_hostcode_unmatch":t=Tu(Yi.GS_ERROR_CODE_MEETING_UNOPEN_HOSTCODE_UNMATCH);break;case"constant_meeting_expired":t=Tu(Yi.GS_ERROR_CODE_CONSTANT_MEETING_EXPIRED);break;case"need_redirect":var n=e.entity.errMsg;void 0!==n&&(-1!==n.indexOf("register")?(t=Tu(Yi.GS_ERROR_CODE_MEETING_NEED_REGISTER_AUTHORIZE)).url=n.replace("redirect:",""):t=-1!==n.indexOf("regState=check_fail")?Tu(Yi.GS_ERROR_CODE_MEETING_NEED_REGISTER_CHECK_FAIL):Tu(Yi.GS_ERROR_CODE_MEETING_NEED_JOIN_AS_PANELIST))}o(t)}}}).catch(function(e){var t=JSON.stringify(e);if(Nu.error(t),o){var n;n=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),o(n)}})}(c,function(e){if(e&&e.code!==Yi.GS_ERROR_CODE_NO_ERROR)l&&l(e);else{if(void 0!==e.entity.joinWithPwd&&(void 0===c.isHost||!c.isHost)){if(c.roomPassword){if("string"!=typeof c.roomPassword){if(Nu.warn("parameter 'roomPassword' should be 'string' type"),l&&"function"==typeof l){var t;t=Tu(Yi.GS_ERROR_CODE_PASSWORD_ERROR),l(t)}return!1}if(c.roomPassword&&""===c.roomPassword.trim()){var n=Tu(Yi.GS_ERROR_CODE_PASSWORD_ERROR);return void(l&&l(n))}if(!/\d+/.test(c.roomPassword)){var o=Gi;if(Nu.warn(o),l&&"function"==typeof l){var i;i=Tu(Yi.GS_ERROR_CODE_PASSWORD_ERROR),l(i)}return!1}if(8<c.roomPassword.length||c.roomPassword.length<0){var a=Vi+c.roomPassword.length;if(Nu.warn(a),l&&"function"==typeof l){var r;r=Tu(Yi.GS_ERROR_CODE_PASSWORD_ERROR),l(r)}return!1}}if(!e.entity.joinWithPwd){var s=Tu(Yi.GS_ERROR_CODE_PASSWORD_ERROR);return void(l&&l(s))}}ma.xwebid=e.entity.xwebid;var u={xwebid:e.entity.xwebid,clientId:f};nn(E,u,"application/x-www-form-urlencoded").then(function(e){try{if(0===e.state){Nu.log("get /sip success: {}",e);var t=function(e,t){yu.dispalyName=e.entity.dispalyName,yu.sipAccount=e.entity.sipAccount,yu.sipPwd=Qn(e.entity.sipPassword),yu.sipdomain=e.entity.sipdomain,yu.websocketUrl=e.entity.websocketurl,yu.voipState=e.entity.voipState,yu.state=0,yu.opened=e.entity.opened,yu.sipPublicIdentity=e.entity.sipPublicIdentity,yu.meetingSerialNum=e.entity.serialNum,yu.meetingNum=e.entity.meetingNum,yu.meetingPwd=void 0===t.roomPassword?"":t.password,""!==e.entity.meetingPwd&&void 0!==e.entity.meetingPwd&&(yu.meetingPwd=Qn(e.entity.meetingPwd));"true"===e.entity.isJoinWithHostRole&&(yu.isJoinWithHostRole=!0);yu.email=e.entity.email,yu.roleCode=e.entity.roleCode,void 0!==yu.roleCode&&""!==yu.roleCode&&(yu.roleCode=Qn(yu.roleCode));yu.hostEmail=e.entity.hostEmail,yu.confType=e.entity.confType,Nu.info("meeting type:"+yu.confType),yu.openQA=e.entity.openQA,yu.openLiving=e.entity.openLiving,yu.loglevel=e.entity.loglevel,yu.otherMeetingHost=e.entity.otherMeetingHost,e.entity.iceServers&&""!==e.entity.iceServers&&(yu.iceServers=Qn(e.entity.iceServers));return yu.webrtcLogURL=e.entity.webrtcLogURL,yu.logSwitch=e.entity.webLogSwitch,yu.upLogSwitch=e.entity.upLogSwitch,yu.email=e.entity.email,yu.clientId=e.entity.clientId,yu}(e,c);!function(e,t){var n=window.localStorage.getItem("webRTCSipAccountCache");if(n){var o=JSON.parse(n),i=void 0===o?"":o[e];void 0===i||""===i?o[e]={clientId:t,updateTime:(new Date).getTime()}:(i.updateTime=(new Date).getTime(),i.clientId=t,o[e]=i),window.localStorage.setItem("webRTCSipAccountCache",JSON.stringify(o))}else{n={};var a={clientId:t,updateTime:(new Date).getTime()};n[e]=a,window.localStorage.setItem("webRTCSipAccountCache",JSON.stringify(n))}}(t.email,t.clientId),Nu.info("====WEB-MEETING version==="+t.version+"==========="),function(e,t){!function(e,t){if(0===e.state)try{!function(e){e.joiningTimeout&&0<parseInt(e.joiningTimeout)&&(Gu=e.joiningTimeout/Vu);e.deviceInitTimeout&&0<parseInt(e.deviceInitTimeout)&&(ku=e.deviceInitTimeout/Hu);(Uu=e).remoteVideo={},Uu.remotePresent={}}({remoteAudio:Ya.audioNode,localAudio:ja.audioNode,email:e.email,joiningTimeout:15e4,deviceInitTimeout:1e4}),function(a){qu(!1);var t=ku,n=setInterval(function(){if(window.SIPml&&window.SIPml.isInitialized())clearInterval(n),function(e){window.sipWebRTCSdk.setCallConfiguration(e)}(Uu),window.sipRegister({sipRealm:yu.sipdomain,sipImpi:yu.sipAccount,sipImpu:yu.sipPublicIdentity,sipPasswd:yu.sipPwd,sipDispalyName:yu.dispalyName,websocketUrl:yu.websocketUrl,iceServers:yu.iceServers,iceTransportPolicy:yu.isTurnFirst?"relay":"all",sipRolecode:void 0===yu.roleCode?"":yu.roleCode,optional:{optional:[{email:yu.email},{dispalyName:yu.dispalyName},{meetingSerialNum:yu.meetingSerialNum},{rtcStatsClientId:yu.sipAccount},{rtcStatsConferenceId:yu.meetingNum}]}},function(e){if(e&&e.codeType!==va.ACTION_SUCCESSED){if(ds(e),Nu.info("register sip error: "+e),a&&"function"==typeof a){var t;t=gu(e),a(t)}}else Ku()?Nu.info("Connect with meeting: "+yu.meetingNum+" state already exist, ignore retry call info"):(Nu.info("Register success, ready to call meeting: "+yu.meetingNum),function(e){var t={};t.to=yu.meetingNum,t.type="call-audio",t.initialResolution=Ls.getScreenResolution(),void 0!==yu.meetingPwd&&""!==yu.meetingPwd&&(t.to=yu.meetingNum+"*"+yu.meetingPwd);window.sipCall(t,e)}(function(e,t){if(e&&e.codeType!==va.ACTION_SUCCESSED){if(Xu(),ds(e),a&&"function"==typeof a){var n;n=gu(e),a(n)}}else{ju(!0);var o;o=Tu(Yi.GS_ERROR_CODE_NO_ERROR),un(cn.onConfInviteOK,[o]),Nu.info("ConfResolutionSwitch start init"),Ls.init(t);var i=setInterval(function(){if(Js.isInitConfOk()){clearInterval(i),Fu=!0;var e;e=Tu(Yi.GS_ERROR_CODE_NO_ERROR),un(cn.onJoiningMeetingError,[e]),a&&"function"==typeof a&&a(e)}else if(0===Gu){clearInterval(i);var t;t=Tu(Yi.GS_ERROR_CODE_NETWORK_ERROR),zu(),un(cn.onJoiningMeetingError,[t]),"function"==typeof a&&a(t)}else--Gu},Vu)}}))});else if(0===t){clearInterval(n);var e;e=Tu(Yi.GS_ERROR_CODE_CANNOT_PROCESS),un(cn.onJoiningMeetingError,[e]),"function"==typeof a&&a(e)}else Nu.info("[join meeting] current join status: loop at: "+t),--t},Hu)}(t)}catch(e){t&&t(e)}else t("meetingStateError")}(e,t)}(t,function(e){e&&e.code==Yi.GS_ERROR_CODE_NO_ERROR?d&&"function"==typeof d&&d(e):l&&"function"==typeof l&&l(e)})}else{var n;n=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),l&&"function"==typeof l&&l(n)}}catch(e){Nu.info("===Join part>>>>2 get meeting's information Ajax result fail  =========== error : "+e.message+" line : "+e.lineNumber);var o;o=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),l&&"function"==typeof l&&l(o)}}).catch(function(e){Nu.error(e);var t;t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),l&&"function"==typeof l&&l(t)}),Nu.info("===Join part>>>>>2 get meeting's information end ===========")}})}(e,t,n)}var Du=function(){return jn(yu)},Mu=function(){return Js.getCachedRoomInfo()},bu=function(){return yo.convertValueToConfType(yu.confType)};function Lu(){Nu.log("exit room!")}function Pu(){Nu.log("The meeting ended!")}var Uu,Vu=100,Gu=750,ku=5,Hu=500;var Fu=!1,xu=!1,Bu=!1;tn(cn.onConfQuit,function(){xu=!1});var Wu=function(){return Uu.remotePresent.stream},Yu=function(){return Fu},ju=function(e){xu=e},Ku=function(){return xu},Ju=function(){return Bu},qu=function(e){Bu=e};function zu(){try{Xu(),Zr(function(){}),es()}catch(e){Nu.info("send bye to sip server failed: "+e)}un(on.EVENT_MEETING,[on.EVENT_MEETING_EXIT])}var Qu,Xu=function(){qu(!0),ju(!1),zs=qs=!1,Qs={}},$u=So.getLogger("PACKAGE_LOST"),Zu={};tn(cn.onConfQuit,function(){Qu&&clearInterval(Qu),Zu.stopVideoNetworkCheck()}),tn(cn.onConfStarted,function(){Zu.startVideoNetworkCheck()}),tn(cn.onVideoUpStreamDataChange,function(e){$u.info("upload video package lost: {}",e),ec=e}),tn(cn.onVideoDownStreamDataChange,function(e){$u.info("download video package lost: {}",e),tc=e}),tn(cn.onAudioUpStreamDataChange,function(e){$u.info("upload audio package lost: {}",e),nc=e}),tn(cn.onAudioDownStreamDataChange,function(e){$u.info("download audio package lost: {}",e),oc=e}),tn(cn.onPresentUpStreamDataChange,function(e){$u.info("upload presentation package lost: {}",e),ic=e}),tn(cn.onPresentDownStreamDataChange,function(e){$u.info("download presentation package lost: {}",e),ac=e}),tn(cn.onMediaStateToUnstable,function(){}),tn(cn.onMediaStateToStable,function(){return!1}),tn(cn.onMediaStateToGood,function(){}),tn(cn.onMainResolutionChange,function(e,t){rc="None"===e||"0*0"===e?Di.NONE:e;sc="None"===t||"0*0"===t?Di.NONE:t}),tn(cn.onSlidesResolutionChange,function(e,t){uc="None"===e||"0*0"===e?Di.NONE:e;cc="None"===t||"0*0"===t?Di.NONE:t});var ec="",tc="",nc="",oc="",ic="",ac="";Zu.getVideoPackLossRate=function(){return{up:ec,down:tc}},Zu.getAudioPackLossRate=function(){return{up:nc,down:oc}},Zu.getDemoVideoPackLossRate=function(){return{up:ic,down:ac}};var rc="",sc="",uc="",cc="";Zu.getVideoResolution=function(){return{up:rc,down:sc}},Zu.getPresentResolution=function(){return{up:uc,down:cc}};var dc,lc=0,fc=0,Ec=0,_c=0,pc=0,Rc=0,hc=0,Sc=0,Oc=0,mc=0,Cc=0,vc=0,gc=0;Zu.getMediaDataOut=function(){var t=10;Qu=setInterval(function(){if(t<=0)t=10,clearInterval(Qu);else{var e=Ws.getVideoQuality();e&&(e.o_audio_out&&$u.debug("audio Up package:"+(e.o_audio_out.packetsSent||e.o_audio_out.packetsReceived)),e.o_video_out&&$u.debug("video Up package:"+(e.o_video_out.packetsSent||e.o_video_out.packetsReceived)),e.o_slide_video_out&&$u.debug("present Up package:"+(e.o_slide_video_out.packetsSent||e.o_slide_video_out.packetsReceived))),t-=1}},5e3)};function Tc(e,t,n,o){var i={value:0,percent:""},a=e.packetsLost-t,r=e.packetsReceived-n;if(0<=a&&0<r){var s=void 0;s="chrome"!==adapter.browserDetails.browser&&"opera"!==adapter.browserDetails.browser||"audioOut"!==o&&"videoOut"!==o&&"presentVideoOut"!==o?100*a/(a+r):100*a/r,i.value=parseFloat((s/100).toFixed(3)),s=s.toFixed(2)+"%",i.percent=s}else 0!=r||"audioIn"!==o&&"videoIn"!==o&&"presentVideoIn"!==o?i.percent="":(i.value=1,i.percent="100%");return i}Zu.startVideoNetworkCheck=function(){var s="",u="",c="",d="",l="",f="",E="",_="",p="",R="",h="",S="",O="None",m="None",C="None",v="None";dc=setInterval(function(){var e=function(){var e={},t=Ws.getVideoQuality();return t&&(t.o_audio_in&&(e.audioIn={},e.audioIn.jitter=t.o_audio_in.jitter||t.o_audio_in.googJitterReceived,e.audioIn.packetsLost=t.o_audio_in.packetsLost,e.audioIn.packetsReceived=t.o_audio_in.packetsReceived),t.o_video_in&&(e.videoIn={},e.videoIn.jitter=t.o_video_in.jitter,e.videoIn.packetsLost=t.o_video_in.packetsLost,e.videoIn.packetsReceived=t.o_video_in.packetsReceived,"chrome"===adapter.browserDetails.browser||"opera"===adapter.browserDetails.browser||!0===adapter.browserDetails.isWebRTCPluginInstalled?(e.videoIn.HeightOfresolution=t.o_video_in.googFrameHeightReceived,e.videoIn.WidthOfresolution=t.o_video_in.googFrameWidthReceived):"safari"===adapter.browserDetails.browser&&!1===adapter.browserDetails.isWebRTCPluginInstalled&&(e.videoIn.HeightOfresolution=t.o_video_in.frameHeight,e.videoIn.WidthOfresolution=t.o_video_in.frameWidth)),t.o_audio_out&&(e.audioOut={},e.audioOut.jitter=t.o_audio_out.jitter||t.o_audio_out.googJitterReceived,e.audioOut.packetsLost=t.o_audio_out.packetsLost,e.audioOut.packetsReceived=t.o_audio_out.packetsReceived||t.o_audio_out.packetsSent),t.o_video_out&&(e.videoOut={},e.videoOut.jitter=t.o_video_out.jitter,e.videoOut.packetsLost=t.o_video_out.packetsLost,e.videoOut.packetsReceived=t.o_video_out.packetsReceived||t.o_video_out.packetsSent,"chrome"===adapter.browserDetails.browser||"opera"===adapter.browserDetails.browser||!0===adapter.browserDetails.isWebRTCPluginInstalled?(e.videoOut.HeightOfresolution=t.o_video_out.googFrameHeightSent,e.videoOut.WidthOfresolution=t.o_video_out.googFrameWidthSent):"safari"===adapter.browserDetails.browser&&!1===adapter.browserDetails.isWebRTCPluginInstalled&&(e.videoOut.HeightOfresolution=t.o_video_out.frameHeight,e.videoOut.WidthOfresolution=t.o_video_out.frameWidth)),t.o_slide_video_out&&(e.presentVideoOut={},e.presentVideoOut.jitter=t.o_slide_video_out.jitter,e.presentVideoOut.packetsLost=t.o_slide_video_out.packetsLost,e.presentVideoOut.packetsReceived=t.o_slide_video_out.packetsReceived||t.o_slide_video_out.packetsSent,"chrome"===adapter.browserDetails.browser||"opera"===adapter.browserDetails.browser||!0===adapter.browserDetails.isWebRTCPluginInstalled?(e.presentVideoOut.HeightOfresolution=t.o_slide_video_out.googFrameHeightSent,e.presentVideoOut.WidthOfresolution=t.o_slide_video_out.googFrameWidthSent):"safari"===adapter.browserDetails.browser&&!1===adapter.browserDetails.isWebRTCPluginInstalled&&(e.presentVideoOut.HeightOfresolution=t.o_slide_video_out.frameHeight,e.presentVideoOut.WidthOfresolution=t.o_slide_video_out.frameWidth)),t.o_slide_video_in&&(e.presentVideoIn={},e.presentVideoIn.jitter=t.o_slide_video_in.jitter,e.presentVideoIn.packetsLost=t.o_slide_video_in.packetsLost,e.presentVideoIn.packetsReceived=t.o_slide_video_in.packetsReceived,"chrome"===adapter.browserDetails.browser||"opera"===adapter.browserDetails.browser||!0===adapter.browserDetails.isWebRTCPluginInstalled?(e.presentVideoIn.HeightOfresolution=t.o_slide_video_in.googFrameHeightReceived,e.presentVideoIn.WidthOfresolution=t.o_slide_video_in.googFrameWidthReceived):"safari"===adapter.browserDetails.browser&&!1===adapter.browserDetails.isWebRTCPluginInstalled&&(e.presentVideoIn.HeightOfresolution=t.o_slide_video_in.frameHeight,e.presentVideoIn.WidthOfresolution=t.o_slide_video_in.frameWidth))),e}();if(gc=0,e.audioOut){var t=Tc(e.audioOut,hc,Sc,"audioOut");if(void 0===Js.getMyself())return!1;Js.getMyMicStatus()!==yo.MicSta.Normal&&(t.percent="",t.value=0),t.value>gc&&(gc=t.value),1<t.value&&(t.percent="100%"),c=t.percent,hc=e.audioOut.packetsLost,Sc=e.audioOut.packetsReceived,p!==c&&void 0!==t.percent&&(p=c,un(cn.onAudioUpStreamDataChange,[c]))}if(e.videoOut){var n=Tc(e.videoOut,Oc,mc,"videoOut");Ta.isCameraSharing()||(n.percent="",n.value=0),n.value>gc&&(gc=n.value),1<n.value&&(n.percent="100%"),s=n.percent,Oc=e.videoOut.packetsLost,mc=e.videoOut.packetsReceived,"chrome"!==adapter.browserDetails.browser&&"opera"!==adapter.browserDetails.browser||(O=e.videoOut.WidthOfresolution+"*"+e.videoOut.WidthOfresolution),E!==s&&void 0!==n.percent&&(E=s,un(cn.onVideoUpStreamDataChange,[s]))}if(e.presentVideoOut){var o=Tc(e.presentVideoOut,Cc,vc,"presentVideoOut");Ws.isIamSharingPresent()&&!Ta.isPausePresentStream()||(o.percent="",o.value=0),o.value>gc&&(gc=o.value),1<o.value&&(o.percent="100%"),l=o.percent,Cc=e.presentVideoOut.packetsLost,vc=e.presentVideoOut.packetsReceived,"chrome"!==adapter.browserDetails.browser&&"opera"!==adapter.browserDetails.browser||(C=e.presentVideoOut.WidthOfresolution+"*"+e.presentVideoOut.WidthOfresolution),h!==l&&void 0!==o.percent&&(h=l,un(cn.onPresentUpStreamDataChange,[l]))}if(e.audioIn){var i=Tc(e.audioIn,lc,fc,"audioIn");fc===e.audioIn.packetsReceived&&(Ta.isOperateMic()?(i.value=0,i.percent=""):(i.value=1,i.percent="100%")),i.value>gc&&(gc=i.value),1<i.value&&(i.percent="100%"),d=i.percent,lc=e.audioIn.packetsLost,fc=e.audioIn.packetsReceived,R!==d&&void 0!==i.percent&&(R=d,un(cn.onAudioDownStreamDataChange,[d]))}if(e.videoIn){var a=Tc(e.videoIn,Ec,_c,"videoIn");Ws.isCurrentMainVideoOpen()||Js.getMyPreviewStats()?(Ws.isCurrentMainVideoOpen()||Js.getMyPreviewStats())&&(Ta.isOperateCamera()?(a.value=0,a.percent=""):_c===e.videoIn.packetsReceived&&(a.value=1,a.percent="100%")):(a.percent="",a.value=0),a.value>gc&&(gc=a.value),1<a.value&&(a.percent="100%"),u=a.percent,Ec=e.videoIn.packetsLost,_c=e.videoIn.packetsReceived,"chrome"!==adapter.browserDetails.browser&&"opera"!==adapter.browserDetails.browser||(m=e.videoIn.WidthOfresolution+"*"+e.videoIn.WidthOfresolution),_!==u&&void 0!==a.percent&&(_=u,un(cn.onVideoDownStreamDataChange,[u]))}if(e.presentVideoIn){var r=Tc(e.presentVideoIn,pc,Rc,"presentVideoIn");Ws.isCurrentPresentVideoOpen()?Ws.isIamSharingPresent()?(r.value=0,r.percent=""):Rc===e.presentVideoIn.packetsReceived&&(r.value=1,r.percent="100%"):(r.percent="",r.value=0),r.value>gc&&(gc=r.value),1<r.value&&(r.percent="100%"),f=r.percent,pc=e.presentVideoIn.packetsLost,Rc=e.presentVideoIn.packetsReceived,"chrome"!==adapter.browserDetails.browser&&"opera"!==adapter.browserDetails.browser||(v=e.presentVideoIn.WidthOfresolution+"*"+e.presentVideoIn.WidthOfresolution),S!==f&&void 0!==r.percent&&(S=f,un(cn.onPresentDownStreamDataChange,[f]))}Ws.isIamSharingPresent()&&(v="None"),un(cn.onMainResolutionChange,[O,m]),un(cn.onSlidesResolutionChange,[C,v]),un(.1<=gc?cn.onMediaStateToUnstable:.05<=gc?cn.onMediaStateToStable:cn.onMediaStateToGood,[])},5e3)},Zu.stopVideoNetworkCheck=function(){dc&&clearInterval(dc)};Zu.getPackageLossAvg=function(){return function(){var e={},t=Ws.getVideoQuality();return t&&t.o_audio_in&&(e.audioIn={},(t.o_audio_in.jitter||t.o_audio_in.googJitterReceived)&&(e.audioIn.jitter=t.o_audio_in.jitter||t.o_audio_in.googJitterReceived),t.o_audio_in.packetsLost&&t.o_audio_in.packetsReceived&&(e.audioIn.packetsLost=(100*t.o_audio_in.packetsLost/(t.o_audio_in.packetsLost+t.o_audio_in.packetsReceived)).toFixed(2))),t&&t.o_video_in&&(e.videoIn={},t.o_video_in.jitter&&(e.videoIn.jitter=t.o_video_in.jitter),t.o_video_in.packetsLost&&t.o_video_in.packetsReceived&&(e.videoIn.packetsLost=(100*t.o_video_in.packetsLost/(t.o_video_in.packetsLost+t.o_video_in.packetsReceived)).toFixed(2))),e}()};function Ic(e,t){if("string"!=typeof e){var n=Iu(Li);return yc.warn(n.description),t&&t(n),!1}if(go[e.toUpperCase()])return function(e){No=e}(Io[e.toUpperCase()]),t&&t(Tu(Yi.GS_ERROR_CODE_NO_ERROR)),!0;var o=Iu(Li);return yc.warn(o.description),t&&t(o),!1}function Nc(){return To[No]}var yc=So.getLogger("LOG_CONFIG");tn(cn.onConfVideoLayoutChange,function(e,t,n,o){un(on.EVENT_MEETING,[cn.onConfVideoLayoutChange,{layoutId:e,mode:t,smartLayout:n,layoutTxt:o}])}),tn(cn.onUserPollStatsChange,function(e,t){un(on.EVENT_MEETING,[cn.onUserPollStatsChange,{userId:e,pollStats:t}])}),tn(cn.onConfPollStateChange,function(e,t){un(on.EVENT_MEETING,[cn.onConfPollStateChange,{confPollState:e,currentVideoLayoutMode:t}])}),tn(cn.onLayoutInit,function(e){un(on.EVENT_MEETING,[cn.onLayoutInit,{layout:e}])}),tn(cn.onSpeicalLayoutStatusChange,function(e,t){un(on.EVENT_MEETING,[cn.onSpeicalLayoutStatusChange,{layoutId:e,status:t}])}),tn(cn.onLayoutTxtChange,function(e){un(on.EVENT_MEETING,[cn.onLayoutTxtChange,{layoutTxt:e}])}),tn(cn.onUserWatchLayoutChange,function(e,t){un(on.EVENT_MEETING,[cn.onUserWatchLayoutChange,{userId:e,layoutShow:t}])}),tn(cn.onSpeicalLayoutIconInit,function(){un(on.EVENT_MEETING,[cn.onSpeicalLayoutIconInit])}),tn(cn.onLayoutUserInfoChange,function(e){un(on.EVENT_MEETING,[cn.onLayoutUserInfoChange,{layoutUser:e}])}),tn(cn.onLayoutWatchUserInfoChange,function(e){un(on.EVENT_MEETING,[cn.onLayoutWatchUserInfoChange,{watchUser:e}])});So.getLogger("VIDEO_LAYOUT");var wc=So.getLogger("WS_MESSAGE");tn(cn.websoctetMessageHandler,function(e){if(e&&e.jsonData){var t=e.jsonData;if(t&&t.id&&t.module&&t.content)if("talking"===t.module){var n=parseInt(t.id);if(0===Ac)Ac=n;else{if(!(Ac<n))return void wc.warn("i_not_sip_message about talking: message id, talkingNewid= "+n+",old module id="+Ac);Ac=n}}else if("asr"===t.module){var o=parseInt(t.id);0===o&&(Dc=0),Dc=(0===Dc||Dc<o||wc.warn("i_not_sip_message about asr: message id, asrNewid= "+o+",old module id="+Dc),o),un(on.EVENT_MEETING,[cn.onSpeechRecognitionInfoHandler,t.content])}}else wc.info("data is null")});var Ac=0,Dc=0;var Mc=So.getLogger("WEBRTC_SDK"),bc={};bc.VIDEO_LAYOUT_ENUM=Gs,bc.EVENT_MEETING=on.EVENT_MEETING,bc.EVENT_JOIN_MEETING_SUCCESS=on.EVENT_JOIN_MEETING_SUCCESS,bc.EVENT_JOIN_MEETING_ERROR=cn.onJoiningMeetingError,bc.EVENT_CHAT_SYSTEM_MESSAGE_RECEIVED=on.EVENT_CHAT_SYSTEM_MESSAGE_RECEIVED,bc.EVENT_CHAT_PRIVATE_MESSAGE_RECEIVED=on.EVENT_CHAT_PRIVATE_MESSAGE_RECEIVED,bc.EVENT_CHAT_PANELIST_MESSAGE_RECEIVED=on.EVENT_CHAT_PANELIST_MESSAGE_RECEIVED,bc.EVENT_CHAT_GROUP_MESSAGE_RECEIVED=on.EVENT_CHAT_GROUP_MESSAGE_RECEIVED,bc.EVENT_CHAT_FILE_MESSAGE_RECEIVED=on.EVENT_CHAT_FILE_MESSAGE_RECEIVED,bc.EVENT_CHAT_FILE_UPLOADED=on.EVENT_CHAT_FILE_UPLOADED,bc.EVENT_MAIN_VIDEO_OPEN=cn.onMainVideoOpen,bc.EVENT_MAIN_VIDEO_CLOSE=cn.onMainVideoClose,bc.EVENT_PRESENT_VIDEO_OPEN=cn.onPresentVideoOpen,bc.EVENT_PRESENT_VIDEO_CLOSE=cn.onPresentVideoClose,bc.EVENT_CLOSE_SHARE_PRESENT_VIDEO=on.EVENT_CLOSE_SHARE_PRESENT_VIDEO,bc.EVENT_SPEECH_RECOGNITION_STACHANGE=cn.onSpeechRecognitionStaChange,bc.EVENT_SPEECH_RECOGNITION_INFO_HANDLER=cn.onSpeechRecognitionInfoHandler,bc.EVENT_WHITEBOARD_STATUS_CHANGE=cn.onConfWhiteboardStatusChange,bc.EVENT_MEETING_EXIT=on.EVENT_MEETING_EXIT,bc.EVENT_MEETING_END=on.EVENT_MEETING_END,bc.EVENT_SPEECH_RECOGNITION_EXCEPTION=cn.onSpeechRecognitionException,bc.EVENT_CHAT_STATUS_CHANGE=cn.onConfChatStatusChange,bc.EVENT_USERS_VIEW_STATUS_CHANGE=cn.onConfUsersViewStatusChange,bc.EVENT_USER_NUMBER_CHANGE=cn.onConfUserNumberChange,bc.EVENT_RECORD_STATUS_CHANGE=cn.onConfRecordStatusChange,bc.EVENT_MUTE_STATUS_CHANGE=cn.onConfMuteStatusChange,bc.EVENT_RECORD_FAIL=cn.OnRecordFail,bc.EVENT_ATTEND_ENABLE_LAYOUT_STATUS_CHANGE=cn.onAttendEnableLayoutStatusChange,bc.EVENT_INVITE_USERS_RESULT_RECEIVED=cn.onInviteUserNotifyReceived,bc.EVENT_MEDIA_PLAYER_AUTOPLAY_PREVENTED=on.EVENT_MEDIA_PLAYER_AUTOPLAY_PREVENTED,bc.EVENT_USER_HANDUP_STATUS_CHANGE=cn.onUsersHandUpStatusChange,bc.EVENT_CAMERA_STATUS_CHANGE=cn.onUserCameraStatusChange,bc.EVENT_USER_MIC_STATUS_CHANGE=cn.onUserMicStatusChange,bc.EVENT_MEETING_HOST_CHANGE=cn.onMeetingConfHostChange,bc.EVENT_MEETING_PREPARATION_START=cn.onConfWaitingToStart,bc.EVENT_MEETING_START=cn.onConfStarted,bc.EVENT_VIDEO_LAYOUT_CHANGE=cn.onConfVideoLayoutChange,bc.EVENT_VIDEO_LAYOUT_SPEAKER_CHANGE=cn.onVideoLayoutSpeakerChange,bc.EVENT_VIDEO_LAYOUT_ATTENDEE_CAROUSEL_STATS_CHANGE=cn.onUserPollStatsChange,bc.EVENT_VIDEO_LAYOUT_CONF_CAROUSEL_STATS_CHANGE=cn.onConfPollStateChange,bc.EVENT_VIDEO_LAYOUT_INIT=cn.onLayoutInit,bc.EVENT_VIDEO_LAYOUT_SPECIAL_LAYOUT_STAS_CHANGE=cn.onSpeicalLayoutStatusChange,bc.EVENT_VIDEO_LAYOUT_TEXT_CHANGE=cn.onLayoutTxtChange,bc.EVENT_VIDEO_LAYOUT_ATTENDEE_RECEIVED_CHANGE=cn.onUserWatchLayoutChange,bc.EVENT_VIDEO_LAYOUT_ATTENDEE_INFO_CHANGE=cn.onLayoutUserInfoChange,bc.EVENT_VIDEO_LAYOUT_VIEWER_INFO_CHANGE=cn.onLayoutWatchUserInfoChange,bc.EVENT_MAIN_VIDEO_PLAYER_BIND_STREAM=cn.onMainVideoPlayerBindStream,bc.EVENT_PRESENT_VIDEO_PLAYER_BIND_STREAM=cn.onPresentVideoPlayerBindStream,bc.EVENT_REMOTE_AUDIO_PLAYER_BIND_STREAM=cn.onRemoteAudioPlayerBindStream,bc.EVENT_SHARED_CAMERA_PREVIEW_BIND_STREAM=cn.onSharedCameraPreviewPlayerBindStream,bc.EVENT_OPEN_CAMERA_PREVIEW_VIDEO_OPEN=cn.onOpenCameraPreviewVideoOpen,bc.EVENT_OPEN_CAMERA_PREVIEW_VIDEO_CLOSE=cn.onOpenCameraPreviewVideoClose,bc.EVENT_LOCAL_VIDEO_PREVIEW_PLAYER_BIND_STREAM=cn.onLocalVideoPreviewPlayerBindStream,bc.EVENT_LOCAL_VIDEO_PREVIEW_PLAYER_OPEN=cn.onLocalVideoPreviewPlayerOpen,bc.addEventHandler=tn,bc.init=function(e,t){if(e)if(e.sdkAppId)if(ma.appID=""+e.sdkAppId,e.sdkSecret)if(ma.secretKey=e.sdkSecret,e.userName)if(ma.username=e.userName,e.password){ma.password=e.password;var n=Tu(Yi.GS_ERROR_CODE_NO_ERROR);"function"==typeof t&&t(n)}else{var o="init SDK failed, lack parameter of [password] --\x3e"+JSON.stringify(e);Ca.warn(o);var i=Iu(o);"function"==typeof t&&t(i)}else{var a="init SDK failed, lack parameter of [userName] --\x3e"+JSON.stringify(e);Ca.warn(a);var r=Iu(a);"function"==typeof t&&t(r)}else{var s="init SDK failed, lack parameter of [sdkSecret] --\x3e"+JSON.stringify(e);Ca.warn(s);var u=Iu(s);"function"==typeof t&&t(u)}else{var c="init SDK failed, lack parameter of [appID] --\x3e"+JSON.stringify(e);Ca.warn(c);var d=Iu(c);t&&t(d)}else{var l="init SDK failed, lack object options {} --\x3e"+JSON.stringify(e);Ca.warn(l);var f=Iu(l);"function"==typeof t&&t(f)}},bc.setServerAddr=function(e,t){if(!e){Ca.warn("set ipvt meeting server failed:  parameter 'domain' should not be empty");var n;return n=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER),void(t&&"function"==typeof t&&t(n))}if(!xn.test(e)){Ca.warn("set ipvt meeting server failed: incorrect sever attribute pattern --\x3e"+e);var o;return o=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER),void(t&&"function"==typeof t&&t(o))}!function(e){ma.API_SERVER=e,ma.MEETINGS_URL=e,ma.STYLE_URL=e}(e),Ca.warn("set ipvt meeting server [{}] success!",e),window.addSipEventHandler("OnDomainUpdate",e);var i;i=Tu(Yi.GS_ERROR_CODE_NO_ERROR),t&&"function"==typeof t&&t(i)},Mc.info("start to register sip Event"),window.addSipEventHandler("OnRecNotify",ss),window.addSipEventHandler("OnRecMsg",cs),window.addSipEventHandler("OnVideoShare",us),window.addSipEventHandler("OnError",ds),window.addSipEventHandler("OnBye",ls),window.addSipEventHandler("OnCalling",function(){}),window.addSipEventHandler("OnIceRestart",Es),window.addSipEventHandler("onIceConnectionFailedFirst",_s),window.addSipEventHandler("OnMicDevLoaded",Ta.onMicLoaded),window.addSipEventHandler("OnMicDevSelected",Ta.onMicDevSelected),window.addSipEventHandler("OnMicStatusChange",Ta.onMicStatusChange),window.addSipEventHandler("OnVideoDevLoaded",Ta.onVideoLoaded),window.addSipEventHandler("OnVideoDevUpdate",Ta.onVideoUpdate);var Lc="1.0.0.8";function Pc(e,t){if(!e.userName){var n="lack of required parameter [userName].";if(Mc.warn(n),t&&"function"==typeof t){t(Iu(n))}return!1}if("string"!=typeof e.userName){if(Mc.warn("parameter 'userName' should be 'string' type"),t&&"function"==typeof t){t(Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER))}return!1}var o=""+e.userName;if(0<=o.indexOf("\\")||0<=o.indexOf(":")||0<=o.indexOf("\r")||0<=o.indexOf("\n")||0<=o.indexOf('"')||0<=o.indexOf("&")){var i="parameter 'userName' can't contain following special characters: '\\', '&', '\"', ':'";if(Mc.warn(i),t&&"function"==typeof t){t(Iu(i))}return!1}if(64<o.length||o.length<0){var a="parameter 'userName' length should be 1-64, request length:"+o.length;if(Mc.warn(a),t&&"function"==typeof t){t(Iu(a))}return!1}if(e.roomId){if("string"!=typeof e.roomId){var r="parameter 'roomId' should be 'string' type";if(Mc.warn(r),t&&"function"==typeof t){t(Iu(r))}return!1}if(!/\d+/.test(e.roomId)){var s="wrong format of parameter 'roomId',should use pure number like '123456'";if(Mc.warn(s),t&&"function"==typeof t){t(Iu(s))}return!1}var u=""+parseInt(e.roomId);if(9<(e.roomId=u).length||u.length<3){var c="parameter 'roomId' length should be 3-9, request length:"+u.length;if(Mc.warn(c),t&&"function"==typeof t){t(Iu(c))}return!1}}if(e.email){var d=""+e.email;if(!Bn.test(d)){var l="parameter email ["+d+"] format incorrect";if(Mc.warn(l),t&&"function"==typeof t){t(Iu(l))}return!1}if(64<d.length||d.length<0){if(Mc.warn("parameter 'email' length should be 1-64, request length:"+d.length),t&&"function"==typeof t){t(Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER))}return!1}}if(e.hostCode&&"string"!=typeof e.hostCode){var f="parameter 'hostCode' should be 'string' type";if(Mc.warn(f),"function"==typeof t)t(Iu(f));return!1}if(!e.layout||function(e){return!("string"!=typeof e||!ks[e])}(e.layout))return!0;var E="incorrect parameter 'layout',please use 'webrtc.VIDEO_LAYOUT_ENUM.xxx' to specify the right layout value.";Mc.warn(E),"function"==typeof t&&t(Iu(E));return!1}function Uc(){var e=new Date;return e.getUTCFullYear()+(e.getUTCMonth()+1<10?"0"+(e.getUTCMonth()+1):(e.getUTCMonth()+1).toString())+(e.getUTCDate()<10?"0"+e.getUTCDate():e.getUTCDate().toString())+(e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours().toString())+(e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes().toString())+(e.getUTCSeconds()<10?"0"+e.getUTCSeconds():e.getUTCSeconds().toString())}function Vc(e,t){for(var n=Object.keys(e).sort(),o="",i=0;i<n.length;i++)o+="&"+n[i]+"="+e[n[i]];return o+="&"+t+"&",Mc.info("before cal sig:"+o),$n(o)}function Gc(e,i,a){if("string"==typeof e.roomId)try{e.roomId=parseInt(e.roomId)}catch(e){var t;return t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),void(i&&"function"==typeof i&&i(t))}var n=!0===e.record?"1":"0",o={roomid:e.roomId,layout:e.layout,speaker:e.email,record:n},r={};r.accessToken=ma.accessToken,r.appID=ma.appID,r.appSecret=ma.secretKey,r.timeStamp=(new Date).valueOf();for(var s=Object.keys(r).sort(),u="",c=0;c<s.length;c++)u+="&"+s[c]+"="+r[s[c]];Mc.info("before cal sig queryParamsStr:"+u);var d=Zn(JSON.stringify(o));Mc.info("after cal bodyStrSig:"+d);var l=u+"&"+d+"&";Mc.info("before cal eventuallyCalStr:"+l);var f=Zn(l);Mc.info("after cal  signature:"+f),delete r.appSecret,r.signature=f;var E="";Object.keys(r).sort().forEach(function(e){E+=e+"="+r[e]+"&"}),E=E.substring(0,E.length-1),nn(ma.API_SERVER+"/api/v1.0.0/meeting/create_room?"+E,o).then(function(e){if(Mc.log(JSON.stringify(e)),"0"===e.retCode){var t;if(e.data&&(t=e.data.confNum),t)a(e.data);else{Mc.warn("fail to get confNum !");var n;n=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(n)}}else{var o;o=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(o)}}).catch(function(e){var t,n=JSON.stringify(e);return t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(t),Mc.error(n)})}function kc(){for(var e="",t=0;t<8;t++)e+=Math.floor(10*Math.random());return e}function Hc(){return Js.MyselfIsHost()?Tu(Yi.GS_ERROR_CODE_NO_ERROR):Tu(Yi.GS_ERROR_CODE_NO_PERMISSION)}function Fc(e){if(e){var t={};return t.code=e.code,t.description=e.description,t}}return bc.LOG_LEVEL_ENUM=go,bc.LoggerFactory=So,bc.setLogLevel=function(e,t){return Ic(e,t)},bc.getLogLevel=function(){return Nc()},bc.getSDKVersion=function(){return Lc},window.document.onreadystatechange=function(){"complete"===window.document.readyState&&Mc.info("Current webrtcSDK Version: {}",Lc)},bc.setAudioVolume=function(e,n){Oa.setAudioVolume(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.mute=function(e,n){vs(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.getMediaDevices=function(t){Ta.getAvailableDevices(function(e){Mc.info("getMediaDevices => {}",e),t&&"function"==typeof t&&t(e)})},bc.getAudioDevices=function(t){Ta.getAvailableDevices(function(e){Mc.info("getAudioDevices => {}",e.audioInputDev),t&&"function"==typeof t&&t(e.audioInputDev)})},bc.getCameraDevices=function(t){Ta.getAvailableDevices(function(e){Mc.info("getCameraDevices => {}",e.videoInputDev),t&&"function"==typeof t&&t(e.videoInputDev)})},bc.setAudioDevice=function(e,o){"safari"!==window.adapter.browserDetails.browser&&"ie"!==window.adapter.browserDetails.browser?(Mc.info("mic select deviceId:{}",e),e&&Ta.getLocalMicDeviceStream(e,"useMic",function(e,t,n){Ta.getStreamFromDeviceCb(e,t,n,function(e){var t=Fc(e);o&&"function"==typeof o&&o(t)})}),Ta.stopTestSpeaker(),Ta.stopTestMic()):Ta.getLocalMicDeviceStream(void 0,"useMic",function(e,t,n){Ta.getStreamFromDeviceCb(e,t,n,function(e){var t=Fc(e);o&&"function"==typeof o&&o(t)})})},bc.switchToCamera=function(e,n){Ta.stopStreamCheckTimer(),Ta.closeLocalCamera(),Mc.info("camera select deviceId:{}",e),Ta.openLocalCamera(function(e,t){Ta.openLocalCameraSuccessCallback(e,t,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},function(e,t){Ta.openLocalCameraFailureCallback(e,t,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},e)},bc.closeAttendeeCamera=function(e,n){var t;0===(t=Hc()).code?Ws.closeAttendeeCamera(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.openAttendeeCamera=function(e,n){var t;0===(t=Hc()).code?Ws.openAttendeeCamera(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.startLocalAudio=function(n){if(bu()===yo.ConfType.Webniar){var e=Js.getMyId();if(!Js.userIsHost(e)&&!Js.userIsPanelist(e))return void(n&&n(Tu(Yi.GS_ERROR_CODE_NO_PERMISSION)))}Ta.autoSendMuteStatusToSever("unmute",function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.stopLocalAudio=function(n){Ta.autoSendMuteStatusToSever("mute",function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.muteUser=function(e,t,n){var o;0===(o=Hc()).code?Oa.muteUser(e,t,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(o)},bc.muteAll=function(e,n){var t;0===(t=Hc()).code?Oa.muteAll(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.openLocalVideoPreview=function(e,n,t){if(bu()===yo.ConfType.Webniar){var o=Js.getMyId();if(!Js.userIsHost(o)&&!Js.userIsPanelist(o))return void(n&&n(Tu(Yi.GS_ERROR_CODE_NO_PERMISSION)))}Ta.openLocalCamera(function(e,t){Ta.openLocalCameraSuccessCallback(e,t,function(e){var t=Fc(e);n&&"function"==typeof n&&(t.videoPlayerNode=e.videoNode,n(t))})},function(e,t){Ta.openLocalCameraFailureCallback(e,t,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},e,t)},bc.closeLocalVideoPreview=function(n){Ta.closeLocalCamera(function(e){var t=Fc(e);n&&"function"==typeof n&&(t.videoPlayerNode=e.videoNode,n(t))})},bc.sendMainVideoStream=function(t,o,n){if(bu()===yo.ConfType.Webniar){var e=Js.getMyId();if(!Js.userIsHost(e)&&!Js.userIsPanelist(e))return void(o&&o(Tu(Yi.GS_ERROR_CODE_NO_PERMISSION)))}Ta.openLocalCamera(function(e){Mc.info("device deviceId[{}] open local stream success",t),Ta.shareCamera(function(e){Ta.shareLocalWebCamCallback(e,function(e){var t=Fc(e);o&&"function"==typeof o&&o(t)})},n)},function(e,t,n){"function"==typeof o&&o(n)},t,n)},bc.stopSendMainVideoStream=function(n){Ta.stopShareCamera(function(e){Ta.closeshareLocalWebcamCallback(e,function(e){var t=Fc(e);n&&"function"==typeof n&&(t.videoPlayerNode=e.videoNode,n(t))})})},bc.startReceiveRemoteVideo=function(n){Ta.showMainVideoPlayer(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.stopReceiveRemoteVideo=function(n){Ta.hideMainVideoPlayer(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.shareDesktop=function(n){Ta.startPresent("window",function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.stopShareDesktop=function(n){Ta.stopShare(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.openLiveStream=function(e,n){var t;0===(t=Hc()).code?Ws.openLiveStream(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.viewVideoPackLossRate=function(){return Zu.getVideoPackLossRate()},bc.viewDemoVideoPackLossRate=function(){return Zu.getDemoVideoPackLossRate()},bc.viewAudioPackLossRate=function(){return Zu.getAudioPackLossRate()},bc.shareWhiteBoard=function(n){Ta.startPresent("whiteboard",function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.stopWhiteBoard=function(n){Ta.closeWhiteboard(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.getRoomInformation=function(){var e={},t=Du();e.meetingNum=t.meetingNum,e.meetingTheme=t.meetingTheme,e.creator=t.creator,e.meetingTime=t.meetingTime,e.startTime=t.startTime,e.endTime=t.endTime,e.timezone=t.timeDescp,e.roomUrl=t.roomUrl;var n=Js.getCachedRoomInfo();e.isPresenting=n.status.present,e.isWhiteboardSharing=n.status.whiteBoard,e.isVideoSharing=n.status.video,e.presenter=n.presenterdisplay,e.canMaxJoin=n.maxusercount,e.maxCameras=n.maxCam,e.confType=bu();var o=Js.getRemoteVideoLayouts();if(o&&0<o.length&&o[0].layoutid&&o[0].layoutmode&&"speaker"===o[0].layoutmode){var i=Js.getFixedPositionUserList(o[0].layoutid);0<i.length&&(e.speaker=i[0].name)}return e},bc.getUserList=function(){var e=Js.getUserList(),t=Object.keys(e);if(t&&0<t.length)for(var n=0;n<t.length;n++){var o=e[t[n]];delete o.options,delete o.newstatus,delete o.confperm,delete o.status}return e},bc.getUserInfo=function(e){var t;if("string"!=typeof e){if(void 0!==e){var n=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER);return void Mc.warn(n)}t=Js.getMyself()}else t=Js.getUserById(e);return t&&(delete t.options,delete t.newstatus,delete t.confperm,delete t.status),t},bc.exitRoom=function(e){!function(e){tn(on.EVENT_MEETING_EXIT,Lu),e&&"function"==typeof e&&tn(on.EVENT_MEETING_EXIT,e),zu()}(e)},bc.closeRoom=function(n){var e;0===(e=Hc()).code?wu(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(e)},bc.enterRoom=function(t,n,o){if(""===ma.API_SERVER){var e=Hi;if(Mc.warn(e),o&&"function"==typeof o){var i=Iu(e);return void o(i)}}if(ma.appID&&ma.secretKey&&ma.username&&ma.password){if(!Pc(t,o))return;!function(e,i,a){e.email||(e.email="guest"+kc()+"@gs.com");var t=Uc(),n=Vc({appID:ma.appID,charset:"UTF-8",firstName:encodeURI(e.userName),email:e.email,timeStamp:t,format:"JSON",source:"JS-SDK",version:"1.0"},ma.secretKey);dn(ma.API_SERVER+"/xmeeting/user/voip_tourist?appID="+ma.appID+"&charset=UTF-8&email="+e.email+"&firstName="+encodeURI(e.userName)+"&timeStamp="+t+"&format=JSON&source=JS-SDK&version=1.0&signature="+n).then(function(e){if(Mc.log(JSON.stringify(e)),e&&"0"===e.retCode){var t;if(e.data&&(t=e.data.voipNum),t)a(e.data);else{Mc.warn("fail to get sip id !");var n;n=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(n)}}else{var o;o=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(o)}}).catch(function(e){var t,n=JSON.stringify(e);return t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(t),Mc.error(n)})}(t,o,function(e){t.sipId=e.voipNum,t.layout||(t.layout=Gs.LAYOUT_AUTO),void 0===t.isHost&&(t.isHost=!1),ma.accessToken?Gc(t,o,function(e){t.roomId=e.confNum,t.isHost&&(t.hostCode=e.hostCode),Au(t,n,function(e){var t=Fc(e);o&&"function"==typeof o&&o(t)})}):function(i,a){var e=Uc(),t=Vc({account:ma.username,password:ma.password,appID:ma.appID,timeStamp:e,format:"JSON",source:"JS-SDK",version:"1.0"},ma.secretKey);dn(ma.API_SERVER+"/pro/account/login?account="+ma.username+"&password="+ma.password+"&timeStamp="+e+"&appID="+ma.appID+"&source=JS-SDK&format=JSON&version=1.0&signature="+t).then(function(e){if(Mc.log(JSON.stringify(e)),e&&"0"===e.retCode){var t;if(e.data&&(t=e.data.accessToken),t)a(e.data);else{Mc.warn("fail to get accessToken !");var n;n=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(n)}}else{var o;o=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(o)}}).catch(function(e){var t,n=JSON.stringify(e);return t=Tu(Yi.GS_ERROR_CODE_OPERATION_FAIL),i&&"function"==typeof i&&i(t),Mc.error(n)})}(o,function(e){ma.accessToken=e.accessToken,Gc(t,o,function(e){t.roomId=e.confNum,t.isHost&&(t.hostCode=e.hostCode),Au(t,n,function(e){var t=Fc(e);o&&"function"==typeof o&&o(t)})})})})}else{var a=ki;if(Mc.warn(a),o&&"function"==typeof o){var r;r=Iu(a),o(r)}}},bc.joinRoom=function(e,t,n){if(""===ma.API_SERVER){var o=Hi;if(Mc.warn(o),n&&"function"==typeof n){var i=Iu(o);return void n(i)}}if(e.roomId)Pc(e,n)&&(e.email||(e.email="guest"+kc()+"@gs.com"),e.hostCode&&(e.isHost=!0),Au(e,t,function(e){"function"==typeof n&&n(e)}));else if(Mc.warn("lack of required parameter [roomId]."),n&&"function"==typeof n){var a;a=Tu(Yi.GS_ERROR_CODE_INVALID_PARAMETER),n(a)}},bc.handUp=function(n){!function(t){var e=Du(),n="uid="+e.sipAccount+";action=hand;conf-id="+e.meetingNum+";status=1;msg=";is(n,function(e){t&&"function"==typeof t&&t(e)})}(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.handDown=function(n){!function(t){var e=Du(),n="uid="+e.sipAccount+";action=hand;conf-id="+e.meetingNum+";status=0;msg=";is(n,function(e){t&&"function"==typeof t&&t(e)})}(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.handDownAll=function(n){var e;0==(e=Hc()).code?function(t){var e="uid=all;action=hand;conf-id="+Du().meetingNum+";status=0;msg=";is(e,function(e){t&&"function"==typeof t&&t(e)})}(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(e)},bc.handDownUser=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n="uid="+e+";action=hand;conf-id="+Du().meetingNum+";status=0;msg=";is(n,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.requestToBeHost=function(e,n){!function(e,t){var n=Du(),o="uid="+n.sipAccount+";action=get_host;conf-id="+n.meetingNum+";code="+e;is(o,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.setPanelist=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n="uid="+e+";action=set_role;conf-id="+Du().meetingNum+";role=webinar_panelist";is(n,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.setViewAllUserLists=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n="uid=all;action=set_userlist_enable;conf-id="+Du().meetingNum+";value="+(e?1:0);is(n,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.setMutedWhenEnterRoom=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n="uid=all;action=conf_config;conf-id="+Du().meetingNum+";param=mute_status;value="+(e?1:0);is(n,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.setSendMessage=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n=Du(),o=1==Mu().options.enableLayout?1:0,i="uid=all;action=conf_config;conf-id="+n.meetingNum+";param=options;value="+(e?1:0)+"0"+o+";update-users=0";is(i,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.lockRoomByHost=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n="uid=all;action=lock_room;conf-id="+Du().meetingNum+";status="+(e?1:0);is(n,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.startRecord=function(n){var e;0==(e=Hc()).code?function(t){var e=Du(),n="uid="+e.sipAccount+";action=record;conf-id="+e.meetingNum+";record-status=1";is(n,function(e){t&&"function"==typeof t&&t(e)})}(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(e)},bc.stopRecord=function(n){var e;0==(e=Hc()).code?function(t){var e=Du(),n="uid="+e.sipAccount+";action=record;conf-id="+e.meetingNum+";record-status=0";is(n,function(e){t&&"function"==typeof t&&t(e)})}(function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(e)},bc.setRealtimeSubtitle=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n=Du(),o="uid="+n.sipAccount+";action=asr_enable;conf-id="+n.meetingNum+";asr-status="+(e?1:0);is(o,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.kickUser=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n="uid="+e+";action=kick;conf-id="+Du().meetingNum;is(n,function(e){t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.setRemoteVideoLayout=function(e,n){!function(e,t){if(0!=Mu().options.enableLayout||Js.MyselfIsHost()){var n=Du(),o="uid=none;action=layout_show_update;conf-id="+n.meetingNum+";user="+n.sipAccount+";layout_id="+e;is(o,function(e){$r.info("add layout show user result: {}",e),t&&"function"==typeof t&&t(e)})}else if(t&&"function"==typeof t){var i=Tu(Yi.GS_ERROR_CODE_NO_PERMISSION);t(i)}}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.enableSetRemoteVideoLayout=function(e,n){var t;0==(t=Hc()).code?function(e,t){var n=1==Mu().options.message?1:0,o="uid=all;action=conf_config;conf-id="+Du().meetingNum+";param=options;value="+n+"0"+(e?1:0)+";update-users=0";is(o,function(e){$r.info("enable or disable attend setting layout result: "+JSON.stringify(e)),t&&"function"==typeof t&&t(e)})}(e,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&"function"==typeof n&&n(t)},bc.getRemoteVideoLayouts=function(){return Js.getRemoteVideoLayouts()},bc.sendMessageToUser=function(e,t,n,o){null!=t&&""!==t?void 0!==o?Gr(t,o,n):Br(e,t,null,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):n&&n(Iu(xi))},bc.sendMessageToAll=function(e,n,t){void 0!==t?Gr(xr.ALL,t,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):Br(e,xr.ALL,null,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.sendMessageToPanelists=function(e,n,t){void 0!==t?Gr(xr.PANELIST,t,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)}):Br(e,xr.PANELIST,null,function(e){var t=Fc(e);n&&"function"==typeof n&&n(t)})},bc.inviteUsers=function(e,t){qr(e,t)},bc});
